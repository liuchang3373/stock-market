function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function _get(e,t,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=_superPropBase(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+P1L":function(e,t,i){"use strict";i.r(t);var n,r=i("aceb"),o=i("vTDv"),s=i("fXoL"),a=(i("4R65"),function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(t){return new(t||e)}}),e}()),l=((n=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:n}),n.\u0275inj=s.Nb({factory:function(e){return new(e||n)},imports:[[o.a,r.v,r.K,r.zb,r.q,r.I,r.ib,r.ab,r.Q,r.W,a,r.vb]]}),n),h=i("k5hD"),c=i("4SUy"),d=function(){function e(t){_classCallCheck(this,e),this.svgLink="http://www.w3.org/2000/svg",this.rootId=t}return _createClass(e,[{key:"getOptionValue",value:function(e,t){return e[t]}},{key:"createSvg",value:function(e){return Object(c.W)(e.id)&&(e.id=this.rootId+"_svg"),this.svgObj=document.getElementById(e.id),Object(c.W)(document.getElementById(e.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(e,this.svgObj),this.setSVGSize(e.width,e.height),this.svgObj}},{key:"setSVGSize",value:function(e,t){var i=document.getElementById(this.rootId),n=Object(c.W)(i)?null:i.getBoundingClientRect();Object(c.W)(this.width)||this.width<=0?this.svgObj.setAttribute("width",e?e.toString():n.width.toString()):this.svgObj.setAttribute("width",this.width.toString()),Object(c.W)(this.height)||this.height<=0?this.svgObj.setAttribute("height",t?t.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())}},{key:"drawPath",value:function(e,t){var i=document.getElementById(e.id);return null===i&&(i=document.createElementNS(this.svgLink,"path")),i=this.setElementAttributes(e,i)}},{key:"drawLine",value:function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"line")),t=this.setElementAttributes(e,t)}},{key:"drawRectangle",value:function(e,t){var i=document.getElementById(e.id);return null===i&&(i=document.createElementNS(this.svgLink,"rect")),i=this.setElementAttributes(e,i)}},{key:"drawCircle",value:function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"circle")),t=this.setElementAttributes(e,t)}},{key:"drawPolyline",value:function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"polyline")),t=this.setElementAttributes(e,t)}},{key:"drawEllipse",value:function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"ellipse")),t=this.setElementAttributes(e,t)}},{key:"drawPolygon",value:function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"polygon")),t=this.setElementAttributes(e,t)}},{key:"drawImage",value:function(e){var t=document.createElementNS(this.svgLink,"image");return t.setAttributeNS(null,"height",e.height.toString()),t.setAttributeNS(null,"width",e.width.toString()),t.setAttributeNS("http://www.w3.org/1999/xlink","href",e.href),t.setAttributeNS(null,"x",e.x.toString()),t.setAttributeNS(null,"y",e.y.toString()),t.setAttributeNS(null,"id",e.id),t.setAttributeNS(null,"visibility",e.visibility),Object(c.W)(this.getOptionValue(e,"clip-path"))||t.setAttributeNS(null,"clip-path",this.getOptionValue(e,"clip-path")),Object(c.W)(e.preserveAspectRatio)||t.setAttributeNS(null,"preserveAspectRatio",e.preserveAspectRatio),t}},{key:"createText",value:function(e,t,i,n){var r=document.createElementNS(this.svgLink,"text");return r=this.setElementAttributes(e,r),Object(c.W)(t)||(r.textContent=t),r}},{key:"createTSpan",value:function(e,t){var i=document.createElementNS(this.svgLink,"tspan");return i=this.setElementAttributes(e,i),Object(c.W)(t)||(i.textContent=t),i}},{key:"createTitle",value:function(e){var t=document.createElementNS(this.svgLink,"title");return t.textContent=e,t}},{key:"createDefs",value:function(){return document.createElementNS(this.svgLink,"defs")}},{key:"createClipPath",value:function(e){var t=document.createElementNS(this.svgLink,"clipPath");return t=this.setElementAttributes(e,t)}},{key:"createForeignObject",value:function(e){var t=document.createElementNS(this.svgLink,"foreignObject");return t=this.setElementAttributes(e,t)}},{key:"createGroup",value:function(e){var t=document.createElementNS(this.svgLink,"g");return t=this.setElementAttributes(e,t)}},{key:"createPattern",value:function(e,t){var i=document.createElementNS(this.svgLink,t);return i=this.setElementAttributes(e,i)}},{key:"createRadialGradient",value:function(e,t,i){var n;return Object(c.W)(e[0].colorStop)?n=e[0].color.toString():(this.drawGradient("radialGradient",{id:this.rootId+"_"+t+"radialGradient",cx:i.cx+"%",cy:i.cy+"%",r:i.r+"%",fx:i.fx+"%",fy:i.fy+"%"},e),n="url(#"+this.rootId+"_"+t+"radialGradient)"),n}},{key:"createLinearGradient",value:function(e,t,i){var n;return Object(c.W)(e[0].colorStop)?n=e[0].color.toString():(this.drawGradient("linearGradient",{id:this.rootId+"_"+t+"linearGradient",x1:i.x1+"%",y1:i.y1+"%",x2:i.x2+"%",y2:i.y2+"%"},e),n="url(#"+this.rootId+"_"+t+"linearGradient)"),n}},{key:"drawGradient",value:function(e,t,i){var n=this.createDefs(),r=document.createElementNS(this.svgLink,e);r=this.setElementAttributes(t,r);for(var o=0;o<i.length;o++){var s=document.createElementNS(this.svgLink,"stop");s.setAttribute("offset",i[o].colorStop),s.setAttribute("stop-color",i[o].color),s.setAttribute("stop-opacity","1"),r.appendChild(s)}return n.appendChild(r),n}},{key:"drawClipPath",value:function(e){var t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Rect";var n=this.drawRectangle(e);return i.appendChild(n),t.appendChild(i),t}},{key:"drawCircularClipPath",value:function(e){var t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Circle";var n=this.drawCircle(e);return i.appendChild(n),t.appendChild(i),t}},{key:"setElementAttributes",value:function(e,t){for(var i=Object.keys(e),n=0;n<i.length;n++)t.setAttribute(i[n],e[i[n]]);return t}},{key:"createCanvas",value:function(e){return null}}]),e}(),u=function(){function e(t){_classCallCheck(this,e),this.rootId=t}return _createClass(e,[{key:"getOptionValue",value:function(e,t){return e[t]}},{key:"createCanvas",value:function(e){var t=document.createElement("canvas");return t.setAttribute("id",this.rootId+"_canvas"),this.ctx=t.getContext("2d"),this.canvasObj=t,this.setCanvasSize(e.width,e.height),this.canvasObj}},{key:"setCanvasSize",value:function(e,t){var i=document.getElementById(this.rootId),n=Object(c.W)(i)?null:i.getBoundingClientRect();Object(c.W)(this.width)?this.canvasObj.setAttribute("width",e?e.toString():n.width.toString()):this.canvasObj.setAttribute("width",this.width.toString()),Object(c.W)(this.height)?this.canvasObj.setAttribute("height",t?t.toString():"450"):this.canvasObj.setAttribute("height",this.height.toString())}},{key:"setAttributes",value:function(e){this.ctx.lineWidth=this.getOptionValue(e,"stroke-width");var t=this.getOptionValue(e,"stroke-dasharray");if(!Object(c.W)(t)){var i=t.split(",");this.ctx.setLineDash([parseInt(i[0],10),parseInt(i[1],10)])}this.ctx.strokeStyle=this.getOptionValue(e,"stroke")}},{key:"drawLine",value:function(e){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.moveTo(e.x1,e.y1),this.ctx.lineTo(e.x2,e.y2),this.ctx.stroke(),this.ctx.restore()}},{key:"drawRectangle",value:function(e,t){var i=this.ctx,n=e.rx;return this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=this.getOptionValue(e,"opacity"),this.setAttributes(e),this.ctx.rect(e.x,e.y,e.width,e.height),null!==n&&n>=0?this.drawCornerRadius(e):("none"===e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,this.ctx.fillRect(e.x,e.y,e.width,e.height),this.ctx.stroke()),this.ctx.restore(),this.ctx=i,this.canvasObj}},{key:"drawCornerRadius",value:function(e){var t=e.rx,i=e.x,n=e.y,r=e.width,o=e.height;"none"===e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,r<2*t&&(t=r/2),o<2*t&&(t=o/2),this.ctx.beginPath(),this.ctx.moveTo(i+r-t,n),this.ctx.arcTo(i+r,n,i+r,n+o,t),this.ctx.arcTo(i+r,n+o,i,n+o,t),this.ctx.arcTo(i,n+o,i,n,t),this.ctx.arcTo(i,n,i+r,n,t),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()}},{key:"drawPath",value:function(e,t){var i=e.d.split(" "),n=this.getOptionValue(e,"stroke-width"),r=this.ctx,o=!0;this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=e.opacity?e.opacity:this.getOptionValue(e,"fill-opacity"),this.setAttributes(e);for(var s=0;s<i.length;s+=3){var a=parseFloat(i[s+1]),l=parseFloat(i[s+2]);switch(i[s]){case"M":e.innerR||e.cx||this.ctx.moveTo(a,l);break;case"L":e.innerR||this.ctx.lineTo(a,l);break;case"Q":var h=parseFloat(i[s+3]),c=parseFloat(i[s+4]);this.ctx.quadraticCurveTo(a,l,h,c),s+=2;break;case"C":var d=parseFloat(i[s+3]),u=parseFloat(i[s+4]),p=parseFloat(i[s+5]),m=parseFloat(i[s+6]);this.ctx.bezierCurveTo(a,l,d,u,p,m),s+=4;break;case"A":e.innerR?o&&(this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.arc(e.x,e.y,e.innerR,e.end,e.start,!e.counterClockWise),o=!1):e.cx?this.ctx.arc(e.cx,e.cy,e.radius,0,2*Math.PI,e.counterClockWise):(this.ctx.moveTo(e.x,e.y),this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.lineTo(e.x,e.y)),s+=5;break;case"z":case"Z":this.ctx.closePath(),s-=2}}return"none"!==e.fill&&void 0!==e.fill&&(this.ctx.fillStyle=e.fill,this.ctx.fill()),n>0&&this.ctx.stroke(),this.ctx.restore(),this.ctx=r,this.canvasObj}},{key:"createText",value:function(e,t,i,n){var r=this.getOptionValue(e,"font-weight");Object(c.W)(r)||"regular"!==r.toLowerCase()||(r="normal");var o=this.getOptionValue(e,"font-size"),s=this.getOptionValue(e,"font-family"),a=this.getOptionValue(e,"font-style").toLowerCase()+" "+r+" "+o+" "+s,l=this.getOptionValue(e,"text-anchor"),h=void 0!==e.opacity?e.opacity:1;return"middle"===l&&(l="center"),this.ctx.save(),this.ctx.fillStyle=e.fill,this.ctx.font=a,this.ctx.textAlign=l,this.ctx.globalAlpha=h,e.baseline&&(this.ctx.textBaseline=e.baseline),this.ctx.translate(e.x+0+(i||0),e.y+(n||0)),this.ctx.rotate(e.labelRotation*Math.PI/180),this.ctx.fillText(t,0,0),this.ctx.restore(),this.canvasObj}},{key:"drawCircle",value:function(e,t){var i=this.ctx;return this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.cx,e.cy,e.r,0,2*Math.PI),this.ctx.fillStyle=e.fill,this.ctx.globalAlpha=e.opacity,this.ctx.fill(),t&&this.ctx.translate(t[0],t[1]),this.setAttributes(e),this.ctx.stroke(),this.ctx.restore(),this.ctx=i,this.canvasObj}},{key:"drawPolyline",value:function(e){this.ctx.save(),this.ctx.beginPath();for(var t=e.points.split(" "),i=0;i<t.length-1;i++){var n=t[i].split(","),r=parseFloat(n[0]),o=parseFloat(n[1]);0===i?this.ctx.moveTo(r,o):this.ctx.lineTo(r,o)}this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore()}},{key:"drawEllipse",value:function(e,t){var i=this.ctx,n=Math.max(e.rx,e.ry),r=e.rx/n,o=e.ry/n;this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(e.cx,e.cy),t&&this.ctx.translate(t[0],t[1]),this.ctx.save(),this.ctx.scale(r,o),this.ctx.arc(0,0,n,0,2*Math.PI,!1),this.ctx.fillStyle=e.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i}},{key:"drawImage",value:function(e){this.ctx.save();var t=new Image;Object(c.W)(e.href)||(t.src=e.href,this.ctx.drawImage(t,e.x,e.y,e.width,e.height)),this.ctx.restore()}},{key:"createLinearGradient",value:function(e){var t;return Object(c.W)(e[0].colorStop)||(t=this.ctx.createLinearGradient(0,0,0,this.canvasObj.height)),this.setGradientValues(e,t)}},{key:"createRadialGradient",value:function(e){var t;return Object(c.W)(e[0].colorStop)||(t=this.ctx.createRadialGradient(0,0,0,0,0,this.canvasObj.height)),this.setGradientValues(e,t)}},{key:"setGradientValues",value:function(e,t){var i;if(Object(c.W)(e[0].colorStop))i=e[0].color.toString();else{for(var n=0;n<=e.length-1;n++){var r=e[n].color,o=e[n].colorStop.slice(0,-1),s=parseInt(o,10)/100;t.addColorStop(s,r)}i=t.toString()}return i}},{key:"setElementAttributes",value:function(e,t){for(var i=Object.keys(e),n=Object.keys(e).map((function(t){return e[t]})),r=0;r<i.length;r++)t.setAttribute(i[r],n[r]);return null}},{key:"updateCanvasAttributes",value:function(e){this.setElementAttributes(e,this.canvasObj);var t=this.ctx;if(!Object(c.W)(this.dataUrl)){var i=new Image;i.onload=function(){t.drawImage(i,0,0)},i.src=this.dataUrl}}},{key:"clearRect",value:function(e){this.ctx.restore(),this.ctx.clearRect(e.x,e.y,e.width,e.height)}},{key:"createGroup",value:function(e){return null}},{key:"drawClipPath",value:function(e){return null}},{key:"canvasClip",value:function(e){this.ctx.save(),this.ctx.fillStyle="transparent",this.ctx.rect(e.x,e.y,e.width,e.height),this.ctx.fill(),this.ctx.clip()}},{key:"canvasRestore",value:function(){this.ctx.restore()}},{key:"drawPolygon",value:function(e){return null}},{key:"createDefs",value:function(){return null}},{key:"createClipPath",value:function(e){return null}},{key:"createSvg",value:function(e){return null}}]),e}();function p(e,t){var i=e||"",n=document.getElementById("chartmeasuretext");if(null===n&&(n=Object(c.F)("text",{id:"chartmeasuretext"}),document.body.appendChild(n)),"string"==typeof e&&(e.indexOf("<")>-1||e.indexOf(">")>-1)){for(var r=e.split(" "),o=0;o<r.length;o++)-1===r[o].indexOf("<br/>")&&(r[o]=r[o].replace(/[<>]/g,"&"));e=r.join(" ")}return n.innerHTML=i.indexOf("<br>")>-1||i.indexOf("<br/>")>-1?i:e,n.style.position="fixed",n.style.fontSize=t.size,n.style.fontWeight=t.fontWeight,n.style.fontStyle=t.fontStyle,n.style.fontFamily=t.fontFamily,n.style.visibility="hidden",n.style.top="-100",n.style.left="0",n.style.whiteSpace="nowrap",n.style.lineHeight="normal",new g(n.clientWidth,n.clientHeight)}function m(e,t,i,n,r,o,s,a,l,h,c){var d="",u=i.x,p=i.y,m=i.x+i.width,g=i.y+i.height;return c=c||0,o?(d=(d=d.concat("M "+u+" "+(p+t)+" Q "+u+" "+p+" "+(u+e)+" "+p+"  L "+(m-e)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+t))).concat(" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g),0!==r&&(d=(d=d.concat(" L "+(n.x+r/2)+" "+g)).concat(" L "+(l+c)+" "+(g+r-c)),d+=" Q "+l+" "+(g+r)+" "+(l-c)+" "+(g+r-c)),d=d.concat(n.x-r/2>u?" L "+(n.x-r/2)+" "+g+" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z":0===r?" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z":" L "+u+" "+(g+t)+" z")):s?(d=(d=d.concat("M "+u+" "+(p+t)+" Q "+u+" "+p+" "+(u+e)+" "+p+" L "+(n.x-r/2)+" "+p)).concat(" L "+(l-c)+" "+(n.y+c)),d=(d=(d+=" Q "+l+" "+n.y+" "+(l+c)+" "+(n.y+c)).concat(" L "+(n.x+r/2)+" "+p+" L "+(m-e)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+t))).concat(" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g+" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z")):a?(d=(d=(d=d.concat("M "+u+" "+(p+t)+" Q "+u+" "+p+" "+(u+e)+" "+p)).concat(" L "+(m-e)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+t)+" L "+m+" "+(n.y-r/2))).concat(" L "+(m+r-c)+" "+(h-c)),d=(d=(d+=" Q "+(m+r)+" "+h+" "+(m+r-c)+" "+(h+c)).concat(" L "+m+" "+(n.y+r/2)+" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g)).concat(" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z")):(d=(d=d.concat("M "+(u+e)+" "+p+" Q "+u+" "+p+" "+u+" "+(p+t)+" L "+u+" "+(n.y-r/2))).concat(" L "+(u-r+c)+" "+(h-c)),d=(d=(d+=" Q "+(u-r)+" "+h+" "+(u-r+c)+" "+(h+c)).concat(" L "+u+" "+(n.y+r/2)+" L "+u+" "+(g-t)+" Q "+u+" "+g+" "+(u+e)+" "+g)).concat(" L "+(m-e)+" "+g+" Q "+m+" "+g+" "+m+" "+(g-t)+" L "+m+" "+(p+t)+" Q "+m+" "+p+" "+(m-e)+" "+p+" z")),d}var g=function e(t,i){_classCallCheck(this,e),this.width=t,this.height=i},v=function e(t,i,n,r){_classCallCheck(this,e),this.x=t,this.y=i,this.width=n,this.height=r},y=function e(t,i){_classCallCheck(this,e),this.isRight=i,this.isBottom=t},f=function e(t){_classCallCheck(this,e),this.id=t},b=function(e){function t(e,i,n,r,o){var s,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6?arguments[6]:void 0,h=arguments.length>7?arguments[7]:void 0;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).transform="",s.baseLine="auto",s.labelRotation=0,s.x=i,s.y=n,s.anchor=r,s.text=o,s.transform=a,s.baseLine=l,s.labelRotation=h,s}return _inherits(t,e),t}(f);function x(e){return document.getElementById(e)}function _(e){var t=x(e);t&&Object(c.gb)(t)}function w(e,t,i,n,r,o){var s=new d(""),a=function(e,t,i,n,r){var o,s="Path",a=t.width,l=t.height,h=e.x,d=e.y,u=e.x+-a/2,p=e.y+-l/2;switch(i){case"Circle":case"Bubble":s="Ellipse",Object(c.cb)(n,{rx:a/2,ry:l/2,cx:h,cy:d});break;case"Cross":o="M "+u+" "+d+" L "+(h+a/2)+" "+d+" M "+h+" "+(d+l/2)+" L "+h+" "+(d+-l/2),Object(c.cb)(n,{d:o});break;case"HorizontalLine":o="M "+u+" "+d+" L "+(h+a/2)+" "+d,Object(c.cb)(n,{d:o});break;case"VerticalLine":o="M "+h+" "+(d+l/2)+" L "+h+" "+(d+-l/2),Object(c.cb)(n,{d:o});break;case"Diamond":o="M "+u+" "+d+" L "+h+" "+(d+-l/2)+" L "+(h+a/2)+" "+d+" L "+h+" "+(d+l/2)+" L "+u+" "+d+" z",Object(c.cb)(n,{d:o});break;case"Rectangle":o="M "+u+" "+(d+-l/2)+" L "+(h+a/2)+" "+(d+-l/2)+" L "+(h+a/2)+" "+(d+l/2)+" L "+u+" "+(d+l/2)+" L "+u+" "+(d+-l/2)+" z",Object(c.cb)(n,{d:o});break;case"Triangle":o="M "+u+" "+(d+l/2)+" L "+h+" "+(d+-l/2)+" L "+(h+a/2)+" "+(d+l/2)+" L "+u+" "+(d+l/2)+" z",Object(c.cb)(n,{d:o});break;case"InvertedTriangle":o="M "+(h+a/2)+" "+(d-l/2)+" L "+h+" "+(d+l/2)+" L "+(h-a/2)+" "+(d-l/2)+" L "+(h+a/2)+" "+(d-l/2)+" z",Object(c.cb)(n,{d:o});break;case"Pentagon":for(var m,g,v=0;v<=5;v++)m=a/2*Math.cos(Math.PI/180*(72*v)),g=l/2*Math.sin(Math.PI/180*(72*v)),o=0===v?"M "+(h+m)+" "+(d+g)+" ":o.concat("L "+(h+m)+" "+(d+g)+" ");o=o.concat("Z"),Object(c.cb)(n,{d:o});break;case"Image":s="Image",Object(c.cb)(n,{href:r,height:l,width:a,x:u,y:p})}return{renderOption:n,functionName:s}}(e,i,t,r,n),l=s["draw"+a.functionName](a.renderOption);return l.setAttribute("aria-label",o),l}var C,k,S,M,O,L,P=function(e){function t(e,i,n,r,o,s,a){var l;return _classCallCheck(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).opacity=o,l.fill=i,l.stroke=r,l["stroke-width"]=n,l["stroke-dasharray"]=s,l.d=a,l}return _inherits(t,e),t}(f),A=function e(t,i){_classCallCheck(this,e),this.x=t,this.y=i},R=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},T=(O=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),R([Object(c.s)(null)],O.prototype,"size",void 0),R([Object(c.s)("")],O.prototype,"color",void 0),R([Object(c.s)("Segoe UI")],O.prototype,"fontFamily",void 0),R([Object(c.s)("Normal")],O.prototype,"fontWeight",void 0),R([Object(c.s)("Normal")],O.prototype,"fontStyle",void 0),R([Object(c.s)(1)],O.prototype,"opacity",void 0),O),j=(M=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),R([Object(c.s)("")],M.prototype,"color",void 0),R([Object(c.s)(1)],M.prototype,"width",void 0),M),I=(S=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),R([Object(c.s)(0)],S.prototype,"x",void 0),R([Object(c.s)(0)],S.prototype,"y",void 0),R([Object(c.s)(0)],S.prototype,"width",void 0),R([Object(c.s)(0)],S.prototype,"height",void 0),S),z=(k=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),R([Object(c.s)(0)],k.prototype,"x",void 0),R([Object(c.s)(0)],k.prototype,"y",void 0),k),E=(C=function(e){function t(e,i){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i))}return _inherits(t,e),_createClass(t,[{key:"preRender",value:function(){this.allowServerDataBinding=!1,this.initPrivateVariable(),this.isCanvas||this.removeSVG(),this.createTooltipElement()}},{key:"initPrivateVariable",value:function(){this.renderer=new d(this.element.id),this.themeStyle=function(e){var t;switch(e){case"Highcontrast":case"HighContrast":t={tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A"};break;case"Bootstrap4":t={tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255, 255, 255)",tooltipLightLabel:"rgba(255, 255, 255, 0.9)",tooltipHeaderLine:"rgba(255, 255, 255, 0.2)"};break;default:t={tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff"}}return t}(this.theme),this.formattedText=[],this.padding=5,this.isFirst=!0,this.markerPoint=[]}},{key:"removeSVG",value:function(){var e=document.getElementById(this.element.id+"_svg"),t=document.getElementById(this.element.id+"parent_template");this.blazorTemplate&&Object(c.ib)(this.element.id+"parent_template_blazorTemplate"),e&&e.parentNode&&Object(c.gb)(e),t&&t.parentNode&&Object(c.gb)(t)}},{key:"render",value:function(){if(this.fadeOuted=!1,this.template)this.updateTemplateFn(),this.createTemplate(this.areaBounds,this.location);else{this.renderText(this.isFirst),this.trigger("tooltipRender",{cancel:!1,name:"tooltipRender",tooltip:this});var e=this.renderTooltipElement(this.areaBounds,this.location);this.drawMarker(e.isBottom,e.isRight,this.markerSize)}this.trigger("loaded",{tooltip:this});var t=document.getElementById("chartmeasuretext");t&&Object(c.gb)(t),this.allowServerDataBinding=!0}},{key:"createTooltipElement",value:function(){if(this.textElements=[],!this.template||this.shared){var e=this.renderer.createSvg({id:this.element.id+"_svg"});this.element.appendChild(e);var t=document.getElementById(this.element.id+"_group");t||(t=this.renderer.createGroup({id:this.element.id+"_group"})).setAttribute("transform","translate(0,0)"),e.appendChild(t);var i=this.renderer.drawPath({id:this.element.id+"_path","stroke-width":"Bootstrap4"===this.theme?0:this.border.width,fill:this.fill||this.themeStyle.tooltipFill,opacity:"Bootstrap4"===this.theme?.9:this.opacity,stroke:this.border.color});t.appendChild(i)}}},{key:"drawMarker",value:function(e,t,i){if(this.shapes.length<=0)return null;var n,r=0,o=this.renderer.createGroup({id:this.element.id+"_trackball_group"}),s=x(this.element.id+"_group"),a=2*this.marginX+i/2+(t?this.arrowPadding:0),l=!0,h=!1,c=void 0;try{for(var d,u=this.shapes[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;n=new P(this.element.id+"_Trackball_"+r,this.palette[r],1,"#cccccc",1,null),this.markerPoint[r]&&o.appendChild(w(new A(a,this.markerPoint[r]-this.padding+(e?this.arrowPadding:0)),p,new g(i,i),"",n,null)),r++}}catch(m){h=!0,c=m}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}s.appendChild(o)}},{key:"renderTooltipElement",value:function(e,t){var i,n=x(this.element.id),r=new A(0,0),o=new A(0,0),s=x(this.element.id+"_svg"),a=x(this.element.id+"_group"),l=x(this.element.id+"_path"),h=!1,d=!1,u=!1,g=0,f=0;if(this.tipRadius=1,""!==this.header&&(this.elementSize.height+=this.marginY),this.content.length>1?(i=this.sharedTooltipLocation(e,this.location.x,this.location.y),h=!0):(i=this.tooltipLocation(e,t,r,o),this.inverted?g=(d=i.x<t.x+this.clipBounds.x)?0:this.arrowPadding:(u=!(h=i.y<t.y+this.clipBounds.y),f=h?0:this.arrowPadding)),""!==this.header){var b=p(this.isWrap?this.wrappedText:this.header,this.textStyle).height+2*this.marginY+(u?this.arrowPadding:0)+(this.isWrap?5:0),_=this.renderer.drawPath({id:this.element.id+"_header_path","stroke-width":1,fill:null,opacity:.8,stroke:this.themeStyle.tooltipHeaderLine,d:"M "+(3*this.marginX+(d||h||u?0:this.arrowPadding))+" "+b+"L "+(i.width+(d||h||u?0:this.arrowPadding)-2*this.marginX)+" "+b});a.appendChild(_)}var w=this.border.width/2,C=new v(w+g,w+f,i.width-w,i.height-w);if(a.setAttribute("opacity","1"),!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(n,i.x,i.y):this.animateTooltipDiv(n,i),s.setAttribute("height",(i.height+this.border.width+(this.inverted?0:this.arrowPadding)+5).toString()),s.setAttribute("width",(i.width+this.border.width+(this.inverted?this.arrowPadding:0)+5).toString()),s.setAttribute("opacity","1"),Object(c.W)(this.tooltipPlacement)||(h=this.tooltipPlacement.indexOf("Top")>-1,u=this.tooltipPlacement.indexOf("Bottom")>-1,d=this.tooltipPlacement.indexOf("Left")>-1),l.setAttribute("d",m(this.rx,this.ry,C,r,this.arrowPadding,h,u,d,o.x,o.y,this.tipRadius)),this.enableShadow&&"Bootstrap4"!==this.theme){var k=this.element.id+"_shadow";l.setAttribute("filter",c.d.isIE?"":"url(#"+k+")");var S='<filter id="'+k+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';S+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>',S+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';var M=this.renderer.createDefs();M.setAttribute("id",this.element.id+"SVG_tooltip_definition"),a.appendChild(M),M.innerHTML=S}return l.setAttribute("stroke",this.border.color),this.changeText(new A(g,f),u,!d&&!h&&!u,i),new y(u,!d&&!h&&!u)}},{key:"changeText",value:function(e,t,i,n){var r=document.getElementById(this.element.id+"_text");t&&r.setAttribute("transform","translate(0,"+this.arrowPadding+")"),i&&r.setAttribute("transform","translate("+this.arrowPadding+" 0)")}},{key:"findFormattedText",value:function(){this.formattedText=[],""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()&&(this.formattedText=this.formattedText.concat(this.header)),this.formattedText=this.formattedText.concat(this.content)}},{key:"renderText",value:function(e){var t,i,n,r,o,s,a,l=0,h=0,u=0,m=Object(c.J)({},this.textStyle,null,!0).properties,v=x(this.element.id+"_group"),y="";this.findFormattedText(),this.leftSpace=this.areaBounds.x+this.location.x,this.rightSpace=this.areaBounds.x+this.areaBounds.width-this.leftSpace;var f=this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim(),w=this.header.indexOf("<b>")>-1&&this.header.indexOf("</b>")>-1,C=p(this.formattedText[0],m).width+2*this.marginX+this.arrowPadding,k=this.location.x-C<this.location.x,S=this.areaBounds.x+this.areaBounds.width<this.location.x+C,M=""!==f?this.marginY:0,O=!0,L=!0;this.markerPoint=[];var P,A=this.shapes.length>0?10:0,R=this.shapes.length>0?5:0,T="Normal",j=this.themeStyle.tooltipLightLabel,I=22/parseFloat("13px")*parseFloat(m.size);e&&!this.isCanvas||(_(this.element.id+"_text"),_(this.element.id+"_header_path"),_(this.element.id+"_trackball_group"),_(this.element.id+"SVG_tooltip_definition"));var z=new b(this.element.id+"_text",2*this.marginX,2*this.marginY+2*this.padding+(2===this.marginY?3:0),"start",""),E=function(e,t,i,n){var r,o,s,a=new d("");return s={id:e.id,x:e.x,y:e.y,fill:null,"font-size":t.size,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":e.anchor,transform:e.transform,opacity:t.opacity,"dominant-baseline":e.baseLine},o="string"==typeof e.text?e.text:e.text[0],r=a.createText(s,o),n.appendChild(r),r}(z,m,0,v),D=1===this.formattedText.length&&this.formattedText[0].indexOf(" : <b>")>-1;i=(a=""!==this.header)&&w?16:13;for(var B=0,N=this.formattedText.length;B<N;B++)if(r=this.formattedText[B].replace(/<(b|strong)>/g,"<b>").replace(/<\/(b|strong)>/g,"</b>").split(/<br.*?>/g),0===B&&!D&&this.isTextWrap&&(this.leftSpace<C||k)&&(this.rightSpace<C||S)&&(P=Math.round(this.leftSpace>this.rightSpace?this.leftSpace/i:this.rightSpace/i),r=(""!==f?f:this.formattedText[B]).match(new RegExp(".{1,"+P+"}","g")),this.wrappedText=w?"<b>"+r.join("<br>")+"</b>":r.join("<br>"),this.isWrap=r.length>1),""!==r[0]){0===B&&""!==f||this.markerPoint.push((""!==f?this.marginY:0)+z.y+l);for(var V=0,F=r.length;V<F;V++){u=0,L=!0,l+=I;for(var W=0,H=(t=r[V].replace(/<b>/g,"<br><b>").replace(/<\/b>/g,"</b><br>").replace(/:/g,"<br>\u200e:<br>").split("<br>")).length;W<H;W++)o=t[W],/\S/.test(o)||""===o||(o=" "),(!L&&" "===o||""!==o.replace(/<b>/g,"").replace(/<\/b>/g,"").trim())&&(u+=" "!==o?4:0,L&&!O?(s={x:2*this.marginX+(A+R),dy:I+(L?M:0),fill:""},M=null):s=O&&L?{x:""===f?2*this.marginX+(A+R):2*this.marginX+(this.isWrap?A+R:0)}:{},L=!1,n=this.renderer.createTSpan(s,""),E.appendChild(n),o.indexOf("<b>")>-1||w&&0===W&&0===B&&(a||this.isWrap)?(T="bold",j=this.themeStyle.tooltipBoldLabel,y="font-weight:"+T,m.fontWeight=T,n.setAttribute("fill",this.textStyle.color||j)):(y="bold"===T?"font-weight:"+T:"",m.fontWeight=T,n.setAttribute("fill",this.textStyle.color||j)),(o.indexOf("</b>")>-1||w&&W===H-1&&0===B&&(a||this.isWrap))&&(T="Normal",j=this.themeStyle.tooltipLightLabel),n.textContent=o=o.replace(/<[a-zA-Z\/](.|\n)*?>/g,""),u+=p(o,m).width,""!==y&&n.setAttribute("style",y),O=!1);u-=4,h=Math.max(h,u)}}this.elementSize=new g(h+(h>0?2*this.marginX:0),l),this.elementSize.width+=A+R;var Z=E.childNodes[0];if(""!==f&&Z&&!this.isWrap){m.fontWeight="bold";var X=(this.elementSize.width+2*this.padding)/2-p(f,m).width/2;Z.setAttribute("x",X.toString())}}},{key:"createTemplate",value:function(e,t){var i={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",i);var n=document.getElementById(this.element.id);this.isCanvas&&this.removeSVG();var r=n.firstElementChild;if(r&&Object(c.gb)(r),i.cancel)Object(c.gb)(x(this.element.id+"_tooltip"));else{for(var o=Object(c.F)("div",{id:this.element.id+"parent_template"}),s=this.templateFn(this.data,null,null,o.id+"_blazorTemplate","");s&&s.length>0;)Object(c.V)()?(o.appendChild(s[0]),s=null):o.appendChild(s[0]);n.appendChild(o);var a=this.isCanvas?o:this.element,l=a.getBoundingClientRect();this.padding=0,this.elementSize=new g(l.width,l.height);var h=this.tooltipLocation(e,t,new A(0,0),new A(0,0));if(!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(a,h.x,h.y):this.animateTooltipDiv(this.element,h),this.blazorTemplate){var d=function(){var i=x(u.element.id).getBoundingClientRect();u.elementSize=new g(i.width,i.height);var n=u.tooltipLocation(e,t,new A(0,0),new A(0,0));u.updateDiv(x(u.element.id),n.x,n.y)},u=this;d.bind(u,e,t),Object(c.rb)(this.element.id+"parent_template_blazorTemplate",this.blazorTemplate.name,this.blazorTemplate.parent,void 0,d)}}}},{key:"sharedTooltipLocation",value:function(e,t,i){var n=this.elementSize.height+2*this.marginY,r=new v(t+2*this.padding,i-n-this.padding,this.elementSize.width+2*this.marginX,n);return r.y<e.y&&(r.y+=r.height+2*this.padding),r.x+r.width>e.x+e.width&&(r.x-=r.width+4*this.padding),r}},{key:"getCurrentPosition",value:function(e,t,i,n){var r=this.tooltipPlacement,o=this.clipBounds.x,s=this.clipBounds.y,a=this.offset,l=this.elementSize.width+2*this.marginX,h=this.elementSize.height+2*this.marginY,c=new A(t.x,t.y);return"Top"===r||"Bottom"===r?(c=new A(c.x+o-this.elementSize.width/2-this.padding,c.y+s-this.elementSize.height-2*this.padding-this.arrowPadding-a),i.x=n.x=l/2,"Bottom"===r&&(c.y=t.y+s+a),e.x+e.width<c.x+l?(c.x=e.width>l?e.x+e.width-l+6:e.x,i.x=n.x=e.width>l?e.x+t.x-c.x:t.x):e.x>c.x&&(c.x=e.x,i.x=n.x=t.x)):(c=new A(c.x+o+a,c.y+s-this.elementSize.height/2-this.padding),i.y=n.y=h/2,"Left"===r&&(c.x=t.x+o-a-(l+this.arrowPadding)),e.y+e.height<c.y+h?(c.y=e.height>h?e.y+e.height-h+6:e.y,i.y=n.y=e.height>h?e.y+t.y-c.y:t.y):e.y>c.y&&(c.y=e.y,i.y=n.y=t.y)),new v(c.x,c.y,l,h)}},{key:"tooltipLocation",value:function(e,t,i,n){if(!Object(c.W)(this.tooltipPlacement))return this.getCurrentPosition(e,t,i,n);var r=new A(t.x,t.y),o=this.elementSize.width+2*this.marginX,s=this.elementSize.height+2*this.marginY,a=this.offset,l=this.clipBounds.x,h=this.clipBounds.y,d=e.x,u=e.y;return this.inverted?(r=new A(r.x+l+a,r.y+h-this.elementSize.height/2-this.padding),i.y=n.y=s/2,(r.x+o+this.arrowPadding>d+e.width||this.isNegative)&&(r.x=(t.x>e.width?e.width:t.x)+l-a-(o+this.arrowPadding)),r.x<d&&(r.x=(t.x<0?0:t.x)+l+a),r.y<=u&&(i.y-=u-r.y,n.y-=u-r.y,r.y=u),r.y+s>=u+e.height&&(i.y+=r.y+s-(u+e.height),n.y+=r.y+s-(u+e.height),r.y-=r.y+s-(u+e.height)),i.y+this.arrowPadding/2>s-this.ry&&(i.y=s-this.ry-this.arrowPadding/2,n.y=s,this.tipRadius=0),i.y-this.arrowPadding/2<this.ry&&(i.y=this.ry+this.arrowPadding/2,n.y=0,this.tipRadius=0)):(r=new A(r.x+l-this.elementSize.width/2-this.padding,r.y+h-this.elementSize.height-2*this.padding-this.arrowPadding-a),i.x=n.x=o/2,(r.y<u||this.isNegative)&&(r.y=(t.y<0?0:t.y)+h+a),r.y+s+this.arrowPadding>u+e.height&&(r.y=(t.y>e.height?e.height:t.y)+h-this.elementSize.height-2*this.padding-this.arrowPadding-a),n.x=o/2,r.x<d&&(i.x-=d-r.x,n.x-=d-r.x,r.x=d),r.x+o>d+e.width&&(i.x+=r.x+o-(d+e.width),n.x+=r.x+o-(d+e.width),r.x-=r.x+o-(d+e.width)),i.x+this.arrowPadding/2>o-this.rx&&(i.x=o-this.rx-this.arrowPadding/2,n.x=o,this.tipRadius=0),i.x-this.arrowPadding/2<this.rx&&(i.x=this.rx+this.arrowPadding/2,n.x=0,this.tipRadius=0)),new v(r.x,r.y,o,s)}},{key:"animateTooltipDiv",value:function(e,t){var i,n=this,r=parseFloat(e.style.left),o=parseFloat(e.style.top);new c.b({}).animate(e,{duration:this.duration,progress:function(n){i=n.timeStamp/n.duration,e.style.animation=null,e.style.left=r+i*(t.x-r)+"px",e.style.top=o+i*(t.y-o)+"px"},end:function(i){n.updateDiv(e,t.x,t.y),n.trigger("animationComplete",{tooltip:n})}})}},{key:"updateDiv",value:function(e,t,i){e.style.left=t+"px",e.style.top=i+"px"}},{key:"updateTemplateFn",value:function(){if(this.template)try{document.querySelectorAll(this.template).length&&(this.templateFn=Object(c.E)(document.querySelector(this.template).innerHTML.trim()))}catch(e){this.templateFn=Object(c.E)(this.template)}}},{key:"fadeOut",value:function(){var e=this,t=x(this.isCanvas&&!this.template?this.element.id+"_svg":this.element.id);if(t){var i,n=t.firstChild;this.isCanvas&&!this.template&&(n=document.getElementById(this.element.id+"_group")?document.getElementById(this.element.id+"_group"):n),n&&(i=parseFloat(n.getAttribute("opacity"))||1),new c.b({}).animate(n,{duration:200,progress:function(t){e.progressAnimation(n,i,t.timeStamp/t.duration)},end:function(t){e.fadeOuted=!0,e.endAnimation(n)}})}}},{key:"progressAnimation",value:function(e,t,i){e.style.animation="",e.setAttribute("opacity",(t-i).toString())}},{key:"endAnimation",value:function(e){e.setAttribute("opacity","0"),this.template&&!this.shared&&(e.style.display="none"),this.trigger("animationComplete",{tooltip:this})}},{key:"getPersistData",value:function(){return this.addOnPersist([])}},{key:"getModuleName",value:function(){return"tooltip"}},{key:"destroy",value:function(){_get(_getPrototypeOf(t.prototype),"destroy",this).call(this),this.element.classList.remove("e-tooltip")}},{key:"onPropertyChanged",value:function(e,t){this.blazorTemplate&&Object(c.ib)(this.element.id+"parent_template_blazorTemplate"),this.isFirst=!1,this.render()}}]),t}(c.h),R([Object(c.s)(!1)],C.prototype,"enable",void 0),R([Object(c.s)(!1)],C.prototype,"shared",void 0),R([Object(c.s)(!0)],C.prototype,"enableShadow",void 0),R([Object(c.s)(null)],C.prototype,"fill",void 0),R([Object(c.s)("")],C.prototype,"header",void 0),R([Object(c.s)(.75)],C.prototype,"opacity",void 0),R([Object(c.g)({size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},T)],C.prototype,"textStyle",void 0),R([Object(c.s)(null)],C.prototype,"template",void 0),R([Object(c.s)(!0)],C.prototype,"enableAnimation",void 0),R([Object(c.s)(300)],C.prototype,"duration",void 0),R([Object(c.s)(!1)],C.prototype,"inverted",void 0),R([Object(c.s)(!1)],C.prototype,"isNegative",void 0),R([Object(c.g)({color:"#cccccc",width:.5},j)],C.prototype,"border",void 0),R([Object(c.s)([])],C.prototype,"content",void 0),R([Object(c.s)(10)],C.prototype,"markerSize",void 0),R([Object(c.g)({x:0,y:0},z)],C.prototype,"clipBounds",void 0),R([Object(c.s)([])],C.prototype,"palette",void 0),R([Object(c.s)([])],C.prototype,"shapes",void 0),R([Object(c.g)({x:0,y:0},z)],C.prototype,"location",void 0),R([Object(c.s)(0)],C.prototype,"offset",void 0),R([Object(c.s)(2)],C.prototype,"rx",void 0),R([Object(c.s)(2)],C.prototype,"ry",void 0),R([Object(c.s)(5)],C.prototype,"marginX",void 0),R([Object(c.s)(5)],C.prototype,"marginY",void 0),R([Object(c.s)(12)],C.prototype,"arrowPadding",void 0),R([Object(c.s)(null)],C.prototype,"data",void 0),R([Object(c.s)("Material")],C.prototype,"theme",void 0),R([Object(c.g)({x:0,y:0,width:0,height:0},I)],C.prototype,"areaBounds",void 0),R([Object(c.s)(null)],C.prototype,"availableSize",void 0),R([Object(c.s)()],C.prototype,"blazorTemplate",void 0),R([Object(c.s)(!1)],C.prototype,"isCanvas",void 0),R([Object(c.s)(!1)],C.prototype,"isTextWrap",void 0),R([Object(c.s)(null)],C.prototype,"tooltipPlacement",void 0),R([Object(c.k)()],C.prototype,"tooltipRender",void 0),R([Object(c.k)()],C.prototype,"loaded",void 0),R([Object(c.k)()],C.prototype,"animationComplete",void 0),C=R([c.q],C)),D=i("H552"),B=i("eNK/"),N=i("5YkT"),V=i("gnsf"),F=i("n6zm"),W=i("TF3C");function H(e){var t;switch(e){case"Fabric":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":case"Bootstrap":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"Highcontrast":case"HighContrast":t=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"];break;case"FabricDark":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"BootstrapDark":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;default:t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return t}function Z(e){var t,i="MaterialDark"===e?"#303030":"FabricDark"===e?"#201F1F":"1A1A1A";switch(e){case"HighContrastLight":case"Highcontrast":case"HighContrast":t={axisLabel:"#ffffff",axisTitle:"#ffffff",axisLine:"#ffffff",majorGridLine:"#BFBFBF",minorGridLine:"#969696",majorTickLine:"#BFBFBF",minorTickLine:"#969696",chartTitle:"#ffffff",legendLabel:"#ffffff",background:"#000000",areaBorder:"#ffffff",errorBar:"#ffffff",crosshairLine:"#ffffff",crosshairFill:"#ffffff",crosshairLabel:"#000000",tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",markerShadow:"#BFBFBF",selectionRectFill:"rgba(255, 217, 57, 0.3)",selectionRectStroke:"#ffffff",selectionCircleStroke:"#FFD939"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={axisLabel:"#DADADA",axisTitle:"#ffffff",axisLine:" #6F6C6C",majorGridLine:"#414040",minorGridLine:"#514F4F",majorTickLine:"#414040",minorTickLine:" #4A4848",chartTitle:"#ffffff",legendLabel:"#DADADA",background:i,areaBorder:" #9A9A9A",errorBar:"#ffffff",crosshairLine:"#F4F4F4",crosshairFill:"#F4F4F4",crosshairLabel:"#282727",tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A",markerShadow:null,selectionRectFill:"rgba(56,169,255, 0.1)",selectionRectStroke:"#38A9FF",selectionCircleStroke:"#282727"};break;case"Bootstrap4":t={axisLabel:"#212529",axisTitle:"#ffffff",axisLine:"#CED4DA",majorGridLine:"#CED4DA",minorGridLine:"#DEE2E6",majorTickLine:"#ADB5BD",minorTickLine:"#CED4DA",chartTitle:"#212529",legendLabel:"#212529",background:"#FFFFFF",areaBorder:"#DEE2E6",errorBar:"#000000",crosshairLine:"#6C757D",crosshairFill:"#495057",crosshairLabel:"#FFFFFF",tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255,255,255)",tooltipLightLabel:"rgba(255,255,255, 0.9)",tooltipHeaderLine:"rgba(255,255,255, 0.2)",markerShadow:null,selectionRectFill:"rgba(255,255,255, 0.1)",selectionRectStroke:"rgba(0, 123, 255)",selectionCircleStroke:"#495057"};break;default:t={axisLabel:"#686868",axisTitle:"#424242",axisLine:"#b5b5b5",majorGridLine:"#dbdbdb",minorGridLine:"#eaeaea",majorTickLine:"#b5b5b5",minorTickLine:"#d6d6d6",chartTitle:"#424242",legendLabel:"#353535",background:"#FFFFFF",areaBorder:"Gray",errorBar:"#000000",crosshairLine:"#4f4f4f",crosshairFill:"#4f4f4f",crosshairLabel:"#e5e5e5",tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff",markerShadow:null,selectionRectFill:"rgba(41, 171, 226, 0.1)",selectionRectStroke:"#29abe2",selectionCircleStroke:"#29abe2"}}return t}!function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.axisTitleFont={size:"14px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.chartTitleFont={size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.chartSubTitleFont={size:"11px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.crosshairLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.tooltipLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.stripLineLabelFont={size:"12px",fontWeight:"Regular",color:"#353535",fontStyle:"Normal",fontFamily:"Segoe UI"},e.stockEventFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(L||(L={}));var X,G,Y,U,Q,q,J,K,$,ee,te,ie,ne,re,oe,se,ae,le,he,ce,de,ue,pe,me,ge,ve,ye,fe,be,xe,_e=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},we=($=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)("Line")],$.prototype,"type",void 0),_e([Object(c.s)(null)],$.prototype,"color",void 0),_e([Object(c.s)(1)],$.prototype,"width",void 0),_e([Object(c.s)(null)],$.prototype,"length",void 0),_e([Object(c.s)("")],$.prototype,"dashArray",void 0),$),Ce=(K=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)("Normal")],K.prototype,"fontStyle",void 0),_e([Object(c.s)("16px")],K.prototype,"size",void 0),_e([Object(c.s)("Normal")],K.prototype,"fontWeight",void 0),_e([Object(c.s)("")],K.prototype,"color",void 0),_e([Object(c.s)("Center")],K.prototype,"textAlignment",void 0),_e([Object(c.s)("Segoe UI")],K.prototype,"fontFamily",void 0),_e([Object(c.s)(1)],K.prototype,"opacity",void 0),_e([Object(c.s)("Trim")],K.prototype,"textOverflow",void 0),K),ke=(J=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)("")],J.prototype,"color",void 0),_e([Object(c.s)(1)],J.prototype,"width",void 0),J),Se=(q=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)(0)],q.prototype,"x",void 0),_e([Object(c.s)(0)],q.prototype,"y",void 0),q),Me=(Q=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.g)({},ke)],Q.prototype,"border",void 0),_e([Object(c.s)("transparent")],Q.prototype,"background",void 0),_e([Object(c.s)(1)],Q.prototype,"opacity",void 0),_e([Object(c.s)(null)],Q.prototype,"backgroundImage",void 0),Q),Oe=(U=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)(10)],U.prototype,"left",void 0),_e([Object(c.s)(10)],U.prototype,"right",void 0),_e([Object(c.s)(10)],U.prototype,"top",void 0),_e([Object(c.s)(10)],U.prototype,"bottom",void 0),U),Le=(Y=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)(!0)],Y.prototype,"enable",void 0),_e([Object(c.s)(1e3)],Y.prototype,"duration",void 0),_e([Object(c.s)(0)],Y.prototype,"delay",void 0),Y),Pe=(G=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)(0)],G.prototype,"series",void 0),_e([Object(c.s)(0)],G.prototype,"point",void 0),G),Ae=(X=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)(0)],X.prototype,"topLeft",void 0),_e([Object(c.s)(0)],X.prototype,"topRight",void 0),_e([Object(c.s)(0)],X.prototype,"bottomLeft",void 0),_e([Object(c.s)(0)],X.prototype,"bottomRight",void 0),X),Re=function e(t,i){_classCallCheck(this,e),this.series=t,this.point=i},Te=(re=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)(null)],re.prototype,"fill",void 0),_e([Object(c.g)({color:"transparent",width:0},ke)],re.prototype,"border",void 0),_e([Object(c.s)("Gap")],re.prototype,"mode",void 0),re),je=(ne=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)(!1)],ne.prototype,"enable",void 0),_e([Object(c.s)(null)],ne.prototype,"minY",void 0),_e([Object(c.s)(null)],ne.prototype,"maxY",void 0),_e([Object(c.s)(null)],ne.prototype,"fill",void 0),ne),Ie=(ie=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)(!1)],ie.prototype,"enable",void 0),_e([Object(c.s)(!0)],ie.prototype,"enableMarker",void 0),_e([Object(c.s)(!1)],ie.prototype,"shared",void 0),_e([Object(c.s)(null)],ie.prototype,"fill",void 0),_e([Object(c.s)(null)],ie.prototype,"header",void 0),_e([Object(c.s)(.75)],ie.prototype,"opacity",void 0),_e([Object(c.g)(L.tooltipLabelFont,Ce)],ie.prototype,"textStyle",void 0),_e([Object(c.s)(null)],ie.prototype,"format",void 0),_e([Object(c.s)(null)],ie.prototype,"template",void 0),_e([Object(c.s)(!0)],ie.prototype,"enableAnimation",void 0),_e([Object(c.s)(300)],ie.prototype,"duration",void 0),_e([Object(c.s)(1e3)],ie.prototype,"fadeOutDuration",void 0),_e([Object(c.s)(!1)],ie.prototype,"enableTextWrap",void 0),_e([Object(c.g)({color:"#cccccc",width:.5},ke)],ie.prototype,"border",void 0),ie),ze=(te=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)("Years")],te.prototype,"intervalType",void 0),_e([Object(c.s)(1)],te.prototype,"interval",void 0),_e([Object(c.s)(null)],te.prototype,"text",void 0),_e([Object(c.s)(!1)],te.prototype,"selected",void 0),te),Ee=(ee=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),_e([Object(c.s)(43)],ee.prototype,"height",void 0),_e([Object(c.s)("Bottom")],ee.prototype,"position",void 0),_e([Object(c.f)([],ze)],ee.prototype,"periods",void 0),ee),De=function(){function e(t,i){_classCallCheck(this,e),t<i?(this.mStart=t,this.mEnd=i):(this.mStart=i,this.mEnd=t)}return _createClass(e,[{key:"start",get:function(){return this.mStart}},{key:"end",get:function(){return this.mEnd}},{key:"delta",get:function(){return this.mEnd-this.mStart}},{key:"median",get:function(){return this.mStart+(this.mEnd-this.mStart)/2}}]),e}(),Be=function(){function e(t){_classCallCheck(this,e),this.isColumn=0,this.chart=t}return _createClass(e,[{key:"calculateNumericNiceInterval",value:function(e,t,i){var n=Ht(i,e),r=t/n;if(!Object(c.W)(e.desiredIntervals))return r;var o=Math.pow(10,Math.floor(ct(r,10))),s=!0,a=!1,l=void 0;try{for(var h,d=e.intervalDivs[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var u=o*h.value;if(n<t/u)break;r=u}}catch(p){a=!0,l=p}finally{try{s||null==d.return||d.return()}finally{if(a)throw l}}return r}},{key:"getActualRange",value:function(e,t){this.initializeDoubleRange(e),!e.startFromZero&&this.isColumn>0?(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.max=e.doubleRange.end+e.actualRange.interval,e.actualRange.min=e.doubleRange.start-e.actualRange.interval<0&&e.doubleRange.start>0?0:e.doubleRange.start-e.actualRange.interval):(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end)}},{key:"initializeDoubleRange",value:function(e){null!==e.minimum?this.min=e.minimum:null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=0),null!==e.maximum?this.max=e.maximum:null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=5),this.min===this.max&&(this.max=e.valueType.indexOf("Category")>-1?this.max:this.min+1),e.doubleRange=new De(this.min,this.max),e.actualRange={}}},{key:"calculateRangeAndInterval",value:function(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)}},{key:"calculateRange",value:function(e,t){if(this.min=null,this.max=null,!Wt(e)){var i=!0,n=!1,r=void 0;try{for(var o,s=e.series[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;a.visible&&(this.paddingInterval=0,e.maxPointLength=a.points.length,((a.type.indexOf("Column")>-1||a.type.indexOf("Histogram")>-1)&&"Horizontal"===e.orientation||a.type.indexOf("Bar")>-1&&"Vertical"===e.orientation)&&("Double"!==a.xAxis.valueType&&"DateTime"!==a.xAxis.valueType||"Auto"!==a.xAxis.rangePadding||(this.paddingInterval=.5*zt(a.xAxis,e.series))),"Horizontal"===e.orientation&&(this.chart.requireInvertedAxis?this.yAxisRange(e,a):this.findMinMax(a.xMin-this.paddingInterval,a.xMax+this.paddingInterval)),"Vertical"===e.orientation&&(this.isColumn+="Column"===a.type||"Bar"===a.type||"Column"===a.drawType?1:0,this.chart.requireInvertedAxis?this.findMinMax(a.xMin-this.paddingInterval,a.xMax+this.paddingInterval):this.yAxisRange(e,a)))}}catch(l){n=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}}}},{key:"yAxisRange",value:function(e,t){t.dragSettings.enable&&this.chart.dragY&&(this.chart.dragY>=e.visibleRange.max&&(t.yMax=this.chart.dragY+e.visibleRange.interval),this.chart.dragY<=e.visibleRange.min&&(t.yMin=this.chart.dragY-e.visibleRange.interval)),this.findMinMax(t.yMin,t.yMax)}},{key:"findMinMax",value:function(e,t){(null===this.min||this.min>e)&&(this.min=e),(null===this.max||this.max<t)&&(this.max=t)}},{key:"applyRangePadding",value:function(e,t){var i=e.actualRange.min,n=e.actualRange.max;if(!Wt(e)){var r=e.actualRange.interval,o=e.getRangePadding(this.chart);"Additional"===o||"Round"===o?this.findAdditional(e,i,n,r):"Normal"===o?this.findNormal(e,i,n,r,t):this.updateActualRange(e,i,n,r)}e.actualRange.delta=e.actualRange.max-e.actualRange.min,this.calculateVisibleRange(t,e)}},{key:"updateActualRange",value:function(e,t,i,n){e.actualRange={min:null!=e.minimum?e.minimum:t,max:null!=e.maximum?e.maximum:i,interval:null!=e.interval?e.interval:n,delta:e.actualRange.delta}}},{key:"findAdditional",value:function(e,t,i,n){var r,o;r=Math.floor(t/n)*n,o=Math.ceil(i/n)*n,"Additional"===e.rangePadding&&(r-=n,o+=n),this.updateActualRange(e,r,o,n)}},{key:"findNormal",value:function(e,t,i,n,r){var o,s,a=t;t<0?(a=0,.365*n>=n+(o=t+.05*t)%n&&(o-=n),o%n<0&&(o=o-n-o%n)):(o=t<5/6*i?0:t-.5*(i-t))%n>0&&(o-=o%n),.365*n>=n-(s=i>0?i+.05*(i-a):i-.05*(i-a))%n&&(s+=n),s%n>0&&(s=s+n-s%n),e.doubleRange=new De(o,s),0===o&&(n=this.calculateNumericNiceInterval(e,e.doubleRange.delta,r),s=Math.ceil(s/n)*n),this.updateActualRange(e,o,s,n)}},{key:"calculateVisibleRange",value:function(e,t){t.visibleRange={max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta,interval:t.actualRange.interval};var i=!Object(c.W)(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRange(e),t.visibleRange.interval=t.enableAutoIntervalOnZooming&&"Category"!==t.valueType?this.calculateNumericNiceInterval(t,t.doubleRange.delta,e):t.visibleRange.interval),t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)}},{key:"calculateVisibleLabels",value:function(e,t){e.visibleLabels=[];var i,n=e.visibleRange.min;(e.zoomFactor<1||e.zoomPosition>0||this.paddingInterval)&&(n=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval);var r=this.getFormat(e),o=null!==r.match("{value}"),s=0,a=0;for(e.labelFormat&&e.labelFormat.indexOf("n")>-1&&(a=parseInt(e.labelFormat.substring(1,e.labelFormat.length),10)),e.format=t.intl.getNumberFormat({format:o?"":r,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(e.visibleRange.min),e.endLabel=e.format(e.visibleRange.max),e.visibleRange.interval&&(e.visibleRange.interval+"").indexOf(".")>=0&&(s=(e.visibleRange.interval+"").split(".")[1].length),i=Object(c.J)({},Object(c.U)("properties",e.labelStyle),null,!0);n<=e.visibleRange.max;n+=e.visibleRange.interval)pt(n,e.visibleRange)&&Ft(t,n,this.formatValue(e,o,r,n),i,e);n&&(n+"").indexOf(".")>=0&&(n+"").split(".")[1].length>10&&((n=(n+"").split(".")[1].length>(a||s)?+n.toFixed(a||s):n)<=e.visibleRange.max&&Ft(t,n,this.formatValue(e,o,r,n),i,e)),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}},{key:"getFormat",value:function(e){return e.labelFormat?0===e.labelFormat.indexOf("p")&&-1===e.labelFormat.indexOf("{value}")&&e.isStack100?"{value}%":e.labelFormat:e.isStack100?"{value}%":""}},{key:"formatValue",value:function(e,t,i,n){return t?i.replace("{value}",e.format(n)):e.format(n)}}]),e}(),Ne=/~\d+~/g,Ve=/\^\d+\^/g,Fe=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},We=(de=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Fe([Object(c.s)("0")],de.prototype,"x",void 0),Fe([Object(c.s)("0")],de.prototype,"y",void 0),Fe([Object(c.s)(null)],de.prototype,"content",void 0),Fe([Object(c.s)("Center")],de.prototype,"horizontalAlignment",void 0),Fe([Object(c.s)("Pixel")],de.prototype,"coordinateUnits",void 0),Fe([Object(c.s)("Chart")],de.prototype,"region",void 0),Fe([Object(c.s)("Middle")],de.prototype,"verticalAlignment",void 0),Fe([Object(c.s)(null)],de.prototype,"xAxisName",void 0),Fe([Object(c.s)(null)],de.prototype,"yAxisName",void 0),Fe([Object(c.s)(null)],de.prototype,"description",void 0),de),He=(ce=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Fe([Object(c.s)("")],ce.prototype,"color",void 0),Fe([Object(c.s)(1)],ce.prototype,"width",void 0),Fe([Object(c.s)("Rectangle")],ce.prototype,"type",void 0),ce),Ze=(he=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Fe([Object(c.s)(null)],he.prototype,"start",void 0),Fe([Object(c.s)(null)],he.prototype,"end",void 0),Fe([Object(c.s)("")],he.prototype,"text",void 0),Fe([Object(c.s)(null)],he.prototype,"maximumTextWidth",void 0),Fe([Object(c.s)(null)],he.prototype,"customAttributes",void 0),Fe([Object(c.s)("")],he.prototype,"type",void 0),he),Xe=(le=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Fe([Object(c.s)(!0)],le.prototype,"visible",void 0),Fe([Object(c.s)(!1)],le.prototype,"startFromAxis",void 0),Fe([Object(c.s)(null)],le.prototype,"start",void 0),Fe([Object(c.s)(null)],le.prototype,"end",void 0),Fe([Object(c.s)(null)],le.prototype,"size",void 0),Fe([Object(c.s)("#808080")],le.prototype,"color",void 0),Fe([Object(c.s)(null)],le.prototype,"dashArray",void 0),Fe([Object(c.s)("Auto")],le.prototype,"sizeType",void 0),Fe([Object(c.s)(!1)],le.prototype,"isRepeat",void 0),Fe([Object(c.s)(null)],le.prototype,"repeatEvery",void 0),Fe([Object(c.s)(null)],le.prototype,"repeatUntil",void 0),Fe([Object(c.s)(!1)],le.prototype,"isSegmented",void 0),Fe([Object(c.s)(null)],le.prototype,"segmentStart",void 0),Fe([Object(c.s)(null)],le.prototype,"segmentEnd",void 0),Fe([Object(c.s)(null)],le.prototype,"segmentAxisName",void 0),Fe([Object(c.g)({color:"transparent",width:1},ke)],le.prototype,"border",void 0),Fe([Object(c.s)("")],le.prototype,"text",void 0),Fe([Object(c.s)(null)],le.prototype,"rotation",void 0),Fe([Object(c.s)("Middle")],le.prototype,"horizontalAlignment",void 0),Fe([Object(c.s)("Middle")],le.prototype,"verticalAlignment",void 0),Fe([Object(c.g)(L.stripLineLabelFont,Ce)],le.prototype,"textStyle",void 0),Fe([Object(c.s)("Behind")],le.prototype,"zIndex",void 0),Fe([Object(c.s)(1)],le.prototype,"opacity",void 0),le),Ge=(ae=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Fe([Object(c.s)("Center")],ae.prototype,"alignment",void 0),Fe([Object(c.s)("Wrap")],ae.prototype,"overflow",void 0),Fe([Object(c.g)(L.axisLabelFont,Ce)],ae.prototype,"textStyle",void 0),Fe([Object(c.g)({color:null,width:1,type:"Rectangle"},He)],ae.prototype,"border",void 0),Fe([Object(c.f)([],Ze)],ae.prototype,"categories",void 0),ae),Ye=(se=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Fe([Object(c.s)(null)],se.prototype,"minimum",void 0),Fe([Object(c.s)(null)],se.prototype,"maximum",void 0),se),Ue=(oe=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Fe([Object(c.s)(!1)],oe.prototype,"enable",void 0),Fe([Object(c.s)(null)],oe.prototype,"pointsLength",void 0),Fe([Object(c.g)({},Ye)],oe.prototype,"range",void 0),oe),Qe=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},qe=(xe=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).axes=[],e.nearSizes=[],e.farSizes=[],e}return _inherits(t,e),_createClass(t,[{key:"computeSize",value:function(e,t,i){var n=0;e.visible&&e.internalVisibility&&(n+=e.findTickSize(e.crossInAxis)+i+e.findLabelSize(e.crossInAxis,5)+.5*e.lineStyle.width),e.opposedPosition?this.farSizes.push(n):this.nearSizes.push(n)}}]),t}(c.e),Qe([Object(c.s)("100%")],xe.prototype,"height",void 0),Qe([Object(c.g)({},ke)],xe.prototype,"border",void 0),xe),Je=(be=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).axes=[],e.nearSizes=[],e.farSizes=[],e.padding=0,e}return _inherits(t,e),_createClass(t,[{key:"computeSize",value:function(e,t,i){var n=0;e.visible&&e.internalVisibility&&(n+=e.findTickSize(e.crossInAxis)+i+e.findLabelSize(e.crossInAxis,5)+.5*e.lineStyle.width),e.opposedPosition?this.farSizes.push(n):this.nearSizes.push(n)}}]),t}(c.e),Qe([Object(c.s)("100%")],be.prototype,"width",void 0),Qe([Object(c.g)({},ke)],be.prototype,"border",void 0),be),Ke=(fe=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qe([Object(c.s)(1)],fe.prototype,"width",void 0),Qe([Object(c.s)("")],fe.prototype,"dashArray",void 0),Qe([Object(c.s)(null)],fe.prototype,"color",void 0),fe),$e=(ye=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qe([Object(c.s)(.7)],ye.prototype,"width",void 0),Qe([Object(c.s)("")],ye.prototype,"dashArray",void 0),Qe([Object(c.s)(null)],ye.prototype,"color",void 0),ye),et=(ve=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qe([Object(c.s)(1)],ve.prototype,"width",void 0),Qe([Object(c.s)("")],ve.prototype,"dashArray",void 0),Qe([Object(c.s)(null)],ve.prototype,"color",void 0),ve),tt=(ge=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qe([Object(c.s)(1)],ge.prototype,"width",void 0),Qe([Object(c.s)(5)],ge.prototype,"height",void 0),Qe([Object(c.s)(null)],ge.prototype,"color",void 0),ge),it=(me=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qe([Object(c.s)(.7)],me.prototype,"width",void 0),Qe([Object(c.s)(5)],me.prototype,"height",void 0),Qe([Object(c.s)(null)],me.prototype,"color",void 0),me),nt=(pe=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qe([Object(c.s)(!1)],pe.prototype,"enable",void 0),Qe([Object(c.s)(null)],pe.prototype,"fill",void 0),Qe([Object(c.g)(L.crosshairLabelFont,Ce)],pe.prototype,"textStyle",void 0),pe),rt=(ue=function(e){function t(e,i,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i,n,r))).visibleLabels=[],o.series=[],o.rect=new v(void 0,void 0,0,0),o.axisBottomLine=null,o.intervalDivs=[10,5,2,1],o.angle=o.labelRotation,o.isStack100=!1,o.crossAt=null,o.updatedRect=null,o.multiLevelLabelHeight=0,o.isChart=!0,o.internalVisibility=!0,o}return _inherits(t,e),_createClass(t,[{key:"findTickSize",value:function(e){return"Inside"===this.tickPosition?0:!e||e.visibleRange&&!this.isInside(e.visibleRange)?this.majorTickLines.height:0}},{key:"isInside",value:function(e){return ut(this.crossAt,e)||!this.opposedPosition&&this.crossAt>=e.max||this.opposedPosition&&this.crossAt<=e.min}},{key:"findLabelSize",value:function(e,t){var i,n,r=0;if(this.title&&(r=p(this.title,this.titleStyle).height+t),"Inside"===this.labelPosition)return r+t;var o=r+t+10+("Vertical"===this.orientation?this.maxLabelSize.width:this.maxLabelSize.height)+this.multiLevelLabelHeight;if(e&&this.placeNextToAxisLine){var s=e.visibleRange,a="Horizontal"===e.orientation?e.rect.width:e.rect.height;if(!s||!a)return 0;this.isInside(s)&&(o=(i=(n=this.findDifference(e))*((a-((i=n*(a/s.delta))<o?o-i:0))/s.delta))<o?o-i:0)}return o}},{key:"updateCrossValue",value:function(e){var t=this.crossAt;if(null===t||!this.isInside(this.crossInAxis.visibleRange))return this.updatedRect=this.rect,null;var i=this.crossInAxis.visibleRange;this.opposedPosition?this.crossAt<i.min&&(t=i.min):this.crossAt>i.max&&(t=i.max),this.updatedRect=Object(c.J)({},this.rect,null,!0),"Horizontal"===this.orientation?(t=this.crossInAxis.rect.height-kt(t,this.crossInAxis)*this.crossInAxis.rect.height,this.updatedRect.y=this.crossInAxis.rect.y+t):(t=kt(t,this.crossInAxis)*this.crossInAxis.rect.width,this.updatedRect.x=this.crossInAxis.rect.x+t)}},{key:"findDifference",value:function(e){var t;return t=this.opposedPosition?e.isInversed?e.visibleRange.min:e.visibleRange.max:e.isInversed?e.visibleRange.max:e.visibleRange.min,Math.abs(this.crossAt-t)}},{key:"calculateVisibleRange",value:function(e){if(this.zoomFactor<1||this.zoomPosition>0){var t,i,n=this.actualRange;i=this.isInversed?(t=this.actualRange.max-this.zoomPosition*this.actualRange.delta)-this.zoomFactor*this.actualRange.delta:(t=this.actualRange.min+this.zoomPosition*this.actualRange.delta)+this.zoomFactor*this.actualRange.delta,t<n.min&&(i+=n.min-t,t=n.min),i>n.max&&(t-=i-n.max,i=n.max),this.doubleRange=new De(t,i),this.visibleRange={min:this.doubleRange.start,max:this.doubleRange.end,delta:this.doubleRange.delta,interval:this.visibleRange.interval}}}},{key:"triggerRangeRender",value:function(e,t,i,n){var r;r={cancel:!1,name:"axisRangeCalculated",axis:this,minimum:t,maximum:i,interval:n},e.trigger("axisRangeCalculated",r),r.cancel||(this.visibleRange={min:r.minimum,max:r.maximum,interval:r.interval,delta:r.maximum-r.minimum})}},{key:"getRangePadding",value:function(e){var t=this.rangePadding;if("Auto"!==t)return t;switch(this.orientation){case"Horizontal":t=e.requireInvertedAxis?this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal":"None";break;case"Vertical":t=e.requireInvertedAxis?"None":this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal"}return t}},{key:"getMaxLabelWidth",value:function(e){var t,i,n=0,r=!1;this.angle=this.labelRotation,this.maxLabelSize=new g(0,0);for(var o,s=this.labelIntersectAction,a=0,l=this.visibleLabels.length;a<l;a++){(i=st((o=this.visibleLabels[a]).originalText))?(o.size=p(o.originalText.replace(/<br>/g," "),this.labelStyle),o.breakLabelSize=p(this.enableTrim?o.text.join("<br>"):o.originalText,this.labelStyle)):o.size=p(o.text,this.labelStyle);var h=i?o.breakLabelSize.width:o.size.width;h>this.maxLabelSize.width&&(this.maxLabelSize.width=h,this.rotatedLabel=o.text);var d=i?o.breakLabelSize.height:o.size.height;if(d>this.maxLabelSize.height&&(this.maxLabelSize.height=d),i&&(o.text=this.enableTrim?o.text:o.originalText.split("<br>")),"None"!==s&&"Hide"!==s&&"Trim"!==s&&("None"!==s||this.angle%360==0)&&"Horizontal"===this.orientation&&this.rect.width>0&&!r){var u=i?o.breakLabelSize.width:o.size.width,m=i?o.breakLabelSize.height:o.size.height;switch(t=kt(o.value,this)*this.rect.width+this.rect.x,t-=u/2,"Shift"===this.edgeLabelPlacement&&(0===a&&t<this.rect.x&&(t=this.rect.x),a===this.visibleLabels.length-1&&t+u>this.rect.x+this.rect.width&&(t=this.rect.x+this.rect.width-u)),s){case"MultipleRows":a>0&&this.findMultiRows(a,t,o,i);break;case"Rotate45":case"Rotate90":a>0&&(this.isInversed?t+u>=n:t<=n)&&(this.angle="Rotate45"===s?45:90,r=!0);break;default:if(i){for(var v=void 0,y=void 0,f=[],b=0;b<o.text.length;b++)if((v=xi(o.text[b],this.rect.width/this.visibleLabels.length,this.labelStyle)).length>1)for(var x=0;x<v.length;x++)y=v[x],f.push(y);else f.push(v[0]);o.text=f}else o.text=xi(o.text,this.rect.width/this.visibleLabels.length,this.labelStyle);var _=m*o.text.length;_>this.maxLabelSize.height&&(this.maxLabelSize.height=_)}n=this.isInversed?t:t+u}}0!==this.angle&&"Horizontal"===this.orientation&&(this.rotatedLabel=Object(c.W)(this.rotatedLabel)?"":this.rotatedLabel,this.maxLabelSize=st(this.rotatedLabel)?p(this.rotatedLabel,this.labelStyle):lt(this.labelStyle,this.rotatedLabel,this.angle,e)),e.multiLevelLabelModule&&this.multiLevelLabels.length>0&&e.multiLevelLabelModule.getMultilevelLabelsHeight(this)}},{key:"findMultiRows",value:function(e,t,i,n){for(var r,o,s,a=[],l=e-1;l>=0;l--)r=this.visibleLabels[l],s=n?r.breakLabelSize.width:r.size.width,o=kt(r.value,this)*this.rect.width+this.rect.x,(this.isInversed?t+i.size.width>o-.5*s:t<o+.5*s)?(a.push(r.index),i.index=i.index>r.index?i.index:r.index+1):i.index=a.indexOf(r.index)>-1?i.index:r.index;var h=(n?i.breakLabelSize.height:i.size.height)*i.index+5*(i.index-1);h>this.maxLabelSize.height&&(this.maxLabelSize.height=h)}},{key:"getModule",value:function(e){this.baseModule="Double"===this.valueType?new Be(e):e[It(this.valueType)+"Module"]}}]),t}(c.e),Qe([Object(c.g)(L.axisLabelFont,Ce)],ue.prototype,"labelStyle",void 0),Qe([Object(c.g)({},nt)],ue.prototype,"crosshairTooltip",void 0),Qe([Object(c.s)("")],ue.prototype,"title",void 0),Qe([Object(c.g)(L.axisTitleFont,Ce)],ue.prototype,"titleStyle",void 0),Qe([Object(c.s)("")],ue.prototype,"labelFormat",void 0),Qe([Object(c.s)("")],ue.prototype,"skeleton",void 0),Qe([Object(c.s)("DateTime")],ue.prototype,"skeletonType",void 0),Qe([Object(c.s)(0)],ue.prototype,"plotOffset",void 0),Qe([Object(c.s)(null)],ue.prototype,"plotOffsetLeft",void 0),Qe([Object(c.s)(null)],ue.prototype,"plotOffsetTop",void 0),Qe([Object(c.s)(null)],ue.prototype,"plotOffsetRight",void 0),Qe([Object(c.s)(null)],ue.prototype,"plotOffsetBottom",void 0),Qe([Object(c.s)(!1)],ue.prototype,"isIndexed",void 0),Qe([Object(c.s)(10)],ue.prototype,"logBase",void 0),Qe([Object(c.s)(0)],ue.prototype,"columnIndex",void 0),Qe([Object(c.s)(0)],ue.prototype,"rowIndex",void 0),Qe([Object(c.s)(1)],ue.prototype,"span",void 0),Qe([Object(c.s)(null)],ue.prototype,"desiredIntervals",void 0),Qe([Object(c.s)(3)],ue.prototype,"maximumLabels",void 0),Qe([Object(c.s)(1)],ue.prototype,"zoomFactor",void 0),Qe([Object(c.s)(0)],ue.prototype,"zoomPosition",void 0),Qe([Object(c.s)(!1)],ue.prototype,"opposedPosition",void 0),Qe([Object(c.s)(!0)],ue.prototype,"enableAutoIntervalOnZooming",void 0),Qe([Object(c.s)("Auto")],ue.prototype,"rangePadding",void 0),Qe([Object(c.s)("Double")],ue.prototype,"valueType",void 0),Qe([Object(c.s)("None")],ue.prototype,"edgeLabelPlacement",void 0),Qe([Object(c.s)("Auto")],ue.prototype,"intervalType",void 0),Qe([Object(c.s)("BetweenTicks")],ue.prototype,"labelPlacement",void 0),Qe([Object(c.s)("Outside")],ue.prototype,"tickPosition",void 0),Qe([Object(c.s)("Outside")],ue.prototype,"labelPosition",void 0),Qe([Object(c.s)("")],ue.prototype,"name",void 0),Qe([Object(c.s)(!0)],ue.prototype,"visible",void 0),Qe([Object(c.s)(0)],ue.prototype,"minorTicksPerInterval",void 0),Qe([Object(c.s)(0)],ue.prototype,"labelRotation",void 0),Qe([Object(c.s)(null)],ue.prototype,"crossesAt",void 0),Qe([Object(c.s)(!0)],ue.prototype,"placeNextToAxisLine",void 0),Qe([Object(c.s)(null)],ue.prototype,"crossesInAxis",void 0),Qe([Object(c.s)(null)],ue.prototype,"minimum",void 0),Qe([Object(c.s)(null)],ue.prototype,"maximum",void 0),Qe([Object(c.s)(null)],ue.prototype,"interval",void 0),Qe([Object(c.s)(34)],ue.prototype,"maximumLabelWidth",void 0),Qe([Object(c.s)(!1)],ue.prototype,"enableTrim",void 0),Qe([Object(c.g)({},tt)],ue.prototype,"majorTickLines",void 0),Qe([Object(c.g)({},it)],ue.prototype,"minorTickLines",void 0),Qe([Object(c.g)({},Ke)],ue.prototype,"majorGridLines",void 0),Qe([Object(c.g)({},$e)],ue.prototype,"minorGridLines",void 0),Qe([Object(c.g)({},et)],ue.prototype,"lineStyle",void 0),Qe([Object(c.s)("Trim")],ue.prototype,"labelIntersectAction",void 0),Qe([Object(c.s)(!1)],ue.prototype,"isInversed",void 0),Qe([Object(c.s)(100)],ue.prototype,"coefficient",void 0),Qe([Object(c.s)(0)],ue.prototype,"startAngle",void 0),Qe([Object(c.s)(!0)],ue.prototype,"startFromZero",void 0),Qe([Object(c.s)(null)],ue.prototype,"description",void 0),Qe([Object(c.s)(2)],ue.prototype,"tabIndex",void 0),Qe([Object(c.f)([],Xe)],ue.prototype,"stripLines",void 0),Qe([Object(c.f)([],Ge)],ue.prototype,"multiLevelLabels",void 0),Qe([Object(c.g)({color:null,width:0,type:"Rectangle"},He)],ue.prototype,"border",void 0),Qe([Object(c.g)({},Ue)],ue.prototype,"scrollbarSettings",void 0),ue),ot=function e(t,i,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new g(0,0),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new g(0,0);arguments.length>6&&void 0!==arguments[6]&&arguments[6];_classCallCheck(this,e),this.text=t,this.originalText=r,this.value=i,this.labelStyle=n,this.size=o,this.breakLabelSize=s,this.index=1};function st(e){return-1!==e.indexOf("<br>")}function at(e){for(var t,i=Object(c.J)([],e.points,null,!0),n=[],r=0,o=0;o<i.length;o++)t=i[o],Object(c.W)(t.x)||""===t.x||(t.index=r++,n.push(t));return n}function lt(e,t,i,n){var r,o,s,a=new d(n.element.id);return o={"font-size":e.size,"font-style":e.fontStyle,"font-family":e.fontFamily,"font-weight":e.fontWeight,transform:"rotate("+i+", 0, 0)","text-anchor":"middle"},s=a.createText(o,t),n.delayRedraw||n.redraw||n.element.appendChild(n.svgObject),n.svgObject.appendChild(s),r=s.getBoundingClientRect(),Object(c.gb)(s),n.delayRedraw||n.redraw||Object(c.gb)(n.svgObject),new g(r.right-r.left,r.bottom-r.top)}function ht(e){if(!e)return null;var t="string"==typeof e?Yt(e):e;t&&Object(c.gb)(t)}function ct(e,t){return Math.log(e)/Math.log(t)}function dt(e,t,i,n,r,o,s){var a=document.getElementById(r),l=p(e,{fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"Regular"}).width+5;t=t+l>n?t-(l+15):t,a?(a.innerHTML=e,a.style.top=(i+15).toString()+"px",a.style.left=(t+15).toString()+"px"):(a=Object(c.F)("div",{innerHTML:e,id:r,styles:"top:"+(i+15).toString()+"px;left:"+(t+15).toString()+'px;background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: "Segoe UI"'}),o.appendChild(a),parseInt(a.style.left.replace("px",""),10)<0&&(a.style.left="0px")),s&&setTimeout((function(){ht(r)}),1500)}function ut(e,t){return e<t.max&&e>t.min}function pt(e,t){return e<=t.max&&e>=t.min}function mt(e,t){return"Logarithmic"===t.valueType?ct(e,t.logBase):e}function gt(e,t,i,n){var r=mt(t.xValue,n.xAxis),o=e?mt(e.xValue,n.xAxis):r,s=i?mt(i.xValue,n.xAxis):r,a=Math.floor(n.xAxis.visibleRange.min),l=Math.ceil(n.xAxis.visibleRange.max);return o>=a&&o<=l||r>=a&&r<=l||s>=a&&s<=l||a>=o&&a<=s}function vt(e){var t=0,i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){t+=o.value}}catch(a){n=!0,r=a}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}return t}function yt(e,t,i,n,r){var o=0;if(null!==n)for(var s=t+1;s<i;s++)-1===n.indexOf(s)&&(o+=e[s][r.yName]);else for(var a=t+1;a<i;a++)Object(c.W)(e[a][r.yName])||(o+=e[a][r.yName]);return o}function ft(e,t){return e.x+=t.left,e.y+=t.top,e.width-=t.left+t.right,e.height-=t.top+t.bottom,e}function bt(e,t,i){var n=e*Math.PI/180;return new Wi(Math.cos(n)*t+i.x,Math.sin(n)*t+i.y)}function xt(e){return e*(Math.PI/180)}function _t(e,t,i,n){for(var r=[],o=0;o<4;o++){var s=e[o],a=s.x-t,l=s.y-i,h=a*Math.cos(xt(n))-l*Math.sin(xt(n)),c=a*Math.sin(xt(n))+l*Math.cos(xt(n));s.x=h+t,s.y=c+i,r.push(new Wi(s.x,s.y))}return r}function wt(e,t){var i,n,r,o,s,a,l,h,d=[e,t];for(o=0;o<d.length;o++){var u=d[o];for(s=0;s<u.length;s++){var p=u[s],m=u[(s+1)%u.length],g=new Wi(m.y-p.y,p.x-m.x);for(i=n=void 0,a=0;a<e.length;a++)r=g.x*e[a].x+g.y*e[a].y,(Object(c.W)(i)||r<i)&&(i=r),(Object(c.W)(n)||r>n)&&(n=r);for(l=h=void 0,a=0;a<t.length;a++)r=g.x*t[a].x+g.y*t[a].y,(Object(c.W)(l)||r<l)&&(l=r),(Object(c.W)(h)||r>h)&&(h=r);if(n<l||h<i)return!1}}return!0}function Ct(e,t){for(var i=[],n=0;n<=t-1;n++)i.push(e[n]);return i}function kt(e,t){var i=t.visibleRange,n=(e-i.min)/i.delta;return t.isInversed?1-n:n}function St(e,t,i,n,r,o){e="Logarithmic"===i.valueType?ct(e>1?e:1,i.logBase):e,t="Logarithmic"===n.valueType?ct(t>1?t:1,n.logBase):t,e+="Category"===i.valueType&&"BetweenTicks"===i.labelPlacement&&"Radar"!==o.type?.5:0;var s=o.chart.radius*kt(t,n),a=Mt(Ot(e,i),o.chart.primaryXAxis.startAngle);return{x:o.clipRect.width/2+o.clipRect.x+s*a.x,y:o.clipRect.height/2+o.clipRect.y+s*a.y}}function Mt(e,t){t=t<0?t+360:t;var i=Math.PI*(1.5-2*e);return i+=t*Math.PI/180,{x:Math.cos(i),y:Math.sin(i)}}function Ot(e,t){var i,n,r=t.visibleRange;return"Category"!==t.valueType?(i=r.max-("DateTime"===t.valueType?t.dateTimeInterval:r.interval)-r.min,n=t.visibleLabels.length-1,i=0===i?1:i):(i=1===t.visibleLabels.length?1:t.visibleLabels[t.visibleLabels.length-1].value-t.visibleLabels[0].value,n=t.visibleLabels.length),t.isInversed?(e-r.min)/i*(1-1/n):1-(e-r.min)/i*(1-1/n)}var Lt=function e(t,i,n,r,o,s){_classCallCheck(this,e),this.verticalStandardMean=t,this.horizontalStandardMean=n,this.verticalSquareRoot=i,this.horizontalSquareRoot=r,this.verticalMean=o,this.horizontalMean=s},Pt=function e(t,i,n,r,o){_classCallCheck(this,e),this.startAngle=t,this.endAngle=i,this.innerRadius=n,this.radius=r,this.currentXPosition=o};function At(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return e>=i.x-n&&e<=i.x+i.width+n&&t>=i.y-r&&t<=i.y+i.height+r}function Rt(e,t,i){return(i.isInversed?1-e/t:e/t)*i.visibleRange.delta+i.visibleRange.min}function Tt(e,t,i){return(i.isInversed?e/t:1-e/t)*i.visibleRange.delta+i.visibleRange.min}function jt(e){var t=e.clipRect;e.chart.requireInvertedAxis?(t.x=e.yAxis.rect.x,t.y=e.xAxis.rect.y,t.width=e.yAxis.rect.width,t.height=e.xAxis.rect.height):(t.x=e.xAxis.rect.x,t.y=e.yAxis.rect.y,t.width=e.xAxis.rect.width,t.height=e.yAxis.rect.height)}function It(e){return e.substr(0,1).toLowerCase()+e.substr(1)}function zt(e,t){for(var i,n,r,o=Number.MAX_VALUE,s=0;s<t.length;s++){var a=t[s];if(i=[],a.visible&&(e.name===a.xAxisName||"primaryXAxis"===e.name&&null===a.xAxisName||e.name===a.chart.primaryXAxis.name&&!a.xAxisName))if((i=a.points.map((function(e,t){return e.xValue}))).sort((function(e,t){return e-t})),1===i.length)r="DateTime"===e.valueType&&a.xMin===a.xMax?a.xMin-2592e6:a.xMin,0!==(n=i[0]-(Object(c.W)(r)?e.visibleRange.min:r))&&(o=Math.min(o,n));else for(var l=0;l<i.length;l++){var h=i[l];l>0&&h&&(0!==(n=h-i[l-1])&&(o=Math.min(o,n)))}}return o===Number.MAX_VALUE&&(o=1),o}function Et(e){var t;switch(e){case"Linear":t=Dt}return t}function Dt(e,t,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+t}function Bt(e,t,i,n,r,o,s){var a=o.x,l=o.y,h=0;e.style.visibility="hidden",new c.b({}).animate(e,{duration:i,delay:t,progress:function(t){t.timeStamp>t.delay&&(t.element.style.visibility="visible",h=(t.timeStamp-t.delay)/t.duration,e.setAttribute("transform","translate("+a+" "+l+") scale("+h+") translate("+-a+" "+-l+")"))},end:function(t){e.style.visibility="","Scatter"!==n.type&&"Bubble"!==n.type||s||r!==n.points.length-1||n.chart.trigger("animationComplete",{series:n.chart.isBlazor?{}:n})}})}function Nt(e,t,i,n,r){if(!i||!n&&!e)return null;var o=300;r&&(o=r);var s,a,l,h=n||e.getAttribute("d"),d=h.split(/(?=[LMCZAQ])/),u=t.split(/(?=[LMCZAQ])/),p=[],m=[];e.setAttribute("d",h),new c.b({}).animate(Object(c.F)("div"),{duration:o,progress:function(t){s="",d.map((function(e,i){if(p=e.split(" "),m=u[i]?u[i].split(" "):p,s+="Z"===p[0]?"Z ":p[0]+" "+Dt(t.timeStamp,+p[1],+m[1]-+p[1],t.duration)+" "+Dt(t.timeStamp,+p[2],+m[2]-+p[2],t.duration)+" ","C"===p[0]||"Q"===p[0])for(a=3,l="Q"===p[0]?4:6;a<l;)s+=Dt(t.timeStamp,+p[a],+m[a]-+p[a],t.duration)+" "+Dt(t.timeStamp,+p[++a],+m[a]-+p[a],t.duration)+" ",++a;"A"===p[0]&&(s+="0 0 1 "+Dt(t.timeStamp,+p[6],+m[6]-+p[6],t.duration)+" "+Dt(t.timeStamp,+p[7],+m[7]-+p[7],t.duration)+" ")})),e.setAttribute("d",s)},end:function(){e.setAttribute("d",t)}})}function Vt(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"drawClipPath",r=pi(e,t.id,t,i);if(r){var o=i.createDefs();return o.appendChild(r),o}return i[n](t)}function Ft(e,t,i,n,r){var o;if(o={cancel:!1,name:"axisLabelRender",axis:r,text:i,value:t,labelStyle:n},e.trigger("axisLabelRender",o),!o.cancel){var s=-1!==o.text.indexOf("<br>"),a=r.enableTrim?s?function(e,t,i){for(var n=[],r=t.split("<br>"),o=0;o<r.length;o++){var s=p(t=r[o],i).width;if(s>e){for(var a=t.length-1;a>=0;--a)if((s=p(t=t.substring(0,a)+"...",i).width)<=e){n.push(t);break}}else n.push(t)}return n}(r.maximumLabelWidth,o.text,r.labelStyle):di(r.maximumLabelWidth,o.text,r.labelStyle):o.text;r.visibleLabels.push(new ot(a,o.value,o.labelStyle,o.text))}}function Wt(e){return null!=e.minimum&&null!=e.maximum}function Ht(e,t){var i="Horizontal"===t.orientation?e.width:e.height;if(Object(c.W)(t.desiredIntervals)){var n=("Horizontal"===t.orientation?.533:1)*t.maximumLabels;return n=Math.max(i*(n/100),1)}return t.desiredIntervals}function Zt(e,t,i,n,r){new c.b({}).animate(e,{duration:i,delay:t,name:n,progress:function(e){e.element.style.visibility="visible"},end:function(e){r?Object(c.gb)(e.element):e.element.style.visibility="visible"}})}function Xt(e,t,i,n,r,o,s,a,l,h){var u=s||new d(""),p=function(e,t,i,n,r,o,s){var a,l="Path",h=o&&"Circle"===i?t.width-2:t.width,d=o&&"Circle"===i?t.height-2:t.height,u=o?s.targetWidth:0,p=e.x,m=e.y,v=e.y+-d/2,y=e.x+-h/2;switch(i){case"Bubble":case"Circle":l="Ellipse",Object(c.cb)(n,{rx:h/2,ry:d/2,cx:p,cy:m});break;case"Cross":a="M "+y+" "+m+" L "+(p+h/2)+" "+m+" M "+p+" "+(m+d/2)+" L "+p+" "+(m+-d/2),Object(c.cb)(n,{d:a,stroke:n.fill});break;case"Multiply":a="M "+(p-u)+" "+(m-u)+" L "+(p+u)+" "+(m+u)+" M "+(p-u)+" "+(m+u)+" L "+(p+u)+" "+(m-u),Object(c.cb)(n,{d:a,stroke:n.fill});break;case"HorizontalLine":a="M "+y+" "+m+" L "+(p+h/2)+" "+m,Object(c.cb)(n,{d:a});break;case"VerticalLine":a="M "+p+" "+(m+d/2)+" L "+p+" "+(m+-d/2),Object(c.cb)(n,{d:a});break;case"Diamond":a="M "+y+" "+m+" L "+p+" "+(m+-d/2)+" L "+(p+h/2)+" "+m+" L "+p+" "+(m+d/2)+" L "+y+" "+m+" z",Object(c.cb)(n,{d:a});break;case"ActualRect":a="M "+y+" "+(m+-d/8)+" L "+(p+u)+" "+(m+-d/8)+" L "+(p+u)+" "+(m+d/8)+" L "+y+" "+(m+d/8)+" L "+y+" "+(m+-d/8)+" z",Object(c.cb)(n,{d:a});break;case"TargetRect":a="M "+(y+u)+" "+(m+-d/2)+" L "+(p+u/2)+" "+(m+-d/2)+" L "+(p+u/2)+" "+(m+d/2)+" L "+(y+u)+" "+(m+d/2)+" L "+(y+u)+" "+(m+-d/2)+" z",Object(c.cb)(n,{d:a});break;case"Rectangle":case"Hilo":case"HiloOpenClose":case"Candle":case"Waterfall":case"BoxAndWhisker":case"StepArea":case"Square":case"Flag":a="M "+y+" "+(m+-d/2)+" L "+(p+h/2)+" "+(m+-d/2)+" L "+(p+h/2)+" "+(m+d/2)+" L "+y+" "+(m+d/2)+" L "+y+" "+(m+-d/2)+" z",Object(c.cb)(n,{d:a});break;case"Pyramid":case"Triangle":a="M "+y+" "+(m+d/2)+" L "+p+" "+(m+-d/2)+" L "+(p+h/2)+" "+(m+d/2)+" L "+y+" "+(m+d/2)+" z",Object(c.cb)(n,{d:a});break;case"Funnel":case"InvertedTriangle":a="M "+(p+h/2)+" "+(m-d/2)+" L "+p+" "+(m+d/2)+" L "+(p-h/2)+" "+(m-d/2)+" L "+(p+h/2)+" "+(m-d/2)+" z",Object(c.cb)(n,{d:a});break;case"Pentagon":for(var f,b,x=0;x<=5;x++)f=h/2*Math.cos(Math.PI/180*(72*x)),b=d/2*Math.sin(Math.PI/180*(72*x)),a=0===x?"M "+(p+f)+" "+(m+b)+" ":a.concat("L "+(p+f)+" "+(m+b)+" ");a=a.concat("Z"),Object(c.cb)(n,{d:a});break;case"Image":l="Image",Object(c.cb)(n,{href:r,height:d,width:h,x:y,y:v})}return{renderOption:n=function(e,t,i,n){var r="",o=t.height,s=t.width,a=e.x,l=e.y;switch(i){case"MultiColoredLine":case"Line":case"StackingLine":case"StackingLine100":r="M "+(a+-s/2)+" "+l+" L "+(a+s/2)+" "+l,Object(c.cb)(n,{d:r});break;case"StepLine":n.fill="transparent",r="M "+(a+-s/2-2.5)+" "+(l+o/2)+" L "+(a+-s/2+s/10)+" "+(l+o/2)+" L "+(a+-s/2+s/10)+" "+l+" L "+(a+-s/10)+" "+l+" L "+(a+-s/10)+" "+(l+o/2)+" L "+(a+s/5)+" "+(l+o/2)+" L "+(a+s/5)+" "+(l+-o/2)+" L "+(a+s/2)+" "+(l+-o/2)+"L "+(a+s/2)+" "+(l+o/2)+" L"+(a+s/2+2.5)+" "+(l+o/2),Object(c.cb)(n,{d:r});break;case"RightArrow":r="M "+(a+-s/2)+" "+(l-o/2)+" L "+(a+s/2)+" "+l+" L "+(a+-s/2)+" "+(l+o/2)+" L "+(a+-s/2)+" "+(l+o/2-2)+" L "+(a+s/2-4)+" "+l+" L"+(a+-s/2)+" "+(l-o/2+2)+" Z",Object(c.cb)(n,{d:r});break;case"LeftArrow":n.fill=n.stroke,n.stroke="transparent",r="M "+(a+s/2)+" "+(l-o/2)+" L "+(a+-s/2)+" "+l+" L "+(a+s/2)+" "+(l+o/2)+" L "+(a+s/2)+" "+(l+o/2-2)+" L "+(a+-s/2+4)+" "+l+" L"+(a+s/2)+" "+(l-o/2+2)+" Z",Object(c.cb)(n,{d:r});break;case"Column":case"Pareto":case"StackingColumn":case"StackingColumn100":case"RangeColumn":case"Histogram":r="M "+(a-s/5*3)+" "+(l-o/5)+" L "+(a+-s/10*3)+" "+(l-o/5)+" L "+(a+-s/10*3)+" "+(l+o/2)+" L "+(a-s/5*3)+" "+(l+o/2)+" Z M "+(a+-s/10-s/20)+" "+(l-o/4-5)+" L "+(a+s/10+s/20)+" "+(l-o/4-5)+" L "+(a+s/10+s/20)+" "+(l+o/2)+" L "+(a+-s/10-s/20)+" "+(l+o/2)+" Z M "+(a+s/10*3)+" "+l+" L "+(a+s/5*3)+" "+l+" L "+(a+s/5*3)+" "+(l+o/2)+" L "+(a+s/10*3)+" "+(l+o/2)+" Z",Object(c.cb)(n,{d:r});break;case"Bar":case"StackingBar":case"StackingBar100":r="M "+(a+-s/2+-2.5)+" "+(l-o/5*3)+" L "+(a+s/10*3)+" "+(l-o/5*3)+" L "+(a+s/10*3)+" "+(l-o/10*3)+" L "+(a-s/2-2.5)+" "+(l-o/10*3)+" Z M "+(a+-s/2+-2.5)+" "+(l-o/5+.5)+" L "+(a+s/2+2.5)+" "+(l-o/5+.5)+" L "+(a+s/2+2.5)+" "+(l+o/10+.5)+" L "+(a-s/2-2.5)+" "+(l+o/10+.5)+" Z M "+(a-s/2-2.5)+" "+(l+o/5+1)+" L "+(a+-s/4)+" "+(l+o/5+1)+" L "+(a+-s/4)+" "+(l+o/2+1)+" L "+(a-s/2-2.5)+" "+(l+o/2+1)+" Z",Object(c.cb)(n,{d:r});break;case"Spline":n.fill="transparent",r="M "+(a-s/2)+" "+(l+o/5)+" Q "+a+" "+(l-o)+" "+a+" "+(l+o/5)+" M "+a+" "+(l+o/5)+" Q "+(a+s/2)+" "+(l+o/2)+" "+(a+s/2)+" "+(l-o/2),Object(c.cb)(n,{d:r});break;case"Area":case"MultiColoredArea":case"RangeArea":case"StackingArea":case"StackingArea100":r="M "+(a-s/2-2.5)+" "+(l+o/2)+" L "+(a+-s/4+-1.25)+" "+(l-o/2)+" L "+a+" "+(l+o/4)+" L "+(a+s/4+1.25)+" "+(l+-o/2+o/4)+" L "+(a+o/2+2.5)+" "+(l+o/2)+" Z",Object(c.cb)(n,{d:r});break;case"SplineArea":r="M "+(a-s/2)+" "+(l+o/5)+" Q "+a+" "+(l-o)+" "+a+" "+(l+o/5)+" Z M "+a+" "+(l+o/5)+" Q "+(a+s/2)+" "+(l+o/2)+" "+(a+s/2)+" "+(l-o/2)+"  Z",Object(c.cb)(n,{d:r});break;case"Pie":case"Doughnut":n.stroke="transparent",r=function(e,t,i,n,r,o){var s=bt(270,i,new Wi(e,t)),a=bt(270,i,new Wi(e+r/10,t));return"M "+e+" "+t+" L "+(e+i)+" "+t+" A "+i+" "+i+" 0 1 1 "+s.x+" "+s.y+" Z M "+(e+r/10)+" "+(t-n/10)+" L"+(e+i)+" "+(t-n/10)+" A "+i+" "+i+" 0 0 0 "+a.x+" "+a.y+" Z"}(a,l,Math.min(o,s)/2,o,s),Object(c.cb)(n,{d:r})}return{renderOption:n}}(e,new g(h,d),i,n).renderOption,functionName:l}}(e,i,t,r,n,l,h);return u["draw"+p.functionName](p.renderOption,a?new Int32Array([a.x,a.y]):null)}function Gt(e,t,i){return e>i?i:e<t?t:e}function Yt(e){return document.getElementById(e)}function Ut(e,t,i,n,r,o,s){var a,l;a=function(e){var t=null;try{document.querySelectorAll(e).length&&(t=Object(c.E)(document.querySelector(e).innerHTML.trim()))}catch(i){t=Object(c.E)(e)}return t}(i);try{var h=window.Blazor?s?r:{point:r}:{chart:n,series:o,point:r},d=a?a(h,null,null,s||e.id.replace(/[^a-zA-Z0-9]/g,"")):[];if(d.length)for(var u=(l=Array.prototype.slice.call(d)).length,p=0;p<u;p++)e.appendChild(l[p])}catch(m){return e}return e}function Qt(e){var t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return document.body.appendChild(e),t=e.getBoundingClientRect(),i?Object(c.gb)(e):ht(e.id),t}function qt(e,t,i,n,r,o){e="Logarithmic"===i.valueType?ct(e>0?e:1,i.logBase):e,t="Logarithmic"===n.valueType?ct(t>0?t:1,n.logBase):t,e=kt(e,i),t=kt(t,n);var s=r?i.rect.height:i.rect.width,a=r?n.rect.width:n.rect.height;return new Wi(r?t*a:e*s,r?(1-e)*s:(1-t)*a)}function Jt(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"x",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"y";if(!(e&&e.hasChildNodes()&&t))return null;Kt(!1,t,e,i,n,r,o)}function Kt(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"x",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"y",a=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,h=arguments.length>9&&void 0!==arguments[9]&&arguments[9],d=arguments.length>10&&void 0!==arguments[10]&&arguments[10],u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null,p=arguments.length>12?arguments[12]:void 0;if(e)return null;var m=t.querySelector("#"+i.id),g=m||Yt(i.id),y=i,f=p||300;if(n&&r&&g)if(a=a||("DIV"===g.tagName?new Wi(+g.style[o].split("px")[0],+g.style[s].split("px")[0]):new Wi(+g.getAttribute(o),+g.getAttribute(s))),l&&"undefined"!==l)Nt(i,i.getAttribute("d"),n,l,f);else if(d&&u)!function(e,t,i,n,r){var o=function(t){e.setAttribute("x",t.x+""),e.setAttribute("y",t.y+""),e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")};new c.b({}).animate(Object(c.F)("div"),{duration:i,delay:0,name:name,progress:function(e){o(new v(Dt(e.timeStamp,r.x,n.x-r.x,e.duration),Dt(e.timeStamp,r.y,n.y-r.y,e.duration),Dt(e.timeStamp,r.width,n.width-r.width,e.duration),Dt(e.timeStamp,r.height,n.height-r.height,e.duration)))},end:function(){o(n)}})}(y,0,f,new v(+g.getAttribute("x"),+g.getAttribute("y"),+g.getAttribute("width"),+g.getAttribute("height")),u);else{var b="DIV"===y.tagName?new Wi(+y.style[o].split("px")[0],+y.style[s].split("px")[0]):new Wi(+y.getAttribute(o),+y.getAttribute(s));mi(y,f,a,b,o,s)}else n&&r&&!g&&h&&Zt(y,0,600,"FadeIn");m?t.replaceChild(y,g):t.appendChild(y)}function $t(e,t,i,n,r){var o=Math.abs(e-i),s=Math.abs(t-n),a=Math.max(ei(Math.min(e,i),o,r.x,r.width),r.x),l=Math.max(ei(Math.min(t,n),s,r.y,r.height),r.y);return new v(a,l,Math.min(o,r.width),Math.min(s,r.height))}function ei(e,t,i,n){return e<i?e=i:e+t>n+i&&(e=n+i-t),e}function ti(e,t,i){var n=t.yAxis.labelFormat,r=[],o=null!==n.match("{value}");switch(t.seriesType){case"XY":"PolarRadar"===t.chart.chartAreaType?-1!==t.drawType.indexOf("Stacking")?("Logarithmic"===t.yAxis.valueType&&mt(t.stackedValues.endValues[e.index],t.yAxis)||pt(t.stackedValues.endValues[e.index],t.yAxis.visibleRange))&&r.push(e.text||e.yValue.toString()):("Logarithmic"===t.yAxis.valueType&&mt(e.yValue,t.yAxis)||pt(e.yValue,t.yAxis.visibleRange))&&r.push(e.text||e.yValue.toString()):r.push(e.text||e.yValue.toString());break;case"HighLow":r.push(e.text||Math.max(e.high,e.low).toString()),r.push(e.text||Math.min(e.high,e.low).toString());break;case"HighLowOpenClose":r.push(e.text||Math.max(e.high,e.low).toString()),r.push(e.text||Math.min(e.high,e.low).toString()),r.push(e.text||Math.max(e.open,e.close).toString()),r.push(e.text||Math.min(e.open,e.close).toString());break;case"BoxPlot":r.push(e.text||e.median.toString()),r.push(e.text||e.maximum.toString()),r.push(e.text||e.minimum.toString()),r.push(e.text||e.upperQuartile.toString()),r.push(e.text||e.lowerQuartile.toString());var s=!0,a=!1,l=void 0;try{for(var h,c=e.outliers[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;r.push(e.text||d.toString())}}catch(p){a=!0,l=p}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}}if(n&&!e.text){t.yAxis.format=i.intl.getNumberFormat({format:o?"":n,useGrouping:i.useGroupingSeparator});for(var u=0;u<r.length;u++)r[u]=o?n.replace("{value}",t.yAxis.format(parseFloat(r[u]))):t.yAxis.format(parseFloat(r[u]))}return r}function ii(e){window.clearInterval(e)}function ni(e,t,i){var n=new v(e.x+i.x,e.y+i.y,e.width,e.height);return t.some((function(e){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.height+n.y>e.y}))}function ri(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.height+e.y>t.y}function oi(e,t,i){return new v(e.x-t.width/2-i.left,e.y-t.height/2-i.top,t.width+i.left+i.right,t.height+i.top+i.bottom)}function si(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function ai(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?new Zi(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)):new Zi(255,255,255)}function li(e){var t;e="transparent"===e?"white":e,document.body.appendChild(Object(c.F)("text",{id:"chartmeasuretext"})),(t=document.getElementById("chartmeasuretext")).style.color=e,e=window.getComputedStyle(t).color,Object(c.gb)(t);var i,n=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/.exec(e);return"#"+si((i=new Zi(parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10))).r)+si(i.g)+si(i.b)}function hi(e,t){(e=(e=li(e)).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var i,n="#",r=0;r<3;r++)i=parseInt(e.substr(2*r,2),16),n+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*t),255))).toString(16)).substr(i.toString(16).length);return n}function ci(e){var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2}function di(e,t,i){var n=t,r=p(t,i).width;if(r>e)for(var o=t.length-1;o>=0;--o)if((r=p(n=t.substring(0,o)+"...",i).width)<=e)return n;return n}function ui(e,t){return null!=e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}function pi(e,t,i,n){if(!e)return null;var r=Yt(t);return r&&i&&n.setElementAttributes(i,"clipPath"===r.tagName?r.childNodes[0]:r),r}function mi(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"x",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"y",s="DIV"===e.tagName,a=function(t,i){s?(e.style[r]=t+"px",e.style[o]=i+"px"):(e.setAttribute(r,t+""),e.setAttribute(o,i+""))};a(i.x,i.y),new c.b({}).animate(Object(c.F)("div"),{duration:t,progress:function(e){a(Dt(e.timeStamp,i.x,n.x-i.x,e.duration),Dt(e.timeStamp,i.y,n.y-i.y,e.duration))},end:function(){a(n.x,n.y)}})}function gi(e,t,i,n,r){var o,s,a,l,h,c,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],m=arguments.length>6?arguments[6]:void 0,g=arguments.length>7?arguments[7]:void 0,v=arguments.length>8&&void 0!==arguments[8]&&arguments[8],y=arguments.length>9?arguments[9]:void 0,f=arguments.length>10?arguments[10]:void 0,b=(arguments.length>11&&arguments[11],arguments.length>12?arguments[12]:void 0),x=arguments.length>13?arguments[13]:void 0,_={};if(_={id:t.id,x:t.x,y:t.y,fill:n||"black","font-size":i.size,"font-style":i.fontStyle,"font-family":i.fontFamily,"font-weight":i.fontWeight,"text-anchor":t.anchor,labelRotation:t.labelRotation,transform:t.transform,opacity:i.opacity,"dominant-baseline":t.baseLine},a="string"==typeof t.text?t.text:d?t.text[t.text.length-1]:t.text[0],o=e.createText(_,a,f?f.x:0,f?f.y:0),"string"!=typeof t.text&&t.text.length>1)for(var w=1,C=t.text.length;w<C;w++)l=p(t.text[w],i).height,h=t.y+(d?-w*l:w*l),c=d?t.text[t.text.length-(w+1)]:t.text[w],x?s=e.createText(_,c,null,null,h,!0):(s=e.createTSpan({x:t.x,id:t.id,y:h},c),o.appendChild(s));return b||Kt(e instanceof u,r,o,m,g,"x","y",null,null,v,!1,null,y),o}function vi(e){var t=e.element.clientWidth||e.element.offsetWidth,i=e.element.clientHeight;e.stockChart&&(t=e.stockChart.element.clientWidth);var n,r=450;if("rangeNavigator"===e.getModuleName()){var o=e,s=o.periodSelectorSettings.periods.length?o.periodSelectorSettings.height:0;n=o.margin.top+o.margin.bottom+(o.tooltip.enable?35:0);var a=p("tempString",o.labelStyle).height;r=(e.series.length?c.d.isDevice?80:120:(o.enableGrouping?55+a:40)+n)+s,o.disableRangeSelector&&(r=s)}e.availableSize=new g(ui(e.width,t)||t||600,ui(e.height,i)||i||r)}function yi(e){e.canvasRender=new u(e.element.id),e.renderer=e.enableCanvas?e.canvasRender:new d(e.element.id),vi(e),e.svgObject=e.stockChart&&"chart"===e.getModuleName()?e.stockChart.chartObject:e.stockChart&&"rangeNavigator"===e.getModuleName()?e.stockChart.selectorObject:e.enableCanvas?e.renderer.createCanvas({id:e.element.id+"_canvas",width:e.availableSize.width,height:e.availableSize.height}):e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height})}function fi(e,t,i){var n=[];switch(t.textOverflow){case"Wrap":n=xi(e,i,t);break;case"Trim":n.push(di(i,e,t));break;default:n.push(e)}return n}function bi(e,t){return"Near"===t.textAlignment?e.x:"Center"===t.textAlignment?e.x+e.width/2:e.x+e.width}function xi(e,t,i){for(var n,r=e.split(" "),o="",s=[],a=0,l=r.length;a<l;a++)n=r[a],p(o.concat(n),i).width<t?o=o.concat((""===o?"":" ")+n):""!==o?(s.push(di(t,o,i)),o=n):(s.push(di(t,n,i)),n=""),o&&a===l-1&&s.push(di(t,o,i));return s}function _i(e,t){for(var i=e.replace(t," "),n=e.match(t),r=" ",o=" ",s=0,a={0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089"},l={0:"\u2070",1:"\xb9",2:"\xb2",3:"\xb3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079"},h=0;h<=i.length-1;h++)if(" "===i[h]){r=n[s].replace(t===Ne?/~/g:/\^/g,"");for(var c=0;c<r.length;c++)o+=t===Ne?a[r[c]]:l[r[c]];s++}else o+=i[h];return o.trim()}function wi(e){for(var t=0;t<e.annotations.length;t++)Object(c.ib)((e.element.id+"_Annotation_"+t).replace(/[^a-zA-Z0-9]/g,""),"ContentTemplate");Object(c.ib)(e.element.id+"_tooltipparent_template_blazorTemplate","Template"),Object(c.ib)(e.element.id+"_DataLabel")}var Ci,ki,Si,Mi,Oi,Li,Pi,Ai,Ri,Ti,ji,Ii,zi,Ei,Di=function e(t,i){_classCallCheck(this,e),this.startValues=t,this.endValues=i},Bi=function(e){function t(e,i,n,r,o,s,a,l,h){var c;return _classCallCheck(this,t),(c=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i,n.width,n.color,r,h))).y=o.y,c.x=o.x,c.height=o.height,c.width=o.width,c.rx=s||0,c.ry=a||0,c.transform=l||"",c.stroke=0!==n.width&&""!==c.stroke?n.color:"transparent",c}return _inherits(t,e),t}(P),Ni=function e(t,i,n,r,o,s,a,l){_classCallCheck(this,e),this.height=t,this.width=i,this.href=n,this.x=r,this.y=o,this.id=s,this.visibility=a,this.preserveAspectRatio=l},Vi=function(e){function t(e,i,n,r,o,s,a){var l;return _classCallCheck(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i,n.width,n.color,r))).cy=s,l.cx=o,l.r=a,l}return _inherits(t,e),t}(P),Fi=function e(t,i,n){_classCallCheck(this,e),this.id=t,this.points=i,this.fill=n},Wi=function e(t,i){_classCallCheck(this,e),this.x=t,this.y=i},Hi=function e(t,i,n,r){_classCallCheck(this,e),this.left=t,this.right=i,this.top=n,this.bottom=r},Zi=function e(t,i,n){_classCallCheck(this,e),this.r=t,this.g=i,this.b=n},Xi=function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,e),this.point=t,this.series=i,this.lierIndex=n},Gi=function e(t,i){_classCallCheck(this,e),this.controlPoint1=t,this.controlPoint2=i},Yi=function(){function e(t){_classCallCheck(this,e),this.chart=t,this.padding=5}return _createClass(e,[{key:"measureAxis",value:function(e){var t=this.chart;this.crossAt(t),this.seriesClipRect=new v(e.x,e.y,e.width,e.height),this.initialClipRect=e,this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.initialClipRect=ft(this.initialClipRect,new Hi(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.initialClipRect=ft(this.initialClipRect,new Hi(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||this.calculateAxisSize(this.initialClipRect),this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.seriesClipRect=ft(this.seriesClipRect,new Hi(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.seriesClipRect=ft(this.seriesClipRect,new Hi(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||(t.refreshAxis(),this.calculateAxisSize(this.seriesClipRect))}},{key:"measureRowAxis",value:function(e,t){var i;this.calculateRowSize(t);var n=!0,r=!1,o=void 0;try{for(var s,a=e.rows[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){(i=s.value).nearSizes=[],i.farSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new g(e.availableSize.width,i.computedHeight),t),this.leftSize<vt(i.nearSizes)&&(this.leftSize=vt(i.nearSizes)),this.rightSize<vt(i.farSizes)&&(this.rightSize=vt(i.farSizes))}}catch(l){r=!0,o=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"measureColumnAxis",value:function(e,t){var i;this.calculateColumnSize(t);var n=!0,r=!1,o=void 0;try{for(var s,a=e.columns[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){(i=s.value).farSizes=[],i.nearSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new g(i.computedWidth,e.availableSize.height),t),this.bottomSize<vt(i.nearSizes)&&(this.bottomSize=vt(i.nearSizes)),this.topSize<vt(i.farSizes)&&(this.topSize=vt(i.farSizes))}}catch(l){r=!0,o=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"measureDefinition",value:function(e,t,i,n){var r=!0,o=!1,s=void 0;try{for(var a,l=e.axes[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;h.scrollBarHeight=t.scrollBarModule&&t.zoomSettings.enableScrollbar&&t.zoomModule.isZoomed&&(h.zoomFactor<1||h.zoomPosition>0)?16:0,h.scrollBarHeight=t.scrollBarModule&&(t.zoomModule&&t.zoomSettings.enableScrollbar&&t.zoomModule.isZoomed&&(h.zoomFactor<1||h.zoomPosition>0)||h.scrollbarSettings.enable)?16:0,h.getModule(t),h.baseModule.calculateRangeAndInterval(i,h),e.computeSize(h,n,h.scrollBarHeight)}}catch(c){o=!0,s=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}e.farSizes.length>0&&(e.farSizes[e.farSizes.length-1]-=10),e.nearSizes.length>0&&(e.nearSizes[e.nearSizes.length-1]-=10)}},{key:"calculateAxisSize",value:function(e){var t,i,n,r,o,s,a,l=this.chart,h=0,c=0,d=0;this.calculateRowSize(e);for(var u=0,p=l.rows.length;u<p;u++){h=0,c=0;for(var m=0,g=(t=l.rows[u]).axes.length;m<g;m++){if(a=(r=t.axes[m]).plotOffset,0===r.rect.height){r.rect.height=t.computedHeight,d=0;for(var v=u+1,y=u+r.span;v<y;v++)d+=(n=l.rows[v]).computedHeight;r.rect.y=t.computedTop-d+(r.plotOffsetTop?r.plotOffsetTop:a),r.rect.height=r.rect.height+d-this.getAxisOffsetValue(r.plotOffsetTop,r.plotOffsetBottom,r.plotOffset),r.rect.width=0}r.opposedPosition?(o=e.x+e.width+vt(Ct(t.farSizes,c)),r.rect.x=r.rect.x>=o?r.rect.x:o,c++):(o=e.x-vt(Ct(t.nearSizes,h)),r.rect.x=r.rect.x<=o?r.rect.x:o,h++)}}this.calculateColumnSize(e);for(var f=0,b=l.columns.length;f<b;f++){h=0,c=0;for(var x=0,_=(i=l.columns[f]).axes.length;x<_;x++){if(a=(r=i.axes[x]).plotOffset,0===r.rect.width){for(var w=f,C=f+r.span;w<C;w++)n=l.columns[w],r.rect.width+=n.computedWidth;r.rect.x=i.computedLeft+(r.plotOffsetLeft?r.plotOffsetLeft:a),r.rect.width-=this.getAxisOffsetValue(r.plotOffsetLeft,r.plotOffsetRight,r.plotOffset),r.rect.height=0}r.opposedPosition?(s=e.y-vt(Ct(i.farSizes,c)),r.rect.y=r.rect.y<=s?r.rect.y:s,c++):(s=e.y+e.height+vt(Ct(i.nearSizes,h)),r.rect.y=r.rect.y>=s?r.rect.y:s,h++)}}}},{key:"measure",value:function(){var e,t,i,n,r,o=this.chart,s=!0,a=!1,l=void 0;try{for(var h,c=o.axisCollections[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;if("Vertical"===d.orientation){o.verticalAxes.push(d),n=this.getActualRow(d),e=o.rows[n],this.pushAxis(e,d),r=n+d.span>o.rows.length?o.rows.length:n+d.span;for(var u=n+1;u<r;u++)(i=o.rows[u]).axes[e.axes.length-1]=d,o.rows[u]=i;o.rows[n]=e}else{o.horizontalAxes.push(d),n=this.getActualColumn(d),t=o.columns[n],this.pushAxis(t,d),r=n+d.span>o.columns.length?o.columns.length:n+d.span;for(var p=n+1;p<r;p++)(i=o.columns[p]).axes[t.axes.length-1]=d,o.columns[p]=i;o.columns[n]=t}}}catch(m){a=!0,l=m}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}}},{key:"getAxisOffsetValue",value:function(e,t,i){return e?e+(t||i):t?t+i:2*i}},{key:"crossAt",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e.axisCollections[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;if(null!==s.crossesAt)if(s.crossesInAxis)for(var a=2,l=e.axisCollections.length;a<l;a++)s.crossesInAxis!==e.axisCollections[a].name||(s.crossInAxis=e.axisCollections[a],s.crossAt=this.updateCrossAt(s.crossInAxis,s.crossesAt));else s.crossInAxis=e.requireInvertedAxis?"Horizontal"===s.orientation?e.primaryXAxis:e.primaryYAxis:"Horizontal"===s.orientation?e.primaryYAxis:e.primaryXAxis,s.crossAt=this.updateCrossAt(s.crossInAxis,s.crossesAt)}}catch(h){i=!0,n=h}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"updateCrossAt",value:function(e,t){switch(e.valueType){case"DateTime":var i={skeleton:"full",type:"dateTime"},n=this.chart.intl.getDateParser(i),r=this.chart.intl.getDateFormat(i);return Date.parse(n(r(new Date(D.b.parse.parseJson({val:t}).val))));case"Category":return parseFloat(t)?parseFloat(t):e.labels.indexOf(t);case"Logarithmic":return ct(t,e.logBase);default:return t}}},{key:"pushAxis",value:function(e,t){for(var i=0,n=e.axes.length;i<=n;i++)if(!e.axes[i]){e.axes[i]=t;break}}},{key:"arrangeAxis",value:function(e){for(var t=[],i=0,n=e.axes.length;i<=n;i++)e.axes[i]&&t.push(e.axes[i]);e.axes=t}},{key:"getActualColumn",value:function(e){var t=this.chart.columns.length,i=e.columnIndex;return i>=t?t-1:i<0?0:i}},{key:"getActualRow",value:function(e){var t=this.chart.rows.length,i=e.rowIndex;return i>=t?t-1:i<0?0:i}},{key:"calculateRowSize",value:function(e){for(var t,i=this.chart,n=e.y+e.height,r=0,o=Math.max(0,e.height),s=0,a=i.rows.length;s<a;s++)r=-1!==(t=i.rows[s]).height.indexOf("%")?Math.min(o,e.height*parseInt(t.height,10)/100):Math.min(o,parseInt(t.height,10)),r=s!==a-1?r:o,t.computedHeight=r,n-=r,t.computedTop=n,o-=r}},{key:"calculateColumnSize",value:function(e){for(var t,i=this.chart,n=e.x,r=0,o=Math.max(0,e.width),s=0,a=i.columns.length;s<a;s++)r=-1!==(t=i.columns[s]).width.indexOf("%")?Math.min(o,e.width*parseInt(t.width,10)/100):Math.min(o,parseInt(t.width,10)),r=s!==a-1?r:o,t.computedWidth=r,t.computedLeft=n,n+=r,o-=r}},{key:"renderAxes",value:function(){for(var e,t,i,n=this.chart,r=n.renderer.createGroup({id:n.element.id+"AxisInsideCollection"}),o=n.renderer.createGroup({id:n.element.id+"AxisOutsideCollection"}),s=0,a=n.axisCollections.length;s<a;s++)e=n.axisCollections[s],this.element=n.renderer.createGroup({id:n.element.id+"AxisGroup"+s+"Inside"}),t=n.renderer.createGroup({id:n.element.id+"AxisGroup"+s+"Outside"}),i=this.findAxisPosition(e),"Horizontal"===e.orientation?(e.updateCrossValue(n),e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,s,e.plotOffset,0,i?t:this.element,e.updatedRect),(e.majorGridLines.width>0||e.majorTickLines.width>0)&&this.drawXAxisGridLine(e,s,i||"Inside"===e.tickPosition?t:this.element,e.updatedRect),e.visible&&e.internalVisibility&&(this.drawXAxisLabels(e,s,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawXAxisBorder(e,s,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawXAxisTitle(e,s,i?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect))):(e.updateCrossValue(n),e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,s,0,e.plotOffset,i?t:this.element,e.updatedRect),(e.majorGridLines.width>0||e.majorTickLines.width>0)&&this.drawYAxisGridLine(e,s,i||"Inside"===e.tickPosition?t:this.element,e.updatedRect),e.visible&&e.internalVisibility&&(this.drawYAxisLabels(e,s,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawYAxisBorder(e,s,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawYAxisTitle(e,s,i?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect))),this.chart.enableCanvas||(r.appendChild(this.element),t&&t.childNodes.length>0&&o.appendChild(t)),n.scrollBarModule&&(n.zoomSettings.enableScrollbar||e.scrollbarSettings.enable)&&this.renderScrollbar(n,e);this.element=n.renderer.createGroup({id:n.element.id+"DefinitionLine"});for(var l=0,h=n.rows.length;l<h;l++){var c=n.rows[l];c.border.color&&this.drawBottomLine(c,l,!0)}for(var d=0,u=n.columns.length;d<u;d++){var p=n.columns[d];p.border.color&&this.drawBottomLine(p,d,!1)}return this.chart.enableCanvas||r.appendChild(this.element),Kt(n.enableCanvas,n.svgObject,r,n.redraw),o}},{key:"renderScrollbar",value:function(e,t){(!Object(c.W)(e.zoomModule)&&e.zoomModule.isZoomed&&(t.zoomFactor<1||t.zoomPosition>0)||t.scrollbarSettings.enable&&(t.zoomFactor<=1||t.zoomPosition>=0))&&!t.zoomingScrollBar.isScrollUI?(e.scrollElement||(e.scrollElement=pi(e.redraw,e.element.id+"_scrollElement")||Object(c.F)("div",{id:e.element.id+"_scrollElement"})),Kt(!1,e.scrollElement,t.zoomingScrollBar.render(!0),!0)):1===t.zoomFactor&&0===t.zoomPosition&&t.zoomingScrollBar.svgObject&&!t.scrollbarSettings.enable&&t.zoomingScrollBar.destroy(),t.zoomingScrollBar.isScrollUI&&(t.zoomingScrollBar.isScrollUI=!1)}},{key:"findAxisPosition",value:function(e){return null!==e.crossAt&&e.isInside(e.crossInAxis.visibleRange)}},{key:"drawBottomLine",value:function(e,t,i){var n,r,o,s,a,l,h=this.chart;i?(o=s=(e=e).computedTop+e.computedHeight,r=(n=this.seriesClipRect.x)+this.seriesClipRect.width,a="Row"):(n=r=(e=e).computedLeft,s=(o=this.seriesClipRect.y)+this.seriesClipRect.height,a="Column"),l={id:h.element.id+"_AxisBottom_"+a+t,x1:n,y1:o,x2:r,y2:s,"stroke-width":e.border.width,stroke:e.border.color},this.htmlObject=h.renderer.drawLine(l),this.element.appendChild(this.htmlObject)}},{key:"drawAxisLine",value:function(e,t,i,n,r,o){var s,a=this.chart,l=Yt(a.element.id+"AxisLine_"+t),h=l?l.getAttribute("d"):"";l=null,s={id:a.element.id+"AxisLine_"+t,d:"M "+(o.x-i)+" "+(o.y-n)+" L "+(o.x+o.width+i)+" "+(o.y+o.height+n),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||a.themeStyle.axisLine},this.htmlObject=a.renderer.drawPath(s),Kt(a.enableCanvas,r,this.htmlObject,a.redraw,!0,"x","y",null,h)}},{key:"drawYAxisGridLine",value:function(e,t,i,n){var r,o,s=0,a="",l="",h=e.opposedPosition?e.majorTickLines.height:-e.majorTickLines.height,d=e.opposedPosition?.5*e.lineStyle.width:.5*-e.lineStyle.width,u="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,p=Object(c.W)(e.crossesAt)?e.opposedPosition?e.scrollBarHeight:-e.scrollBarHeight:0,m="Inside"===e.tickPosition,g=m?n.x-h-d:n.x+h+d+p,v=e.visibleLabels.length,y=this.chart.themeStyle;e.valueType.indexOf("Category")&&"BetweenTicks"===e.labelPlacement&&v>0&&(v+=1);for(var f=e.minorGridLines,b=e.minorTickLines,x=0;x<v;x++)(s=-1*(s=kt(r=e.visibleLabels[x]?e.visibleLabels[x].value-u:e.visibleLabels[x-1].value+e.visibleRange.interval-u,e)*n.height)+(n.y+n.height))>=n.y&&n.y+n.height>=s&&((ut(r,e.visibleRange)||this.isBorder(e,x,s))&&(a="M "+this.seriesClipRect.x+" "+s+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+s,this.renderGridLine(e,t,a,e.majorGridLines,"_MajorGridLine_",x,this.element,y.majorGridLine,e.majorGridLines.dashArray)),l="M "+(n.x+d+(m?p:0))+" "+s+" L "+g+" "+s,this.renderGridLine(e,t,l,e.majorTickLines,"_MajorTickLine_",x,i,y.majorTickLine),(f.width>0||b.width>0)&&e.minorTicksPerInterval>0&&(o=this.drawAxisMinorLine(e,r,n,x),this.renderGridLine(e,t,o[0],f,"_MinorGridLine_",x,this.element,y.minorGridLine,f.dashArray),this.renderGridLine(e,t,o[1],b,"_MinorTickLine_",x,i,y.minorTickLine)))}},{key:"isBorder",value:function(e,t,i){var n=this.chart.chartArea.border,r=this.seriesClipRect,o=e.orientation,s="Horizontal"===o?r.x:r.y,a="Horizontal"===o?r.width:r.height;return e.plotOffset>0||(i===s||i===s+a)&&(n.width<=0||"transparent"===n.color)||i!==s&&t===("Horizontal"===o?0:e.visibleLabels.length-1)||i!==s+a&&t===("Horizontal"===o?e.visibleLabels.length-1:0)}},{key:"drawYAxisLabels",value:function(e,t,i,n){var r,o,s,a=this.chart,l=0,h=0,d="Inside"===e.labelPosition,u=e.opposedPosition,p=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+this.padding+.5*e.lineStyle.width;p=e.opposedPosition?p:-p;for(var m,g,v=u&&d||!u&&!d?"end":"start",y=a.renderer.createGroup({id:a.element.id+"AxisLabels"+t}),f=Object(c.W)(e.crossesAt)?e.scrollBarHeight*(u?1:-1):0,x=0,_=e.visibleLabels.length;x<_;x++){if(s=st(e.visibleLabels[x].originalText),l=d?n.x-p:n.x+p+f,r=s?e.visibleLabels[x].breakLabelSize:e.visibleLabels[x].size,h=kt(e.visibleLabels[x].value,e)*n.height+(a.stockChart?7:0),h=Math.floor(-1*h+(n.y+n.height)),m=r.height/8*e.visibleLabels[x].text.length/2,g=r.height/4*3+3,h=s?"Inside"===e.labelPosition?h-r.height/2-m+g:h-m:"Inside"===e.labelPosition?h+g:h+r.height/4,o=new b(a.element.id+t+"_AxisLabel_"+x,l,h,v,e.visibleLabels[x].text),e.edgeLabelPlacement)switch(e.edgeLabelPlacement){case"None":break;case"Hide":((0===x||e.isInversed&&x===_-1)&&o.y>n.y+n.height||(x===_-1||e.isInversed&&0===x)&&o.y-.5*r.height<n.y)&&(o.text="");break;case"Shift":(0===x||e.isInversed&&x===_-1)&&o.y>n.y+n.height?o.y=h=n.y+n.height:(x===_-1||e.isInversed&&0===x)&&o.y-.5*r.height<n.y&&(o.y=h=n.y+.5*r.height)}gi(a.renderer,o,e.labelStyle,e.labelStyle.color||a.themeStyle.axisLabel,y,!1,a.redraw,!0,!0)}this.chart.enableCanvas||(a.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,y,e,t,n):Kt(a.enableCanvas,i,y,a.redraw))}},{key:"drawYAxisBorder",value:function(e,t,i,n){if(e.border.width>0){var r,o,s="Outside"===e.labelPosition?e.scrollBarHeight:0;s*=e.opposedPosition?1:-1;for(var a,l=n.height/e.visibleRange.delta*("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval),h=e.maxLabelSize.width+10+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),c="",d="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?-.5:0,u=e.opposedPosition&&"Inside"===e.labelPosition||!e.opposedPosition&&"Outside"===e.labelPosition?n.x-h+s:n.x+h+s,p=0,m=e.visibleLabels.length;p<m;p++)switch(o=kt(e.visibleLabels[p].value+d,e),o=(e.isInversed?1-o:o)*n.height,"Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?(r=-1*o+(n.y+n.height),a=-1*o-l+(n.y+n.height)):(r=-1*o+l/2+(n.y+n.height),a=-1*o-l/2+(n.y+n.height)),e.border.type){case"Rectangle":case"WithoutTopBorder":r>n.y+n.height?c+="M "+u+" "+(n.y+n.height)+" L "+u+" "+a+" ":Math.floor(n.y)>a?c+="M "+(n.x+s)+" "+r+" L "+u+" "+r+" L "+u+" "+n.y+" ":(c+="M "+(n.x+s)+" "+r+" L "+u+" "+r+" L "+u+" "+a+" ",p===e.visibleLabels.length-1&&(c+="M "+(n.x+s)+" "+a+" L "+u+" "+a+" "));break;case"WithoutTopandBottomBorder":r>n.y+n.height||a<Math.floor(n.y)||(c+="M "+(n.x+s)+" "+r+" L "+u+" "+r+" M "+u+" "+a+" L "+(n.x+s)+" "+a)}""!==(c+="Rectangle"===e.border.type?"M "+(n.x+s)+" "+n.y+" L "+(n.x+s)+" "+(n.y+n.height)+" ":"")&&this.createAxisBorderElement(e,t,c,i)}e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule&&this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(e,t,i,n)}},{key:"drawYAxisTitle",value:function(e,t,i,n){var r=this.chart,o=e.opposedPosition?90:-90,s=("Inside"===e.tickPosition?0:e.majorTickLines.height+this.padding)+("Inside"===e.labelPosition?0:e.maxLabelSize.width+e.multiLevelLabelHeight+this.padding);s=e.opposedPosition?s+e.scrollBarHeight:-s-e.scrollBarHeight;var a=n.x+s,l=n.y+.5*n.height,h=new b(r.element.id+"_AxisTitle_"+t,a,l-this.padding,"middle",e.title,"rotate("+o+","+a+","+l+")",null,o);h.text=di(e.updatedRect.height,h.text,e.titleStyle);var c=gi(r.renderer,h,e.titleStyle,e.titleStyle.color||r.themeStyle.axisTitle,i);c.setAttribute("tabindex",e.tabIndex.toString()),c.setAttribute("aria-label",e.description||e.title)}},{key:"drawXAxisGridLine",value:function(e,t,i,n){var r,o,s=0,a="",l="",h=e.opposedPosition?-e.majorTickLines.height:e.majorTickLines.height,d=e.opposedPosition?.5*-e.lineStyle.width:.5*e.lineStyle.width,u=Object(c.W)(e.crossesAt)?e.opposedPosition?-e.scrollBarHeight:e.scrollBarHeight:0,p=e.valueType.indexOf("Category")>-1&&"BetweenTicks"===e.labelPlacement?.5:0,m=e.visibleLabels.length,g="Inside"===e.tickPosition,v=g?n.y-h-d:n.y+h+d+u,y=this.chart.themeStyle;e.valueType.indexOf("Category")>-1&&m>0&&"BetweenTicks"===e.labelPlacement&&(m+=1);for(var f=0;f<m;f++)(s=kt(r="DateTimeCategory"!==e.valueType?e.visibleLabels[f]?e.visibleLabels[f].value-p:e.visibleLabels[f-1].value+e.visibleRange.interval-p:e.visibleLabels[f]?e.visibleLabels[f].value-p:e.visibleRange.max,e)*n.width+n.x)>=n.x&&n.x+n.width>=s&&((ut(r,e.visibleRange)||this.isBorder(e,f,s))&&(a="M "+s+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+s+" "+this.seriesClipRect.y,this.renderGridLine(e,t,a,e.majorGridLines,"_MajorGridLine_",f,this.element,y.majorGridLine,e.majorGridLines.dashArray)),l="M "+s+" "+(n.y+d+(g?u:0))+" L "+s+" "+v,this.renderGridLine(e,t,l,e.majorTickLines,"_MajorTickLine_",f,i,y.majorTickLine),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&(o=this.drawAxisMinorLine(e,r,n,f),this.renderGridLine(e,t,o[0],e.minorGridLines,"_MinorGridLine_",f,this.element,y.minorGridLine,e.minorGridLines.dashArray),this.renderGridLine(e,t,o[1],e.minorTickLines,"_MinorTickLine_",f,i,y.minorTickLine)))}},{key:"drawAxisMinorLine",value:function(e,t,i,n){var r,o=t,s=0,a=0,l=e.visibleRange,h="Inside"===e.tickPosition,c=[],d=e.opposedPosition?-e.minorTickLines.height:e.minorTickLines.height,u=1,p=1,m=h?i.y-d:i.y+d,g=h?i.x+d:i.x-d,v="",y="";if("Logarithmic"===e.valueType&&(p=(r=Math.pow(e.logBase,o-l.interval))+(u=(Math.pow(e.logBase,o)-r)/(e.minorTicksPerInterval+1))),"Horizontal"===e.orientation)for(var f=0;f<e.minorTicksPerInterval;f++)o=this.findLogNumeric(e,p,u,o,n),p+=u,ut(o,l)&&(a=(o-l.min)/(l.max-l.min),a=Math.ceil((e.isInversed?1-a:a)*i.width),s=Math.floor(a+i.x),v=v.concat("M "+s+" "+this.seriesClipRect.y+"L "+s+" "+(this.seriesClipRect.y+this.seriesClipRect.height)),s=Math.floor(a+i.x),y=y.concat("M "+s+" "+i.y+"L "+s+" "+(m+e.scrollBarHeight)));else{d=e.opposedPosition?e.minorTickLines.height:-e.minorTickLines.height;for(var b=0;b<e.minorTicksPerInterval;b++)ut(o=this.findLogNumeric(e,p,u,o,n),l)&&(a=-1*Math.ceil((o-l.min)/(l.max-l.min)*i.height),s=Math.floor(a+i.y+i.height),v=v.concat("M "+this.seriesClipRect.x+" "+s+"L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+s+" "),s=Math.floor(a+i.y+i.height),y=y.concat("M "+i.x+" "+s+"L "+(g-e.scrollBarHeight)+" "+s+" ")),p+=u}return c.push(v),c.push(y),c}},{key:"findLogNumeric",value:function(e,t,i,n,r){var o=e.visibleRange;if("Logarithmic"===e.valueType)n=ct(t,e.logBase);else if("DateTime"===e.valueType)n+=e.dateTimeInterval/(e.minorTicksPerInterval+1);else if("DateTimeCategory"===e.valueType){var s="BetweenTicks"===e.labelPlacement?.5:0;n+=((e.visibleLabels[r+1]?e.visibleLabels[r+1].value-s:e.visibleRange.max)-(e.visibleLabels[r]?e.visibleLabels[r].value-s:e.visibleRange.min))/(e.minorTicksPerInterval+1)}else n+=o.interval/(e.minorTicksPerInterval+1);return n}},{key:"drawXAxisLabels",value:function(e,t,i,n){var r,o,s,a,l,h,d,u,p,m,g=this.chart,y=0,f=0,x=g.renderer.createGroup({id:g.element.id+"AxisLabels"+t}),_="Inside"===e.labelPosition,w=e.opposedPosition,C=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+this.padding+.5*e.lineStyle.width,k=e.angle%360,S=90===k||-270===k?-4:-90===k||270===k?4:0,M=e.isInversed?n.x+n.width:n.x,O=0,L=e.visibleLabels.length,P=e.scrollbarSettings.enable||!_&&Object(c.W)(e.crossesAt)&&(e.zoomFactor<1||e.zoomPosition>0)?e.scrollBarHeight:0,A=[],R=!1;C+=90===k||270===k||-90===k||-270===k?_?5:-5:0;for(var T=0,j=L;T<j;T++){if(m=st((p=e.visibleLabels[T]).originalText),y=kt(p.value,e)*n.width+n.x,r=p.size,u=n.width/L,d=m?p.breakLabelSize.width:r.width,y-=(O=("Trim"===e.labelIntersectAction||"Wrap"===e.labelIntersectAction)&&0===k&&d>u?u:d)/2,_&&k?f=w?n.y+C:n.y-C:(o=w&&!_||!w&&_?-(C+P+(k?.5*r.height+2*e.maxLabelSize.height/5:p.index>1?r.height/4*2:0)):C+P+(k?.5*e.maxLabelSize.height:r.height/4*3),f=n.y+o*p.index),l=new b(g.element.id+t+"_AxisLabel_"+T,y,f,""),e.edgeLabelPlacement)switch(e.edgeLabelPlacement){case"None":break;case"Hide":if((0===T||e.isInversed&&T===j-1)&&l.x<n.x||(T===j-1||e.isInversed&&0===T)&&l.x+O>n.x+n.width)continue;break;case"Shift":(0===T||e.isInversed&&T===j-1)&&l.x<n.x?(u-=n.x-l.x,l.x=y=n.x):(T===j-1||e.isInversed&&0===T)&&l.x+O>n.x+n.width&&(r.width>u&&"Trim"===e.labelIntersectAction?u-=l.x+O-(n.x+n.width):u=O,l.x=y=n.x+n.width-u)}if(l.text=this.getLabelText(p,e,u),0!==k||"Hide"!==e.labelIntersectAction||0===T||!(e.isInversed?l.x+O>=M:l.x<=M)){if(M=e.isInversed?l.x:l.x+O,0!==k){s=this.getRotateText(m,e,p,k,g),a=_?s.height:e.maxLabelSize.height-Math.ceil(s.height),h=e.opposedPosition?.5*a:.5*-a,l.transform="rotate("+k+","+(y+.5*O+S)+","+(f+h)+")",l.y=m?l.y+(w?4*p.text.length:-4*p.text.length):l.y+h;var I=f+h-(l.y-(p.size.height/2+10)),z=new v(l.x,l.y-(p.size.height/2-5),p.size.width,I),E=this.getRectanglePoints(z);A.push(_t(E,y+.5*O+S,f+h-I/2,k)),R=!1;for(var D=T;D>0;D--)if(A[T]&&A[D-1]&&wt(A[T],A[D-1])){R=!0,A[T]=null;break}}gi(g.renderer,l,p.labelStyle,p.labelStyle.color||g.themeStyle.axisLabel,x,e.opposedPosition!==("Inside"===e.labelPosition),g.redraw,!0,null,null,null,0,R)}}this.chart.enableCanvas||(g.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,x,e,t,n):i.appendChild(x))}},{key:"getRectanglePoints",value:function(e){return[new Wi(e.x,e.y),new Wi(e.x+e.width,e.y),new Wi(e.x+e.width,e.y+e.height),new Wi(e.x,e.y+e.height)]}},{key:"getLabelText",value:function(e,t,i){if(st(e.originalText)){for(var n,r=[],o=0;o<e.text.length;o++)n=this.findAxisLabel(t,e.text[o],i),r.push(n);return r}return this.findAxisLabel(t,e.text,i)}},{key:"drawXAxisBorder",value:function(e,t,i,n){if(e.border.width>0){for(var r,o,s,a="Outside"===e.labelPosition?e.scrollBarHeight:0,l=n.y+(e.opposedPosition?-1:1)*a,h=n.width/e.visibleRange.delta*("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval),c=e.maxLabelSize.height+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),d="",u="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?-.5:0,p=e.opposedPosition&&"Inside"===e.labelPosition||!e.opposedPosition&&"Outside"===e.labelPosition?n.y+c+10+a:n.y-c-10-a,m=0,g=e.visibleLabels.length;m<g;m++)switch(o=kt(e.visibleLabels[m].value+u,e),o=(e.isInversed?1-o:o)*n.width,"Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?(r=o+n.x,s=o+h+n.x):(r=o-.5*h+n.x,s=o+.5*h+n.x),e.border.type){case"Rectangle":case"WithoutTopBorder":r<n.x?d+="M "+n.x+" "+p+" L "+s+" "+p+" ":Math.floor(s)>n.width+n.x&&1!==e.visibleLabels.length?d+="M "+r+" "+l+" L "+r+" "+p+" L "+(n.width+n.x)+" "+p+" ":(d+="M "+r+" "+l+" L "+r+" "+p+" L "+s+" "+p+" ",0===m&&(d+="M "+r+" "+l+" L "+r+" "+p+" M "+r+" "+p+" L "+n.x+" "+p),m===e.visibleLabels.length-1&&(d+="M "+s+" "+l+" L "+s+" "+p+" M "+s+" "+p+" L "+(n.width+n.x)+" "+p));break;case"WithoutTopandBottomBorder":r<n.x||Math.floor(s)>n.width+n.x||(d+="M "+r+" "+l+" L "+r+" "+p+" M "+s+" "+l+" L "+s+" "+p)}""!==(d+="Rectangle"===e.border.type?"M  "+n.x+" "+l+"L "+(n.x+n.width)+" "+l:"")&&this.createAxisBorderElement(e,t,d,i)}this.chart.multiLevelLabelModule&&e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(e,t,i,n)}},{key:"createAxisBorderElement",value:function(e,t,i,n){var r=Yt(this.chart.element.id+"_BorderLine_"+t),o=r?r.getAttribute("d"):"",s=this.chart.renderer.drawPath(new P(this.chart.element.id+"_BorderLine_"+t,"transparent",e.border.width,e.border.color||this.chart.themeStyle.axisLine,1,"",i));s.setAttribute("style","pointer-events: none"),Kt(this.chart.enableCanvas,n,s,this.chart.redraw,!0,"x","y",null,o,!0)}},{key:"findAxisLabel",value:function(e,t,i){return"Trim"===e.labelIntersectAction?0!==e.angle||e.enableTrim?t:di(i,t,e.labelStyle):t}},{key:"drawXAxisTitle",value:function(e,t,i,n){var r=this.chart,o=p(e.title,e.titleStyle),s=Object(c.W)(e.crossesAt)?e.scrollBarHeight:0,a=("Inside"===e.tickPosition?0:e.majorTickLines.height+this.padding)+("Inside"===e.labelPosition?0:e.maxLabelSize.height+e.multiLevelLabelHeight+this.padding);a=e.opposedPosition?-(a+o.height/4+s):a+3*o.height/4+s;var l=new b(r.element.id+"_AxisTitle_"+t,n.x+.5*n.width,n.y+a,"middle",e.title);l.text=di(e.updatedRect.width,l.text,e.titleStyle);var h=gi(r.renderer,l,e.titleStyle,e.titleStyle.color||r.themeStyle.axisTitle,i);h.setAttribute("aria-label",e.description||e.title),h.setAttribute("tabindex",e.tabIndex.toString())}},{key:"renderGridLine",value:function(e,t,i,n,r,o,s,a){var l,h,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=this.chart;n.width>0&&e.visible&&e.internalVisibility&&i&&(l=(h=Yt(d.element.id+r+t+"_"+o))?h.getAttribute("d"):null,h=null,this.htmlObject=d.renderer.drawPath(new P(d.element.id+r+t+"_"+o,"transparent",n.width,n.color||a,null,c,i)),Kt(d.enableCanvas,s,this.htmlObject,d.redraw,!0,"x","y",null,l,!0))}},{key:"findParentNode",value:function(e,t,i,n){return null===i.crossAt?document.getElementById(e+"AxisGroup"+n+"Inside"):document.getElementById(e+"AxisGroup"+n+"Inside").contains(document.getElementById(t.id))?document.getElementById(e+"AxisGroup"+n+"Inside"):document.getElementById(e+"AxisGroup"+n+"Outside")}},{key:"createZoomingLabel",value:function(e,t,i,n,r){var o=this.findParentNode(e.element.id,t,i,n);t.setAttribute("opacity","0.3");var s=e.renderer.createGroup({id:e.element.id+"AxisLabels_Zoom"+n});s=function(e,t,i,n,r,o){for(var s,a,l,h,c,d=t.opposedPosition,u=r?"start":"auto",g=e.availableSize.width,y=t.scrollbarSettings.enable||t.zoomingScrollBar&&t.zoomingScrollBar.svgObject?t.scrollBarHeight:0,f=0;f<2;f++)s=p(f?t.endLabel:t.startLabel,t.labelStyle),r?(h=f?new Wi(o.x-y,o.y+3):new Wi(t.rect.x-y,o.y+o.height-3),a=o.x+(d?o.width+5+y:-(s.width+5+5+y)),l=o.y+(f?0:o.height-s.height-5),a+=a<0||g<a+s.width+5?d?-s.width/2:s.width/2:0,c=m(3,3,new v(a,l,s.width+5,s.height+5),h,5,!1,!1,!d,h.x,h.y+(f?-3:3))):(h=new Wi(f?o.x+o.width-3:o.x+3,o.y+o.height+y),a=o.x+(f?o.width-s.width-5:0),l=d?o.y-s.height-10-y:o.y+o.height+5+y,c=m(3,3,new v(a,l,s.width+5,s.height+5),h,5,d,!d,!1,h.x+(f?3:-3),h.y)),a+=2.5,l=l+s.height/4*3+2.5,i.appendChild(e.renderer.drawPath(new P(e.element.id+"_Zoom_"+n+"_AxisLabel_Shape_"+f,e.themeStyle.crosshairFill,2,e.themeStyle.crosshairFill,1,null,c))),gi(e.renderer,new b(e.element.id+"_Zoom_"+n+"_AxisLabel_"+f,a,l,u,f?t.endLabel:t.startLabel),{color:e.themeStyle.crosshairLabel,fontFamily:"Segoe UI",fontWeight:"Regular",size:"11px"},e.themeStyle.crosshairLabel,i);return i}(e,i,s,n,"Vertical"===i.orientation,r),o.replaceChild(t,document.getElementById(t.id)),Yt(e.element.id+"AxisLabels_Zoom"+n)?o.replaceChild(s,document.getElementById(s.id)):o.appendChild(s)}},{key:"getRotateText",value:function(e,t,i,n,r){return e?new g(p(i.originalText,t.labelStyle).height,p(i.originalText,t.labelStyle).width):lt(t.labelStyle,i.text,n,r)}}]),e}(),Ui=function(){function e(t){_classCallCheck(this,e),this.currentPoints=[],this.previousPoints=[],this.insideRegion=!1,this.chart=t,this.lierIndex=0}return _createClass(e,[{key:"getData",value:function(){for(var e,t,i,n,r=this.chart,o=null,s=null,a=r.visibleSeries.length-1;a>=0;a--){if(e="Scatter"===(s=r.visibleSeries[a]).type||"Scatter"===s.drawType||!s.isRectSeries&&s.marker.visible?(s.marker.height+5)/2:0,t="Scatter"===s.type||"Scatter"===s.drawType||!s.isRectSeries&&s.marker.visible?(s.marker.width+5)/2:0,i=r.mouseX,n=r.mouseY,s.dragSettings.enable&&s.isRectSeries)if("Bar"===s.type&&r.isTransposed||!r.isTransposed&&"Bar"!==s.type){var l=s.marker.height/2;n=s.yAxis.isInversed?n-l:n+l}else{var h=s.marker.width/2;i=s.yAxis.isInversed?i+h:i-h}if(s.visible&&At(i,n,s.clipRect,e,t)&&(o=this.getRectPoint(s,s.clipRect,i,n)),o)return new Xi(o,s)}return new Xi(o,s)}},{key:"isSelected",value:function(e){return(e.selectionMode.indexOf("Drag")>-1||e.selectionMode.indexOf("Lasso")>-1)&&e.selectionModule&&null!==e.selectionModule.rectPoints}},{key:"getRectPoint",value:function(e,t,i,n){var r,o,s,a,l,h,c=0;if(this.chart.isScrolling)return null;var d=!0,u=!1,p=void 0;try{for(var m,g=e.points[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var v=m.value;if(v.regionData||v.regions&&v.regions.length){if(v.regionData&&"PolarRadar"===this.chart.chartAreaType&&e.drawType.indexOf("Column")>-1&&(r=i-(e.clipRect.width/2+e.clipRect.x),o=n-(e.clipRect.height/2+e.clipRect.y),c=2*Math.PI*(v.regionData.currentXPosition<0?1+v.regionData.currentXPosition:v.regionData.currentXPosition),s=(s=(Math.atan2(o,r)+.5*Math.PI-c)%(2*Math.PI))<0?2*Math.PI+s:s,s+=2*Math.PI*e.chart.primaryXAxis.startAngle,a=v.regionData.startAngle,a=(a-=c)<0?2*Math.PI+a:a,l=v.regionData.endAngle,l=(l-=c)<0?2*Math.PI+l:l,h=Math.sqrt(Math.pow(Math.abs(r),2)+Math.pow(Math.abs(o),2)),s>=a&&s<=l&&(h>=v.regionData.innerRadius&&h<=v.regionData.radius||h<=v.regionData.innerRadius&&h>=v.regionData.radius)&&h<=e.chart.radius))return v;if(e.dragSettings.enable&&e.isRectSeries&&this.rectRegion(i,n,v,t,e))return this.insideRegion=!0,v;if(!this.insideRegion&&this.checkRegionContainsPoint(v.regions,t,i,n))return v;if(this.insideRegion&&this.checkRegionContainsPoint(v.regions,t,i,n))return v}}}catch(y){u=!0,p=y}finally{try{d||null==g.return||g.return()}finally{if(u)throw p}}return null}},{key:"checkRegionContainsPoint",value:function(e,t,i,n){var r=this;return e.some((function(e,o){return r.lierIndex=o,At(i,n,new v(("Cartesian"===r.chart.chartAreaType?t.x:0)+e.x,("Cartesian"===r.chart.chartAreaType?t.y:0)+e.y,e.width,e.height))}))}},{key:"rectRegion",value:function(e,t,i,n,r){var o,s=this,a="Bar"===r.type,l=r.yAxis.isInversed,h=r.chart.isTransposed,c=0,d=0,u=o=20;return l&&h?a?(c=i.regions[0].height-10,o=i.regions[0].width):(d=-10,u=i.regions[0].height):l||i.yValue<0?a?(d=-10,u=i.regions[0].height):(c=i.regions[0].height-10,o=i.regions[0].width):h?a?(c=-10,o=i.regions[0].width):(d=i.regions[0].width-10,u=i.regions[0].height):a?(d=i.regions[0].width-10,u=i.regions[0].height):(c=-10,o=i.regions[0].width),i.regions.some((function(i){return At(e,t,new v(("Cartesian"===s.chart.chartAreaType?n.x:0)+i.x+d,("Cartesian"===s.chart.chartAreaType?n.y:0)+i.y+c,o,u))}))}},{key:"getClosest",value:function(e,t){var i,n=e.xData;if(t>=e.xMin-.5&&t<=e.xMax+.5){var r=!0,o=!1,s=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;(null==i||Math.abs(h-t)<Math.abs(i-t))&&(i=h)}}catch(c){o=!0,s=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}return i}},{key:"getClosestX",value:function(e,t){var i,n=t.clipRect;i=e.requireInvertedAxis?Tt(e.mouseY-n.y,n.height,t.xAxis):Rt(e.mouseX-n.x,n.width,t.xAxis);var r=this.getClosest(t,i),o=!0,s=!1,a=void 0;try{for(var l,h=t.points[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;if(r===c.xValue&&c.visible)return new Xi(c,t)}}catch(d){s=!0,a=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}return null}}]),e}(),Qi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},qi=(ki=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qi([Object(c.s)(!1)],ki.prototype,"visible",void 0),Qi([Object(c.s)(null)],ki.prototype,"name",void 0),Qi([Object(c.s)("transparent")],ki.prototype,"fill",void 0),Qi([Object(c.s)(1)],ki.prototype,"opacity",void 0),Qi([Object(c.s)(0)],ki.prototype,"angle",void 0),Qi([Object(c.s)(!1)],ki.prototype,"enableRotation",void 0),Qi([Object(c.s)("Auto")],ki.prototype,"position",void 0),Qi([Object(c.s)(5)],ki.prototype,"rx",void 0),Qi([Object(c.s)(5)],ki.prototype,"ry",void 0),Qi([Object(c.s)("Center")],ki.prototype,"alignment",void 0),Qi([Object(c.g)({width:null,color:null},ke)],ki.prototype,"border",void 0),Qi([Object(c.g)({left:5,right:5,top:5,bottom:5},Oe)],ki.prototype,"margin",void 0),Qi([Object(c.g)({size:"11px",color:"",fontStyle:"Normal",fontWeight:"Normal",fontFamily:"Segoe UI"},Ce)],ki.prototype,"font",void 0),Qi([Object(c.s)(null)],ki.prototype,"template",void 0),Qi([Object(c.s)("Hide")],ki.prototype,"labelIntersectAction",void 0),ki),Ji=(Ci=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qi([Object(c.s)(!1)],Ci.prototype,"visible",void 0),Qi([Object(c.s)("Circle")],Ci.prototype,"shape",void 0),Qi([Object(c.s)("")],Ci.prototype,"imageUrl",void 0),Qi([Object(c.s)(5)],Ci.prototype,"height",void 0),Qi([Object(c.s)(5)],Ci.prototype,"width",void 0),Qi([Object(c.g)({width:2,color:null},ke)],Ci.prototype,"border",void 0),Qi([Object(c.g)({x:0,y:0},Se)],Ci.prototype,"offset",void 0),Qi([Object(c.s)(null)],Ci.prototype,"fill",void 0),Qi([Object(c.s)(1)],Ci.prototype,"opacity",void 0),Qi([Object(c.g)({},qi)],Ci.prototype,"dataLabel",void 0),Ci),Ki=function e(){_classCallCheck(this,e),this.symbolLocations=null,this.regions=null,this.percentage=null,this.regionData=null,this.isSelect=!1,this.marker={visible:!1},this.isPointInRange=!0},$i=(Ai=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).clipRect=new v(0,0,0,0),e}return _inherits(t,e),_createClass(t,[{key:"setDataSource",value:function(e,t){e&&(this.points=e.points),It(this.type),t.trendLineModule.initDataSource(this,t),t.visibleSeriesCount++}}]),t}(c.e),Qi([Object(c.s)("")],Ai.prototype,"name",void 0),Qi([Object(c.s)("0")],Ai.prototype,"dashArray",void 0),Qi([Object(c.s)(!0)],Ai.prototype,"visible",void 0),Qi([Object(c.s)("Linear")],Ai.prototype,"type",void 0),Qi([Object(c.s)(2)],Ai.prototype,"period",void 0),Qi([Object(c.s)(2)],Ai.prototype,"polynomialOrder",void 0),Qi([Object(c.s)(0)],Ai.prototype,"backwardForecast",void 0),Qi([Object(c.s)(0)],Ai.prototype,"forwardForecast",void 0),Qi([Object(c.g)({},Le)],Ai.prototype,"animation",void 0),Qi([Object(c.g)({},Ji)],Ai.prototype,"marker",void 0),Qi([Object(c.s)(!0)],Ai.prototype,"enableTooltip",void 0),Qi([Object(c.s)(null)],Ai.prototype,"intercept",void 0),Qi([Object(c.s)("")],Ai.prototype,"fill",void 0),Qi([Object(c.s)(1)],Ai.prototype,"width",void 0),Qi([Object(c.s)("SeriesType")],Ai.prototype,"legendShape",void 0),Ai),en=(Pi=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qi([Object(c.s)(1)],Pi.prototype,"width",void 0),Qi([Object(c.s)(10)],Pi.prototype,"length",void 0),Qi([Object(c.s)(null)],Pi.prototype,"color",void 0),Qi([Object(c.s)(1)],Pi.prototype,"opacity",void 0),Pi),tn=(Li=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qi([Object(c.s)(null)],Li.prototype,"value",void 0),Qi([Object(c.s)(null)],Li.prototype,"color",void 0),Qi([Object(c.s)("0")],Li.prototype,"dashArray",void 0),Li),nn=(Oi=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Qi([Object(c.s)(!1)],Oi.prototype,"visible",void 0),Qi([Object(c.s)("Fixed")],Oi.prototype,"type",void 0),Qi([Object(c.s)("Both")],Oi.prototype,"direction",void 0),Qi([Object(c.s)("Vertical")],Oi.prototype,"mode",void 0),Qi([Object(c.s)(null)],Oi.prototype,"color",void 0),Qi([Object(c.s)(1)],Oi.prototype,"verticalError",void 0),Qi([Object(c.s)(1)],Oi.prototype,"width",void 0),Qi([Object(c.s)(1)],Oi.prototype,"horizontalError",void 0),Qi([Object(c.s)(3)],Oi.prototype,"verticalPositiveError",void 0),Qi([Object(c.s)(3)],Oi.prototype,"verticalNegativeError",void 0),Qi([Object(c.s)(1)],Oi.prototype,"horizontalPositiveError",void 0),Qi([Object(c.s)(1)],Oi.prototype,"horizontalNegativeError",void 0),Qi([Object(c.g)(null,en)],Oi.prototype,"errorBarCap",void 0),Oi),rn=(Mi=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).currentViewData=[],e.clipRect=new v(0,0,0,0),e.seriesType="XY",e}return _inherits(t,e),_createClass(t,[{key:"processJsonData",value:function(){var e,t,i,n=0,r=new Ki,o=this instanceof on&&"Histogram"===this.type?"x":this.xName,s=this instanceof on&&this.marker.dataLabel.name?this.marker.dataLabel.name:"";this instanceof on&&("Waterfall"!==this.type&&"Histogram"!==this.type||(this.currentViewData=this.chart[It(this.type)+"SeriesModule"].processInternalData(Object(c.J)([],this.currentViewData,null,!0),this)),"Pareto"===this.category&&(this.currentViewData=(e=Object(c.J)([],this.currentViewData,null,!0),t=[this.yName],(i=Object(c.J)([],e,null)).sort((function(e,i){for(var n=0,r=0,o=0;o<t.length;o++)n+=e[t[o]],r+=i[t[o]];return n>r?-1:n===r?0:1})),i),"Line"===this.type&&(this.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.currentViewData,this))));var a=Object.keys(this.currentViewData).length;if(this.points=[],this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0,this.sizeMax=-1/0,this.getSeriesType(),"Category"===this.xAxis.valueType)for(;n<a;)r=this.dataPoint(n,s,o),this.pushCategoryData(r,n,r.x),this.pushData(r,n),this.setEmptyPoint(r,n),n++;else if(this.xAxis.valueType.indexOf("DateTime")>-1)for(var l={skeleton:"full",type:"dateTime"},h=this.chart.intl.getDateParser(l),d=this.chart.intl.getDateFormat(l);n<a;)r=this.dataPoint(n,s,o),Object(c.W)(r.x)||""===r.x?r.visible=!1:(r.x=new Date(D.b.parse.parseJson({val:r.x}).val),"DateTime"===this.xAxis.valueType?r.xValue=Date.parse(r.x.toString()):this.pushCategoryData(r,n,Date.parse(h(d(r.x))).toString()),this.pushData(r,n),this.setEmptyPoint(r,n)),n++;else for(;n<a;)(r=this.dataPoint(n,s,o)).xValue=r.x,this.pushData(r,n),this.setEmptyPoint(r,n),n++;if(this instanceof on&&(this.type.indexOf("Spline")>-1||this.drawType.indexOf("Spline")>-1&&"PolarRadar"===this.chart.chartAreaType)){var u=this.type.indexOf("Area")>-1||this.drawType.indexOf("Area")>-1;this.chart["spline"+(u?"Area":"")+"SeriesModule"].findSplinePoint(this)}}},{key:"pushData",value:function(e,t){e.index=t,e.yValue=e.y,this.xMin=Math.min(this.xMin,e.xValue),this.xMax=Math.max(this.xMax,e.xValue),this.xData.push(e.xValue)}},{key:"dataPoint",value:function(e,t,i){var n;this.points[e]=new Ki,n=this.points[e];var r=this.currentViewData,o=this.enableComplexProperty?c.U:this.getObjectValue;return n.x=o(i,r[e]),n.high=o(this.high,r[e]),n.low=o(this.low,r[e]),n.open=o(this.open,r[e]),n.close=o(this.close,r[e]),n.volume=o(this.volume,r[e]),n.interior=o(this.pointColorMapping,r[e]),this instanceof on&&(n.y=o(this.yName,r[e]),n.size=o(this.size,r[e]),n.text=o(t,r[e]),n.tooltip=o(this.tooltipMappingName,r[e])),n}},{key:"getObjectValue",value:function(e,t){return t[e]}},{key:"setEmptyPoint",value:function(e,t){if(!this.findVisibility(e))return e.visible=!0,null;switch(e.isEmpty=!0,this instanceof on&&e.isPointInRange?this.emptyPointSettings.mode:"Drop"){case"Zero":e.visible=!0,this instanceof on&&this.seriesType.indexOf("HighLow")>-1?(e.high=e.low=0,this.seriesType.indexOf("HighLowOpenClose")>-1&&(e.open=e.close=0)):e.y=e.yValue=this.yData[t]=0;break;case"Average":this instanceof on&&(this.seriesType.indexOf("HighLow")>-1?(e.high=Object(c.W)(e.high)||isNaN(+e.high)?this.getAverage(this.high,t):e.high,e.low=Object(c.W)(e.low)||isNaN(+e.low)?this.getAverage(this.low,t):e.low,this.seriesType.indexOf("HighLowOpenClose")>-1&&(e.open=Object(c.W)(e.open)||isNaN(+e.open)?this.getAverage(this.open,t):e.open,e.close=Object(c.W)(e.close)||isNaN(+e.close)?this.getAverage(this.close,t):e.close)):e.y=e.yValue=this.yData[t]=this.getAverage(this.yName,t)),e.visible=!0;break;case"Drop":case"Gap":this.yData[t]=null,e.visible=!1}}},{key:"findVisibility",value:function(e){var t,i=this.yAxis.minimum,n=this.yAxis.maximum;switch(this instanceof on?this.seriesType:"HighLowOpenClose"){case"XY":return"PolarRadar"===this.chart.chartAreaType&&(!Object(c.W)(i)&&e.yValue<i||!Object(c.W)(n)&&e.yValue>n)?(e.isPointInRange=!1,!0):(this.setXYMinMax(e.yValue),this.yData.push(e.yValue),this instanceof on&&"Bubble"===this.type&&(this.sizeMax=Math.max(this.sizeMax,Object(c.W)(e.size)||isNaN(+e.size)?this.sizeMax:e.size)),Object(c.W)(e.x)||Object(c.W)(e.y)||isNaN(+e.y));case"HighLow":return this.setHiloMinMax(e.high,e.low),Object(c.W)(e.x)||Object(c.W)(e.low)||isNaN(+e.low)||Object(c.W)(e.high)||isNaN(+e.high);case"HighLowOpenClose":return this.setHiloMinMax(e.high,e.low),Object(c.W)(e.x)||Object(c.W)(e.low)||isNaN(+e.low)||Object(c.W)(e.open)||isNaN(+e.open)||Object(c.W)(e.close)||isNaN(+e.close)||Object(c.W)(e.high)||isNaN(+e.high);case"BoxPlot":return t=(e.y||[null]).filter((function(e){return!Object(c.W)(e)&&!isNaN(e)})).sort((function(e,t){return e-t})),e.y=t,this.yMin=Math.min(this.yMin,Math.min.apply(Math,_toConsumableArray(t))),this.yMax=Math.max(this.yMax,Math.max.apply(Math,_toConsumableArray(t))),!t.length}}},{key:"setXYMinMax",value:function(e){this.yMin=Math.min(this.yMin,Object(c.W)(e)||isNaN(e)?this.yMin:e),this.yMax=Math.max(this.yMax,Object(c.W)(e)||isNaN(e)?this.yMax:e)}},{key:"setHiloMinMax",value:function(e,t){this.yMin=Math.min(this.yMin,Math.min(Object(c.W)(t)||isNaN(t)?this.yMin:t,Object(c.W)(e)||isNaN(e)?this.yMin:e)),this.yMax=Math.max(this.yMax,Math.max(Object(c.W)(t)||isNaN(t)?this.yMax:t,Object(c.W)(e)||isNaN(e)?this.yMax:e))}},{key:"getSeriesType",value:function(){var e;if(this instanceof on){var t="PolarRadar"===this.chart.chartAreaType?this.drawType:this.type;if(t)switch(t){case"RangeColumn":case"RangeArea":case"Hilo":e="HighLow";break;case"HiloOpenClose":case"Candle":e="HighLowOpenClose";break;case"BoxAndWhisker":e="BoxPlot";break;default:e="XY"}}this.seriesType=e}},{key:"pushCategoryData",value:function(e,t,i){if(!this.visible)return null;this.xAxis.isIndexed?(this.xAxis.labels[t]?this.xAxis.labels[t]+=", "+i:this.xAxis.labels.push(i),e.xValue=t):(this.xAxis.labels.indexOf(i)<0&&this.xAxis.labels.push(i),e.xValue=this.xAxis.labels.indexOf(i))}},{key:"getAverage",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentViewData;return((i[t-1]&&i[t-1][e]||0)+(i[t+1]&&i[t+1][e]||0))/2}},{key:"refreshDataManager",value:function(e){var t=this;this.chart=e;var i=this.dataSource||e.dataSource;i instanceof D.a||!Object(c.W)(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then((function(e){return t.dataManagerSuccess(e)})):this.dataManagerSuccess({result:i,count:i.length},!1)}},{key:"dataManagerSuccess",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.currentViewData=e.count?e.result:[],this.chart.allowServerDataBinding=!1,this instanceof on){this.chart.stockChart&&(this.chart.stockChart.series[this.index].localData=this.currentViewData);var i={name:"seriesRender",series:this,data:this.currentViewData,fill:this.interior};this.chart.trigger("seriesRender",i),this.interior=i.fill,this.currentViewData=i.data}!this.chart.stockChart||this instanceof on||(this.currentViewData=this.chart.stockChart.findCurrentData(this.chart.stockChart.series[0].localData,this.chart.stockChart.series[0].xName)),this.processJsonData(),this.recordsCount=e.count,this.refreshChart(t),this.currentViewData=null}},{key:"refreshChart",value:function(e){var t=this.chart;if(this instanceof on&&(t.visibleSeriesCount+=e?1:0),t.refreshTechnicalIndicator(this),this instanceof on&&"TrendLine"!==this.category){var i=!0,n=!1,r=void 0;try{for(var o,s=this.trendlines[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)o.value.setDataSource(this,t)}catch(a){n=!0,r=a}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}}t.visibleSeries.length===t.visibleSeriesCount&&(t.refreshBound(),t.trigger("loaded",{chart:t.isBlazor?{}:t}),this.chart.stockChart&&this.chart.stockChart.initialRender&&(this.chart.stockChart.stockChartDataManagerSuccess(),this.chart.stockChart.initialRender=!1)),this instanceof on&&(t.visibleSeriesCount+=e?0:1)}}]),t}(c.e),Qi([Object(c.s)("")],Mi.prototype,"xName",void 0),Qi([Object(c.s)("")],Mi.prototype,"high",void 0),Qi([Object(c.s)("")],Mi.prototype,"low",void 0),Qi([Object(c.s)("")],Mi.prototype,"open",void 0),Qi([Object(c.s)("")],Mi.prototype,"close",void 0),Qi([Object(c.s)("")],Mi.prototype,"volume",void 0),Qi([Object(c.s)("")],Mi.prototype,"pointColorMapping",void 0),Qi([Object(c.s)(!0)],Mi.prototype,"visible",void 0),Qi([Object(c.s)(null)],Mi.prototype,"xAxisName",void 0),Qi([Object(c.s)(null)],Mi.prototype,"yAxisName",void 0),Qi([Object(c.g)(null,Le)],Mi.prototype,"animation",void 0),Qi([Object(c.s)(null)],Mi.prototype,"fill",void 0),Qi([Object(c.s)(1)],Mi.prototype,"width",void 0),Qi([Object(c.s)("0")],Mi.prototype,"dashArray",void 0),Qi([Object(c.s)("")],Mi.prototype,"dataSource",void 0),Qi([Object(c.s)()],Mi.prototype,"query",void 0),Qi([Object(c.f)([],tn)],Mi.prototype,"segments",void 0),Qi([Object(c.s)("X")],Mi.prototype,"segmentAxis",void 0),Qi([Object(c.s)(!1)],Mi.prototype,"enableComplexProperty",void 0),Mi),on=(Si=function(e){function t(e,i,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i,n,r))).visibleSeriesCount=0,o.category="Series",o.isRectSeries=!1,o.drawPoints=[],o.delayedAnimation=!1,o}return _inherits(t,e),_createClass(t,[{key:"refreshAxisLabel",value:function(){if("Category"!==this.xAxis.valueType)return null;this.xAxis.labels=[];var e=!0,t=!1,i=void 0;try{for(var n,r=this.xAxis.series[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;if(o.visible&&"TrendLine"!==o.category){o.xMin=1/0,o.xMax=-1/0;var s=!0,a=!1,l=void 0;try{for(var h,c=o.points[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;o.pushCategoryData(d,d.index,d.x),o.xMin=Math.min(o.xMin,d.xValue),o.xMax=Math.max(o.xMax,d.xValue)}}catch(u){a=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}}}}catch(u){t=!0,i=u}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}}},{key:"findSeriesCollection",value:function(e,t,i){var n=[],r=!0,o=!1,s=void 0;try{for(var a,l=t.axes[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value,c=!0,d=!1,u=void 0;try{for(var p,m=h.series[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var g=p.value,v=!0,y=!1,f=void 0;try{for(var b,x=e.axes[Symbol.iterator]();!(v=(b=x.next()).done);v=!0){var _=b.value,w=!0,C=!1,k=void 0;try{for(var S,M=_.series[Symbol.iterator]();!(w=(S=M.next()).done);w=!0){var O=S.value;O===g&&O.visible&&this.rectSeriesInChart(O,i)&&n.push(O)}}catch(L){C=!0,k=L}finally{try{w||null==M.return||M.return()}finally{if(C)throw k}}}}catch(L){y=!0,f=L}finally{try{v||null==x.return||x.return()}finally{if(y)throw f}}}}catch(L){d=!0,u=L}finally{try{c||null==m.return||m.return()}finally{if(d)throw u}}}}catch(L){o=!0,s=L}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}return n}},{key:"rectSeriesInChart",value:function(e,t){var i=e.type.toLowerCase();return-1!==i.indexOf("column")||-1!==i.indexOf("bar")||-1!==i.indexOf("histogram")||-1!==i.indexOf("hiloopenclose")||-1!==i.indexOf("candle")||-1!==i.indexOf("pareto")||-1!==i.indexOf("hilo")||-1!==e.drawType.indexOf("Column")||-1!==i.indexOf("waterfall")||-1!==i.indexOf("boxandwhisker")||t}},{key:"calculateStackedValue",value:function(e,t){var i=!0,n=!1,r=void 0;try{for(var o,s=t.columns[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value,l=!0,h=!1,c=void 0;try{for(var d,u=t.rows[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;this.calculateStackingValues(this.findSeriesCollection(a,p,!0),e)}}catch(m){h=!0,c=m}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}}}catch(m){n=!0,r=m}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}}},{key:"calculateStackingValues",value:function(e,t){var i,n,r,o,s,a=[],l=[],h=[],c=[];t&&(c=this.findFrequencies(e));var d=[],u=[],p=[],m=!0,g=!1,v=void 0;try{for(var y,f=e[Symbol.iterator]();!(m=(y=f.next()).done);m=!0){var b=y.value;if(-1!==b.type.indexOf("Stacking")||-1!==b.drawType.indexOf("Stacking")&&"PolarRadar"===b.chart.chartAreaType){l[r=-1!==b.type.indexOf("StackingArea")?"StackingArea100":-1!==b.type.indexOf("StackingLine")?"StackingLine100":b.stackingGroup]||(l[r]=[],h[r]=[]),a=b.yData,i=[],n=[],d.push(b),p=at(b);for(var x=0,_=p.length;x<_;x++)o=0,s=+a[x],void 0===l[r][p[x].xValue]&&(l[r][p[x].xValue]=0),void 0===h[r][p[x].xValue]&&(h[r][p[x].xValue]=0),t?(s=s/c[r][p[x].xValue]*100,s=isNaN(s)?0:s,p[x].percentage=+s.toFixed(2)):u[x]=u[x]?u[x]+Math.abs(s):Math.abs(s),s>=0?(o=l[r][p[x].xValue],l[r][p[x].xValue]+=s):(o=h[r][p[x].xValue],h[r][p[x].xValue]+=s),i.push(o),n.push(s+o),t&&n[x]>100&&(n[x]=100);b.stackedValues=new Di(i,n),b.yMin=Math.min.apply(0,i),b.yMax=Math.max.apply(0,n),b.yMin>Math.min.apply(0,n)&&(b.yMin=t?-100:Math.min.apply(0,n)),b.yMax<Math.max.apply(0,i)&&(b.yMax=0)}}}catch(w){g=!0,v=w}finally{try{m||null==f.return||f.return()}finally{if(g)throw v}}this.findPercentageOfStacking(d,u,t)}},{key:"findPercentageOfStacking",value:function(e,t,i){var n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;if(i)return null;var h=!0,c=!1,d=void 0;try{for(var u,p=at(l)[Symbol.iterator]();!(h=(u=p.next()).done);h=!0){var m=u.value;m.percentage=Math.abs(+(m.y/t[m.index]*100).toFixed(2))}}catch(g){c=!0,d=g}finally{try{h||null==p.return||p.return()}finally{if(c)throw d}}}}catch(g){r=!0,o=g}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"findFrequencies",value:function(e){var t,i=[],n=[],r=!0,o=!1,s=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;if(h.yAxis.isStack100=-1!==h.type.indexOf("100"),n=at(h),-1!==h.type.indexOf("Stacking")){i[t=-1!==h.type.indexOf("StackingArea")?"StackingArea100":-1!==h.type.indexOf("StackingLine")?"StackingLine100":h.stackingGroup]||(i[t]=[]);for(var c=0,d=n.length;c<d;c++)void 0===i[t][n[c].xValue]&&(i[t][n[c].xValue]=0),h.yData[c]>0?i[t][n[c].xValue]+=h.yData[c]:i[t][n[c].xValue]-=h.yData[c]}}}catch(u){o=!0,s=u}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}return i}},{key:"renderSeries",value:function(e){var t=It(this.type);e[(t=t.replace("100",""))+"SeriesModule"]&&("Indicator"!==this.category&&"TrendLine"!==this.category&&this.createSeriesElements(e),this.visiblePoints=at(this),e[t+"SeriesModule"].render(this,this.xAxis,this.yAxis,e.requireInvertedAxis),"Indicator"!==this.category&&(this.errorBar.visible&&this.chart.errorBarModule.render(this),this.marker.dataLabel.visible&&e.dataLabelModule.render(this,this.chart,this.marker.dataLabel),this.appendSeriesElement(e.seriesElements,e)),this.chart.enableCanvas||this.performAnimation(e,t,this.errorBar,this.marker,this.marker.dataLabel))}},{key:"createSeriesElements",value:function(e){if("Indicator"!==this.category){var t,i,n=e.element.id,r=this.marker.border.width+8+5,o="Scatter"===this.type||"Bubble"===this.type?e.svgRenderer:e.renderer,s=void 0===this.index?this.category:this.index,a="Scatter"===this.type?(this.marker.height+r)/2:0,l="Scatter"===this.type?(this.marker.width+r)/2:0;if("PolarRadar"===e.chartAreaType){var h="Scatter"===this.drawType?Math.max(this.marker.width,this.marker.height):0;t=new Vi(n+"_ChartSeriesClipRect_"+s,"transparent",{width:1,color:"Gray"},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,e.radius+h),this.clipRectElement=Vt(e.redraw,t,o,"drawCircularClipPath")}else t=new Bi(n+"_ChartSeriesClipRect_"+s,"transparent",{width:1,color:"Gray"},1,{x:-l,y:-a,width:this.clipRect.width+2*l,height:this.clipRect.height+2*a}),this.clipRectElement=Vt(e.redraw,t,o);i="Cartesian"===e.chartAreaType?"translate("+this.clipRect.x+","+this.clipRect.y+")":"",this.symbolElement=null,this.seriesElement=o.createGroup({id:n+"SeriesGroup"+s,transform:i,"clip-path":"url(#"+n+"_ChartSeriesClipRect_"+s+")"}),this.chart.enableCanvas&&"Scatter"!==this.type&&"Bubble"!==this.type||this.seriesElement.appendChild(this.clipRectElement)}}},{key:"appendSeriesElement",value:function(e,t){var i=this.marker,n=i.dataLabel,r=t.redraw;"TrendLine"!==this.category&&(Kt(t.enableCanvas,t.seriesElements,this.seriesElement,r),this.errorBar.visible&&Kt(t.enableCanvas,t.seriesElements,"PolarRadar"===t.chartAreaType?this.seriesElement:this.errorBarElement,r),"Scatter"!==this.type&&"Bubble"!==this.type||Kt(!1,t.seriesElements,this.seriesElement,r)),i.visible&&("Cartesian"===t.chartAreaType||"Scatter"!==this.drawType&&"PolarRadar"===t.chartAreaType)&&"Scatter"!==this.type&&"Bubble"!==this.type&&"Candle"!==this.type&&"Hilo"!==this.type&&"HiloOpenClose"!==this.type&&Kt(t.enableCanvas,t.seriesElements,this.symbolElement,r),n.visible&&(Kt(t.enableCanvas,t.dataLabelElements,this.shapeElement,r),Kt(t.enableCanvas,t.dataLabelElements,this.textElement,r)),!t.enableCanvas&&t.dataLabelElements.hasChildNodes()&&t.seriesElements.appendChild(t.dataLabelElements)}},{key:"performAnimation",value:function(e,t,i,n,r){this.animation.enable&&e.animateSeries&&(e[t+"SeriesModule"].doAnimation(this),i.visible&&e.errorBarModule.doErrorBarAnimation(this),n.visible&&e.markerRender.doMarkerAnimation(this),r.visible&&"edge"!==c.d.info.name&&!c.d.isIE&&e.dataLabelModule.doDataLabelAnimation(this))}},{key:"setPointColor",value:function(e,t){return t=e.interior||t,e.isEmpty&&this.emptyPointSettings.fill||t}},{key:"setBorderColor",value:function(e,t){return t.width=e.isEmpty&&this.emptyPointSettings.border.width||t.width,t.color=e.isEmpty&&this.emptyPointSettings.border.color||t.color,t}}]),t}(rn),Qi([Object(c.s)("")],Si.prototype,"name",void 0),Qi([Object(c.s)("")],Si.prototype,"yName",void 0),Qi([Object(c.s)("Line")],Si.prototype,"drawType",void 0),Qi([Object(c.s)(!0)],Si.prototype,"isClosed",void 0),Qi([Object(c.s)("#2ecd71")],Si.prototype,"bearFillColor",void 0),Qi([Object(c.s)("#e74c3d")],Si.prototype,"bullFillColor",void 0),Qi([Object(c.s)(!1)],Si.prototype,"enableSolidCandles",void 0),Qi([Object(c.s)("")],Si.prototype,"size",void 0),Qi([Object(c.s)(null)],Si.prototype,"binInterval",void 0),Qi([Object(c.s)(!1)],Si.prototype,"showNormalDistribution",void 0),Qi([Object(c.s)("")],Si.prototype,"stackingGroup",void 0),Qi([Object(c.g)({color:"transparent",width:0},ke)],Si.prototype,"border",void 0),Qi([Object(c.s)(1)],Si.prototype,"opacity",void 0),Qi([Object(c.s)(0)],Si.prototype,"zOrder",void 0),Qi([Object(c.s)("Line")],Si.prototype,"type",void 0),Qi([Object(c.g)(null,nn)],Si.prototype,"errorBar",void 0),Qi([Object(c.g)(null,Ji)],Si.prototype,"marker",void 0),Qi([Object(c.g)({},je)],Si.prototype,"dragSettings",void 0),Qi([Object(c.f)([],$i)],Si.prototype,"trendlines",void 0),Qi([Object(c.s)(!0)],Si.prototype,"enableTooltip",void 0),Qi([Object(c.s)("")],Si.prototype,"tooltipFormat",void 0),Qi([Object(c.s)("")],Si.prototype,"tooltipMappingName",void 0),Qi([Object(c.s)("SeriesType")],Si.prototype,"legendShape",void 0),Qi([Object(c.s)(null)],Si.prototype,"selectionStyle",void 0),Qi([Object(c.s)(null)],Si.prototype,"unSelectedStyle",void 0),Qi([Object(c.s)(null)],Si.prototype,"nonHighlightStyle",void 0),Qi([Object(c.s)(1)],Si.prototype,"minRadius",void 0),Qi([Object(c.s)(3)],Si.prototype,"maxRadius",void 0),Qi([Object(c.s)("Natural")],Si.prototype,"splineType",void 0),Qi([Object(c.s)(.5)],Si.prototype,"cardinalSplineTension",void 0),Qi([Object(c.g)(null,Te)],Si.prototype,"emptyPointSettings",void 0),Qi([Object(c.s)(!0)],Si.prototype,"showMean",void 0),Qi([Object(c.s)("Normal")],Si.prototype,"boxPlotMode",void 0),Qi([Object(c.s)(null)],Si.prototype,"columnWidth",void 0),Qi([Object(c.s)(0)],Si.prototype,"columnSpacing",void 0),Qi([Object(c.s)("#C64E4A")],Si.prototype,"negativeFillColor",void 0),Qi([Object(c.s)("#4E81BC")],Si.prototype,"summaryFillColor",void 0),Qi([Object(c.s)()],Si.prototype,"intermediateSumIndexes",void 0),Qi([Object(c.s)()],Si.prototype,"sumIndexes",void 0),Qi([Object(c.g)({color:"black",width:2},we)],Si.prototype,"connector",void 0),Qi([Object(c.g)(null,Ae)],Si.prototype,"cornerRadius",void 0),Si),sn=function(){function e(t,i){_classCallCheck(this,e),this.initDataManager(t,i)}return _createClass(e,[{key:"initDataManager",value:function(e,t){this.dataManager=e instanceof D.a?e:new D.a(e),this.query=t instanceof D.e?t:new D.e}},{key:"generateQuery",value:function(){return this.query.clone()}},{key:"getData",value:function(e){var t=this;if(this.dataManager.ready){var i=new D.c;return this.dataManager.ready.then((function(n){t.dataManager.executeQuery(e).then((function(e){i.resolve(e)}))})).catch((function(e){i.reject(e)})),i.promise}return this.dataManager.executeQuery(e)}}]),e}(),an=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).addEventListener(),i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){var t=this,i=e.chart.redraw;this.createElement(e,i);var n=!0,r=!1,o=void 0;try{for(var s,a=function(){var n=s.value;n.visible&&n.symbolLocations.length&&n.symbolLocations.map((function(r,o){t.renderMarker(e,n,r,o,i)}))},l=e.points[Symbol.iterator]();!(n=(s=l.next()).done);n=!0)a()}catch(h){r=!0,o=h}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}}},{key:"renderMarker",value:function(e,t,i,n,r){var o,s,a,l,h,d=void 0===e.index?e.category:e.index,u=e.marker,p={color:u.border.color,width:u.border.width},m=u.border.color;i.x=i.x+u.offset.x,i.y=i.y-u.offset.y;var v,y,f,b="BoxAndWhisker"===e.type,x=u.fill||(b?t.interior||e.interior:"#ffffff"),_=b?function(e,t){for(var i,n=0,r=e.length;n<r;n++)e[n].id.indexOf(t)>-1&&(i=e[n]);return i}(e.seriesElement.childNodes,"Series_"+e.index+"_Point_"+t.index):e.symbolElement;(p.color=m||e.setPointColor(t,e.interior),o=this.elementId+"_Series_"+d+"_Point_"+t.index+"_Symbol"+(n||""),(v={cancel:!1,name:"pointRender",series:e,point:t,fill:t.isEmpty&&e.emptyPointSettings.fill||x,border:{color:"BoxAndWhisker"===e.type?Object(c.W)(m)||"transparent"===m?hi(x,-.6):m:p.color,width:p.width},height:u.height,width:u.width,shape:u.shape}).border=e.setBorderColor(t,{width:v.border.width,color:v.border.color}),e.isRectSeries&&"BoxAndWhisker"!==e.type||(this.chart.trigger("pointRender",v),t.color=v.fill),t.color=v.fill,v.cancel)?(i=null,t.marker={visible:!1}):(f="RangeArea"===e.type||"RangeColumn"===e.type||"RangeColumn"===e.drawType?n?t.low:t.high:b?t.outliers[n]:t.y,h=new P(o,v.fill,v.border.width,v.border.color,u.opacity,null),(null!=_||this.chart.enableCanvas)&&(r&&Yt(h.id)&&(y=Yt(h.id),l="Circle"===v.shape?"c":"",s={x:+y.getAttribute(l+"x"),y:+y.getAttribute(l+"y")},a=y.getAttribute("d")),y=Xt(i,v.shape,new g(v.width,v.height),u.imageUrl,h,(t.x.toString(),f.toString()),this.chart.renderer,e.clipRect),Kt(this.chart.enableCanvas,_,y,r,!0,l+"x",l+"y",s,a,!1,!1,null,e.chart.duration)),t.marker={border:v.border,fill:v.fill,height:v.height,visible:!0,shape:v.shape,width:v.width})}},{key:"createElement",value:function(e,t){var i,n,r,o=e.marker,s=o.border.width+8+5,a=e.chart.svgRenderer,l=void 0===e.index?e.category:e.index;if(n="Cartesian"===e.chart.chartAreaType?"translate("+e.clipRect.x+","+e.clipRect.y+")":"",o.visible){var h=(o.height+s)/2,c=(o.width+s)/2;"Cartesian"===e.chart.chartAreaType?i=Vt(t,r=new Bi(this.elementId+"_ChartMarkerClipRect_"+l,"transparent",{width:1,color:"Gray"},1,{x:-c,y:-h,width:e.clipRect.width+2*c,height:e.clipRect.height+2*h}),a):i=Vt(t,r=new Vi(this.elementId+"_ChartMarkerClipRect_"+l,"transparent",{width:1,color:"Gray"},1,e.clipRect.width/2+e.clipRect.x,e.clipRect.height/2+e.clipRect.y,e.chart.radius+Math.max(h,c)),a,"drawCircularClipPath"),r={id:this.elementId+"SymbolGroup"+l,transform:n,"clip-path":"url(#"+this.elementId+"_ChartMarkerClipRect_"+l+")"},e.symbolElement=a.createGroup(r),e.symbolElement.appendChild(i),this.chart.enableCanvas&&document.getElementById(this.chart.element.id+"_tooltip_svg").appendChild(e.symbolElement)}}},{key:"getRangeLowPoint",value:function(e,t){var i=e.x,n=e.y;return t.chart.requireInvertedAxis?(n+=e.height/2,i+=t.yAxis.isInversed?e.width:0):(n+=t.yAxis.isInversed?0:e.height,i+=e.width/2),{x:i,y:n}}},{key:"doMarkerAnimation",value:function(e){if("Scatter"!==e.type&&"Bubble"!==e.type&&"Candle"!==e.type&&"Hilo"!==e.type&&"HiloOpenClose"!==e.type&&("PolarRadar"!==e.chart.chartAreaType||"Scatter"!==e.drawType))for(var t=e.symbolElement.childNodes,i=e.animation.delay+e.animation.duration,n=e.chart.animated?e.chart.duration:200,r=1,o="RangeArea"===e.type||"RangeColumn"===e.type?2:1,s=0;s<e.points.length;s++)if(e.points[s].symbolLocations){if(!e.points[s].symbolLocations.length||!t[r])continue;if(Bt(t[r],i,n,e,s,e.points[s].symbolLocations[0],!1),2===o){var a=this.getRangeLowPoint(e.points[s].regions[0],e);Bt(t[r+1],i,n,e,s,a,!1)}r+=o}}}]),t}(function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).elementId=e.element.id,i}return _inherits(t,e),_createClass(t,[{key:"addEventListener",value:function(){this.chart.isDestroyed||(this.chart.on(c.d.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(c.d.touchEndEvent,this.mouseUpHandler,this))}},{key:"removeEventListener",value:function(){this.chart.isDestroyed||(this.chart.off(c.d.touchMoveEvent,this.mouseMoveHandler),this.chart.off(c.d.touchEndEvent,this.mouseUpHandler))}},{key:"mouseUpHandler",value:function(){var e=this.chart;!e.isTouch||e.crosshair.enable||this.isSelected(e)||this.markerMove(!0)}},{key:"mouseMoveHandler",value:function(){var e=this.chart;e.crosshair.enable&&!e.tooltip.enable||e.isTouch&&!e.startMove||this.isSelected(e)||this.markerMove(!1)}},{key:"markerMove",value:function(e){var t,i,n,r,o=this,s=this.chart;if(this.currentPoints=[],s.tooltip.shared&&s.tooltip.enable){if(!At(s.mouseX,s.mouseY,s.chartAxisLayoutPanel.seriesClipRect))return null;if(s.tooltip.enable){var a="PolarRadar"===s.chartAreaType?this.getData():null,l=!0,h=!1,d=void 0;try{for(var u,p=s.visibleSeries[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var m=u.value;m.enableTooltip&&"Indicator"!==m.category&&("Cartesian"===s.chartAreaType&&m.visible?t=this.getClosestX(s,m):"PolarRadar"===s.chartAreaType&&m.visible&&null!==a.point&&(t=new Xi(m.points[a.point.index],m)),t&&(this.currentPoints.push(t),t=null))}}catch(w){h=!0,d=w}finally{try{l||null==p.return||p.return()}finally{if(h)throw d}}}}else t=this.getData(),r=t.series,i=this.previousPoints[0],n=r&&("Bubble"===r.type||"Scatter"===r.drawType||"Scatter"===r.type||"Candle"!==r.type&&"Hilo"!==r.type&&"HiloOpenClose"!==r.type&&r.marker.visible&&0!==r.marker.width&&0!==r.marker.height),t.lierIndex=this.lierIndex,t.point&&n&&(!i||i.point!==t.point||i&&i.lierIndex>3&&i.lierIndex!==this.lierIndex)&&this.currentPoints.push(t),t.point&&n&&s.isPointMouseDown&&this.currentPoints.push(t);var g=this.previousPoints.length;if(this.currentPoints.length>0&&(0===g||s.isPointMouseDown||g>0&&this.previousPoints[0].point!==this.currentPoints[0].point)){this.previousPoints.length>0&&this.removeHighlightedMarker();var v=!0,y=!1,f=void 0;try{for(var b,x=function(){var e=b.value;(e&&e.point||"Candle"!==r.type&&"Hilo"!==r.type&&"HiloOpenClose"!==r.type)&&(ii(o.markerExplode),o.isRemove=!0,e.point.symbolLocations.map((function(t,i){e.series.isRectSeries&&!e.point.marker.visible||o.drawTrackBall(e.series,e.point,t,i)})))},_=this.currentPoints[Symbol.iterator]();!(v=(b=_.next()).done);v=!0)x()}catch(w){y=!0,f=w}finally{try{v||null==_.return||_.return()}finally{if(y)throw f}}this.previousPoints=Object(c.J)([],this.currentPoints,null,!0)}s.tooltip.enable||!(0===this.currentPoints.length&&this.isRemove||e&&this.isRemove)&&At(s.mouseX,s.mouseY,s.chartAxisLayoutPanel.seriesClipRect)||(this.isRemove=!1,this.markerExplode=setTimeout((function(){o.removeHighlightedMarker()}),2e3)),this.currentPoints=[]}},{key:"drawTrackBall",value:function(e,t,i,n){var r,o=t.marker,s=e.marker,a=o.shape||s.shape,l=e.symbolElement||e.seriesElement;this.chart.highlightModule&&"None"!==this.chart.highlightMode&&(r=this.chart.highlightModule.generateStyle(e)),this.chart.selectionModule&&"None"!==this.chart.selectionMode&&(r=this.chart.selectionModule.generateStyle(e));for(var h=this.elementId+"_Series_"+e.index+"_Point_"+t.index+"_Trackball"+(n||""),d=new g((o.width||s.width)+5,(o.height||s.height)+5),u=o.border||e.border,p="BoxAndWhisker"===e.type||"Bubble"===e.type||"Scatter"===e.type,m=u.color&&"transparent"!==u.color?u.color:o.fill||t.interior||(p?t.color:e.interior),v=ai(li(m)),y=o.border?o.border.width:s.border.width,f=e.chart.themeStyle.markerShadow||"rgba("+v.r+","+v.g+","+v.b+",0.2)",b=0;b<2;b++){var x=new P(h+"_"+b,b?o.fill||t.color||(p?e.interior:"#ffffff"):"transparent",y+(b?0:8),b?m:f,o.opacity||s.opacity,null,null),_=Xt(i,a,d,s.imageUrl,x,0,this.chart.svgRenderer,e.clipRect);_.setAttribute("class","EJ2-Trackball");var w=-1!==l.id.indexOf("Symbol")?"_Symbol":"",C=document.getElementById(this.elementId+"_Series_"+e.index+"_Point_"+t.index+w);""===r||Object(c.W)(r)||Object(c.W)(C)||!C.hasAttribute("class")||r!==C.getAttribute("class")||_.classList.add(r),l.appendChild(_)}}},{key:"removeHighlightedMarker",value:function(){for(var e=document.getElementsByClassName("EJ2-Trackball"),t=0,i=e.length;t<i;t++)Object(c.gb)(e[0]);this.previousPoints=[]}}]),t}(Ui)),ln=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},hn=(Ti=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),ln([Object(c.s)(0)],Ti.prototype,"x",void 0),ln([Object(c.s)(0)],Ti.prototype,"y",void 0),Ti),cn=(Ri=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),ln([Object(c.s)(!0)],Ri.prototype,"visible",void 0),ln([Object(c.s)(null)],Ri.prototype,"height",void 0),ln([Object(c.s)(null)],Ri.prototype,"width",void 0),ln([Object(c.g)({x:0,y:0},hn)],Ri.prototype,"location",void 0),ln([Object(c.s)("Auto")],Ri.prototype,"position",void 0),ln([Object(c.s)(8)],Ri.prototype,"padding",void 0),ln([Object(c.s)("Center")],Ri.prototype,"alignment",void 0),ln([Object(c.g)(L.legendLabelFont,Ce)],Ri.prototype,"textStyle",void 0),ln([Object(c.s)(10)],Ri.prototype,"shapeHeight",void 0),ln([Object(c.s)(10)],Ri.prototype,"shapeWidth",void 0),ln([Object(c.g)({},ke)],Ri.prototype,"border",void 0),ln([Object(c.g)({left:0,right:0,top:0,bottom:0},Oe)],Ri.prototype,"margin",void 0),ln([Object(c.s)(5)],Ri.prototype,"shapePadding",void 0),ln([Object(c.s)("transparent")],Ri.prototype,"background",void 0),ln([Object(c.s)(1)],Ri.prototype,"opacity",void 0),ln([Object(c.s)(!0)],Ri.prototype,"toggleVisibility",void 0),ln([Object(c.s)(null)],Ri.prototype,"description",void 0),ln([Object(c.s)(3)],Ri.prototype,"tabIndex",void 0),Ri),dn=function e(t,i,n,r,o,s,a,l,h){_classCallCheck(this,e),this.location={x:0,y:0},this.text=t,this.fill=i,this.shape=n,this.visible=r,this.type=o,this.markerVisibility=a,this.markerShape=s,this.pointIndex=l,this.seriesIndex=h},un=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},pn=(ji=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).clipRect=new v(0,0,0,0),e}return _inherits(t,e),_createClass(t,[{key:"setDataSource",value:function(e,t){e&&(this.xData=e.xData,this.yData=e.yData,this.points=e.points),t[It(this.type)+"IndicatorModule"].initDataSource(this,t),t.visibleSeriesCount+=this.targetSeries.length}}]),t}(rn),un([Object(c.s)("Sma")],ji.prototype,"type",void 0),un([Object(c.s)(14)],ji.prototype,"period",void 0),un([Object(c.s)(14)],ji.prototype,"kPeriod",void 0),un([Object(c.s)(3)],ji.prototype,"dPeriod",void 0),un([Object(c.s)(80)],ji.prototype,"overBought",void 0),un([Object(c.s)(20)],ji.prototype,"overSold",void 0),un([Object(c.s)(2)],ji.prototype,"standardDeviation",void 0),un([Object(c.s)("Close")],ji.prototype,"field",void 0),un([Object(c.s)(12)],ji.prototype,"slowPeriod",void 0),un([Object(c.s)(26)],ji.prototype,"fastPeriod",void 0),un([Object(c.s)(!0)],ji.prototype,"showZones",void 0),un([Object(c.g)({color:"#ff9933",width:2},we)],ji.prototype,"macdLine",void 0),un([Object(c.s)("Both")],ji.prototype,"macdType",void 0),un([Object(c.s)("#2ecd71")],ji.prototype,"macdPositiveColor",void 0),un([Object(c.s)("#e74c3d")],ji.prototype,"macdNegativeColor",void 0),un([Object(c.s)("rgba(211,211,211,0.25)")],ji.prototype,"bandColor",void 0),un([Object(c.g)({color:"#ffb735",width:1},we)],ji.prototype,"upperLine",void 0),un([Object(c.g)({color:"#f2ec2f",width:1},we)],ji.prototype,"lowerLine",void 0),un([Object(c.g)({color:"#f2ec2f",width:1},we)],ji.prototype,"periodLine",void 0),un([Object(c.s)("")],ji.prototype,"seriesName",void 0),ji),mn=function(){function e(t){_classCallCheck(this,e),this.control=t}return _createClass(e,[{key:"print",value:function(e){this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);var t={cancel:!1,htmlContent:this.getHTMLContent(e),name:"beforePrint"};this.control.trigger("beforePrint",t),t.cancel||Object(c.fb)(t.htmlContent,this.printWindow)}},{key:"getHTMLContent",value:function(e){var t=Object(c.F)("div");if(e)if(e instanceof Array)for(var i=0;i<e.length;i++)t.appendChild(Yt(e[i]).cloneNode(!0));else e instanceof Element?t.appendChild(e.cloneNode(!0)):t.appendChild(Yt(e).cloneNode(!0));else t.appendChild(this.control.element.cloneNode(!0));return t}},{key:"export",value:function(e,t,i,n,r,o,s){var a=this,l=this.getControlsValue(n,s);r=r||l.width,o=o||l.height;var h,d=this.control.svgObject,u=this.control.enableCanvas;u||(d=Object(c.F)("canvas",{id:"ej2-canvas",attrs:{width:r.toString(),height:o.toString()}}));var p=!(c.d.userAgent.toString().indexOf("HeadlessChrome")>-1);i=Object(c.W)(i)?B.l.Landscape:i;var m=window.URL.createObjectURL(new Blob("SVG"===e?['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+l.svg.outerHTML+"</svg>"]:[(new XMLSerializer).serializeToString(l.svg)],{type:"image/svg+xml"}));if("SVG"===e)if("msie"===c.d.info.name){var g=new Blob([(new XMLSerializer).serializeToString(l.svg)],{type:"application/octet-stream"});window.navigator.msSaveOrOpenBlob(g,t+"."+e.toLocaleLowerCase())}else this.triggerDownload(t,e,m,p);else if("msie"===c.d.info.name){var v=d;u||(v=this.createCanvas()),h=v.toDataURL(),"PDF"===e?this.exportPdf(v,i,r,o,p,t):this.doexport(e,h,t)}else{var y=new Image,f=d.getContext("2d");y.onload=function(){f.drawImage(y,0,0),window.URL.revokeObjectURL(m),"PDF"===e?a.exportPdf(d,i,r,o,p,t):window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(d.msToBlob(),t+"."+e.toLocaleLowerCase()):a.triggerDownload(t,e,d.toDataURL("image/"+e.toLowerCase()),p)},y.src=m}u||ht(document.getElementById(this.control.element.id+"_canvas"))}},{key:"getDataUrl",value:function(e){var t=this.getControlsValue([e]),i=this.control.svgObject,n=this.control.enableCanvas;n||(i=Object(c.F)("canvas",{id:"ej2-canvas",attrs:{width:t.width.toString(),height:t.height.toString()}}));var r=window.URL.createObjectURL(new Blob([(new XMLSerializer).serializeToString(t.svg)],{type:"image/svg+xml"}));if("msie"===c.d.info.name){var o=i;n||(o=this.createCanvas());var s={name:"afterExport",cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger("afterExport",s),{element:o,dataUrl:o.toDataURL()}}var a=new Image,l=i.getContext("2d");return a.onload=function(){l.drawImage(a,0,0),window.URL.revokeObjectURL(r);var t={name:"afterExport",cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger("afterExport",t),t.dataUrl},a.src=r,{element:i,blobUrl:r}}},{key:"triggerDownload",value:function(e,t,i,n){Object(c.F)("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(n?"click":"move",{view:window,bubbles:!1,cancelable:!0}))}},{key:"getControlsValue",value:function(e,t){var i=0,n=0,r=this.control.enableCanvas,o=new d("").createSvg({id:"Svg_Export_Element",width:200,height:200});return e.map((function(e){var s=e.svgObject.cloneNode(!0),a=e.renderer.createGroup({style:Object(c.W)(t)||t?"transform: translateY("+n+"px)":"transform: translateX("+i+"px)"});r||a.appendChild(s),i=Object(c.W)(t)||t?Math.max(e.availableSize.width,i):i+e.availableSize.width,n=Object(c.W)(t)||t?n+e.availableSize.height:Math.max(e.availableSize.height,n),e.svgObject.outerHTML,r||o.appendChild(a)})),r||(o.setAttribute("width",i+""),o.setAttribute("height",n+"")),{width:i,height:n,svg:o}}},{key:"createCanvas",value:function(){var e=this.control;this.canvasRender(!0,e);var t=e.svgObject;return this.canvasRender(!1,e),t}},{key:"canvasRender",value:function(e,t){t.enableCanvas=e,t.preRender(),t.render()}},{key:"exportPdf",value:function(e,t,i,n,r,o){var s,a,l=new B.e,h=l.pageSettings.margins,c=l.pageSettings.width,d=l.pageSettings.height,u=e.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");l.pageSettings.orientation=t,s=c<i?i+h.left+h.right:c,a=d<n?n+h.top+h.bottom:d,l.pageSettings.size=new B.x(s,a),u=u.slice(u.indexOf(",")+1),l.pages.add().graphics.drawImage(new B.a(u),0,0,i,n),r&&(l.save(o+".pdf"),l.destroy())}},{key:"doexport",value:function(e,t,i){var n;n=[t],this.exportImage(n,i,e||"JPG",t)}},{key:"exportImage",value:function(e,t,i,n){for(var r=[],o=e instanceof HTMLElement?0:e.length,s=0;s<o;s++){for(var a=e[s].replace(/^data:[a-z]*;,/,"").split(","),l=atob(a[1]),h=new ArrayBuffer(l.length),d=new Uint8Array(h),u=0;u<l.length;u++)d[u]=l.charCodeAt(u);r.push(h)}for(var p=0;p<r.length;p++){var m=new Blob([r[p]],{type:"application/octet-stream"});"msie"===c.d.info.name&&window.navigator.msSaveOrOpenBlob(m,t+"."+i.toLocaleLowerCase())}}}]),e}(),gn=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},vn=(Ei=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),gn([Object(c.s)(!1)],Ei.prototype,"enable",void 0),gn([Object(c.s)("")],Ei.prototype,"dashArray",void 0),gn([Object(c.g)({color:null,width:1},ke)],Ei.prototype,"line",void 0),gn([Object(c.s)("Both")],Ei.prototype,"lineType",void 0),Ei),yn=(zi=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),gn([Object(c.s)(!1)],zi.prototype,"enableSelectionZooming",void 0),gn([Object(c.s)(!1)],zi.prototype,"enablePinchZooming",void 0),gn([Object(c.s)(!1)],zi.prototype,"enableMouseWheelZooming",void 0),gn([Object(c.s)(!0)],zi.prototype,"enableDeferredZooming",void 0),gn([Object(c.s)("XY")],zi.prototype,"mode",void 0),gn([Object(c.s)(["Zoom","ZoomIn","ZoomOut","Pan","Reset"])],zi.prototype,"toolbarItems",void 0),gn([Object(c.s)(!1)],zi.prototype,"enablePan",void 0),gn([Object(c.s)(!1)],zi.prototype,"enableScrollbar",void 0),zi),fn=(Ii=function(e){function t(e,i){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i))).animated=!1,n.isPointMouseDown=!1,n.isScrolling=!1,n.visible=0,n.clickCount=0,n.singleClickTimer=0,n.chartAreaType="Cartesian",n.chartid=57723,Object(c.pb)("mergePersistData",n.mergePersistChartData,_assertThisInitialized(n)),n}return _inherits(t,e),_createClass(t,[{key:"mergePersistChartData",value:function(){var e=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!Object(c.W)(e)&&""!==e){var t=JSON.parse(e),i=Object.keys(t);this.isProtectedOnChange=!0;for(var n=0,r=i;n<r.length;n++){var o=r[n];"object"!=typeof this[o]||Object(c.W)(this[o])?this[o]=t[o]:Object(c.J)(this[o],t[o])}this.isProtectedOnChange=!1}}},{key:"preRender",value:function(){this.isBlazor=window.Blazor,this.allowServerDataBinding=!1,this.unWireEvents(),this.initPrivateVariable(),this.setCulture(),this.wireEvents(),this.stockChart&&(null===this.stockChart.tooltip.header&&(this.tooltip.header="<b>${point.x}</b>"),null===this.stockChart.tooltip.format&&(this.tooltip.format="High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>",""!==this.stockChart.series[0].volume&&(this.tooltip.format+="<br/>Volume : <b>${point.volume}</b>")),this.animateSeries=!1)}},{key:"initPrivateVariable",value:function(){if(this.animateSeries=!0,this.delayRedraw=!1,this.horizontalAxes=[],this.verticalAxes=[],this.refreshAxis(),this.refreshDefinition(this.rows),this.refreshDefinition(this.columns),this.tooltipModule&&(this.tooltipModule.previousPoints=[]),""===this.element.id){var e=document.getElementsByClassName("e-chart").length;this.element.id="chart_"+this.chartid+"_"+e}this.svgId=this.stockChart?this.stockChart.element.id+"_stockChart_chart":this.element.id+(this.enableCanvas?"_canvas":"_svg")}},{key:"render",value:function(){var e=this;this.svgRenderer=new d(this.element.id);var t={chart:this.isBlazor?{}:this,theme:this.theme,name:"load",cancel:!1};this.stockChart?this.cartesianChartRendering(t):this.trigger("load",t,(function(){e.cartesianChartRendering(t)}))}},{key:"cartesianChartRendering",value:function(e){this.theme=this.isBlazor?e.theme:this.theme,this.createChartSvg(),this.setTheme(),this.markerRender=new an(this),this.calculateAreaType(),this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.calculateVisibleAxis(),this.processData(),this.renderComplete(),this.allowServerDataBinding=!0}},{key:"getLocalizedLabel",value:function(e){return this.localeObject.getConstant(e)}},{key:"animate",value:function(e){this.redraw=!0,this.animated=!0,this.duration=e||1e3}},{key:"refreshBound",value:function(){if(this.legendModule&&this.legendSettings.visible&&this.legendModule.getLegendOptions(this.visibleSeries,this),this.tooltip.enable&&this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.calculateStackValues(),this.calculateBounds(),this.stockChart&&!this.stockChart.rangeFound&&(this.stockChart.enablePeriodSelector||this.stockChart.enableSelector))return null;this.renderElements(),ht("chartmeasuretext"),this.removeSelection()}},{key:"calculateStackValues",value:function(){for(var e,t=!1,i=0,n=this.visibleSeries.length;i<n;i++)(e=this.visibleSeries[i]).position=e.rectCount=void 0,-1===e.type.indexOf("Stacking")&&(-1===e.drawType.indexOf("Stacking")||"PolarRadar"!==this.chartAreaType)||t||(e.calculateStackedValue(e.type.indexOf("100")>-1,this),t=!0)}},{key:"removeSelection",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,r=this.visibleSeries[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;if(o.visible){var s=!0,a=!1,l=void 0;try{for(var h,c=o.points[Symbol.iterator]();!(s=(h=c.next()).done);s=!0)h.value.isSelect=!1}catch(d){a=!0,l=d}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}}}}catch(d){t=!0,i=d}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}Yt(this.element.id+"_ej2_drag_multi_group")?(this.selectionMode.indexOf("Drag")>-1&&(this.selectionModule.filterArray=[]),ht(this.element.id+"_ej2_drag_multi_group"),this.selectionModule.calculateDragSelectedElements(this,new v(0,0,0,0),!0)):Yt(this.element.id+"_ej2_drag_group")&&("Lasso"!==this.selectionMode&&(this.selectionModule.filterArray=[]),ht(this.element.id+"_ej2_drag_group"),this.selectionModule.calculateDragSelectedElements(this,new v(0,0,0,0),!0))}},{key:"renderElements",value:function(){this.renderBorder(),this.renderTitle(),this.renderAreaBorder(),this.renderSeriesElements(this.renderAxes()),this.renderLegend(),this.applyZoomkit(),this.performSelection(),this.setSecondaryElementPosition();var e=!0,t=!1,i=void 0;try{for(var n,r=this.visibleSeries[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;Object(c.rb)(this.element.id+"_DataLabel","Template",o.marker.dataLabel)}}catch(s){t=!0,i=s}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}this.renderAnnotation()}},{key:"renderAxes",value:function(){var e;return this.yAxisElements=this.renderer.createGroup({id:this.element.id+"yAxisCollection"}),this.rows.length>0&&this.columns.length>0&&(e=this.chartAxisLayoutPanel.renderAxes()),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Behind",this.axisCollections),e}},{key:"renderLegend",value:function(){if(this.legendModule&&this.legendModule.legendCollections.length){this.legendModule.calTotalPage=!0;var e=this.legendSettings.border.width,t=this.legendModule.legendBounds,i=new v(t.x,t.y,t.width,t.height);this.enableCanvas&&(i=new v(i.x-e/2,i.y-e/2,i.width+e,i.height+e),this.renderer.canvasClip(i)),this.legendModule.renderLegend(this,this.legendSettings,t),this.enableCanvas&&this.renderer.canvasRestore()}this.redraw||(this.stockChart?Yt(this.stockChart.chartObject.id)||this.stockChart.mainObject.appendChild(this.svgObject):this.element.appendChild(this.svgObject))}},{key:"setSecondaryElementPosition",value:function(){var e=Yt(this.element.id+"_Secondary_Element");if(e){var t=this.element.getBoundingClientRect(),i=Yt(this.svgId).getBoundingClientRect();e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px"}}},{key:"initializeModuleElements",value:function(){this.dataLabelCollections=[];var e=this.element.id;this.series.length&&(this.seriesElements="Scatter"===this.series[0].type||"Bubble"===this.series[0].type?this.svgRenderer.createGroup({id:e+"SeriesCollection"}):this.renderer.createGroup({id:e+"SeriesCollection"})),this.indicators.length&&(this.indicatorElements=this.renderer.createGroup({id:e+"IndicatorCollection"})),this.hasTrendlines()&&(this.trendLineElements=this.renderer.createGroup({id:e+"TrendLineCollection"})),this.dataLabelElements=this.renderer.createGroup({id:e+"DataLabelCollection"})}},{key:"hasTrendlines",value:function(){var e,t=!0,i=!1,n=void 0;try{for(var r,o=this.series[Symbol.iterator]();!(t=(r=o.next()).done)&&!(e=!!r.value.trendlines.length);t=!0);}catch(s){i=!0,n=s}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}return e}},{key:"renderSeriesElements",value:function(e){this.initializeModuleElements();var t=this.element.id;if("g"!==this.element.tagName){var i=pi(this.redraw,t+"_Secondary_Element")||this.createElement("div");i.id=t+"_Secondary_Element",i.setAttribute("style","position: relative"),Kt(!1,this.element,i,this.redraw)}if(this.enableCanvas){var n=document.getElementById(t+"_Secondary_Element");n=n||this.createElement("div",{id:t+"_Secondary_Element",attrs:{style:"position: relative; left:0px; top:0px"}});var r=this.svgRenderer.createSvg({id:t+"_tooltip_svg",width:this.availableSize.width,height:this.availableSize.height});r.setAttribute("style","position: absolute; pointer-events: none"),n.appendChild(r)}this.tooltip.enable&&Kt(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:t+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.rows.length>0&&this.columns.length>0&&(this.initializeIndicator(),this.initializeTrendLine(),this.renderSeries(),this.appendElementsAfterSeries(e))}},{key:"renderSeries",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,r=this.visibleSeries[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;("TrendLine"===o.category?this.series[o.sourceIndex].trendlines[o.index].visible:o.visible)&&(this.visible++,jt(o),this.enableCanvas&&(this.renderCanvasSeries(o),this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect)),o.renderSeries(this),this.enableCanvas&&this.renderer.canvasRestore())}}catch(a){t=!0,i=a}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}if(this.visible=0,this.seriesElements){this.enableCanvas||this.seriesElements.appendChild(Vt(this.redraw,{id:this.element.id+"_ChartAreaClipRect_",x:this.chartAxisLayoutPanel.seriesClipRect.x,y:this.chartAxisLayoutPanel.seriesClipRect.y,width:this.chartAxisLayoutPanel.seriesClipRect.width,height:this.chartAxisLayoutPanel.seriesClipRect.height,fill:"transparent","stroke-width":1,stroke:"Gray"},this.renderer));var s=document.getElementById(this.element.id+"_series_svg");s?Kt(!1,s,this.seriesElements,this.redraw):Kt(this.enableCanvas,this.svgObject,this.seriesElements,this.redraw)}}},{key:"renderCanvasSeries",value:function(e){var t,i;if("Bubble"===e.type||"Scatter"===e.type){t=t||this.svgRenderer.createSvg({id:this.element.id+"_series_svg",width:this.availableSize.width,height:this.availableSize.height}),(i=i||this.createElement("div",{id:this.element.id+"_series"})).setAttribute("style","position: absolute");var n=document.getElementById(this.element.id+"_Secondary_Element");i.appendChild(t),n.appendChild(i)}t=!this.enableCanvas||"Bubble"!==e.type&&"Scatter"!==e.type?this.svgObject:t,(!this.enableCanvas||"Bubble"!==e.type&&"Scatter"!==e.type)&&this.enableCanvas}},{key:"initializeIndicator",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,r=this.indicators[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;this[It(o.type)+"IndicatorModule"]&&this[It(o.type)+"IndicatorModule"].createIndicatorElements(this,o,o.index)}}catch(s){t=!0,i=s}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}this.indicatorElements&&Kt(this.enableCanvas,this.svgObject,this.indicatorElements,this.redraw)}},{key:"initializeTrendLine",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,r=this.visibleSeries[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;o.trendlines.length&&this.trendLineModule.getTrendLineElements(o,this)}}catch(s){t=!0,i=s}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}this.trendLineElements&&Kt(this.enableCanvas,this.svgObject,this.trendLineElements,this.redraw)}},{key:"appendElementsAfterSeries",value:function(e){"PolarRadar"===this.chartAreaType&&Kt(this.enableCanvas,this.svgObject,this.yAxisElements,this.redraw),Kt(this.enableCanvas,this.svgObject,e,this.redraw),(this.zoomModule&&this.zoomSettings.enableScrollbar&&this.scrollElement.childElementCount||this.scrollElement&&this.scrollElement.childElementCount)&&Kt(!1,Yt(this.element.id+"_Secondary_Element"),this.scrollElement,this.redraw),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Over",this.axisCollections),this.tooltip.enable||Kt(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:this.element.id+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.stockChart&&this.stockChart.calculateStockEvents()}},{key:"applyZoomkit",value:function(){this.redraw||!this.zoomModule||this.zoomSettings.enablePan&&!this.zoomModule.performedUI||this.zoomModule.applyZoomToolkit(this,this.axisCollections)}},{key:"renderAnnotation",value:function(){this.annotationModule&&this.annotationModule.renderAnnotations(Yt((this.stockChart?this.stockChart.element.id:this.element.id)+"_Secondary_Element"))}},{key:"performSelection",value:function(){var e=[];this.selectionModule&&(e=Object(c.J)([],this.selectionModule.selectedDataIndexes,null,!0),this.selectionModule.invokeSelection(this)),this.highlightModule&&this.highlightModule.invokeHighlight(this),e.length>0&&(this.selectionModule.selectedDataIndexes=e,this.selectionModule.redrawSelection(this,this.selectionMode))}},{key:"processData",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.visibleSeriesCount=0;var t=!0,i=!0,n=!1,r=void 0;try{for(var o,s=this.visibleSeries[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;a.visible||this.legendSettings.visible?"Indicator"!==a.category&&"TrendLine"!==a.category&&this.initializeDataModule(a):this.visibleSeriesCount++}}catch(m){n=!0,r=m}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}var l=!0,h=!1,c=void 0;try{for(var d,u=this.indicators[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;p.dataSource&&(this.initializeDataModule(p),t=!1)}}catch(m){h=!0,c=m}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}e&&(!this.visibleSeries.length||this.visibleSeriesCount===this.visibleSeries.length&&t)&&(this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))}},{key:"initializeDataModule",value:function(e){e.xData=[],e.yData=[],e.dataModule=new sn(e.dataSource||this.dataSource,e.query),e.points=[],e.refreshDataManager(this)}},{key:"calculateBounds",value:function(){var e=this.margin,t=0,i=0,n=0,r=e.left,o=this.availableSize.width-r-e.right-this.border.width;if(this.titleCollection=[],this.subTitleCollection=[],this.title&&(this.titleCollection=fi(this.title,this.titleStyle,o),t=p(this.title,this.titleStyle).height*this.titleCollection.length+15,this.subTitle)){var s=0,a=!0,l=!1,h=void 0;try{for(var c,d=this.titleCollection[Symbol.iterator]();!(a=(c=d.next()).done);a=!0)s=(n=p(c.value,this.titleStyle).width)>s?n:s}catch(m){l=!0,h=m}finally{try{a||null==d.return||d.return()}finally{if(l)throw h}}this.subTitleCollection=fi(this.subTitle,this.subTitleStyle,s),i=p(this.subTitle,this.subTitleStyle).height*this.subTitleCollection.length+15}var u=e.top+i+t+.5*this.chartArea.border.width;this.initialClipRect=new v(r,u,o,this.availableSize.height-u-this.border.width-e.bottom),this.legendModule&&this.legendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null),this.chartAxisLayoutPanel.measureAxis(this.initialClipRect)}},{key:"print",value:function(e){new mn(this).print(e)}},{key:"initTrendLines",value:function(){this.isProtectedOnChange=!0;var e=!0,t=!1,i=void 0;try{for(var n,r=this.visibleSeries[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value,s=0,a=!0,l=!1,h=void 0;try{for(var c,d=o.trendlines[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;It(u.type),this.trendLineModule&&(u.index=s,u.sourceIndex=o.index,this.trendLineModule.initSeriesCollection(u,this),u.targetSeries&&(u.targetSeries.xAxisName=o.xAxisName,u.targetSeries.yAxisName=o.yAxisName,this.visibleSeries.push(u.targetSeries))),s++}}catch(p){l=!0,h=p}finally{try{a||null==d.return||d.return()}finally{if(l)throw h}}}}catch(p){t=!0,i=p}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}this.isProtectedOnChange=!1}},{key:"calculateAreaType",value:function(){var e=this.series[0];this.chartArea.border.width=this.stockChart?0:this.chartArea.border.width,e&&(this.requireInvertedAxis=-1!==e.type.indexOf("Bar")&&!this.isTransposed||-1===e.type.indexOf("Bar")&&this.isTransposed&&"PolarRadar"!==this.chartAreaType),this.chartAxisLayoutPanel="PolarRadar"===this.chartAreaType?this.polarSeriesModule||this.radarSeriesModule:new Yi(this)}},{key:"calculateVisibleAxis",value:function(){var e,t=[this.primaryXAxis,this.primaryYAxis];t="Cartesian"===this.chartAreaType?t.concat(this.axes):t,this.paretoSeriesModule&&"Pareto"===this.series[0].type&&(t=t.concat(this.paretoSeriesModule.paretoAxes)),this.axisCollections=[],this.zoomModule&&(this.zoomModule.isPanning=this.zoomModule.isAxisZoomed(t)&&this.zoomSettings.enablePan,this.svgObject.setAttribute("cursor",this.zoomModule.isPanning?"pointer":"auto"),this.scrollBarModule&&(this.scrollBarModule.axes=t)),this.scrollSettingEnabled&&this.scrollBarModule&&(this.scrollBarModule.axes=t);for(var i=0,n=t.length;i<n;i++){(e=t[i]).series=[],e.labels=[];var r=!0,o=!1,s=void 0;try{for(var a,l=this.visibleSeries[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;this.initAxis(h,e,!0)}}catch(v){o=!0,s=v}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}var c=!0,d=!1,u=void 0;try{for(var p,m=this.indicators[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var g=p.value;this.initAxis(g,e,!1)}}catch(v){d=!0,u=v}finally{try{c||null==m.return||m.return()}finally{if(d)throw u}}this.scrollBarModule&&!e.zoomingScrollBar&&this.scrollBarModule.injectTo(e,this),null!=e.orientation&&this.axisCollections.push(e)}this.rows.length>0&&this.columns.length>0&&this.chartAxisLayoutPanel.measure()}},{key:"initAxis",value:function(e,t,i){e.xAxisName===t.name||null==e.xAxisName&&"primaryXAxis"===t.name?(t.orientation=this.requireInvertedAxis?"Vertical":"Horizontal",e.xAxis=t,i&&t.series.push(e)):(e.yAxisName===t.name||null==e.yAxisName&&"primaryYAxis"===t.name)&&(t.orientation=this.requireInvertedAxis?"Horizontal":"Vertical",e.yAxis=t,i&&t.series.push(e))}},{key:"initTechnicalIndicators",value:function(){var e=0,t=!0,i=!1,n=void 0;try{for(var r,o=this.indicators[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value,a=s,l=It(a.type);if(this[l+"IndicatorModule"]){a.index=e,this[l+"IndicatorModule"].initSeriesCollection(a,this);var h=!0,c=!1,d=void 0;try{for(var u,p=a.targetSeries[Symbol.iterator]();!(h=(u=p.next()).done);h=!0){var m=u.value;(s.seriesName||s.dataSource)&&this.visibleSeries.push(m)}}catch(g){c=!0,d=g}finally{try{h||null==p.return||p.return()}finally{if(c)throw d}}}e++}}catch(g){i=!0,n=g}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"refreshTechnicalIndicator",value:function(e){if(this.indicators.length)if(e instanceof on&&"Indicator"!==e.category){var t=!0,i=!1,n=void 0;try{for(var r,o=this.indicators[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;s.seriesName!==e.name||s.dataSource||s.setDataSource(e,this)}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}}else e instanceof pn&&e.setDataSource(e instanceof on?e:null,this)}},{key:"calculateVisibleSeries",value:function(){var e,t;this.visibleSeries=[];for(var i=this.palettes.length?this.palettes:H(this.theme),n=i.length,r=0,o=(t=this.series.sort((function(e,t){return e.zOrder-t.zOrder}))).length;r<o;r++){switch((e=t[r]).category="Pareto"===t[0].type?"Pareto":"Series",e.index=r,e.interior=e.fill||i[r%n],e.type){case"Bar":case"StackingBar":case"StackingBar100":if(-1===t[0].type.indexOf("Bar"))continue;break;case"Polar":case"Radar":if("PolarRadar"!==this.chartAreaType)continue;if("PolarRadar"===this.chartAreaType&&(null===e.xAxisName&&null!==e.yAxisName||null!==e.xAxisName&&null===e.yAxisName||null!==e.xAxisName&&null!==e.yAxisName))continue;break;case"Pareto":this.visibleSeries.push(e),this.paretoSeriesModule.initSeries(e,this);continue;default:if("PolarRadar"===this.chartAreaType||t[0].type.indexOf("Bar")>-1)continue}this.visibleSeries.push(e),t[r]=e}}},{key:"renderTitle",value:function(){var e,t=this.margin;if(this.title){var i=this.titleStyle.textAlignment,n="Near"===i?"start":"Far"===i?"end":"middle",r=p(this.title,this.titleStyle);e=new v(t.left,0,this.availableSize.width-t.left-t.right,0);var o=new b(this.element.id+"_ChartTitle",bi(e,this.titleStyle),this.margin.top+3*r.height/4,n,this.titleCollection,"","auto"),s=pi(this.redraw,this.element.id+"_ChartTitle",o,this.renderer)||gi(this.renderer,o,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject);s&&(s.setAttribute("aria-label",this.description||this.title),s.setAttribute("tabindex",this.tabIndex.toString())),this.subTitle&&this.renderSubTitle(o)}}},{key:"renderSubTitle",value:function(e){var t,i=0,n=0,r=this.titleStyle.textAlignment,o=!0,s=!1,a=void 0;try{for(var l,h=this.titleCollection[Symbol.iterator]();!(o=(l=h.next()).done);o=!0)i=(n=p(l.value,this.titleStyle).width)>i?n:i}catch(m){s=!0,a=m}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}var c=p(this.subTitle,this.subTitleStyle);t=new v("Center"===r?e.x-.5*i:"Far"===r?e.x-i:e.x,0,i,0);var d=new b(this.element.id+"_ChartSubTitle",bi(t,this.subTitleStyle),e.y*e.text.length+3*c.height/4+10,function(e){return"Near"===e?"start":"Far"===e?"end":"middle"}(this.subTitleStyle.textAlignment),this.subTitleCollection,"","auto"),u=pi(this.redraw,this.element.id+"_ChartSubTitle",d,this.renderer)||gi(this.renderer,d,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartTitle,this.svgObject);u&&(u.setAttribute("aria-label",this.description||this.subTitle),u.setAttribute("tabindex",this.tabIndex.toString()))}},{key:"renderBorder",value:function(){var e=this.border.width,t=this.backgroundImage,i=new Bi(this.element.id+"_ChartBorder",t?"transparent":this.background||this.themeStyle.background,this.border,1,new v(.5*e,.5*e,this.availableSize.width-e,this.availableSize.height-e));if(this.htmlObject=pi(this.redraw,this.element.id+"_ChartBorder",i,this.renderer)||this.renderer.drawRectangle(i),Kt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw),t){var n=new Ni(this.availableSize.height-e,this.availableSize.width-e,t,0,0,this.element.id+"_ChartBackground","visible","none");this.htmlObject=pi(this.redraw,this.element.id+"_ChartBackground",n,this.renderer)||this.renderer.drawImage(n),Kt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw)}}},{key:"renderAreaBorder",value:function(){if("PolarRadar"===this.chartAreaType)return null;var e=Yt(this.element.id+"_ChartAreaBorder"),t=e?new v(+e.getAttribute("x"),+e.getAttribute("y"),+e.getAttribute("width"),+e.getAttribute("height")):null,i=new Bi(this.element.id+"_ChartAreaBorder",this.chartArea.background,{width:this.chartArea.border.width,color:this.chartArea.border.color||this.themeStyle.areaBorder},this.chartArea.opacity,this.chartAxisLayoutPanel.seriesClipRect);this.htmlObject=this.renderer.drawRectangle(i),Kt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0,t),this.htmlObject=null;var n=this.chartArea.backgroundImage;if(n){var r=this.chartArea.border.width,o=new Ni(this.initialClipRect.height-r,this.initialClipRect.width-r,n,this.initialClipRect.x,this.initialClipRect.y,this.element.id+"_ChartAreaBackground","visible","none");this.htmlObject=this.renderer.drawImage(o),Kt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0)}}},{key:"addSeries",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;s=new on(this,"series",s),this.series.push(s)}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}this.refresh()}},{key:"removeSeries",value:function(e){this.redraw=!1,this.series.splice(e,1),this.refresh()}},{key:"clearSeries",value:function(){this.series=[],this.refresh()}},{key:"destroy",value:function(){this.scrollBarModule&&this.scrollBarModule.destroy(),this.markerRender&&(this.markerRender.removeEventListener(),this.markerRender=null),this.horizontalAxes=[],this.verticalAxes=[],this.visibleSeries=[],this.axisCollections=[],this.seriesElements=null,this.chartAxisLayoutPanel=null,this.dataLabelCollections=null,this.dataLabelElements=null,this.yAxisElements=null,this.element&&(this.unWireEvents(),_get(_getPrototypeOf(t.prototype),"destroy",this).call(this),this.enableCanvas||(this.removeSvg(),this.svgObject=null))}},{key:"getModuleName",value:function(){return"chart"}},{key:"getPersistData",value:function(){return this.addOnPersist(["loaded","animationComplete","primaryXAxis","primaryYAxis"])}},{key:"createChartSvg",value:function(){this.removeSvg(),yi(this)}},{key:"unWireEvents",value:function(){var e=c.d.touchMoveEvent,t=c.d.touchEndEvent,i=c.d.isPointer?"pointerleave":"mouseleave";c.l.remove(this.element,c.d.touchStartEvent,this.chartOnMouseDown),c.l.remove(this.element,e,this.mouseMove),c.l.remove(this.element,t,this.mouseEnd),c.l.remove(this.element,"click",this.chartOnMouseClick),c.l.remove(this.element,"contextmenu",this.chartRightClick),c.l.remove(this.element,i,this.mouseLeave),window.removeEventListener(c.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)}},{key:"wireEvents",value:function(){if(this.element){var e=c.d.isPointer?"pointerleave":"mouseleave";c.l.add(this.element,c.d.touchStartEvent,this.chartOnMouseDown,this),c.l.add(this.element,c.d.touchMoveEvent,this.mouseMove,this),c.l.add(this.element,c.d.touchEndEvent,this.mouseEnd,this),c.l.add(this.element,"click",this.chartOnMouseClick,this),c.l.add(this.element,"contextmenu",this.chartRightClick,this),c.l.add(this.element,e,this.mouseLeave,this),this.resizeBound=this.chartResize.bind(this),window.addEventListener(c.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.longPressBound=this.longPress.bind(this),this.touchObject=new c.u(this.element,{tapHold:this.longPressBound,tapHoldThreshold:500}),this.setStyle(this.element)}}},{key:"chartRightClick",value:function(e){return!this.crosshair.enable||!this.crosshairModule||2!==e.buttons&&0!==e.which&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)}},{key:"setStyle",value:function(e){var t=this.zoomSettings,i=t.enableSelectionZooming||t.enablePinchZooming||"None"!==this.selectionMode||this.crosshair.enable||"None"!==this.highlightMode;e.style.touchAction=i?"none":"element",e.style.msTouchAction=i?"none":"element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block",e.style.overflow="hidden"}},{key:"isOrientation",value:function(){return"orientation"in window&&"onorientationchange"in window}},{key:"longPress",value:function(e){return this.mouseX=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientX:0,this.mouseY=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientY:0,this.startMove=!0,this.setMouseXY(this.mouseX,this.mouseY),this.notify("tapHold",e),!1}},{key:"setMouseXY",value:function(e,t){var i=Yt(this.svgId).getBoundingClientRect(),n=this.element.getBoundingClientRect();this.mouseY=t-n.top-Math.max(i.top-n.top,0),this.mouseX=e-n.left-Math.max(i.left-n.left,0)}},{key:"export",value:function(e,t){this.exportModule&&(this.exportModule.export(e,t),this.afterExport&&this.exportModule.getDataUrl(this))}},{key:"chartResize",value:function(e){var t=this;this.animateSeries=!1;var i={chart:this.isBlazor?{}:this,name:"resized",currentSize:new g(0,0),previousSize:new g(this.availableSize.width,this.availableSize.height)};return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout((function(){t.isDestroyed||t.stockChart?clearTimeout(t.resizeTo):(t.createChartSvg(),i.currentSize=t.availableSize,t.trigger("resized",i),t.refreshAxis(),t.refreshBound(),t.trigger("loaded",{chart:t.isBlazor?{}:t}))}),500),!1}},{key:"mouseMove",value:function(e){var t,i,n;return"touchmove"===e.type?(this.isTouch=!0,t=(n=e).changedTouches[0].clientX,i=n.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType||this.isTouch,t=e.clientX,i=e.clientY),Yt(this.svgId)&&(this.setMouseXY(t,i),this.chartOnMouseMove(e)),!1}},{key:"mouseLeave",value:function(e){var t,i,n;return"touchleave"===e.type?(this.isTouch=!0,t=(n=e).changedTouches[0].clientX,i=n.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,t=e.clientX,i=e.clientY),this.setMouseXY(t,i),this.chartOnMouseLeave(e),!1}},{key:"chartOnMouseLeave",value:function(e){var t=c.d.isPointer?"pointerleave":"mouseleave";return this.trigger("chartMouseLeave",{target:e.target.id,x:this.mouseX,y:this.mouseY}),ht(this.element.id+"_EJ2_AxisLabel_Tooltip"),this.isChartDrag=this.isPointMouseDown=!1,this.notify(t,e),!1}},{key:"chartOnMouseClick",value:function(e){var t=this;return this.trigger("chartMouseClick",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.clickCount++,1===this.clickCount&&this.pointClick?this.singleClickTimer=+setTimeout((function(){t.clickCount=0,t.triggerPointEvent("pointClick")}),400):2===this.clickCount&&this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.triggerPointEvent("pointDoubleClick")),this.notify("click",e),!1}},{key:"triggerPointEvent",value:function(e){var t=new Ui(this).getData();t.series&&t.point&&this.trigger(e,{series:this.isBlazor?{}:t.series,point:t.point,seriesIndex:t.series.index,pointIndex:t.point.index,x:this.mouseX,y:this.mouseY})}},{key:"chartOnMouseMove",value:function(e){return this.trigger("chartMouseMove",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent("pointMove"),this.isTouch||(this.titleTooltip(e,this.mouseX,this.mouseY),this.axisTooltip(e,this.mouseX,this.mouseY)),this.dataEditingModule&&this.dataEditingModule.pointMouseMove(e),this.notify(c.d.touchMoveEvent,e),this.isTouch=!1,!1}},{key:"titleTooltip",value:function(e,t,i,n){var r=e.target.id,o=r===this.element.id+"_ChartTitle"||r===this.element.id+"_ChartSubTitle"||r.indexOf("_AxisTitle")>-1,s=0;r.indexOf("_AxisTitle")>-1&&(s=parseInt(r.replace(this.element.id,"").replace("AxisLabel_","").split("_")[2],10)),o&&e.target.textContent.indexOf("...")>-1?dt(r===this.element.id+"_ChartTitle"?this.title:r.indexOf("_AxisTitle")>-1?this.axisCollections[s].title:this.subTitle,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",Yt(this.element.id+"_Secondary_Element"),n):ht(this.element.id+"_EJ2_Title_Tooltip")}},{key:"axisTooltip",value:function(e,t,i,n){var r=e.target.id;(r.indexOf("AxisLabel")>-1||r.indexOf("Axis_MultiLevelLabel")>-1)&&e.target.textContent.indexOf("...")>-1?dt(this.findAxisLabel(r),t,i,this.element.offsetWidth,this.element.id+"_EJ2_AxisLabel_Tooltip",Yt(this.element.id+"_Secondary_Element"),n):ht(this.element.id+"_EJ2_AxisLabel_Tooltip")}},{key:"findAxisLabel",value:function(e){var t;return e.indexOf("AxisLabel")>-1?(t=e.replace(this.element.id,"").replace("AxisLabel_","").split("_"),this.axisCollections[parseInt(t[0],10)].visibleLabels[parseInt(t[1],10)].originalText):(t=e.replace(this.element.id,"").replace("Axis_MultiLevelLabel_Level_","").replace("Text_","").split("_"),this.axisCollections[parseInt(t[0],10)].multiLevelLabels[parseInt(t[1],10)].categories[parseInt(t[2],10)].text)}},{key:"chartOnMouseDown",value:function(e){var t,i,n,r,o=c.d.isDevice?20:30,s=this.element.getBoundingClientRect();this.trigger("chartMouseDown",{target:e.target.id,x:this.mouseX,y:this.mouseY}),"touchstart"===e.type?(this.isTouch=!0,t=(r=e).changedTouches[0].clientX,i=r.changedTouches[0].clientY,n=r.target):(this.isTouch="touch"===e.pointerType,t=e.clientX,i=e.clientY,n=e.target);var a=Yt(this.svgId).getBoundingClientRect();return this.mouseDownX=this.previousMouseMoveX=t-s.left-Math.max(a.left-s.left,0),this.mouseDownY=this.previousMouseMoveY=i-s.top-Math.max(a.top-s.top,0),this.isTouch&&(this.isDoubleTap=(new Date).getTime()<this.threshold&&-1===n.id.indexOf(this.element.id+"_Zooming_")&&(this.mouseDownX-o>=this.mouseX||this.mouseDownX+o>=this.mouseX)&&(this.mouseDownY-o>=this.mouseY||this.mouseDownY+o>=this.mouseY)&&(this.mouseX-o>=this.mouseDownX||this.mouseX+o>=this.mouseDownX)&&(this.mouseY-o>=this.mouseDownY||this.mouseY+o>=this.mouseDownY)),this.dataEditingModule&&this.dataEditingModule.pointMouseDown(),this.notify(c.d.touchStartEvent,e),!1}},{key:"mouseEnd",value:function(e){var t,i,n;return"touchend"===e.type?(i=(n=e).changedTouches[0].clientX,this.isTouch=!0,t=n.changedTouches[0].clientY):(t=e.clientY,i=e.clientX,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),this.setMouseXY(i,t),this.chartOnMouseUp(e),!1}},{key:"chartOnMouseUp",value:function(e){return this.trigger("chartMouseUp",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isChartDrag=!1,this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.axisTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.threshold=(new Date).getTime()+300),this.dataEditingModule&&this.dataEditingModule.pointMouseUp(),this.enableCanvas||this.seriesElements.removeAttribute("clip-path"),this.notify(c.d.touchEndEvent,e),!1}},{key:"setCulture",value:function(){this.intl=new c.n,this.setLocaleConstants(),this.localeObject=new c.p(this.getModuleName(),this.defaultLocalConstants,this.locale)}},{key:"setAnnotationValue",value:function(e,t){var i,n=Yt(this.element.id+"_Annotation_Collections"),r=this.annotations[e];null!==t&&(r.content=t,n?(ht(this.element.id+"_Annotation_"+e),i=this.createElement("div"),this.annotationModule.processAnnotation(r,e,i),n.appendChild(i.children[0])):this.annotationModule.renderAnnotations(Yt(this.element.id+"_Secondary_Element")))}},{key:"setLocaleConstants",value:function(){this.defaultLocalConstants={ZoomIn:"ZoomIn",Zoom:"Zoom",ZoomOut:"ZoomOut",Pan:"Pan",Reset:"Reset",ResetZoom:"Reset Zoom"}}},{key:"setTheme",value:function(){this.themeStyle=Z(this.theme)}},{key:"requiredModules",value:function(){var e,t,i=this,n=[],r=this.series,o=!1,s=!1,a=!1,l=this.zoomSettings;return this.chartAreaType=r.length>0&&("Polar"===r[0].type||"Radar"===r[0].type)?"PolarRadar":"Cartesian",this.tooltip.enable&&n.push({member:"Tooltip",args:[this]}),r.map((function(t){i.isLegend=i.legendSettings.visible&&(""!==t.name||!!i.isLegend),e=-1!==t.type.indexOf("100")?t.type.replace("100","")+"Series":t.type+"Series",o=t.errorBar.visible||o,a=t.marker.dataLabel.visible||a,s=t.dragSettings.enable||s,n.some((function(t){return t.member===e}))||n.push({member:e,args:[i,r]}),"PolarRadar"===i.chartAreaType&&n.push({member:t.drawType+"Series",args:[i,r]}),"Pareto"===t.type&&(n.push({member:"ColumnSeries",args:[i,r]}),n.push({member:"LineSeries",args:[i,r]}))})),this.findIndicatorModules(n),this.findTrendLineModules(n),n=this.findAxisModule(n),t=this.annotations.some((function(e){return null!==e.content})),o&&n.push({member:"ErrorBar",args:[this,r]}),this.isLegend&&n.push({member:"Legend",args:[this]}),this.enableExport&&n.push({member:"Export",args:[this]}),"PolarRadar"!==this.chartAreaType&&!this.scrollSettingEnabled&&(l.enableSelectionZooming||l.enableMouseWheelZooming||l.enablePinchZooming||l.enablePan)&&(n.push({member:"Zoom",args:[this,this.zoomSettings]}),l.enableScrollbar&&n.push({member:"ScrollBar",args:[this]})),"None"===this.selectionMode||"PolarRadar"===this.chartAreaType&&this.selectionMode.indexOf("Drag")>-1||n.push({member:"Selection",args:[this]}),"None"!==this.highlightMode&&n.push({member:"Highlight",args:[this]}),a&&n.push({member:"DataLabel",args:[this,r]}),s&&n.push({member:"DataEditing",args:[this]}),t&&n.push({member:"Annotation",args:[this]}),"PolarRadar"!==this.chartAreaType&&this.crosshair.enable&&n.push({member:"Crosshair",args:[this]}),n}},{key:"findAxisModule",value:function(e){var t=[];t.push(this.primaryXAxis),t.push(this.primaryYAxis),t=t.concat(this.axes);var i=!1,n=!1,r=!1,o=!1,s=!1,a=!1,l=!0,h=!1,c=void 0;try{for(var d,u=t[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;i="DateTime"===p.valueType||i,n="Category"===p.valueType||n,r="Logarithmic"===p.valueType||r,s="DateTimeCategory"===p.valueType||s,o=this.findStriplineVisibility(p.stripLines)||o,a=p.multiLevelLabels.length>0||a,this.scrollSettingEnabled=!!p.scrollbarSettings.enable||this.scrollSettingEnabled}}catch(m){h=!0,c=m}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}return i&&e.push({member:"DateTime",args:[this]}),n&&e.push({member:"Category",args:[this]}),r&&e.push({member:"Logarithmic",args:[this]}),o&&e.push({member:"StripLine",args:[this]}),a&&e.push({member:"MultiLevelLabel",args:[this]}),s&&e.push({member:"DateTimeCategory",args:[this]}),this.scrollSettingEnabled&&e.push({member:"ScrollBar",args:[this]}),e}},{key:"findIndicatorModules",value:function(e){var t,i,n=this.indicators;if(this.indicators.length){e.push({member:"LineSeries",args:[this]}),n.map((function(e){t=t||"Macd"===e.type,i=i||"BollingerBands"===e.type})),t&&e.push({member:"ColumnSeries",args:[this]}),i&&e.push({member:"RangeAreaSeries",args:[this]});var r=!0,o=!1,s=void 0;try{for(var a,l=this.indicators[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;e.push({member:h.type+"Indicator",args:[this]})}}catch(c){o=!0,s=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}}},{key:"findTrendLineModules",value:function(e){var t,i,n=this,r=!0,o=!1,s=void 0;try{for(var a,l=function(){var r=a.value,o=void 0;r.trendlines.map((function(e){o=o||e.marker.visible,t=!(!t&&"Linear"!==e.type&&"MovingAverage"!==e.type),i=!(!i&&t)})),o&&e.push({member:"Marker",args:[n,r]})},h=this.series[Symbol.iterator]();!(r=(a=h.next()).done);r=!0)l()}catch(c){o=!0,s=c}finally{try{r||null==h.return||h.return()}finally{if(o)throw s}}(t||i)&&e.push({member:"TrendLine",args:[this]}),t&&e.push({member:"LineSeries",args:[this]}),i&&e.push({member:"SplineSeries",args:[this]})}},{key:"findStriplineVisibility",value:function(e){var t=!1,i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(o.value.visible){t=!0;break}}catch(a){n=!0,r=a}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}return t}},{key:"removeSvg",value:function(){if(this.redraw)return null;if(wi(this),this.enableCanvas&&this.svgObject&&"CANVAS"===this.svgObject.tagName)return this.renderer.clearRect(new v(0,0,this.availableSize.width,this.availableSize.height)),Object(c.gb)(this.svgObject),null;ht(this.element.id+"_Secondary_Element");var e=0;if(this.zoomModule&&this.zoomModule.pinchTarget&&(this.zoomModule.pinchTarget.id="",this.zoomModule.pinchTarget.setAttribute("opacity","0"),this.svgObject.appendChild(this.zoomModule.pinchTarget),e=1),this.svgObject){for(;this.svgObject.childNodes.length>e;)this.svgObject.removeChild(this.svgObject.firstChild);this.svgObject.hasChildNodes()||!this.svgObject.parentNode||this.stockChart||Object(c.gb)(this.svgObject)}}},{key:"refreshDefinition",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.axes=[]}catch(s){i=!0,n=s}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"refreshAxis",value:function(){var e=this.primaryXAxis;e.rect=new v(void 0,void 0,0,0),(e=this.primaryYAxis).isStack100=!1,e.rect=new v(void 0,void 0,0,0);var t=!0,i=!1,n=void 0;try{for(var r,o=this.axes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)(e=r.value).rect=new v(void 0,void 0,0,0),e.isStack100=!1}catch(d){i=!0,n=d}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}if(this.paretoSeriesModule&&"Pareto"===this.series[0].type){var s=!0,a=!1,l=void 0;try{for(var h,c=this.paretoSeriesModule.paretoAxes[Symbol.iterator]();!(s=(h=c.next()).done);s=!0)(e=h.value).rect=new v(void 0,void 0,0,0),e.isStack100=!1}catch(d){a=!0,l=d}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}}}},{key:"axisChange",value:function(e){return!(!e.name&&!e.valueType||(this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(),0))}},{key:"getVisibleSeries",value:function(e,t){var i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;if(t===a.index)return a}}catch(l){n=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}return null}},{key:"refreshLiveData",value:function(){this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),this.isBlazor||(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))}},{key:"removeStyles",value:function(){ht(this.element.id+"_ej2_chart_selection"),ht(this.element.id+"_ej2_chart_highlight")}},{key:"onPropertyChanged",value:function(e,i){var n=!1,r=!1;if((1!==Object.keys(e).length||"indicators"!==Object.keys(e)[0])&&(this.animateSeries=!1,!this.delayRedraw)){for(var o=0,s=Object.keys(e);o<s.length;o++)switch(s[o]){case"primaryXAxis":r=this.axisChange(e.primaryXAxis),e.primaryXAxis.edgeLabelPlacement&&(n=!0),e.primaryXAxis.crosshairTooltip||(r=!0);break;case"primaryYAxis":r=this.axisChange(e.primaryYAxis),e.primaryYAxis.edgeLabelPlacement&&(n=!0),e.primaryYAxis.crosshairTooltip||(r=!0);break;case"axes":for(var a=0,l=Object.keys(e.axes);a<l.length;a++){var h=l[a];r=r||this.axisChange(e.axes[h]),e.axes[h].crosshairTooltip||(r=!0)}break;case"height":case"width":this.createChartSvg(),r=!0;break;case"subTitle":case"title":r=!0;break;case"titleStyle":e.titleStyle&&(e.titleStyle.size||e.titleStyle.textOverflow)?r=!0:n=!0;break;case"subTitleStyle":e.subTitleStyle&&(e.subTitleStyle.size||e.subTitleStyle.textOverflow)?r=!0:n=!0;break;case"border":n=!0;break;case"dataSource":this.processData(!1),r=!0;break;case"enableCanvas":this.refresh();break;case"series":for(var d=void 0,u=void 0,p=this.series.length,m=!1,g=0;g<p;g++)d=e.series[g],this.isBlazor&&d&&(d.visible!==i.series[g].visible||d.isClosed||d.marker||d.emptyPointSettings||d.type||d.boxPlotMode||d.showMean)&&(u=!0),d&&(d.dataSource||d.query||d.errorBar||d.xName||d.yName||d.size||d.high||d.low||d.open||d.close||d.fill||d.name||u)&&(Object(c.J)(this.getVisibleSeries(this.visibleSeries,g),d,null,!0),m=!0);m&&(this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),r=!0);break;case"zoomSettings":(e.zoomSettings.enableScrollbar||i.zoomSettings.enableScrollbar)&&(r=!0),n=!0;break;case"background":n=!0;break;case"chartArea":e.chartArea.border&&e.chartArea.border.width&&(r=!0),n=!0;break;case"legendSettings":e.legendSettings.background&&e.legendSettings.opacity||(r=!0),n=!0;break;case"palettes":this.calculateVisibleSeries(),n=!0;break;case"selectedDataIndexes":case"selectionMode":this.selectionModule&&e.selectionMode&&-1===e.selectionMode.indexOf("Drag")&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode));break;case"isMultiSelect":this.selectionModule&&!e.isMultiSelect&&this.selectionModule.selectedDataIndexes.length>1&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode));break;case"highlightMode":case"selectionPattern":case"highlightPattern":this.removeStyles(),n=!0;break;case"theme":this.animateSeries=!0;break;case"locale":case"currencyCode":_get(_getPrototypeOf(t.prototype),"refresh",this).call(this);break;case"tooltip":this.tooltipModule&&(this.tooltipModule.previousPoints=[])}!r&&n&&(this.removeSvg(),this.renderElements(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),r&&(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}),this.redraw=!1,this.animated=!1)}}}]),t}(c.h),gn([Object(c.s)(null)],Ii.prototype,"width",void 0),gn([Object(c.s)(null)],Ii.prototype,"height",void 0),gn([Object(c.s)("")],Ii.prototype,"title",void 0),gn([Object(c.s)("")],Ii.prototype,"dataSource",void 0),gn([Object(c.g)(L.chartTitleFont,Ce)],Ii.prototype,"titleStyle",void 0),gn([Object(c.s)("")],Ii.prototype,"subTitle",void 0),gn([Object(c.g)(L.chartSubTitleFont,Ce)],Ii.prototype,"subTitleStyle",void 0),gn([Object(c.g)({},Oe)],Ii.prototype,"margin",void 0),gn([Object(c.g)({color:"#DDDDDD",width:0},ke)],Ii.prototype,"border",void 0),gn([Object(c.s)(null)],Ii.prototype,"background",void 0),gn([Object(c.g)({border:{color:null,width:.5},background:"transparent"},Me)],Ii.prototype,"chartArea",void 0),gn([Object(c.g)({name:"primaryXAxis"},rt)],Ii.prototype,"primaryXAxis",void 0),gn([Object(c.g)({name:"primaryYAxis"},rt)],Ii.prototype,"primaryYAxis",void 0),gn([Object(c.f)([{}],qe)],Ii.prototype,"rows",void 0),gn([Object(c.f)([{}],Je)],Ii.prototype,"columns",void 0),gn([Object(c.f)([{}],rt)],Ii.prototype,"axes",void 0),gn([Object(c.f)([{}],on)],Ii.prototype,"series",void 0),gn([Object(c.f)([{}],We)],Ii.prototype,"annotations",void 0),gn([Object(c.s)([])],Ii.prototype,"palettes",void 0),gn([Object(c.s)("Material")],Ii.prototype,"theme",void 0),gn([Object(c.g)({},Ie)],Ii.prototype,"tooltip",void 0),gn([Object(c.g)({},vn)],Ii.prototype,"crosshair",void 0),gn([Object(c.g)({},cn)],Ii.prototype,"legendSettings",void 0),gn([Object(c.g)({},yn)],Ii.prototype,"zoomSettings",void 0),gn([Object(c.s)("None")],Ii.prototype,"selectionMode",void 0),gn([Object(c.s)("None")],Ii.prototype,"highlightMode",void 0),gn([Object(c.s)("None")],Ii.prototype,"selectionPattern",void 0),gn([Object(c.s)("None")],Ii.prototype,"highlightPattern",void 0),gn([Object(c.s)(!1)],Ii.prototype,"isMultiSelect",void 0),gn([Object(c.s)(!1)],Ii.prototype,"allowMultiSelection",void 0),gn([Object(c.s)(!0)],Ii.prototype,"enableExport",void 0),gn([Object(c.f)([],Pe)],Ii.prototype,"selectedDataIndexes",void 0),gn([Object(c.s)(!1)],Ii.prototype,"useGroupingSeparator",void 0),gn([Object(c.s)(!1)],Ii.prototype,"isTransposed",void 0),gn([Object(c.s)(!1)],Ii.prototype,"enableCanvas",void 0),gn([Object(c.s)(null)],Ii.prototype,"backgroundImage",void 0),gn([Object(c.f)([],pn)],Ii.prototype,"indicators",void 0),gn([Object(c.s)(!0)],Ii.prototype,"enableAnimation",void 0),gn([Object(c.s)(null)],Ii.prototype,"description",void 0),gn([Object(c.s)(1)],Ii.prototype,"tabIndex",void 0),gn([Object(c.s)(!0)],Ii.prototype,"enableSideBySidePlacement",void 0),gn([Object(c.k)()],Ii.prototype,"resized",void 0),gn([Object(c.k)()],Ii.prototype,"annotationRender",void 0),gn([Object(c.k)()],Ii.prototype,"beforePrint",void 0),gn([Object(c.k)()],Ii.prototype,"loaded",void 0),gn([Object(c.k)()],Ii.prototype,"beforeExport",void 0),gn([Object(c.k)()],Ii.prototype,"afterExport",void 0),gn([Object(c.k)()],Ii.prototype,"load",void 0),gn([Object(c.k)()],Ii.prototype,"animationComplete",void 0),gn([Object(c.k)()],Ii.prototype,"legendRender",void 0),gn([Object(c.k)()],Ii.prototype,"textRender",void 0),gn([Object(c.k)()],Ii.prototype,"pointRender",void 0),gn([Object(c.k)()],Ii.prototype,"seriesRender",void 0),gn([Object(c.k)()],Ii.prototype,"axisLabelRender",void 0),gn([Object(c.k)()],Ii.prototype,"axisRangeCalculated",void 0),gn([Object(c.k)()],Ii.prototype,"axisMultiLabelRender",void 0),gn([Object(c.k)()],Ii.prototype,"legendClick",void 0),gn([Object(c.k)()],Ii.prototype,"multiLevelLabelClick",void 0),gn([Object(c.k)()],Ii.prototype,"tooltipRender",void 0),gn([Object(c.k)()],Ii.prototype,"chartMouseMove",void 0),gn([Object(c.k)()],Ii.prototype,"chartMouseClick",void 0),gn([Object(c.k)()],Ii.prototype,"pointClick",void 0),gn([Object(c.k)()],Ii.prototype,"pointDoubleClick",void 0),gn([Object(c.k)()],Ii.prototype,"pointMove",void 0),gn([Object(c.k)()],Ii.prototype,"chartMouseLeave",void 0),gn([Object(c.k)()],Ii.prototype,"chartMouseDown",void 0),gn([Object(c.k)()],Ii.prototype,"chartMouseUp",void 0),gn([Object(c.k)()],Ii.prototype,"dragComplete",void 0),gn([Object(c.k)()],Ii.prototype,"selectionComplete",void 0),gn([Object(c.k)()],Ii.prototype,"zoomComplete",void 0),gn([Object(c.k)()],Ii.prototype,"onZooming",void 0),gn([Object(c.k)()],Ii.prototype,"scrollStart",void 0),gn([Object(c.k)()],Ii.prototype,"scrollEnd",void 0),gn([Object(c.k)()],Ii.prototype,"scrollChanged",void 0),gn([Object(c.k)()],Ii.prototype,"dragStart",void 0),gn([Object(c.k)()],Ii.prototype,"drag",void 0),gn([Object(c.k)()],Ii.prototype,"dragEnd",void 0),gn([Object(c.s)("USD")],Ii.prototype,"currencyCode",void 0),Ii=gn([c.q],Ii)),bn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"calculateDateTimeNiceInterval",value:function(e,t,i,n){var r,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=new Date(i),a=new Date(n),l=Math.abs((s.getTime()-a.getTime())/864e5);switch(e.actualIntervalType=e.intervalType,e.intervalType){case"Years":r=this.calculateNumericNiceInterval(e,l/365,t);break;case"Quarter":r=this.calculateNumericNiceInterval(e,l/365*4,t);break;case"Months":r=this.calculateNumericNiceInterval(e,l/30,t);break;case"Weeks":r=this.calculateNumericNiceInterval(e,l/7,t);break;case"Days":r=this.calculateNumericNiceInterval(e,l,t);break;case"Hours":r=this.calculateNumericNiceInterval(e,24*l,t);break;case"Minutes":r=this.calculateNumericNiceInterval(e,24*l*60,t);break;case"Seconds":r=this.calculateNumericNiceInterval(e,24*l*60*60,t);break;case"Auto":return(r=this.calculateNumericNiceInterval(e,l/365,t))>=1?(e.actualIntervalType="Years",r):(r=this.calculateNumericNiceInterval(e,l/365*4,t))>=1&&!o?(e.actualIntervalType="Quarter",r):(r=this.calculateNumericNiceInterval(e,l/30,t))>=1?(e.actualIntervalType="Months",r):(r=this.calculateNumericNiceInterval(e,l/7,t))>=1&&!o?(e.actualIntervalType="Weeks",r):(r=this.calculateNumericNiceInterval(e,l,t))>=1?(e.actualIntervalType="Days",r):(r=this.calculateNumericNiceInterval(e,24*l,t))>=1?(e.actualIntervalType="Hours",r):(r=this.calculateNumericNiceInterval(e,24*l*60,t))>=1?(e.actualIntervalType="Minutes",r):(r=this.calculateNumericNiceInterval(e,24*l*60*60,t),e.actualIntervalType="Seconds",r)}return r}},{key:"getSkeleton",value:function(e,t,i,n){var r=e.actualIntervalType;return e.skeleton?e.skeleton:"Years"===r?n?"y":e.isChart?"DateTime"===e.valueType?"y":"yMMM":"y":"Quarter"===r?n?"y":"yMMM":"Months"===r?n?"m":e.isChart?"MMMd":"MMM":"Weeks"===r?n?"m":"MEd":"Days"===r?n?"d":e.isChart?this.getDayFormat(e,t,i):"MMMd":"Hours"===r?n?"t":e.isChart?"DateTime"===e.valueType?"Hm":"EHm":"h":"Minutes"===r?n?"T":e.isChart?"Hms":"hm":n?"T":e.isChart?"Hms":"hms"}},{key:"getMonthFormat",value:function(e,t){return new Date(e).getFullYear()===new Date(t).getFullYear()?"MMM":"y MMM"}},{key:"getDayFormat",value:function(e,t,i){return"DateTime"===e.valueType?new Date(t).getMonth()!==new Date(i).getMonth()?"MMMd":"d":"yMd"}},{key:"findCustomFormats",value:function(e,t,i){var n=e.labelFormat?e.labelFormat:"";return!e.isChart||e.skeleton||"Months"!==e.actualIntervalType||n||(n="DateTime"===e.valueType?this.getMonthFormat(t,i):"yMMM"),n}}]),t}(Be),xn=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"calculateRangeAndInterval",value:function(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)}},{key:"getActualRange",value:function(e,t){var i={skeleton:"full",type:"dateTime"},n=this.chart.intl.getDateParser(i),r=this.chart.intl.getDateFormat(i);null!==e.minimum?this.min=Date.parse(n(r(new Date(D.b.parse.parseJson({val:e.minimum}).val)))):null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=Date.parse(n(r(new Date(1970,1,1))))),null!==e.maximum?this.max=Date.parse(n(r(new Date(D.b.parse.parseJson({val:e.maximum}).val)))):null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=Date.parse(n(r(new Date(1970,5,1))))),this.min===this.max&&(this.max=this.max+2592e6,this.min=this.min-2592e6),e.actualRange={},e.doubleRange=new De(this.min,this.max);var o=this.calculateDateTimeNiceInterval(e,t,e.doubleRange.start,e.doubleRange.end);e.actualRange.interval=e.interval?e.interval:o,e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end}},{key:"applyRangePadding",value:function(e,t){var i,n;this.min=e.actualRange.min,this.max=e.actualRange.max;var r=e.actualRange.interval;if(!Wt(e)){var o=e.getRangePadding(this.chart);i=new Date(this.min),n=new Date(this.max);var s=e.actualIntervalType;if("None"===o)this.min=i.getTime(),this.max=n.getTime();else if("Additional"===o||"Round"===o)switch(s){case"Years":this.getYear(i,n,o,r);break;case"Months":this.getMonth(i,n,o,r);break;case"Days":this.getDay(i,n,o,r);break;case"Hours":this.getHour(i,n,o,r);break;case"Minutes":var a=i.getMinutes()/r*r,l=n.getMinutes()+(i.getMinutes()-a);"Round"===o?(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),a,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),l,59).getTime()):(this.min=new Date(i.getFullYear(),n.getMonth(),i.getDate(),i.getHours(),a+-r,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),l+r,0).getTime());break;case"Seconds":var h=i.getSeconds()/r*r,c=n.getSeconds()+(i.getSeconds()-h);"Round"===o?(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),h,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),c,0).getTime()):(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),h+-r,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),c+r,0).getTime())}}e.actualRange.min=this.min,e.actualRange.max=this.max,e.actualRange.delta=e.actualRange.max-e.actualRange.min,e.doubleRange=new De(e.actualRange.min,e.actualRange.max),this.calculateVisibleRange(t,e)}},{key:"getYear",value:function(e,t,i,n){var r=e.getFullYear(),o=t.getFullYear();"Additional"===i?(this.min=new Date(r-n,1,1,0,0,0).getTime(),this.max=new Date(o+n,1,1,0,0,0).getTime()):(this.min=new Date(r,0,0,0,0,0).getTime(),this.max=new Date(o,11,30,23,59,59).getTime())}},{key:"getMonth",value:function(e,t,i,n){var r=e.getMonth(),o=t.getMonth();"Round"===i?(this.min=new Date(e.getFullYear(),r,0,0,0,0).getTime(),this.max=new Date(t.getFullYear(),o,new Date(t.getFullYear(),t.getMonth(),0).getDate(),23,59,59).getTime()):(this.min=new Date(e.getFullYear(),r+-n,1,0,0,0).getTime(),this.max=new Date(t.getFullYear(),o+n,2===o?28:30,0,0,0).getTime())}},{key:"getDay",value:function(e,t,i,n){var r=e.getDate(),o=t.getDate();"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),r,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),o,23,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),r+-n,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),o+n,0,0,0).getTime())}},{key:"getHour",value:function(e,t,i,n){var r=e.getHours()/n*n,o=t.getHours()+(e.getHours()-r);"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),r,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),o,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),r+-n,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),o+n,0,0).getTime())}},{key:"calculateVisibleRange",value:function(e,t){t.visibleRange={min:t.actualRange.min,max:t.actualRange.max,interval:t.actualRange.interval,delta:t.actualRange.delta};var i=!Object(c.W)(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRange(e),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(t,e,t.visibleRange.min,t.visibleRange.max):t.visibleRange.interval),t.dateTimeInterval=this.increaseDateTimeInterval(t,t.visibleRange.min,t.visibleRange.interval).getTime()-t.visibleRange.min,t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)}},{key:"calculateVisibleLabels",value:function(e,t){e.visibleLabels=[];var i,n,r=e.visibleRange.min,o=e.visibleLabels;for(Wt(e)||(r=this.alignRangeStart(e,r,e.visibleRange.interval,e.actualIntervalType).getTime());r<=e.visibleRange.max;)i=Object(c.J)({},Object(c.U)("properties",e.labelStyle),null,!0),n=o.length?e.visibleLabels[o.length-1].value:r,e.format=t.intl.getDateFormat({format:this.findCustomFormats(e,r,n)||this.blazorCustomFormat(e),type:It(e.skeletonType),skeleton:this.getSkeleton(e,r,n,t.isBlazor)}),e.startLabel=e.format(new Date(e.visibleRange.min)),e.endLabel=e.format(new Date(e.visibleRange.max)),pt(r,e.visibleRange)&&Ft(t,r,e.format(new Date(r)),i,e),r=this.increaseDateTimeInterval(e,r,e.visibleRange.interval).getTime();"Months"!==e.actualIntervalType&&"Days"!==e.actualIntervalType||!e.isChart||(e.format=t.intl.getDateFormat({format:e.labelFormat||("Months"!==e.actualIntervalType||e.skeleton?"":"y MMM"),type:It(e.skeletonType),skeleton:e.skeleton||("Days"===e.actualIntervalType?"MMMd":"")})),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}},{key:"blazorCustomFormat",value:function(e){return this.chart.isBlazor&&"Years"===e.actualIntervalType?"yyyy":""}},{key:"increaseDateTimeInterval",value:function(e,t,i){var n=new Date(t);switch(i=Math.ceil(i),e.visibleRange.interval=i,e.actualIntervalType){case"Years":return n.setFullYear(n.getFullYear()+i),n;case"Quarter":return n.setMonth(n.getMonth()+3*i),n;case"Months":return n.setMonth(n.getMonth()+i),n;case"Weeks":return n.setDate(n.getDate()+7*i),n;case"Days":return n.setDate(n.getDate()+i),n;case"Hours":return n.setHours(n.getHours()+i),n;case"Minutes":return n.setMinutes(n.getMinutes()+i),n;case"Seconds":return n.setSeconds(n.getSeconds()+i),n}return n}},{key:"alignRangeStart",value:function(e,t,i,n){var r=new Date(t);switch(e.actualIntervalType){case"Years":var o=Math.floor(Math.floor(r.getFullYear()/i)*i);return r=new Date(o,r.getMonth(),r.getDate(),0,0,0);case"Months":var s=Math.floor(Math.floor(r.getMonth()/i)*i);return r=new Date(r.getFullYear(),s,r.getDate(),0,0,0);case"Days":var a=Math.floor(Math.floor(r.getDate()/i)*i);return r=new Date(r.getFullYear(),r.getMonth(),a,0,0,0);case"Hours":var l=Math.floor(Math.floor(r.getHours()/i)*i);return r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),l,0,0);case"Minutes":var h=Math.floor(Math.floor(r.getMinutes()/i)*i);return r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),h,0,0);case"Seconds":var c=Math.floor(Math.floor(r.getSeconds()/i)*i);return r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),c,0)}return r}},{key:"getModuleName",value:function(){return"DateTime"}},{key:"destroy",value:function(e){}}]),t}(bn),_n=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"calculateRangeAndInterval",value:function(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)}},{key:"getActualRange",value:function(e,t){this.initializeDoubleRange(e),e.actualRange={},e.actualRange.interval=e.interval?Math.ceil(e.interval):Math.max(1,Math.floor(e.doubleRange.delta/Ht(t,e))),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end,e.actualRange.delta=e.doubleRange.delta}},{key:"applyRangePadding",value:function(e,t){var i="BetweenTicks"===e.labelPlacement&&"PolarRadar"!==this.chart.chartAreaType?.5:0;i>0?(e.actualRange.min-=i,e.actualRange.max+=i):e.actualRange.max+=e.actualRange.max?0:.5,e.doubleRange=new De(e.actualRange.min,e.actualRange.max),e.actualRange.delta=e.doubleRange.delta,this.calculateVisibleRange(t,e)}},{key:"calculateVisibleLabels",value:function(e){e.visibleLabels=[];var t,i,n=Math.ceil(e.visibleRange.min);for((e.zoomFactor<1||e.zoomPosition>0)&&(n=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval),e.startLabel=e.labels[Math.round(e.visibleRange.min)],e.endLabel=e.labels[Math.floor(e.visibleRange.max)];n<=e.visibleRange.max;n+=e.visibleRange.interval)t=Object(c.J)({},Object(c.U)("properties",e.labelStyle),null,!0),pt(n,e.visibleRange)&&e.labels.length>0&&(i=Math.round(n),Ft(this.chart,i,e.labels[i]?e.labels[i].toString():i.toString(),t,e));e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}},{key:"getModuleName",value:function(){return"Category"}},{key:"destroy",value:function(e){}}]),t}(bn),wn=function(){function e(t){_classCallCheck(this,e),this.chart=t}return _createClass(e,[{key:"enableComplexProperty",value:function(e){var t,i=[],n=[],r=e.xAxis.visibleRange,o=e.yAxis.visibleRange,s=e.points,a=e.clipRect,l=Math.abs(r.delta/a.width),h=Math.abs(o.delta/a.height),d=s[0]&&s[0].x>l?0:l,u=s[0]&&s[0].y>h?0:h,p=0,m=0,g=!0,v=!1,y=void 0;try{for(var f,b=s[Symbol.iterator]();!(g=(f=b.next()).done);g=!0){var x=f.value;x.symbolLocations=[],p=x.xValue?x.xValue:r.min,m=x.yValue?x.yValue:o.min,(Math.abs(d-p)>=l||Math.abs(u-m)>=h)&&(i.push(x),d=p,u=m)}}catch(w){v=!0,y=w}finally{try{g||null==b.return||b.return()}finally{if(v)throw y}}for(var _=0;_<i.length;_++)t=i[_],Object(c.W)(t.x)||""===t.x||n.push(t);return n}},{key:"getLineDirection",value:function(e,t,i,n,r,o){var s="";if(null!=e){var a=r(e.xValue,e.yValue,i.xAxis,i.yAxis,n,i),l=r(t.xValue,t.yValue,i.xAxis,i.yAxis,n,i);s=o+" "+a.x+" "+a.y+" L "+l.x+" "+l.y+" "}return s}},{key:"appendLinePath",value:function(e,t,i){var n=Yt(e.id),r=t.chart,o=n?n.getAttribute("d"):null,s=t.chart.renderer.drawPath(e,new Int32Array([t.clipRect.x,t.clipRect.y]));s&&s.setAttribute("clip-path",i),t.pathElement=s,t.chart.enableCanvas||t.seriesElement.appendChild(s),t.isRectSeries=!1,Nt(n,e.d,t.chart.redraw,o,r.duration)}},{key:"renderMarker",value:function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)}},{key:"doProgressiveAnimation",value:function(e,t){var i,n=new c.b({}),r=e.pathElement,o=r.getAttribute("stroke-dasharray"),s=e.pathElement.getTotalLength();r.style.visibility="hidden",n.animate(r,{duration:t.duration,delay:t.delay,progress:function(e){e.timeStamp>=e.delay&&(r.style.visibility="visible",i=Math.abs(Math.round((e.timeStamp-e.delay)*s/e.duration)),r.setAttribute("stroke-dasharray",i+","+s))},end:function(t){r.setAttribute("stroke-dasharray",o),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})}},{key:"storePointLocation",value:function(e,t,i,n){var r=t.marker&&t.marker.width?t.marker.width:0,o=t.marker&&t.marker.height?t.marker.height:0;e.symbolLocations.push(n(e.xValue,e.yValue,t.xAxis,t.yAxis,i,t)),e.regions.push(new v(e.symbolLocations[0].x-r,e.symbolLocations[0].y-o,2*r,2*o))}},{key:"withinYRange",value:function(e,t){return e.yValue>=t.visibleRange.min&&e.yValue<=t.visibleRange.max}},{key:"getFirstLastVisiblePoint",value:function(e){var t=null,i=null,n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;null===t&&l.visible&&(t=i=l),i=l.visible?l:i}}catch(h){r=!0,o=h}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return{first:t||e[0],last:i||e[e.length-1]}}},{key:"doLinearAnimation",value:function(e,t){var i,n=e.clipRectElement.childNodes[0].childNodes[0],r=e.chart.animated?e.chart.duration:t.duration,o=Et("Linear"),s=+n.getAttribute("height"),a=+n.getAttribute("width"),l=+n.getAttribute("x"),h=e.chart.requireInvertedAxis?+n.getAttribute("height")+ +n.getAttribute("y"):+n.getAttribute("y");n.style.visibility="hidden",new c.b({}).animate(n,{duration:r,delay:t.delay,progress:function(t){t.timeStamp>=t.delay&&(n.style.visibility="visible",e.chart.requireInvertedAxis?(i=o(t.timeStamp-t.delay,0,s,t.duration),n.setAttribute("transform","translate("+l+" "+h+") scale(1,"+i/s+") translate("+-l+" "+-h+")")):(i=o(t.timeStamp-t.delay,0,a,t.duration),n.setAttribute("transform","translate("+l+" "+h+") scale("+i/a+", 1) translate("+-l+" "+-h+")")))},end:function(t){n.setAttribute("transform","translate(0,0)"),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})}}]),e}(),Cn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r,o,s,a="",l=null,h="M",c=e.chart&&"PolarRadar"===e.chart.chartAreaType,d=e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode,u=c?St:qt,p=this.enableComplexProperty(e),m=!0,g=!1,v=void 0;try{for(var y,f=p[Symbol.iterator]();!(m=(y=f.next()).done);m=!0){var b=y.value;b.regions=[],c&&!b.visible||(b.visible&&gt(p[b.index-1],b,p[b.index+1],e)?(a+=this.getLineDirection(l,b,e,n,u,h),h=l?"L":h,l=b,this.storePointLocation(b,e,n,u)):(l=d?l:null,h=d?h:"M",b.symbolLocations=[]))}}catch(_){g=!0,v=_}finally{try{m||null==f.return||f.return()}finally{if(g)throw v}}if(c&&e.isClosed){var x=this.getFirstLastVisiblePoint(p);o=u(x.last.xValue,x.last.yValue,t,i,n,e),r=u(x.first.xValue,x.first.yValue,t,i,n,e),a=a.concat(h+" "+o.x+" "+o.y+" L "+r.x+" "+r.y)}s=new P("Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:"TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+(void 0===e.index?e.category:e.index),"none",e.width,e.interior,e.opacity,e.dashArray,a),this.appendLinePath(s,e,""),this.renderMarker(e)}},{key:"doAnimation",value:function(e){this.doProgressiveAnimation(e,e.animation)}},{key:"getModuleName",value:function(){return"LineSeries"}},{key:"destroy",value:function(e){}}]),t}(wn),kn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getSideBySideInfo",value:function(e){e.chart.enableSideBySidePlacement&&!e.position&&this.getSideBySidePositions(e);var t=e.chart.enableSideBySidePlacement?e.position:0,i=e.chart.enableSideBySidePlacement?e.rectCount:1;e.isRectSeries=!0;var n,r=e.chart.enableSideBySidePlacement?e.columnSpacing:0,o=null===e.columnWidth?"Histogram"===e.type?1:.7:e.columnWidth,s=zt(e.xAxis,e.chart.visibleSeries)*o,a=t/i-.5,l=new De(a,a+1/i);return isNaN(l.start)||isNaN(l.end)||(n=r*(l=new De(l.start*s,l.end*s)).delta,l=new De(l.start+n/2,l.end-n/2)),l}},{key:"getRectangle",value:function(e,t,i,n,r){var o=qt(e,t,r.xAxis,r.yAxis,r.chart.requireInvertedAxis),s=qt(i,n,r.xAxis,r.yAxis,r.chart.requireInvertedAxis);return new v(Math.min(o.x,s.x),Math.min(o.y,s.y),Math.abs(s.x-o.x),Math.abs(s.y-o.y))}},{key:"getSideBySidePositions",value:function(e){var t=e.chart,i=!0,n=!1,r=void 0;try{for(var o,s=t.columns[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value,l=!0,h=!1,c=void 0;try{for(var d,u=t.rows[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;this.findRectPosition(e.findSeriesCollection(a,p,!1))}}catch(m){h=!0,c=m}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}}}catch(m){n=!0,r=m}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}}},{key:"findRectPosition",value:function(e){for(var t=[],i={rectCount:0,position:null},n=0;n<e.length;n++){var r=e[n];-1!==r.type.indexOf("Stacking")?r.stackingGroup?void 0===t[r.stackingGroup]?(r.position=i.rectCount,t[r.stackingGroup]=i.rectCount++):r.position=t[r.stackingGroup]:null===i.position?(r.position=i.rectCount,i.position=i.rectCount++):r.position=i.position:r.position=i.rectCount++}for(var o=0;o<e.length;o++)e[o].rectCount=i.rectCount}},{key:"updateSymbolLocation",value:function(e,t,i){i.chart.requireInvertedAxis?this.updateYRegion(e,t,i):this.updateXRegion(e,t,i),"Histogram"===i.type&&(e.minimum=+e.x-i.histogramValues.binWidth/2,e.maximum=+e.x+i.histogramValues.binWidth/2)}},{key:"updateXRegion",value:function(e,t,i){e.symbolLocations.push({x:t.x+t.width/2,y:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||e.yValue>=0==!i.yAxis.isInversed?t.y:t.y+t.height}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x+t.width/2,y:t.y+t.height})}},{key:"updateYRegion",value:function(e,t,i){e.symbolLocations.push({x:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||e.yValue>=0==!i.yAxis.isInversed?t.x+t.width:t.x,y:t.y+t.height/2}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x,y:t.y+t.height/2})}},{key:"renderMarker",value:function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)}},{key:"getRegion",value:function(e,t,i){if(0===e.y){var n=i.marker&&i.marker.width?i.marker.width:0,r=i.marker&&i.marker.height?i.marker.height:0;e.regions.push(new v(e.symbolLocations[0].x-n,e.symbolLocations[0].y-r,2*n,2*r))}else e.regions.push(t)}},{key:"triggerEvent",value:function(e,t,i,n){var r={cancel:!1,name:"pointRender",series:e,point:t,fill:e.setPointColor(t,i),border:e.setBorderColor(t,n)};return e.chart.trigger("pointRender",r),t.color=r.fill,r}},{key:"drawRectangle",value:function(e,t,i,n){var r=e.chart;if((r.requireInvertedAxis?i.height:i.width)<=0)return null;var o=this.calculateRoundedRectPath(i,e.cornerRadius.topLeft,e.cornerRadius.topRight,e.cornerRadius.bottomLeft,e.cornerRadius.bottomRight),s="Indicator"===e.category?r.element.id+"_Indicator_"+e.index+"_"+e.name+"_Point_"+t.index:r.element.id+"_Series_"+e.index+"_Point_"+t.index,a=pi(r.redraw,s),l=a?a.getAttribute("d"):"",h=new P(s,n.fill,n.border.width,n.border.color,e.opacity,e.dashArray,o),c=r.renderer.drawPath(h,new Int32Array([e.clipRect.x,e.clipRect.y]));switch(e.seriesType){case"XY":c.setAttribute("aria-label",t.x.toString()+":"+t.yValue.toString());break;case"HighLow":c.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString())}Kt(e.chart.enableCanvas,e.seriesElement,c,r.redraw),e.chart.enableCanvas||Nt(c,o,r.redraw,l,r.duration)}},{key:"animate",value:function(e){var t=e.seriesElement.childNodes,i="Indicator"===e.category?0:1,n=at(e),r=!0,o=!1,s=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;(h.symbolLocations.length||"BoxAndWhisker"===e.type&&h.regions.length)&&(this.animateRect(t[i],e,h),i++)}}catch(c){o=!0,s=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}},{key:"animateRect",value:function(e,t,i){var n,r,o,s,a,l=t.animation,h=t.chart.animated?t.chart.duration:l.duration,d=Et("Linear"),u=i.yValue<0,p=+i.regions[0].height,m=+i.regions[0].width;t.chart.requireInvertedAxis?(r=+i.regions[0].y,t.type.indexOf("Stacking")>-1?(n=kt(0,t.yAxis)*t.yAxis.rect.width,o=n,s=r):(n=+i.regions[0].x,s=u?r:r+p,o=-1!==t.seriesType.indexOf("HighLow")||-1!==t.type.indexOf("Waterfall")?n+m/2:u!==t.yAxis.isInversed?n+m:n)):(n=+i.regions[0].x,t.type.indexOf("Stacking")>-1?(r=(1-kt(0,t.yAxis))*t.yAxis.rect.height,o=n,s=r):(r=+i.regions[0].y,s=-1!==t.seriesType.indexOf("HighLow")||-1!==t.type.indexOf("Waterfall")?r+p/2:u!==t.yAxis.isInversed?r:r+p,o=u?n:n+m)),e.style.visibility="hidden",new c.b({}).animate(e,{duration:h,delay:l.delay,progress:function(i){i.timeStamp>=i.delay&&(e.style.visibility="visible",t.chart.requireInvertedAxis?(m=m||1,a=d(i.timeStamp-i.delay,0,m,i.duration),e.setAttribute("transform","translate("+o+" "+s+") scale("+a/m+", 1) translate("+-o+" "+-s+")")):(p=p||1,a=d(i.timeStamp-i.delay,0,p,i.duration),e.setAttribute("transform","translate("+o+" "+s+") scale(1,"+a/p+") translate("+-o+" "+-s+")")))},end:function(n){e.setAttribute("transform","translate(0,0)");var r=t.seriesElement;if((e===r.lastElementChild||i.index===t.points.length-1||"Waterfall"===t.type&&e===r.children[r.childElementCount-2])&&(t.chart.trigger("animationComplete",{series:t.chart.isBlazor?{}:t}),"Waterfall"===t.type))for(var o=r.childNodes,s=0;s<o.length;s++)-1!==o[s].id.indexOf("Connector")&&(o[s].style.visibility="visible",o[s].setAttribute("transform","translate(0,0)"))}})}},{key:"calculateRoundedRectPath",value:function(e,t,i,n,r){return"M "+e.x+" "+(t+e.y)+" Q "+e.x+" "+e.y+" "+(e.x+t)+" "+e.y+" L "+(e.x+e.width-i)+" "+e.y+" Q "+(e.x+e.width)+" "+e.y+" "+(e.x+e.width)+" "+(e.y+i)+" L "+(e.x+e.width)+" "+(e.y+e.height-r)+" Q "+(e.x+e.width)+" "+(e.y+e.height)+" "+(e.x+e.width-r)+" "+(e.y+e.height)+" L "+(e.x+n)+" "+(e.y+e.height)+" Q "+e.x+" "+(e.y+e.height)+" "+e.x+" "+(e.y+e.height-n)+" L "+e.x+" "+(t+e.y)+" Z"}}]),e}(),Sn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){var t,i,n=this.getSideBySideInfo(e),r=Math.max(e.yAxis.visibleRange.min,0),o=!0,s=!1,a=void 0;try{for(var l,h=e.points[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;c.symbolLocations=[],c.regions=[],c.visible&&gt(e.points[c.index-1],c,e.points[c.index+1],e)&&(t=this.getRectangle(c.xValue+n.start,c.yValue,c.xValue+n.end,r,e),(i=this.triggerEvent(e,c,"Indicator"===e.category?c.color:e.interior,{width:e.border.width,color:e.border.color})).cancel||(this.updateSymbolLocation(c,t,e),this.drawRectangle(e,c,t,i)))}}catch(d){s=!0,a=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}this.renderMarker(e)}},{key:"doAnimation",value:function(e){this.animate(e)}},{key:"getModuleName",value:function(){return"ColumnSeries"}},{key:"destroy",value:function(e){}}]),t}(kn),Mn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getAreaPathDirection",value:function(e,t,i,n,r,o,s){var a,l="";return null===o&&(l+=s+" "+(a=r(e,t,i.xAxis,i.yAxis,n,i)).x+" "+a.y+" "),l}},{key:"getAreaEmptyDirection",value:function(e,t,i,n,r){var o="";return o+=this.getAreaPathDirection(e.x,e.y,i,n,r,null,"L"),o+=this.getAreaPathDirection(t.x,t.y,i,n,r,null,"L")}},{key:"setPointColor",value:function(e,t,i,n,r){if(""===i.pointColorMapping){for(var o,s=0;s<r.length;s++)if(o=r[s],(n?e.xValue:e.yValue)<=this.getAxisValue(o.value,n?i.xAxis:i.yAxis,i.chart)||!o.value){e.interior=o.color;break}return null==e.interior&&(e.interior=i.interior),!1}return!!t&&i.setPointColor(e,i.interior)!==i.setPointColor(t,i.interior)}},{key:"sortSegments",value:function(e,t){var i="X"===e.segmentAxis?e.xAxis:e.yAxis,n=[].concat(t),r=this;return n.sort((function(t,n){return r.getAxisValue(t.value,i,e.chart)-r.getAxisValue(n.value,i,e.chart)}))}},{key:"applySegmentAxis",value:function(e,t,i){var n=this;if(""!==e.pointColorMapping)return t.map((function(t){n.appendLinePath(t,e,"")})),null;var r,o="X"===e.segmentAxis,s=o?e.xAxis:e.yAxis,a=e.chart;this.includeSegment(i,s,e,i.length);for(var l,h,c,d=i.length,u=function(d){r=i[d],l=n.getAxisValue(r.value,s,e.chart),(h=n.createClipRect(d?n.getAxisValue(i[d-1].value,s,e.chart):s.visibleRange.min,l,e,d,o))&&t.map((function(t){Nt(Yt((c={"clip-path":h,"stroke-dasharray":r.dashArray,opacity:t.opacity,stroke:e.type.indexOf("Line")>-1?r.color||e.interior:e.border.color,"stroke-width":t["stroke-width"],fill:e.type.indexOf("Line")>-1?"none":r.color||e.interior,id:t.id+"_Segment_"+d,d:t.d}).id),c.d,a.redraw),e.seriesElement.appendChild(a.renderer.drawPath(c))}))},p=0;p<d;p++)u(p)}},{key:"includeSegment",value:function(e,t,i,n){if(n<=0)return e.push({value:t.visibleRange.max,color:i.interior}),null;this.getAxisValue(e[n-1].value,t,i.chart)<t.visibleRange.max&&e.push({value:t.visibleRange.max,color:i.interior})}},{key:"createClipRect",value:function(e,t,i,n,r){var o,s=i.chart.requireInvertedAxis,a=qt(r?e:i.xAxis.visibleRange.min,r?i.yAxis.visibleRange.max:t,i.xAxis,i.yAxis,s),l=qt(r?t:i.xAxis.visibleRange.max,r?i.yAxis.visibleRange.min:e,i.xAxis,i.yAxis,s);return(l=s?[a,a=l][0]:l).x-a.x>0&&l.y-a.y>0?(o=new Bi(i.chart.element.id+"_ChartSegmentClipRect_"+n,"transparent",{width:1,color:"Gray"},1,{x:a.x,y:a.y,width:l.x-a.x,height:l.y-a.y}),i.seriesElement.appendChild(Vt(i.chart.redraw,o,i.chart.renderer)),"url(#"+i.chart.element.id+"_ChartSegmentClipRect_"+n+")"):null}},{key:"getAxisValue",value:function(e,t,i){if(null===e&&(e=t.visibleRange.max),"DateTime"===t.valueType){var n={skeleton:"full",type:"dateTime"};return Date.parse(i.intl.getDateParser(n)(i.intl.getDateFormat(n)(new Date(D.b.parse.parseJson({val:e}).val))))}if(t.valueType.indexOf("Category")>-1){var r="DateTimeCategory"===t.valueType?e.getTime().toString():e;return t.labels.indexOf(r)<0?+e:t.labels.indexOf(r)}return+e}}]),t}(wn),On=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r=It(e.drawType),o=i.minimum,s=i.maximum,a=!0,l=!1,h=void 0;try{for(var d,u=e.points[Symbol.iterator]();!(a=(d=u.next()).done);a=!0){var p=d.value;p.visible=p.visible&&!(!Object(c.W)(o)&&p.yValue<o||!Object(c.W)(s)&&p.yValue>s)}}catch(m){l=!0,h=m}finally{try{a||null==u.return||u.return()}finally{if(l)throw h}}e.drawType.indexOf("Column")>-1?this.columnDrawTypeRender(e,t,i):e.chart[r+"SeriesModule"].render(e,t,i,n)}},{key:"columnDrawTypeRender",value:function(e,t,i){var n,r,o,s,a,l,h,c,d,u,p,m,g,v,y,f,b,x,_,w,C=t.actualRange.min,k=e.clipRect.width/2+e.clipRect.x,S=e.clipRect.height/2+e.clipRect.y,M="RangeColumn"===e.drawType,O="Polar"===e.type,L="Logarithmic"===i.valueType,A="StackingColumn"===e.drawType,R="",T=0,j=(e.points[1]?e.points[1].xValue:2*e.points[0].xValue)-e.points[0].xValue,I="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?0:t.isInversed?-j/2:j/2,z="DateTime"===t.valueType?t.dateTimeInterval:1;this.getSeriesPosition(e);var E=t.isInversed?e.rectCount-1-e.position:e.position;do{T+=z,C+=z}while(C<=t.actualRange.max-("Category"===t.valueType?0:1));var D=!0,B=!1,N=void 0;try{for(var V,F=e.points[Symbol.iterator]();!(D=(V=F.next()).done);D=!0){var W=V.value;W.symbolLocations=[],W.regions=[],W.visible&&gt(e.points[W.index-1],W,e.points[W.index+1],e)&&(a=(t.isInversed?t.visibleRange.max-W.xValue:W.xValue-t.visibleRange.min)+(j/e.rectCount*E-I)+T/360*t.startAngle,a/=T,o=2*Math.PI*(a+t.startAngle),s=2*Math.PI*(a+t.startAngle+j/e.rectCount/T),0===o&&0===s?(s=2*Math.PI,w="1"):w="0",h=o,c=s,o=o-.5*Math.PI+e.columnSpacing/2,s=s-.5*Math.PI-1e-6-e.columnSpacing/2,A||M?(g=M?W.low:e.stackedValues.startValues[W.index],v=M?W.high:e.stackedValues.endValues[W.index],v=(v=L?ct(0===v?1:v,i.logBase):v)>i.actualRange.max?i.actualRange.max:v):(g=i.visibleRange.min,v=W.yValue>i.actualRange.max?i.actualRange.max:W.yValue),d=k+(l=g===v?0:e.chart.radius*kt(v,i))*Math.cos(o),u=k+l*Math.cos(s),p=S+l*Math.sin(o),m=S+l*Math.sin(s),f=k+(y=e.chart.radius*kt(0===g&&0!==i.visibleRange.min?i.visibleRange.min:g,i))*Math.cos(o),b=S+y*Math.sin(o),x=k+y*Math.cos(s),_=S+y*Math.sin(s),R=O?"M "+d+" "+p+" A "+l+" "+l+" 0 "+w+" 1 "+u+" "+m+" L "+x+" "+_+" A "+y+" "+y+" 1 0 0 "+f+" "+b+" Z":"M "+d+" "+p+" L "+u+" "+m+" L "+x+" "+_+" L "+f+" "+b+" Z",W.regionData=new Pt(h,c,y,l,a),r=this.triggerEvent(e.chart,e,W),n=new P(e.chart.element.id+"_Series_"+e.index+"_Point_"+W.index,r.fill,r.border.width,r.border.color,e.opacity,e.dashArray,R),r.cancel||(this.appendLinePath(n,e,""),O?(W.symbolLocations.push({x:k+l*Math.cos(o+(s-o)/2),y:S+l*Math.sin(o+(s-o)/2)}),M&&W.symbolLocations.push({x:k+y*Math.cos(o+(s-o)/2),y:S+y*Math.sin(o+(s-o)/2)})):(W.symbolLocations.push({x:(d+u)/2,y:(p+m)/2}),M&&W.symbolLocations.push({x:(x+f)/2,y:(_+b)/2}))))}}catch(H){B=!0,N=H}finally{try{D||null==F.return||F.return()}finally{if(B)throw N}}this.renderMarker(e),e.isRectSeries=!0}},{key:"triggerEvent",value:function(e,t,i){var n={cancel:!1,name:"pointRender",series:t,point:i,fill:t.setPointColor(i,t.interior),border:t.setBorderColor(i,{width:t.border.width,color:t.border.color})};return e.trigger("pointRender",n),i.color=n.fill,n}},{key:"getSeriesPosition",value:function(e){var t=e.chart,i=[],n=[],r={rectCount:0,position:null},o=!0,s=!1,a=void 0;try{for(var l,h=t.visibleSeries[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;!c.visible||"Polar"!==c.type&&"Radar"!==c.type||-1===c.drawType.indexOf("Column")||i.push(c)}}catch(m){s=!0,a=m}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}for(var d=0;d<i.length;d++){var u=i[d];-1!==u.drawType.indexOf("Stacking")?u.stackingGroup?void 0===n[u.stackingGroup]?(u.position=r.rectCount,n[u.stackingGroup]=r.rectCount++):u.position=n[u.stackingGroup]:null===r.position?(u.position=r.rectCount,r.position=r.rectCount++):u.position=r.position:u.position=r.rectCount++}for(var p=0;p<i.length;p++)i[p].rectCount=r.rectCount}},{key:"doAnimation",value:function(e){var t=e.animation.duration,i=e.animation.delay,n=e.seriesElement.childNodes,r=1;if("Scatter"===e.drawType){var o=!0,s=!1,a=void 0;try{for(var l,h=e.points[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;c.symbolLocations.length&&n[r]&&(Bt(n[r],i,t,e,c.index,c.symbolLocations[0],!1),r++)}}catch(d){s=!0,a=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}}else for(r=1;r<n.length;r++)this.doPolarRadarAnimation(n[r],i,t,e)}},{key:"doPolarRadarAnimation",value:function(e,t,i,n){var r=n.clipRect.width/2+n.clipRect.x,o=n.clipRect.height/2+n.clipRect.y,s=0;e.style.visibility="hidden",new c.b({}).animate(e,{duration:i,delay:t,progress:function(t){t.timeStamp>t.delay&&(t.element.style.visibility="visible",s=(t.timeStamp-t.delay)/t.duration,e.setAttribute("transform","translate("+r+" "+o+") scale("+s+") translate("+-r+" "+-o+")"))},end:function(t){e.style.visibility="visible",e.removeAttribute("transform"),n.chart.trigger("animationComplete",{series:n.chart.isBlazor?{}:n})}})}},{key:"getPolarIsInversedPath",value:function(e,t){var i,n,r,o=this.chart.radius,s=t,a=e.isInversed?"1 1 ":"1 0 ";return i=Mt(Ot(e.visibleLabels[0].value,e),this.startAngle),s+"L "+(n=this.centerX+o*i.x)+" "+(r=this.centerY+o*i.y)+" A "+o+" "+o+" 0 "+a+n+" "+(this.centerY+o)+" A "+o+" "+o+" 0 "+a+n+" "+r+" "}},{key:"getModuleName",value:function(){return"PolarSeries"}},{key:"destroy",value:function(e){}}]),t}(function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).visibleAxisLabelRect=[],e}return _inherits(t,e),_createClass(t,[{key:"measureAxis",value:function(e){var t=this.chart;this.initialClipRect=e,this.seriesClipRect=new v(e.x,e.y,e.width,e.height),this.measureRowAxis(t,this.initialClipRect),this.measureColumnAxis(t,this.initialClipRect),this.calculateAxisSize()}},{key:"measureRowAxis",value:function(e,t){this.calculateRowSize(t);var i=e.rows[0];this.measureDefinition(i,e,new g(e.availableSize.width,i.computedHeight),t)}},{key:"measureColumnAxis",value:function(e,t){this.calculateColumnSize(t);var i=e.columns[0];this.measureDefinition(i,e,new g(i.computedWidth,e.availableSize.height),t)}},{key:"measureDefinition",value:function(e,t,i,n){var r=!0,o=!1,s=void 0;try{for(var a,l=e.axes[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;h.getModule(t),h.baseModule.calculateRangeAndInterval(i,h)}}catch(c){o=!0,s=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}},{key:"calculateAxisSize",value:function(){var e=this.chart;this.centerX=.5*this.initialClipRect.width+this.initialClipRect.x,this.centerY=.5*this.initialClipRect.height+this.initialClipRect.y,e.radius=Math.min(this.initialClipRect.width,this.initialClipRect.height)/2-5-e.primaryXAxis.majorTickLines.height-e.primaryXAxis.maxLabelSize.height,e.radius=e.primaryXAxis.coefficient*e.radius/100,this.seriesClipRect.y=this.centerY-e.radius,this.seriesClipRect.x=this.centerX-e.radius,this.seriesClipRect.height=2*e.radius,this.seriesClipRect.width=2*e.radius,this.calculateRowSize(this.seriesClipRect),e.primaryYAxis.rect=this.seriesClipRect,this.calculateColumnSize(this.seriesClipRect),e.primaryXAxis.rect=this.seriesClipRect}},{key:"measure",value:function(){var e=this.chart;e.verticalAxes.push(e.primaryYAxis);var t=e.rows[0];t.axes[0]=e.primaryYAxis,e.rows[0]=t,e.horizontalAxes.push(e.primaryXAxis);var i=e.columns[0];i.axes[0]=e.primaryXAxis,e.columns[0]=i}},{key:"calculateRowSize",value:function(e){var t=this.chart,i=t.rows[0];i.computedHeight=e.height/2,i.computedTop=e.y,t.rows[0]=i}},{key:"calculateColumnSize",value:function(e){var t=this.chart,i=t.columns[0];i.computedLeft=e.x,i.computedWidth=e.width,t.columns[0]=i}},{key:"renderAxes",value:function(){var e,t=this.chart;this.startAngle=t.primaryXAxis.startAngle;for(var i=t.renderer.createGroup({id:t.element.id+"AxisCollection"}),n=t.renderer.createGroup({id:t.element.id+"AxisOutsideCollection"}),r=0,o=t.axisCollections.length;r<o;r++)this.element=t.renderer.createGroup({id:t.element.id+"AxisGroup"+r}),"Horizontal"===(e=t.axisCollections[r]).orientation?((e.majorGridLines.width>0||e.majorTickLines.width>0)&&this.drawXAxisGridLine(e,r),e.visible&&e.internalVisibility&&this.drawXAxisLabels(e,r)):(this.drawYAxisGridLine(e,r),e.lineStyle.width>0&&this.drawYAxisLine(e,r,e.plotOffset,0),e.visible&&e.internalVisibility&&this.drawYAxisLabels(e,r)),i.appendChild(this.element);return i.appendChild(this.element),Kt(t.enableCanvas,t.svgObject,i,t.redraw),n}},{key:"drawYAxisLine",value:function(e,t,i,n){var r,o=this.chart,s=Mt(Ot(e.visibleLabels[0].value,e),this.startAngle);r={id:o.element.id+"AxisLine_"+t,d:"M "+this.centerX+" "+this.centerY+"L "+(this.centerX+o.radius*s.x)+" "+(this.centerY+o.radius*s.y),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||o.themeStyle.axisLine};var a=o.renderer.drawPath(r);this.setPointerEventNone(a),o.yAxisElements.appendChild(a)}},{key:"drawYAxisLabels",value:function(e,t){var i,n,r,o,s,a=this.chart,l=0,h=0,c=this.startAngle<0?this.startAngle+360:this.startAngle,d=[],u=[];u[0]=!0;var p=e.labelIntersectAction,m=a.renderer.createGroup({id:a.element.id+"AxisLabels"+t});r=Mt(Ot(e.visibleLabels[0].value,e),this.startAngle);for(var g=0,v=e.visibleLabels.length;g<v;g++){if(s=!1,a.radius*kt(e.visibleLabels[g].value,e),i=e.visibleLabels[g].size,o=a.radius*kt(e.visibleLabels[g].value,e),l=this.centerX+o*r.x+(e.majorTickLines.height+i.width/2+2.5)*Math.cos(c*Math.PI/180)*("Inside"===e.labelPosition?1:-1),h=this.centerY+o*r.y+(e.majorTickLines.height+i.height/2)*Math.sin(c*Math.PI/180)*("Inside"===e.labelPosition?1:-1),h+=i.height/4,d[g]=this.getLabelRegion(l,h,e.visibleLabels[g],"middle"),0!==g&&"Hide"===p){for(var y=g;y>=0;y--){if(u[y=0===y?0:y===g?y-1:y]&&ri(d[g],d[y])){s=!0,u[g]=!1;break}u[g]=!0}if(s)continue;var f=!0,x=!1,_=void 0;try{for(var w,C=this.visibleAxisLabelRect[Symbol.iterator]();!(f=(w=C.next()).done);f=!0){var k=w.value;if(ri(d[g],k)){s=!0;break}}}catch(S){x=!0,_=S}finally{try{f||null==C.return||C.return()}finally{if(x)throw _}}}s||(this.visibleAxisLabelRect.push(d[g]),n=new b(a.element.id+t+"_AxisLabel_"+g,l,h,"middle",e.visibleLabels[g].text),gi(a.renderer,n,e.labelStyle,e.labelStyle.color||a.themeStyle.axisLabel,m,!1,a.redraw,!0,!0))}a.yAxisElements.appendChild(m)}},{key:"drawYAxisGridLine",value:function(e,t){var i,n,r,o,s,a,l,h=this.chart,c="",d="",u=this.startAngle<0?this.startAngle+360:this.startAngle,p={color:e.majorGridLines.color||h.themeStyle.majorGridLine,width:e.majorGridLines.width};if(e.majorGridLines.width>0)if("Polar"===h.visibleSeries[0].type){for(var m=0;m<e.visibleLabels.length;m++)a=(l=Yt(h.element.id+"_MajorGridLine_"+t+"_"+m))?l.getAttribute("r"):null,n=h.radius*kt(e.visibleLabels[m].value,e),i=new Vi(h.element.id+"_MajorGridLine_"+t+"_"+m,"transparent",p,e.majorGridLines.width,this.centerX,this.centerY,n),Kt(h.enableCanvas,this.element,h.renderer.drawCircle(i),h.redraw,!0,"r","r",new Wi(+a,+a),null,!0);n!==h.radius&&(i=new Vi(h.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length+1,"transparent",p,e.majorGridLines.width,this.centerX,this.centerY,h.radius),Kt(h.enableCanvas,this.element,h.renderer.drawCircle(i),h.redraw,!0,"r","r",new Wi(+a,+a),null,!0))}else{for(var g=0;g<e.visibleLabels.length;g++)n=h.radius*kt(e.visibleLabels[g].value,e),d=this.renderRadarGrid(n,"",h),a=(l=Yt(h.element.id+"_MajorGridLine_"+t+"_"+g))?l.getAttribute("d"):null,i=new P(h.element.id+"_MajorGridLine_"+t+"_"+g,"transparent",e.majorGridLines.width,e.majorGridLines.color||h.themeStyle.majorGridLine,null,null,d),Kt(h.enableCanvas,this.element,h.renderer.drawPath(i),h.redraw,!0,"x","y",null,a,!0);n!==h.radius&&(d=this.renderRadarGrid(h.radius,"",h),a=(l=Yt(h.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length))?l.getAttribute("d"):null,i=new P(h.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length,"transparent",e.majorGridLines.width,e.majorGridLines.color||h.themeStyle.majorGridLine,null,null,d),Kt(h.enableCanvas,this.element,h.renderer.drawPath(i),h.redraw,!0,"x","y",null,a,!0))}if(e.majorTickLines.width>0){r=Mt(Ot(e.visibleLabels[0].value,e),this.startAngle);for(var v=0;v<e.visibleLabels.length;v++)n=h.radius*kt(e.visibleLabels[v].value,e),c="M "+(o=this.centerX+n*r.x)+" "+(s=this.centerY+n*r.y)+" L "+(o+e.majorTickLines.height*Math.cos(u*Math.PI/180)*("Inside"===e.tickPosition?1:-1))+" "+(s+e.majorTickLines.height*Math.sin(u*Math.PI/180)*("Inside"===e.tickPosition?1:-1)),this.renderTickLine(e,t,c,"",v)}}},{key:"renderRadarGrid",value:function(e,t,i){for(var n,r,o,s,a,l,h=0,c=i.primaryXAxis.visibleLabels.length;h<c;h++)n=Mt(Ot(i.primaryXAxis.visibleLabels[h].value,i.primaryXAxis),this.startAngle),r=Mt(Ot(h+1<c?i.primaryXAxis.visibleLabels[h+1].value:i.primaryXAxis.visibleLabels[0].value,i.primaryXAxis),this.startAngle),o=this.centerX+e*n.x,s=this.centerY+e*n.y,a=this.centerX+e*r.x,l=this.centerY+e*r.y,t=t.concat((h?"L ":"M ")+" "+o+" "+s+" L  "+a+" "+l+" ");return t}},{key:"drawXAxisGridLine",value:function(e,t){for(var i,n,r,o,s,a=this.chart,l="",h="",c="",d="",u=this.centerX,p=this.centerY,m=e.visibleLabels.length,g=0;g<m;g++)i=e.visibleLabels[g].value,n=Mt(Ot(e.visibleLabels[g].value,e),this.startAngle),l="M "+u+" "+p+" L "+(r=this.centerX+a.radius*n.x)+" "+(o=this.centerY+a.radius*n.y),h="M "+r+" "+o+" L "+(r+e.majorTickLines.height*n.x*("Inside"===e.tickPosition?-1:1))+" "+(o+e.majorTickLines.height*n.y*("Inside"===e.tickPosition?-1:1)),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&"Category"!==e.valueType&&"Radar"!==a.visibleSeries[0].type&&(c=(s=this.drawAxisMinorLine(e,i,c,d))[0],d=s[1]),this.renderTickLine(e,t,h,d,g),this.renderGridLine(e,t,l,c,g)}},{key:"drawAxisMinorLine",value:function(e,t,i,n){for(var r,o,s,a=t,l=e.visibleRange,h=[],c=0;c<e.minorTicksPerInterval;c++)if(ut(a+=("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval)/(e.minorTicksPerInterval+1),l)){s=Mt(Ot(a,e),this.startAngle),r=this.centerX+this.chart.radius*s.x,o=this.centerY+this.chart.radius*s.y;var d=r+e.minorTickLines.height*s.x*("Inside"===e.tickPosition?-1:1),u=o+e.minorTickLines.height*s.y*("Inside"===e.tickPosition?-1:1);i=i.concat("M "+this.centerX+" "+this.centerY+"L "+r+" "+o),n=n.concat("M "+r+" "+o+"L "+d+" "+u)}return h.push(i),h.push(n),h}},{key:"drawXAxisLabels",value:function(e,t){var i;this.visibleAxisLabelRect=[],this.chart.legendModule&&(i=this.chart.legendModule.legendBounds);var n,r,o,s,a,l,h,c=this.chart,d=0,u=0,m=c.renderer.createGroup({id:c.element.id+"AxisLabels"+t}),g="Inside"===e.labelPosition,v="",y=[],f=[];f[0]=!0;var x=e.labelIntersectAction,_="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,w=c.radius+e.majorTickLines.height;w=g?-w:w;for(var C=0,k=e.visibleLabels.length;C<k;C++){if(h=!1,r=Mt(Ot(e.visibleLabels[C].value+_,e),this.startAngle),isNaN(r.x)||isNaN(r.y)||(d=this.centerX+(w+e.majorTickLines.height+5)*r.x,u=this.centerY+(w+e.majorTickLines.height+5)*r.y,v=parseFloat(d.toFixed(1))===parseFloat(this.centerX.toFixed(1))?"middle":d<this.centerX&&!g||d>this.centerX&&g?"end":"start"),o=(l=e.visibleLabels[C]).text,e.enableTrim||"Trim"===x)for(var S=void 0,M=void 0,O=e.visibleLabels[C].originalText,L=e.labelPosition,P=c.availableSize.width,A=O.length,R=A-1;R>=0;--R)if(M=p(S=O.substring(0,R)+"...",e.labelStyle).width,d===P/2?d-M/2>=0&&d+M/2<=P:"Outside"===L&&(d>=P/2&&d+M<=P||d<=P/2&&d-M>=0)||"Inside"===L&&(d+M<=P/2||d-M>=P/2)){o=R===A-1?O:S,l.size.width=p(o,e.labelStyle).width,l.text=o;break}if(y[C]=this.getLabelRegion(d,u,l,v),0===C?s=d:C===e.visibleLabels.length-1&&"Category"!==e.valueType&&(a=p(o,e.labelStyle).height,o=(a+=d)>s?"":o),0!==C&&"Hide"===x)for(var T=C;T>=0;T--){if(f[T=0===T?0:T===C?T-1:T]&&ri(y[C],y[T])){h=!0,f[C]=!1;break}f[C]=!0}if(!h&&i&&(h=ri(y[C],i))){var j=this.getAvailableSpaceToTrim(i,y[C]);j>0&&(o=di(j,e.visibleLabels[C].originalText,e.labelStyle),h=!1)}n=new b(c.element.id+t+"_AxisLabel_"+C,d,u,v,o,"","central"),h||(this.visibleAxisLabelRect.push(y[C]),gi(c.renderer,n,l.labelStyle,l.labelStyle.color||c.themeStyle.axisLabel,m,!1,c.redraw,!0,!0))}this.element.appendChild(m)}},{key:"getAvailableSpaceToTrim",value:function(e,t){var i=e.x,n=i+e.width,r=t.x,o=r+t.width,s=0;return r>i&&r<n&&o>n?s=o-n:r>i&&r<n&&o<n?s=0:o>i&&o<n&&r<i?s=i-r:o>i&&o>n&&r<i&&(s=i-r),s}},{key:"getLabelRegion",value:function(e,t,i,n){return"middle"===n?e-=i.size.width/2:"end"===n?e-=i.size.width:e=e,new v(e,t-=i.size.height/2,i.size.width,i.size.height)}},{key:"renderTickLine",value:function(e,t,i,n,r){var o,s,a,l=this.chart;e.majorTickLines.width>0&&(s=(a=Yt(l.element.id+"_MajorTickLine_"+t+"_"+r))?a.getAttribute("d"):null,o=new P(l.element.id+"_MajorTickLine_"+t+"_"+r,"transparent",e.majorTickLines.width,e.majorTickLines.color||l.themeStyle.majorTickLine,null,null,i),a=l.renderer.drawPath(o),this.setPointerEventNone(a),Kt(l.enableCanvas,l.yAxisElements,a,l.redraw,!0,"x","y",null,s)),e.minorTickLines.width>0&&(s=(a=Yt(l.element.id+"_MinorTickLine_"+t+"_"+r))?a.getAttribute("d"):null,o=new P(l.element.id+"_MinorTickLine_"+t+"_"+r,"transparent",e.minorTickLines.width,e.minorTickLines.color||l.themeStyle.minorTickLine,null,null,n),a=l.renderer.drawPath(o),this.setPointerEventNone(a),Kt(l.enableCanvas,l.yAxisElements,a,l.redraw,!0,"x","y",null,s))}},{key:"renderGridLine",value:function(e,t,i,n,r){var o,s,a,l=this.chart;e.majorGridLines.width>0&&(s=(a=Yt(l.element.id+"_MajorGridLine_"+t+"_"+r))?a.getAttribute("d"):null,o=new P(l.element.id+"_MajorGridLine_"+t+"_"+r,"transparent",e.majorGridLines.width,e.majorGridLines.color||l.themeStyle.majorGridLine,null,e.majorGridLines.dashArray,i),Kt(l.enableCanvas,this.element,l.renderer.drawPath(o),l.redraw,!0,"x","y",null,s)),e.minorGridLines.width>0&&(s=(a=Yt(l.element.id+"_MinorGridLine_"+t+"_"+r))?a.getAttribute("d"):null,o=new P(l.element.id+"_MinorGridLine_"+t+"_"+r,"transparent",e.minorGridLines.width,e.minorGridLines.color||l.themeStyle.minorGridLine,null,e.minorGridLines.dashArray,n),Kt(l.enableCanvas,this.element,l.renderer.drawPath(o),l.redraw,!0,"x","y",null,s))}},{key:"setPointerEventNone",value:function(e){e&&e.setAttribute("style","pointer-events:none")}}]),t}(wn)),Ln=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).splinePoints=[],i}return _inherits(t,e),_createClass(t,[{key:"findSplinePoint",value:function(e){var t,i,n,r=[],o=0;n=this.filterEmptyPoints(e);for(var s=0;s<n.length;s++)null!==(i=n[s]).x&&""!==i.x&&(i.index=o,o++,r.push(i));if(this.splinePoints=this.findSplineCoefficients(r,e),r.length>1){e.drawPoints=[];var a=!0,l=!1,h=void 0;try{for(var c,d=r[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;if(0!==u.index){var p=this.getPreviousIndex(r,u.index-1,e);t=this.getControlPoints(r[p],u,this.splinePoints[p],this.splinePoints[u.index],e),e.drawPoints.push(t);var m=e.yMax-e.yMin;u.yValue&&t.controlPoint1.y&&t.controlPoint2.y&&m>1&&(e.yMin=Math.floor(Math.min(e.yMin,u.yValue,t.controlPoint1.y,t.controlPoint2.y)),e.yMax=Math.ceil(Math.max(e.yMax,u.yValue,t.controlPoint1.y,t.controlPoint2.y)))}}}catch(g){l=!0,h=g}finally{try{a||null==d.return||d.return()}finally{if(l)throw h}}"PolarRadar"===e.chart.chartAreaType&&e.isClosed&&(t=this.getControlPoints({xValue:r[r.length-1].xValue,yValue:r[r.length-1].yValue},{xValue:r[r.length-1].xValue+1,yValue:r[0].yValue},this.splinePoints[0],this.splinePoints[r[r.length-1].index],e),e.drawPoints.push(t))}}},{key:"getPreviousIndex",value:function(e,t,i){if("Drop"!==i.emptyPointSettings.mode)return t;for(;Object(c.W)(e[t])&&t>-1;)t-=1;return t}},{key:"getNextIndex",value:function(e,t,i){if("Drop"!==i.emptyPointSettings.mode)return t;for(;Object(c.W)(e[t])&&t<e.length;)t+=1;return t}},{key:"filterEmptyPoints",value:function(e){if("Drop"!==e.emptyPointSettings.mode&&this.isPointInRange(e.points))return e.points;for(var t=Object(c.J)([],e.points,null,!0),i=0;i<t.length;i++)t[i].index=i,t[i].isEmpty&&(t[i].symbolLocations=[],t[i].regions=[],t.splice(i,1),i--);return t}},{key:"isPointInRange",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){if(!r.value.isPointInRange)return!1}}catch(s){i=!0,n=s}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}return!0}},{key:"findSplineCoefficients",value:function(e,t){var i,n,r,o,s,a,l,h=e.length,c=[],d=[],u=[],p=[],m=[],g=t.cardinalSplineTension?t.cardinalSplineTension:.5;switch(g=g<0?0:g>1?1:g,t.splineType){case"Monotonic":for(var v=0;v<h-1;v++)u[v]=e[v+1].xValue-e[v].xValue,p[v]=e[v+1].yValue-e[v].yValue,m[v]=p[v]/u[v];l=m.length,c[0]=m[0],c[h-1]=m[l-1];for(var y=0;y<u.length;y++)l>y+1&&(m[y]*m[y+1]<=0?c[y+1]=0:(a=u[y]+u[y+1],c[y+1]=3*a/((a+u[y+1])/m[y]+(a+u[y])/m[y+1])));break;case"Cardinal":for(var f=0;f<h;f++)c[f]=0===f?h>2?g*(e[f+2].xValue-e[f].xValue):0:f===h-1?h>2?g*(e[h-1].xValue-e[h-3].xValue):0:g*(e[f+1].xValue-e[f-1].xValue);break;default:"Clamped"===t.splineType?(c[0]=3*(e[1].yValue-e[0].yValue)/(e[1].xValue-e[0].xValue)-3,d[0]=.5,c[e.length-1]=3*(e[e.length-1].yValue-e[e.length-2].yValue)/(e[e.length-1].xValue-e[e.length-2].xValue),c[0]=d[0]=Math.abs(c[0])===1/0?0:c[0],c[e.length-1]=d[e.length-1]=Math.abs(c[e.length-1])===1/0?0:c[e.length-1]):(c[0]=d[0]=0,c[e.length-1]=0);for(var b=1;b<h-1;b++)if(i=e[b].xValue-e[b-1].xValue,n=e[b+1].xValue-e[b-1].xValue,r=e[b+1].xValue-e[b].xValue,o=e[b+1].yValue-e[b].yValue||null,s=e[b].yValue-e[b-1].yValue||null,0===i||0===n||0===r)c[b]=0,d[b]=0;else{var x=1/(i*c[b-1]+2*n);c[b]=-x*r,d[b]=x*(6*(o/r-s/i)-i*d[b-1])}for(var _=h-2;_>=0;_--)c[_]=c[_]*c[_+1]+d[_]}return c}},{key:"getControlPoints",value:function(e,t,i,n,r){var o,s,a,l=i,h=n,c=e.xValue,d=e.yValue,u=t.xValue,p=t.yValue;switch(r.splineType){case"Cardinal":"DateTime"===r.xAxis.valueType&&(l=i/this.dateTimeInterval(r),h=n/this.dateTimeInterval(r)),o=new Wi(c+i/3,d+l/3),s=new Wi(u-n/3,p-h/3),a=new Gi(o,s);break;case"Monotonic":var m=(u-c)/3;o=new Wi(c+m,d+i*m),s=new Wi(u-m,p-n*m),a=new Gi(o,s);break;default:var g=u-c,v=1/3*(d+2*p-1/3*(g*=g)*(.5*i+n));o=new Wi((2*c+u)*(1/3),1/3*(2*d+p-1/3*g*(i+.5*n))),s=new Wi((c+2*u)*(1/3),v),a=new Gi(o,s)}return a}},{key:"dateTimeInterval",value:function(e){var t=e.xAxis.actualIntervalType;return"Years"===t?31536e6:"Months"===t?2592e6:"Days"===t?864e5:"Hours"===t?36e5:"Minutes"===t?6e4:"Seconds"===t?1e3:2592e6}},{key:"doAnimation",value:function(e){this.doLinearAnimation(e,e.animation)}}]),t}(wn),Pn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initSeriesCollection",value:function(e,t){e.targetSeries=[];var i=new on(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,e.type,e.fill,e.width,t)}},{key:"setSeriesProperties",value:function(e,t,i,n,r,o){e.name=i.length<=4?i.toLocaleUpperCase():i,e.xName="x",e.yName="y",e.fill=n||"#606eff",e.dashArray=t.dashArray,e.width=r,e.xAxisName=t.xAxisName,e.animation=t.animation,e.yAxisName=t.yAxisName,e.clipRectElement=t.clipRectElement,e.points=[],e.enableTooltip=!0,e.interior=e.fill,e.category="Indicator",e.index=t.index,e.chart=o,e.xMin=1/0,e.xMax=-1/0,e.yMin=1/0,e.yMax=-1/0,e.xData=[],e.yData=[],e.marker.visible=!1,t.targetSeries.push(e)}},{key:"createIndicatorElements",value:function(e,t,i){(t.seriesName||t.dataSource)&&jt(t.targetSeries[0]);var n=new v(0,0,0,0);(t.seriesName||t.dataSource)&&(n=t.targetSeries[0].clipRect);var r=new Bi(e.element.id+"_ChartIndicatorClipRect_"+i,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:n.width,height:n.height}),o=Vt(e.redraw,r,e.renderer);t.indicatorElement=e.renderer.createGroup({id:e.element.id+"IndicatorGroup"+i,transform:"translate("+n.x+","+n.y+")","clip-path":"url(#"+e.element.id+"_ChartIndicatorClipRect_"+i+")"}),t.indicatorElement.appendChild(o);var s=!0,a=!1,l=void 0;try{for(var h,c=t.targetSeries[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;d.clipRectElement=o;var u=d.chart.renderer.createGroup({id:d.chart.element.id+"_Indicator_"+t.index+"_"+d.name+"_Group"});t.indicatorElement.appendChild(u),d.seriesElement=u}}catch(p){a=!0,l=p}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}e.indicatorElements.appendChild(t.indicatorElement)}},{key:"getDataPoint",value:function(e,t,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=new Ki;return s.x=e,s.y=t,s.xValue=i.xValue,s.color=n.fill,s.index=r,s.yValue=t,s.visible=!0,n.xMin=Math.min(n.xMin,s.xValue),n.yMin=Math.min(n.yMin,s.yValue),n.xMax=Math.max(n.xMax,s.xValue),n.yMax=Math.max(n.yMax,s.yValue),n.xData.push(s.xValue),o&&"Macd"===o.type&&"Column"===n.type&&(s.color=s.y>=0?o.macdPositiveColor:o.macdNegativeColor),s}},{key:"getRangePoint",value:function(e,t,i,n,r,o){arguments.length>6&&void 0!==arguments[6]&&arguments[6];var s=new Ki;return s.x=e,s.high=t,s.low=i,s.xValue=n.xValue,s.color=r.fill,s.index=o,s.visible=!0,r.xData.push(s.xValue),s}},{key:"setSeriesRange",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i?i.points=e:t.targetSeries[0].points=e}}]),t}(wn),An=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).element=i.chart.element,i.textStyle=e.tooltip.textStyle,i.control=e,i}return _inherits(t,e),_createClass(t,[{key:"getElement",value:function(e){return document.getElementById(e)}},{key:"getTooltipElement",value:function(e){this.inverted=this.chart.requireInvertedAxis,this.header=null===this.control.tooltip.header?this.control.tooltip.shared?"<b>${point.x}</b>":"<b>${series.name}</b>":this.control.tooltip.header,this.formattedText=[];var t=document.getElementById(this.chart.element.id+"_tooltip"),i=this.chart.element.id.indexOf("stockChart")>-1;return!e&&!t||i?this.createElement():null}},{key:"createElement",value:function(){var e=document.createElement("div");return e.id=this.element.id+"_tooltip",e.className="ejSVGTooltip",e.setAttribute("style","pointer-events:none; position:absolute;z-index: 1"),e}},{key:"pushData",value:function(e,t,i,n){return!!e.series.enableTooltip&&(this.currentPoints.push(e),this.stopAnimation(),i&&!document.getElementById(i.id)&&(this.chart.stockChart?document.getElementById(this.chart.stockChart.element.id+"_Secondary_Element").appendChild(i):document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),!0)}},{key:"removeHighlight",value:function(e){for(var t,i=0,n=this.previousPoints.length;i<n;i++)(t=this.previousPoints[i]).series.isRectSeries?t.series.visible&&this.highlightPoint(t.series,t.point.index,!1):t.series.marker.visible||"Scatter"===t.series.type||"Bubble"===t.series.type||(this.previousPoints.shift(),n-=1)}},{key:"highlightPoint",value:function(e,t,i){var n=this.getElement(this.element.id+"_Series_"+e.index+"_Point_"+t);n&&n.setAttribute("opacity",(i?e.opacity/2:e.opacity).toString())}},{key:"highlightPoints",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,r=this.currentPoints[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;o.series.isRectSeries&&"Series"===o.series.category&&this.highlightPoint(o.series,o.point.index,!0)}}catch(s){t=!0,i=s}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}}},{key:"createTooltip",value:function(e,t,i,n,r,o,s,a){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10?arguments[10]:void 0,d=this.currentPoints[0].series,u=e.tooltipModule||e.accumulationTooltipModule;u&&(t?this.svgTooltip=new E({opacity:e.tooltip.opacity,header:this.headerText,content:this.text,fill:e.tooltip.fill,border:e.tooltip.border,enableAnimation:e.tooltip.enableAnimation,location:i,shared:e.tooltip.shared,shapes:o,clipBounds:"PolarRadar"===this.chart.chartAreaType?new Wi(0,0):n,areaBounds:a,palette:this.findPalette(),template:c||e.tooltip.template,data:h,theme:e.theme,offset:s,textStyle:e.tooltip.textStyle,isNegative:d.isRectSeries&&"Waterfall"!==d.type&&r&&r.y<0,inverted:this.chart.requireInvertedAxis&&d.isRectSeries,arrowPadding:this.text.length>1||this.chart.stockChart?0:12,availableSize:e.availableSize,duration:this.chart.tooltip.duration,isCanvas:this.chart.enableCanvas,isTextWrap:e.tooltip.enableTextWrap&&"chart"===e.getModuleName(),blazorTemplate:{name:"Template",parent:this.chart.tooltip},tooltipRender:function(){u.removeHighlight(u.control),u.highlightPoints(),u.updatePreviousPoint(l)},animationComplete:function(t){t.tooltip.fadeOuted&&u.fadeOut(u.previousPoints,e)}},"#"+this.element.id+"_tooltip"):this.svgTooltip&&(this.svgTooltip.location=i,this.svgTooltip.content=this.text,this.svgTooltip.header=this.headerText,this.svgTooltip.offset=s,this.svgTooltip.palette=this.findPalette(),this.svgTooltip.shapes=o,this.svgTooltip.data=h,this.svgTooltip.template=e.tooltip.template,this.svgTooltip.textStyle=e.tooltip.textStyle,this.svgTooltip.isNegative=d.isRectSeries&&"Waterfall"!==d.type&&r&&r.y<0,this.svgTooltip.clipBounds="PolarRadar"===this.chart.chartAreaType?new Wi(0,0):n,this.svgTooltip.arrowPadding=this.text.length>1||this.chart.stockChart?0:12,this.svgTooltip.dataBind()))}},{key:"findPalette",value:function(){var e=[],t=!0,i=!1,n=void 0;try{for(var r,o=this.currentPoints[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;e.push(this.findColor(s,s.series))}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}return e}},{key:"findColor",value:function(e,t){return!t.isRectSeries||"Candle"!==t.type&&"Hilo"!==t.type&&"HiloOpenClose"!==t.type?(e.point.color&&"#ffffff"!==e.point.color?e.point.color:e.point.interior)||t.marker.fill||t.interior:e.point.color}},{key:"updatePreviousPoint",value:function(e){e&&(this.currentPoints=this.currentPoints.concat(e)),this.previousPoints=Object(c.J)([],this.currentPoints,null,!0)}},{key:"fadeOut",value:function(e,t){var i=this.getElement(this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg");i&&parseInt(i.getAttribute("opacity"),10)>0||(this.valueX=null,this.valueY=null,this.currentPoints=[],this.removeHighlight(t),this.removeHighlightedMarker(e),this.svgTooltip=null,this.control.trigger("animationComplete",{}))}},{key:"removeHighlightedMarker",value:function(e){if(this.chart.markerRender){var t=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;ht(this.element.id+"_Series_"+s.series.index+"_Point_"+s.point.index+"_Trackball")}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}this.chart.markerRender.removeHighlightedMarker()}this.previousPoints=[]}},{key:"removeText",value:function(){this.textElements=[];var e=this.getElement(this.element.id+"_tooltip_group");if(e&&e.childNodes.length>0)for(;e.lastChild&&1!==e.childNodes.length;)e.removeChild(e.lastChild)}},{key:"stopAnimation",value:function(){ii(this.toolTipInterval)}},{key:"removeTooltip",value:function(e){var t=this,i=this.getElement(this.element.id+"_tooltip");this.stopAnimation(),i&&this.previousPoints.length>0&&(this.toolTipInterval=setTimeout((function(){t.svgTooltip&&t.svgTooltip.fadeOut()}),e))}}]),t}(Ui),Rn=function(){function e(t){_classCallCheck(this,e),this.iconRectOverFill="transparent",this.iconRectSelectionFill="transparent",this.chart=t,this.elementId=t.element.id,this.chart.svgRenderer=new d(this.elementId),this.selectionColor="Bootstrap4"===t.theme?"#FFFFFF":"#ff4081",this.fillColor="Bootstrap4"===t.theme?"#495057":"#737373",this.iconRectOverFill="Bootstrap4"===t.theme?"#5A6268":this.iconRectOverFill,this.iconRectSelectionFill="Bootstrap4"===t.theme?"#5B6269":this.iconRectSelectionFill,this.iconRect="Bootstrap4"===t.theme?new v(-5,-5,26,26):new v(0,0,16,16)}return _createClass(e,[{key:"createPanButton",value:function(e,t,i){var n=this.chart.svgRenderer,r=this.chart.zoomModule.isPanning?this.selectionColor:this.fillColor;e.id=this.elementId+"_Zooming_Pan",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Pan")),this.panElements=e,e.appendChild(n.drawRectangle(new Bi(this.elementId+"_Zooming_Pan_1","transparent",{},1,this.iconRect))),e.appendChild(n.drawPath(new P(this.elementId+"_Zooming_Pan_2",r,null,null,1,null,"M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z"),null)),t.appendChild(e),this.wireEvents(e,this.pan)}},{key:"createZoomButton",value:function(e,t,i){var n=this.chart.svgRenderer,r=this.chart.zoomModule.isPanning?this.fillColor:this.selectionColor,o=this.chart.zoomModule.isPanning?"transparent":this.iconRectSelectionFill;e.id=this.elementId+"_Zooming_Zoom",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Zoom")),this.zoomElements=e,this.selectedID=this.chart.zoomModule.isPanning?this.chart.element.id+"_Zooming_Pan_1":this.elementId+"_Zooming_Zoom_1",e.appendChild(n.drawRectangle(new Bi(this.elementId+"_Zooming_Zoom_1",o,{},1,this.iconRect))),e.appendChild(n.drawPath(new P(this.elementId+"_Zooming_Zoom_3",r,null,null,1,null,"M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z"))),t.appendChild(e),this.wireEvents(e,this.zoom)}},{key:"createZoomInButton",value:function(e,t,i){var n=this.chart.svgRenderer,r=this.fillColor;e.id=this.elementId+"_Zooming_ZoomIn",e.setAttribute("aria-label",this.chart.getLocalizedLabel("ZoomIn")),e.appendChild(n.drawRectangle(new Bi(this.elementId+"_Zooming_ZoomIn_1","transparent",{},1,this.iconRect))),e.appendChild(n.drawPath(new P(this.elementId+"_Zooming_ZoomIn_2",r,null,null,1,null,"M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z"),null)),e.appendChild(n.drawPolygon(new Fi(this.elementId+"_Zooming_ZoomIn_3","12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466",r))),this.zoomInElements=e,this.elementOpacity=i.zoomModule.isPanning?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),t.appendChild(e),this.wireEvents(e,this.zoomIn)}},{key:"createZoomOutButton",value:function(e,t,i){var n=this.chart.svgRenderer,r=this.fillColor;e.id=this.elementId+"_Zooming_ZoomOut",e.setAttribute("aria-label",this.chart.getLocalizedLabel("ZoomOut")),e.appendChild(n.drawRectangle(new Bi(this.elementId+"_Zooming_ZoomOut_1","transparent",{},1,this.iconRect))),e.appendChild(n.drawPath(new P(this.elementId+"_Zooming_ZoomOut_2",r,null,null,1,null,"M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z"),null)),this.zoomOutElements=e,this.elementOpacity=i.zoomModule.isPanning?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),t.appendChild(e),this.wireEvents(e,this.zoomOut)}},{key:"createResetButton",value:function(e,t,i,n){var r,o=this.chart.svgRenderer,s=this.fillColor;e.id=this.elementId+"_Zooming_Reset",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Reset")),n?(r=p(this.chart.getLocalizedLabel("ResetZoom"),{size:"12px"}),e.appendChild(o.drawRectangle(new Bi(this.elementId+"_Zooming_Reset_1","transparent",{},1,new v(0,0,r.width,r.height)))),gi(i.renderer,new b(this.elementId+"_Zooming_Reset_2",0+r.width/2,0+3*r.height/4,"middle",this.chart.getLocalizedLabel("ResetZoom"),"rotate(0,0,0)","auto"),{size:"12px"},"black",e)):(e.appendChild(o.drawRectangle(new Bi(this.elementId+"_Zooming_Reset_1","transparent",{},1,this.iconRect))),e.appendChild(o.drawPath(new P(this.elementId+"_Zooming_Reset_2",s,null,null,1,null,"M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z"),null))),t.appendChild(e),this.wireEvents(e,this.reset)}},{key:"wireEvents",value:function(e,t){c.l.add(e,"mousedown touchstart",t,this),c.l.add(e,"mouseover",this.showTooltip,this),c.l.add(e,"mouseout",this.removeTooltip,this)}},{key:"showTooltip",value:function(e){var t=e.currentTarget.id.split("_Zooming_")[1],i=e.pageX-(p(t,{size:"10px"}).width+5),n=Yt(e.currentTarget.id+"_1"),r=Yt(e.currentTarget.id+"_2"),o=Yt(e.currentTarget.id+"_3");n&&(this.hoveredID=n.id,n.setAttribute("fill",this.iconRectOverFill)),r&&r.setAttribute("fill",this.selectionColor),o&&o.setAttribute("fill",this.selectionColor),this.chart.isTouch||function(e,t,i,n,r){var o=Yt(e),s="top:"+i.toString()+"px;left:"+n.toString()+"px;color:black !important; background:#FFFFFF !important; position:absolute;border:1px solid #707070;font-size:10px;border-radius:2px; z-index:1";o?(o.setAttribute("innerHTML","&nbsp;"+t+"&nbsp;"),o.setAttribute("styles",s)):(o=Object(c.F)("div",{id:e,innerHTML:"&nbsp;"+t+"&nbsp;",styles:s}),document.body.appendChild(o))}("EJ2_Chart_ZoomTip",this.chart.getLocalizedLabel(t),e.pageY+10,i)}},{key:"removeTooltip",value:function(){if(Yt(this.hoveredID)){var e=this.chart.zoomModule.isPanning?this.hoveredID.indexOf("_Pan_")>-1?this.iconRectSelectionFill:"transparent":this.hoveredID.indexOf("_Zoom_")>-1?this.iconRectSelectionFill:"transparent";Yt(this.hoveredID).setAttribute("fill",e)}var t=this.hoveredID?Yt(this.hoveredID.replace("_1","_2")):null,i=this.hoveredID?Yt(this.hoveredID.replace("_1","_3")):null;if(t){var n=this.chart.zoomModule.isPanning?this.hoveredID.indexOf("_Pan_")>-1?this.selectionColor:this.fillColor:this.hoveredID.indexOf("_Zoom_")>-1?this.selectionColor:this.fillColor;t.setAttribute("fill",n)}if(i){var r=this.chart.zoomModule.isPanning?this.fillColor:this.hoveredID.indexOf("_Zoom_")>-1?this.selectionColor:this.fillColor;i.setAttribute("fill",r)}ht("EJ2_Chart_ZoomTip")}},{key:"reset",value:function(){var e,t,i=this,n=this.chart;n.zoomModule.isDevice||Object(c.gb)(n.zoomModule.toolkitElements),this.removeTooltip(),n.svgObject.setAttribute("cursor","auto");var r=[],o=!0,s=!1,a=void 0;try{for(var l,h=n.axisCollections[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var d=l.value;e={cancel:!1,name:"zoomComplete",axis:d,previousZoomFactor:d.zoomFactor,previousZoomPosition:d.zoomPosition,currentZoomFactor:1,currentZoomPosition:0},d.zoomFactor=1,d.zoomPosition=0,d.zoomingScrollBar&&(d.zoomingScrollBar.isScrollUI=!1),n.trigger("zoomComplete",e),e.cancel||(d.zoomFactor=e.currentZoomFactor,d.zoomPosition=e.currentZoomPosition),r.push({zoomFactor:d.zoomFactor,zoomPosition:d.zoomFactor,axisName:d.name,axisRange:d.visibleRange})}}catch(u){s=!0,a=u}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}return!(t={cancel:!1,axisCollection:r,name:"onZooming"}).cancel&&this.chart.isBlazor?(this.chart.trigger("onZooming",t,(function(){i.setDefferedZoom(n)})),!1):this.setDefferedZoom(n)}},{key:"setDefferedZoom",value:function(e){return e.disableTrackTooltip=!1,e.zoomModule.isZoomed=e.zoomModule.isPanning=e.isChartDrag=e.delayRedraw=!1,e.zoomModule.touchMoveList=e.zoomModule.touchStartList=[],e.zoomModule.pinchTarget=null,e.removeSvg(),e.refreshAxis(),e.refreshBound(),this.elementOpacity="1",!1}},{key:"zoomIn",value:function(e){return this.zoomInOutCalculation(1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode),!1}},{key:"zoomOut",value:function(e){return this.zoomInOutCalculation(-1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode),!1}},{key:"zoom",value:function(e){return this.chart.zoomModule.isPanning=!1,this.elementOpacity="1",this.chart.svgObject.setAttribute("cursor","auto"),this.zoomInElements.setAttribute("opacity",this.elementOpacity),this.zoomOutElements.setAttribute("opacity",this.elementOpacity),this.applySelection(this.zoomElements.childNodes,this.selectionColor),this.applySelection(this.panElements.childNodes,"#737373"),Yt(this.selectedID)&&Yt(this.selectedID).setAttribute("fill","transparent"),this.selectedID=this.chart.element.id+"_Zooming_Zoom_1",Yt(this.selectedID).setAttribute("fill",this.iconRectSelectionFill),!1}},{key:"pan",value:function(){return this.chart.zoomModule.isPanning=!0,this.chart.svgObject.setAttribute("cursor","pointer"),this.elementOpacity="0.2",this.zoomInElements?this.zoomInElements.setAttribute("opacity",this.elementOpacity):null,this.zoomOutElements?this.zoomOutElements.setAttribute("opacity",this.elementOpacity):null,this.panElements?this.applySelection(this.panElements.childNodes,this.selectionColor):null,this.zoomElements?this.applySelection(this.zoomElements.childNodes,"#737373"):null,Yt(this.selectedID)&&Yt(this.selectedID).setAttribute("fill","transparent"),this.selectedID=this.chart.element.id+"_Zooming_Pan_1",Yt(this.selectedID).setAttribute("fill",this.iconRectSelectionFill),!1}},{key:"zoomInOutCalculation",value:function(e,t,i,n){if(!t.zoomModule.isPanning&&"0.2"!==this.elementOpacity){var r,o,s,a;t.disableTrackTooltip=!0,t.delayRedraw=!0;var l=!0,h=!1,c=void 0;try{for(var d,u=i[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;a={cancel:!1,name:"zoomComplete",axis:p,previousZoomFactor:p.zoomFactor,previousZoomPosition:p.zoomPosition,currentZoomFactor:p.zoomFactor,currentZoomPosition:p.zoomPosition},("Horizontal"===p.orientation&&"Y"!==n||"Vertical"===p.orientation&&"X"!==n)&&(r=1===(s=Math.max(Math.max(1/Gt(p.zoomFactor,0,1),1)+.25*e,1))?1:Gt(1/s,0,1),o=1===s?0:p.zoomPosition+.5*(p.zoomFactor-r),p.zoomPosition===o&&p.zoomFactor===r||(r=o+r>1?1-o:r),a.currentZoomFactor=r,a.currentZoomPosition=o,t.trigger("zoomComplete",a),a.cancel||(p.zoomFactor=a.currentZoomFactor,p.zoomPosition=a.currentZoomPosition))}}catch(m){h=!0,c=m}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}}}},{key:"applySelection",value:function(e,t){for(var i=1,n=e.length;i<n;i++)e[i].setAttribute("fill",t)}}]),e}(),Tn=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).isdrawRect=!0,i.multiDataIndexes=[],i.pathIndex=0,i.seriesIndex=0,i.count=-1,i.dragRectArray=[],i.filterArray=[],i.totalSelectedPoints=[],i.chart=e,i.renderer=e.renderer,i.isMultiDrag=e.isMultiSelect&&e.selectionMode.indexOf("Drag")>-1,i.addEventListener(),i}return _inherits(t,e),_createClass(t,[{key:"addEventListener",value:function(){if(!(this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning)){var e=c.d.isPointer?"pointerleave":"mouseleave";this.chart.on(c.d.touchMoveEvent,this.mouseMove,this),this.chart.on(e,this.completeSelection,this),this.chart.on("click",this.calculateSelectedElements,this),this.chart.on(c.d.touchStartEvent,this.mousedown,this),this.chart.on(c.d.touchEndEvent,this.completeSelection,this)}}},{key:"mousedown",value:function(e){var t=this.chart;t.isPointMouseDown||"None"===t.selectionMode||t.isChartDrag||(t.isDoubleTap||!t.isTouch||this.rectPoints)&&this.dragStart(t,t.chartAxisLayoutPanel.seriesClipRect,t.mouseDownX,t.mouseDownY,e)}},{key:"removeEventListener",value:function(){this.chart.isDestroyed||(this.chart.off(c.d.touchMoveEvent,this.mouseMove),this.chart.off("pointerleave",this.completeSelection),this.chart.off("click",this.calculateSelectedElements),this.chart.off(c.d.touchStartEvent,this.mousedown),this.chart.off(c.d.touchEndEvent,this.completeSelection))}},{key:"initPrivateVariables",value:function(e){this.styleId=e.element.id+"_ej2_chart_selection",this.unselected=e.element.id+"_ej2_deselected",this.closeIconId=e.element.id+"_ej2_drag_close",this.draggedRectGroup=e.element.id+"_ej2_drag_group",this.multiRectGroup=e.element.id+"_ej2_drag_multi_group",this.draggedRect=e.element.id+"_ej2_drag_rect",this.lassoPath=e.element.id+"_ej2_drag_path",this.selectedDataIndexes=[],this.rectPoints=null,this.isSeriesMode="Series"===e.selectionMode}},{key:"invokeSelection",value:function(e){this.initPrivateVariables(e),this.series=Object(c.J)({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.selectionMode,e.selectionMode.indexOf("Drag")>-1||this.selectDataIndex(e,this.concatIndexes(e.selectedDataIndexes,this.selectedDataIndexes))}},{key:"generateStyle",value:function(e){return e?(this.styleId.indexOf("selection")>1&&"None"!==this.chart.selectionMode&&(this.unselected=e.unSelectedStyle||this.unselected),this.styleId.indexOf("highlight")>0&&"None"!==this.chart.highlightMode&&(this.unselected=e.nonHighlightStyle||this.unselected),e.selectionStyle||this.styleId+"_series_"+e.index):"undefined"}},{key:"selectDataIndex",value:function(e,t){var i=!0,n=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;this.performSelection(a,e,this.getElementByIndex(e,a)[0])}}catch(l){n=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}}},{key:"getElementByIndex",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=e.element.id+"_Series_"+t.series+"_Point_"+t.point,r=e.series[t.series];return[Yt(n=!r.isRectSeries&&"Scatter"!==r.type&&"Bubble"!==r.type&&r.marker.visible?n+"_Symbol"+i:n),"RangeArea"===r.type&&r.marker.visible?Yt(n+"1"):null]}},{key:"getClusterElements",value:function(e,t){var i,n,r=[],o=!0,s=!1,a=void 0;try{for(var l,h=e.visibleSeries[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;t=new Re(c.index,t.point),r.push(this.getElementByIndex(e,t)[0]),i=this.generateStyle(e.visibleSeries[t.series]),n=document.querySelectorAll("."+i),this.findTrackballElements(n,i),!e.isMultiSelect&&n.length>0&&n[0].id!==r[t.series].id&&this.removeSelection(e,t.series,n,i,!0)}}catch(d){s=!0,a=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}return r}},{key:"findTrackballElements",value:function(e,t){for(var i,n,r=0;r<e.length;r++)if(!Object(c.W)(e[r])&&(i=Object(c.W)(e[r].parentNode)?[]:[].slice.call(e[0].parentNode.querySelectorAll("."+t))).length>0){n=[];for(var o=0;o<i.length;o++)i[o].id.indexOf("Trackball")>-1&&n.push(i[o]);this.removeStyles(n)}}},{key:"findElements",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this.isSeriesMode?this.getSeriesElements(t):"Cluster"===this.currentMode?this.getClusterElements(e,i):this.getElementByIndex(e,i,n)}},{key:"isAlreadySelected",value:function(e){var t=e.target;if("click"===e.type?(this.currentMode=this.chart.selectionMode,this.styleId=this.chart.element.id+"_ej2_chart_selection"):"mousemove"===e.type&&(this.currentMode=this.chart.highlightMode,this.highlightDataIndexes=[],this.styleId=this.chart.element.id+"_ej2_chart_highlight"),"None"!==this.chart.highlightMode&&"None"===this.chart.selectionMode&&"click"===e.type)return!1;if("None"!==this.chart.highlightMode&&this.previousSelectedEle&&this.previousSelectedEle[0]){var i,n=t.parentNode.id;t.parentNode&&(i=n.indexOf("SeriesGroup")>0||n.indexOf("SymbolGroup")>0);for(var r=0;r<this.previousSelectedEle.length;r++)this.previousSelectedEle[r].hasAttribute("class")&&(this.previousSelectedEle[r].getAttribute("class").indexOf("highlight")>-1&&(i||"click"===e.type)?(this.previousSelectedEle[r].removeAttribute("class"),this.addOrRemoveIndex(this.highlightDataIndexes,this.indexFinder(this.previousSelectedEle[r].id))):!i&&this.previousSelectedEle[r].getAttribute("class").indexOf("highlight")>-1&&this.performSelection(this.indexFinder(this.previousSelectedEle[r].id),this.chart,this.previousSelectedEle[r]))}return!0}},{key:"calculateSelectedElements",value:function(e){if(!Object(c.W)(e.target)){var t=e.target;if(("None"!==this.chart.selectionMode||"None"!==this.chart.highlightMode)&&-1!==t.id.indexOf(this.chart.element.id+"_")){if("mousemove"===e.type){if(t.hasAttribute("class")&&(t.getAttribute("class").indexOf("highlight")>-1||t.getAttribute("class").indexOf("selection")>-1))return;if(!Object(c.W)(t.parentNode)&&t.parentNode.hasAttribute("class")&&(t.parentNode.getAttribute("class").indexOf("highlight")>0||t.parentNode.getAttribute("class").indexOf("selection")>0))return}if(this.isAlreadySelected(e),t.id.indexOf("_Series_")>-1){var i;if(t.id.indexOf("_Trackball_1")>-1)i=Yt(t.id.split("_Trackball_")[0]+"_Symbol"),i=Object(c.W)(i)?Yt(t.id.split("_Trackball_")[0]):i;else if(t.id.indexOf("_Trackball_0")>-1)return null;this.performSelection(this.indexFinder(t.id),this.chart,i||t)}}}}},{key:"performSelection",value:function(e,t,i){if(this.isSeriesMode="Series"===this.currentMode,"BoxAndWhisker"===t.series[e.series].type&&i.id===t.element.id+"_Series_"+e.series+"_Point_"+e.point+"_BoxPath"&&(i=i.parentNode),"Area"===t.series[e.series].type&&("Point"===this.currentMode||"Cluster"===this.currentMode)&&i.id===this.chart.element.id+"_Series_"+e.series){var n=this.generateStyle(t.series[e.series]),r=document.querySelectorAll("."+n);this.findTrackballElements(r,n),this.blurEffect(t.element.id,t.visibleSeries)}switch(this.currentMode){case"Series":this.selection(t,e,this.getSeriesElements(t.series[e.series])),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries);break;case"Point":isNaN(e.point)||(this.selection(t,e,[i]),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries));break;case"Cluster":isNaN(e.point)||(this.clusterSelection(t,e),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries))}}},{key:"selectionComplete",value:function(e,t,i){var n,r,o,s,a,l=[];if("Cluster"===i){var h=!0,c=!1,d=void 0;try{for(var u,p=e.visibleSeries[Symbol.iterator]();!(h=(u=p.next()).done);h=!0){var m=u.value;if(m.visible)for(var g=0;g<this.selectedDataIndexes.length;g++)r=e.isMultiSelect?this.selectedDataIndexes[g].point:t.point,o=m.index,n=m.points,isNaN(r)||(s="RangeArea"!==m.type?n[r].yValue:n[r].regions[0].y,a=n[r].xValue,"Category"===e.primaryXAxis.valueType?a=n[r].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(a=new Date(n[r].xValue)),"Indicator"!==m.category&&l.push({x:a,y:s,seriesIndex:o,pointIndex:r}),"RangeArea"===m.type&&l.push({x:a,y:n[r].regions[0].y,seriesIndex:o,pointIndex:r}))}}catch(b){c=!0,d=b}finally{try{h||null==p.return||p.return()}finally{if(c)throw d}}}else if("Series"===i)if(e.isMultiSelect)for(var v=0;v<this.selectedDataIndexes.length;v++)o=this.selectedDataIndexes[v].series,l.push({seriesIndex:o});else o=this.selectedDataIndexes.length>0?this.selectedDataIndexes[0].series:0,l.push({seriesIndex:o});else if("Point"===i)for(var y=0;y<this.selectedDataIndexes.length;y++){r=this.selectedDataIndexes[y].point,o=this.selectedDataIndexes[y].series;var f=e.series[o];n=f.points,isNaN(r)||(a=n[r].xValue,s="RangeArea"!==f.type?n[r].yValue:n[r].regions[0].y,"Category"===e.primaryXAxis.valueType?a=n[r].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(a=new Date(n[r].xValue)),l.push({x:a,y:s,seriesIndex:o,pointIndex:r}))}e.trigger("selectionComplete",{name:"selectionComplete",selectedDataValues:l,cancel:!1})}},{key:"selection",value:function(e,t,i){arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("Lasso"!==this.currentMode&&(e.isMultiSelect||-1!==this.currentMode.indexOf("Drag")||-1!==this.styleId.indexOf("highlight")||"None"===e.selectionMode||this.removeMultiSelectElements(e,this.selectedDataIndexes,t,e.series)),!Object(c.W)(i[0])){var n,r=i[0]&&(i[0].getAttribute("class")||""),o=i[0].parentNode&&(i[0].parentNode.getAttribute("class")||"");""!==r&&"Cluster"!==this.currentMode&&this.findTrackballElements(i,r),i[0]&&r.indexOf(this.getSelectionClass(i[0].id))>-1?this.removeStyles(i):i[0].parentNode&&o.indexOf(this.getSelectionClass(i[0].id))>-1?this.removeStyles([i[0].parentNode]):(this.previousSelectedEle="None"!==e.highlightMode?i:[],this.applyStyles(i),n=!0),this.styleId.indexOf("highlight")>0&&"None"!==e.highlightMode?this.addOrRemoveIndex(this.highlightDataIndexes,t,n):this.addOrRemoveIndex(this.selectedDataIndexes,t,n)}}},{key:"clusterSelection",value:function(e,t){this.selection(e,t,this.getClusterElements(e,new Re(t.series,t.point)))}},{key:"removeMultiSelectElements",value:function(e,t,i,n){for(var r,o=0;o<t.length;o++)r=n[t[o].series],(this.isSeriesMode&&!this.toEquals(t[o],i,this.isSeriesMode)||"Cluster"===this.currentMode&&!this.toEquals(t[o],i,!1)||!this.isSeriesMode&&this.toEquals(t[o],i,!0)&&!this.toEquals(t[o],i,!1))&&(this.removeStyles(this.findElements(e,r,t[o])),t.splice(o,1),o--)}},{key:"blurEffect",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.checkVisibility(this.highlightDataIndexes)||this.checkVisibility(this.selectedDataIndexes),r=!0,o=!1,s=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;h.visible&&(this.checkSelectionElements(Yt(e+"SeriesGroup"+h.index),this.generateStyle(h),n,i,h.index),Object(c.W)(Yt(e+"SymbolGroup"+h.index))||this.checkSelectionElements(Yt(e+"SymbolGroup"+h.index),this.generateStyle(h),n,i,h.index))}}catch(d){o=!0,s=d}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}},{key:"checkSelectionElements",value:function(e,t,i,n,r){var o,s,a,l=this.isSeriesMode?[e]:e.childNodes;"None"!==this.chart.selectionMode&&"None"!==this.chart.highlightMode&&(l=e.children);for(var h=e,c=0;c<l.length;c++)o=l[c].getAttribute("class")||"",s=l[c].parentNode.getAttribute("class")||"","None"!==this.chart.selectionMode&&"None"!==this.chart.highlightMode&&(t=o.indexOf("selection")>0||o.indexOf("highlight")>0?o:t,t=s.indexOf("selection")>0||s.indexOf("highlight")>0?s:t),-1===o.indexOf(t)&&-1===s.indexOf(t)&&i?this.addSvgClass(l[c],this.unselected):(h=l[c],this.removeSvgClass(l[c],this.unselected),this.removeSvgClass(l[c].parentNode,this.unselected)),l[c].id.indexOf("Trackball")>0&&h.classList[0]===t&&(this.removeSvgClass(l[c],this.unselected),this.removeSvgClass(l[c].parentNode,this.unselected),this.addSvgClass(l[c],t));if(e.id.indexOf("Symbol")>-1&&e.querySelectorAll("."+t)[0]&&e.querySelectorAll("."+t)[0].getAttribute("class")===t){var d=Yt(this.control.element.id+"_Series_"+e.id[e.id.length-1]);(d&&d.hasAttribute("class")?d.getAttribute("class"):"").indexOf(this.unselected)>-1&&this.removeSvgClass(d,this.unselected)}this.control.legendModule&&this.control.legendSettings.visible&&((a=Yt(this.control.element.id+"_chart_legend_shape_"+r))&&(a.hasAttribute("class")&&this.removeSvgClass(a,a.getAttribute("class")),o=h.getAttribute("class")||"",s=h.parentNode.getAttribute("class")||"",-1===o.indexOf(t)&&-1===s.indexOf(t)&&i?(this.addSvgClass(a,this.unselected),this.removeSvgClass(a,t)):(this.removeSvgClass(a,this.unselected),""===o&&""===s||"EJ2-Trackball"===o.trim()?this.removeSvgClass(a,t):this.addSvgClass(a,t)),n&&s.indexOf(t)>-1&&this.addSvgClass(a,t)))}},{key:"applyStyles",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;s&&(this.removeSvgClass(s.parentNode,this.unselected),this.removeSvgClass(s,this.unselected),this.addSvgClass(s,this.getSelectionClass(s.id)))}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"getSelectionClass",value:function(e){return this.generateStyle(this.control.series[this.indexFinder(e).series])}},{key:"removeStyles",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;s&&this.removeSvgClass(s,this.getSelectionClass(s.id))}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"addOrRemoveIndex",value:function(e,t,i){for(var n=0;n<e.length;n++)this.toEquals(e[n],t,this.isSeriesMode)&&(e.splice(n,1),n--);i&&e.push(t)}},{key:"toEquals",value:function(e,t,i){return(e.series===t.series||"Cluster"===this.currentMode&&!i)&&(i||e.point===t.point)}},{key:"redrawSelection",value:function(e,t){this.isSeriesMode="Series"===t;var i=Object(c.J)([],this.selectedDataIndexes,null,!0),n=Object(c.J)([],this.highlightDataIndexes,null,!0);this.styleId.indexOf("highlight")>0&&n.length>0?(this.removeSelectedElements(e,this.highlightDataIndexes,e.series),i=n):this.removeSelectedElements(e,this.selectedDataIndexes,e.series),this.blurEffect(e.element.id,e.visibleSeries),this.selectDataIndex(e,i)}},{key:"legendSelection",value:function(e,t,i){var n=i.target;if("mousemove"===i.type){if(i.target.id.indexOf("text")>1&&(n=Yt(i.target.id.replace("text","shape"))),n.hasAttribute("class")&&(n.getAttribute("class").indexOf("highlight")>-1||n.getAttribute("class").indexOf("selection")>-1))return;this.currentMode=this.chart.highlightMode}if(this.isAlreadySelected(i)){var r=this.generateStyle(e.visibleSeries[t]),o=document.querySelectorAll("."+r);this.isSeriesMode="Series"===this.currentMode;if(o.length>0)this.removeSelection(e,t,o,r,!0);else{var s=!0,a=!1,l=void 0;try{for(var h,c=e.visibleSeries[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;d.index===t||e.isMultiSelect||(r=this.generateStyle(e.visibleSeries[d.index]),o=document.querySelectorAll("."+r),this.removeSelection(e,t,o,r,!0))}}catch(b){a=!0,l=b}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}var u=this.getSeriesElements(e.visibleSeries[t]),p=!0,m=!1,g=void 0;try{for(var v,y=u[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var f=v.value;this.checkSelectionElements(f,r,!1,!0,t)}}catch(b){m=!0,g=b}finally{try{p||null==y.return||y.return()}finally{if(m)throw g}}this.isSeriesMode=!0,this.selection(e,new Re(t,NaN),u,!0),this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries,!0)}}}},{key:"removeSelection",value:function(e,t,i,n,r){if(i.length>0){for(var o=[],s=0;s<i.length;s++)o.push(i[s]);this.removeStyles(o),this.isSeriesMode=!0,this.addOrRemoveIndex(this.selectedDataIndexes,new Re(t,NaN));var a=!0,l=!1,h=void 0;try{for(var c,d=e.visibleSeries[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;if(n=this.generateStyle(u),document.querySelectorAll("."+n).length>0){var p=!0,m=!1,g=void 0;try{for(var v,y=o[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var f=v.value;this.checkSelectionElements(f,n,!0,!0,t)}}catch(b){m=!0,g=b}finally{try{p||null==y.return||y.return()}finally{if(m)throw g}}r=!1;break}}}catch(b){l=!0,h=b}finally{try{a||null==d.return||d.return()}finally{if(l)throw h}}r&&(this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries))}}},{key:"getSeriesElements",value:function(e){var t=[e.seriesElement];return e.marker.visible&&"Scatter"!==e.type&&"Bubble"!==e.type&&!e.isRectSeries&&t.push(e.symbolElement),t}},{key:"indexFinder",value:function(e){var t=["NaN","NaN"];return e.indexOf("SeriesGroup")>-1?(t=e.split("SeriesGroup"))[0]=t[1]:e.indexOf("SymbolGroup")>-1?(t=e.split("SymbolGroup"))[0]=t[1]:e.indexOf("_Point_")>-1?t=e.split("_Series_")[1].split("_Point_"):e.indexOf("_Series_")>-1?t[0]=e.split("_Series_")[1]:e.indexOf("_chart_legend_shape_")>-1&&((t=e.split("_chart_legend_shape_"))[0]=t[1]),new Re(parseInt(t[0],10),parseInt(t[1],10))}},{key:"calculateDragSelectedElements",value:function(e,t,i){var n=this;this.removeSelectedElements(e,this.selectedDataIndexes,e.series);var r,o,s="Lasso"===e.selectionMode,a=new v(t.x,t.y,t.width,t.height),l=new Wi(e.chartAxisLayoutPanel.seriesClipRect.x,e.chartAxisLayoutPanel.seriesClipRect.y);this.removeOffset(a,l);var h=[],c=[];this.isSeriesMode=!1;var d=e.allowMultiSelection&&(this.rectGrabbing||this.resizing);if(this.rectPoints=this.dragRectArray[d?this.targetIndex:this.count]=new v(t.x,t.y,t.width,t.height),t.width&&t.height&&!i){var u=new v(t.x,t.y,t.width,t.height);this.removeOffset(u,l),this.filterArray[d?this.targetIndex:this.count]=u}var p=!0,m=!1,g=void 0;try{for(var y,f=e.visibleSeries[Symbol.iterator]();!(p=(y=f.next()).done);p=!0){var b=y.value;b.visible&&function(){var t=void 0,i=void 0;r=b.points,h=[],!e.isTransposed&&-1===b.type.indexOf("Bar")||e.isTransposed&&-1!==b.type.indexOf("Bar")?(t=b.xAxis.rect.x-l.x,i=b.yAxis.rect.y-l.y):(t=b.xAxis.rect.y-l.y,i=b.yAxis.rect.x-l.x);for(var s=0;s<r.length;s++){var d,u="RangeArea"!==b.type?r[s].yValue:r[s].regions[0].y,p=r[s].xValue;"Category"===e.primaryXAxis.valueType?p=r[s].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(p=new Date(r[s].xValue)),(d="BoxAndWhisker"===b.type?r[s].regions.some((function(e){return At(e.x+t,e.y+i,a)})):"Lasso"===e.selectionMode?r[s].isSelect:e.allowMultiSelection?n.isPointSelect(r[s],t,i,n.filterArray,l):r[s].symbolLocations.some((function(e){return e&&At(e.x+t,e.y+i,a)})))&&"Indicator"!==b.category&&(o=new Re(b.index,r[s].index),n.selection(e,o,n.findElements(e,b,o)),h.push({x:p,y:u})),d&&"RangeArea"===b.type&&h.push({x:p,y:r[s].regions[0].y})}c.push(h)}()}}catch(x){m=!0,g=x}finally{try{p||null==f.return||f.return()}finally{if(m)throw g}}this.blurEffect(e.element.id,e.visibleSeries),i||this.createCloseButton(s?e.mouseDownX:t.x+t.width,s?e.mouseDownY:t.y),e.trigger("dragComplete",{name:"dragComplete",selectedDataValues:c,cancel:!1})}},{key:"removeOffset",value:function(e,t){e.x-=t.x,e.y-=t.y}},{key:"isPointSelect",value:function(e,t,i,n,r){var o=e.symbolLocations[0],s=!0,a=!1,l=void 0;try{for(var h,c=n[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;if(d&&o&&At(o.x+t,o.y+i,d))return!0}}catch(u){a=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}return!1}},{key:"drawDraggingRect",value:function(e,t,i){var n=e.chartAxisLayoutPanel.seriesClipRect,r=e.chartArea.border.width,o=e.themeStyle.selectionRectFill,s=e.themeStyle.selectionRectStroke,a="Lasso"===e.selectionMode;switch(this.isdrawRect&&(n.x=n.x-r/2,n.y=n.y-r/2,n.width=n.width+r,n.height=n.height+r,this.isdrawRect=!1),e.selectionMode){case"DragX":t.y=n.y,t.height=n.height;break;case"DragY":t.x=n.x,t.width=n.width}if((t.width<5||t.height<5)&&!a)return null;var l=e.selectionMode.indexOf("Drag")>-1||"Lasso"===e.selectionMode;if(e.allowMultiSelection&&l){var h,d,u,p=Yt(this.multiRectGroup);if(p||(p=e.svgRenderer.createGroup({id:this.multiRectGroup}),e.svgObject.appendChild(p)),this.rectGrabbing||this.resizing)(u=Yt(this.resizing?this.draggedRect+this.targetIndex:i.id)).nextSibling&&Object(c.gb)(u.nextSibling),this.setAttributes(u,t);else if(!Yt(this.draggedRectGroup+this.count)){d=e.svgRenderer.createGroup({id:this.draggedRectGroup+this.count});var m=document.getElementById(e.element.id+"_series_svg");e.enableCanvas?m.appendChild(d):p.appendChild(d)}"Lasso"!==e.selectionMode?(h=e.svgRenderer.drawRectangle(new Bi(this.draggedRect+this.count,o,{color:s,width:1},1,t))).setAttribute("style","cursor:move;"):h=e.svgRenderer.drawPath(new P(this.lassoPath+this.count,o,3,s,1,"",this.path)),d||this.rectGrabbing||this.resizing?this.rectGrabbing||this.resizing||d.appendChild(h):Yt(this.draggedRectGroup+this.count).appendChild(h)}else{var g=Yt(a?this.lassoPath:this.draggedRect);if(this.closeIcon&&ht(this.closeIconId),g)a?g.setAttribute("d",this.path):this.setAttributes(g,t);else{var v=e.svgRenderer.createGroup({id:this.draggedRectGroup}),y=document.getElementById(e.element.id+"_series_svg");e.enableCanvas?y.appendChild(v):e.svgObject.appendChild(v),g="Lasso"!==e.selectionMode?e.svgRenderer.drawRectangle(new Bi(this.draggedRect,o,{color:s,width:1},1,t)):e.svgRenderer.drawPath(new P(this.lassoPath,o,3,s,1,"",this.path)),v.appendChild(g)}}}},{key:"getIndex",value:function(e){var t;for(t=e.length-1;t>0;t--){var i=Number(e[t]);if(isNaN(i))break}return+e.substr(t+1,e.length-1)}},{key:"createCloseButton",value:function(e,t){var i=this.chart.allowMultiSelection,n=this.chart.themeStyle.selectionCircleStroke,r=this.rectGrabbing||this.resizing,o=this.chart.svgRenderer.createGroup({id:this.closeIconId+(i?r?this.targetIndex:this.count:""),style:"cursor:pointer; visibility: visible;"});o.appendChild(this.chart.svgRenderer.drawCircle(new Vi(this.closeIconId+"_circle"+(i?r?this.targetIndex:this.count:""),"#FFFFFF",{color:n,width:1},1,e,t,10))),o.appendChild(this.chart.svgRenderer.drawPath({id:this.closeIconId+"_cross"+(i?r?this.targetIndex:this.count:""),d:"M "+(e-4)+" "+(t-4)+" L "+(e+4)+" "+(t+4)+" M "+(e-4)+" "+(t+4)+" L "+(e+4)+" "+(t-4),stroke:n,"stroke-width":2,fill:n},null)),this.closeIcon=o;var s=Yt(this.draggedRectGroup+(i?r?this.targetIndex:this.count:""));s&&s.appendChild(o)}},{key:"removeDraggedElements",value:function(e,t){if(t.target.id.indexOf(this.closeIconId)>-1&&-1===t.type.indexOf("move")){var i=!0;if(e.allowMultiSelection){var n=this.getIndex(t.target.id),r=Yt(this.multiRectGroup);if(Object(c.gb)(Yt(this.draggedRectGroup+n)),this.dragRectArray[n]=null,this.filterArray[n]=null,this.totalSelectedPoints[n]=null,r&&0===r.childElementCount&&(ht(r),this.dragRectArray=[],this.filterArray=[],this.totalSelectedPoints=[]),"Lasso"===this.currentMode){if(null!=this.multiDataIndexes[n])for(var o=0;o<this.multiDataIndexes[n].length;o++)this.multiDataIndexes[n][o].isSelect=!1;this.multiDataIndexes[n]=null;for(var s=0;s<this.multiDataIndexes.length;s++)if(null!=this.multiDataIndexes[s]){i=!1;for(var a=0;a<this.multiDataIndexes[s].length;a++)this.multiDataIndexes[s][a].isSelect=!0}this.calculateDragSelectedElements(e,this.dragRect,!0)}else if(this.filterArray.length)for(var l=0;l<this.filterArray.length;l++)this.filterArray[l]&&(i=!1,this.calculateDragSelectedElements(e,this.filterArray[l],!0));else this.calculateDragSelectedElements(e,new v(0,0,0,0),!0)}else Object(c.gb)(Yt(this.draggedRectGroup)),this.removeSelectedElements(e,this.selectedDataIndexes,e.series);this.blurEffect(e.element.id,e.visibleSeries),this.changeCursorStyle(!1,e.svgObject,"auto"),e.allowMultiSelection&&!i||(this.rectPoints=null)}}},{key:"resizingSelectionRect",value:function(e,t,i,n){var r;if(e.allowMultiSelection&&n.id.indexOf("_ej2_drag_rect")>-1||this.dragRectArray[this.targetIndex]){n.id.indexOf("_ej2_drag_rect")>-1&&(this.targetIndex=this.getIndex(n.id));var o=this.dragRectArray[this.targetIndex];r=new v(o.x,o.y,o.width,o.height)}if(e.allowMultiSelection||(r=new v(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height)),r){var s=this.findResizeMode(e.svgObject,r,t);this.resizing&&(r=$t(r.x,r.y,r.x+r.width,r.y+r.height,e.chartAxisLayoutPanel.seriesClipRect),this.drawDraggingRect(e,r),this.dragRect=r),i&&(this.resizing=s)}}},{key:"findResizeMode",value:function(e,t,i){var n="se-resize",r=!1;if(this.resizing){var o=t.x,s=t.y,a=i.x-o,l=i.y-s;switch(this.resizeMode){case 0:l=Math.abs(t.height+t.y-i.y),t.y=Math.min(t.height+t.y,i.y),t.height=l;break;case 1:a=Math.abs(t.width+t.x-i.x),t.x=Math.min(t.width+t.x,i.x),t.width=a;break;case 2:t.height=Math.abs(l),t.y=Math.min(i.y,s);break;case 3:t.width=Math.abs(a),t.x=Math.min(i.x,o);break;case 4:t.width=Math.abs(a),t.height=Math.abs(l),t.x=Math.min(i.x,o),t.y=Math.min(i.y,s)}}else for(var h=[new v(t.x,t.y,t.width-5,5),new v(t.x,t.y,5,t.height),new v(t.x,t.y+t.height-5,t.width-5,5),new v(t.x+t.width-5,t.y+5,5,t.height-15),new v(t.x+t.width-10,t.y+t.height-10,10,10)],c=0;c<h.length;c++)if(At(i.x,i.y,h[c])){n=4===c?n:c%2==0?"ns-resize":"ew-resize",r=!0,this.resizeMode=c;break}return"Lasso"!==this.currentMode&&this.changeCursorStyle(r,Yt(this.chart.allowMultiSelection?this.draggedRect+this.targetIndex:this.draggedRect),n),this.changeCursorStyle(r,e,n),r}},{key:"changeCursorStyle",value:function(e,t,i){i=e?i:this.control.svgObject===t?"auto":"move",t&&t.setAttribute("style","cursor:"+i+";")}},{key:"removeSelectedElements",value:function(e,t,i){var n;t.splice(0,t.length);var r=!0,o=!1,s=void 0;try{for(var a,l=i[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;n=this.getSeriesElements(h),this.removeStyles(n);var c=!0,d=!1,u=void 0;try{for(var p,m=n[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var g=p.value;this.removeStyles(this.getChildren(g))}}catch(v){d=!0,u=v}finally{try{c||null==m.return||m.return()}finally{if(d)throw u}}}}catch(v){o=!0,s=v}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}},{key:"setAttributes",value:function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];e.setAttribute(r,t[r])}}},{key:"draggedRectMoved",value:function(e,t,i,n){var r;if((this.resizing||this.rectGrabbing)&&e.allowMultiSelection){var o=this.dragRectArray[this.targetIndex];r=new v(o.x,o.y,o.width,o.height)}else r=new v(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height);r.x-=t.x-e.mouseX,r.y-=t.y-e.mouseY,r=$t(r.x,r.y,r.x+r.width,r.height+r.y,e.chartAxisLayoutPanel.seriesClipRect),i?this.drawDraggingRect(e,r,n):this.calculateDragSelectedElements(e,r)}},{key:"completeSelection",value:function(e){var t=this.chart;"None"!==t.selectionMode&&(this.currentMode=t.selectionMode,(this.dragging||this.resizing)&&this.dragRect.width>5&&this.dragRect.height>5?this.calculateDragSelectedElements(t,this.dragRect):!t.allowMultiSelection&&this.rectGrabbing&&this.rectPoints.width&&this.rectPoints.height?this.draggedRectMoved(t,this.dragRect):this.rectGrabbing&&this.dragRectArray[this.targetIndex].width&&this.dragRectArray[this.targetIndex].height&&this.draggedRectMoved(t,this.dragRect),"Lasso"===t.selectionMode&&this.dragging&&this.path&&-1!==this.path.indexOf("L")&&(t.allowMultiSelection?Yt(this.lassoPath+this.count)&&(Yt(this.lassoPath+this.count).setAttribute("d",this.path+"Z"),this.pointChecking(Yt(this.lassoPath+this.count))):(Yt(this.lassoPath).setAttribute("d",this.path+"Z"),this.pointChecking(Yt(this.lassoPath))),(this.dragging||this.resizing)&&this.calculateDragSelectedElements(t,this.dragRect)),this.dragging=!1,this.rectGrabbing=!1,this.resizing=!1,this.removeDraggedElements(t,e))}},{key:"getDragRect",value:function(e,t){return $t(e.mouseDownX,e.mouseDownY,e.mouseX,e.mouseY,t)}},{key:"dragStart",value:function(e,t,i,n,r){var o=e.selectionMode;this.currentMode=e.selectionMode,this.dragging=(o.indexOf("Drag")>-1||"Lasso"===o)&&(e.isDoubleTap||!e.isTouch)&&"PolarRadar"!==e.chartAreaType;var s=r.target;if(this.path=void 0,this.dragging&&(this.count=Yt(this.multiRectGroup)?this.count+1:0,this.dragRect=new v(e.mouseDownX,e.mouseDownY,0,0),(e.mouseDownX<t.x||e.mouseDownX>t.x+t.width||e.mouseDownY<t.y||e.mouseDownY>t.y+t.height)&&(this.dragging=!1)),"Lasso"===o){var a=!0,l=!1,h=void 0;try{for(var c,d=e.visibleSeries[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;if(u.visible){var p=!0,m=!1,g=void 0;try{for(var y,f=u.points[Symbol.iterator]();!(p=(y=f.next()).done);p=!0){var b=y.value;e.allowMultiSelection||(b.isSelect=!1)}}catch(_){m=!0,g=_}finally{try{p||null==f.return||f.return()}finally{if(m)throw g}}}}}catch(_){l=!0,h=_}finally{try{a||null==d.return||d.return()}finally{if(l)throw h}}}if("Lasso"!==o&&(this.rectPoints&&!e.allowMultiSelection&&(this.dragRect=new v(e.mouseDownX,e.mouseDownY,0,0),this.resizingSelectionRect(e,new Wi(i,n),!0),this.rectGrabbing=At(i,n,this.rectPoints)),e.allowMultiSelection)){var x=this.getIndex(s.id);this.targetIndex=this.isDragRect(s.id)?x:void 0,this.dragRectArray.length&&this.isDragRect(s.id)&&(this.resizingSelectionRect(e,new Wi(i,n),!0,s),this.rectGrabbing=At(i,n,this.dragRectArray[x]))}}},{key:"isDragRect",value:function(e){return e.indexOf("_ej2_drag_rect")>-1}},{key:"mouseMove",value:function(e){var t=this.chart,i=e.target;if("None"===t.highlightMode||Object(c.W)(i))"None"!==t.selectionMode&&("touchmove"===e.type&&(c.d.isIos||c.d.isIos7)&&this.dragging&&e.preventDefault&&e.preventDefault(),At(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?(this.rectGrabbing&&!this.resizing?this.draggedRectMoved(t,this.dragRect,!0,i):this.dragging&&!this.resizing&&("Lasso"===t.selectionMode?(this.getPath(t.mouseDownX,t.mouseDownY,t.mouseX,t.mouseY),this.drawDraggingRect(t,this.dragRect,i)):(this.dragRect=this.getDragRect(t,t.chartAxisLayoutPanel.seriesClipRect),this.drawDraggingRect(t,this.dragRect,i))),this.rectPoints&&!t.allowMultiSelection?this.resizingSelectionRect(t,new Wi(t.mouseX,t.mouseY),null,i):(t.allowMultiSelection&&!this.dragging||this.resizing)&&this.resizingSelectionRect(t,new Wi(t.mouseX,t.mouseY),null,i)):this.completeSelection(e));else{if(e.target.id.indexOf("text")>1&&(i=Yt(e.target.id.replace("text","shape"))),i.hasAttribute("class")&&(i.getAttribute("class").indexOf("highlight")>-1||i.getAttribute("class").indexOf("selection")>-1))return;this.calculateSelectedElements(e)}}},{key:"getPath",value:function(e,t,i,n){this.dragging&&(this.path=this.path?this.path+" L"+i+" "+n:"M "+e+" "+t)}},{key:"pointChecking",value:function(e){var t=this,i=this.chart,n=Yt(i.svgId).getBoundingClientRect(),r=i.chartAxisLayoutPanel.seriesClipRect.x+Math.max(n.left,0),o=i.chartAxisLayoutPanel.seriesClipRect.y+Math.max(n.top,0);this.multiDataIndexes[this.count]=[];var s=!0,a=!1,l=void 0;try{for(var h,c=i.visibleSeries[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){h.value.points.filter((function(n){document.elementFromPoint(n.symbolLocations[0].x+r,n.symbolLocations[0].y+o)===e?(n.isSelect=!0,t.chart.allowMultiSelection&&"Lasso"===t.currentMode&&(t.multiDataIndexes[t.count][t.seriesIndex]=n,t.seriesIndex++)):i.allowMultiSelection||(n.isSelect=!1)}))}}catch(d){a=!0,l=d}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}this.seriesIndex=0}},{key:"getModuleName",value:function(){return"Selection"}},{key:"destroy",value:function(e){this.removeEventListener()}}]),t}(function(){function e(t){_classCallCheck(this,e),this.control=t}return _createClass(e,[{key:"seriesStyles",value:function(){var e,t,i=document.getElementById(this.styleId),n="{}",r=this.control.selectionPattern,o=this.control.highlightPattern;if(Object(c.W)(i)||"None"!==r||"None"!==o){(i=document.createElement("style")).setAttribute("id",this.styleId);var s=!0,a=!1,l=void 0;try{for(var h,d=this.control.visibleSeries[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var u=h.value,p=this.control.visibleSeries[u.index]||this.control.visibleSeries[u.index];if(!(Object(c.W)(r)&&Object(c.W)(o)||"None"===r&&"None"===o)){var m=this.styleId.indexOf("highlight")>0?o:r;if("Pie"===p.type||"Funnel"===p.type||"Pyramid"===p.type)for(var g=0;g<p.points.length;g++)t=p.opacity,n="{ fill:"+this.pattern(this.control,p.points[g].color,u.index,m,t)+"}";else p.type&&(t=p.opacity,n="{ fill:"+this.pattern(this.control,p.interior,u.index,m,t)+"}")}e=u.selectionStyle||this.styleId+"_series_"+u.index+",."+this.styleId+"_series_"+u.index+"> *",n=n.indexOf("None")>-1?"{}":n,i.innerHTML+=u.selectionStyle?"":"."+e+n}}catch(v){a=!0,l=v}finally{try{s||null==d.return||d.return()}finally{if(a)throw l}}i.innerHTML+="."+this.unselected+" { opacity:0.3;} ",document.body.appendChild(i)}}},{key:"pattern",value:function(e,t,i,n,r){var o,s;o=e.svgObject;var a=[],l={id:n+"_Selection_"+i,patternUnits:"userSpaceOnUse"};switch(n){case"Dots":l.height=l.width=6,l.width=6,a[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:"#ffffff",opacity:r,name:"rect"},a[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:t,name:"circle"};break;case"Pacman":l.height="18.384",l.width="17.917",a[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:t,fill:t};break;case"Chessboard":l.height=l.width=10,a[0]={x:0,y:0,width:10,height:10,fill:"#ffffff",opacity:r,name:"rect"},a[1]={x:0,y:0,width:5,height:5,fill:t,opacity:r,name:"rect"},a[2]={x:5,y:5,width:5,height:5,fill:t,opacity:r,name:"rect"};break;case"Crosshatch":l.height=l.width="8",a[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:"#ffffff",opacity:r,name:"rect"},a[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:t,name:"path"};break;case"DiagonalForward":l.height=l.width=6,a[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:r,name:"rect"},a[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:t,name:"path"};break;case"DiagonalBackward":l.height=l.width=6,a[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:r,name:"rect"},a[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:t,name:"path"};break;case"Grid":l.height=l.width=6,a[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:t};break;case"Turquoise":l.height=l.width=17,a[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t};break;case"Star":l.height=l.width=21,a[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:t,fill:t};break;case"Triangle":l.height=l.width=10,a[0]={name:"rect",x:0,y:0,width:10,height:10,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:t,fill:t};break;case"Circle":l.height=l.width=9,a[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:t};break;case"Tile":l.height=l.width=18,a[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":1,stroke:t,fill:t},a[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":1,stroke:t,fill:t},a[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":1,stroke:t,fill:t},a[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":1,stroke:t,fill:t};break;case"HorizontalDash":l.height=l.width=12,a[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalDash":l.height=l.width=12,a[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Rectangle":l.height=l.width=12,a[0]={name:"rect",width:12,height:12,fill:"#ffffff",opacity:r},a[1]={name:"rect",x:1,y:2,width:4,height:9,fill:t,opacity:r},a[2]={name:"rect",x:7,y:2,width:4,height:9,fill:t,opacity:r};break;case"Box":l.height=l.width=10,a[0]={name:"rect",width:13,height:13,fill:"#ffffff",opacity:r},a[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:t,opacity:r};break;case"HorizontalStripe":l.height=12,l.width=10,a[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalStripe":l.height=10,l.width=12,a[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Bubble":l.height=l.width=20,a[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:"#ffffff",opacity:r},a[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},a[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:t},a[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"}}var h=e.svgRenderer||e.renderer;return s=h.createPattern(l,"pattern"),this.loadPattern(e,a,s,h),o.appendChild(s),"url(#"+n+"_Selection_"+i+")"}},{key:"loadPattern",value:function(e,t,i,n){var r;for(r=0;r<t.length;r++){var o=n.createPattern(t[r],t[r].name);i.appendChild(o)}}},{key:"concatIndexes",value:function(e,t){return e.concat(t)}},{key:"checkVisibility",value:function(e){if(!e)return!1;var t=!1,i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;-1===i.indexOf(l.series)&&i.push(l.series)}}catch(u){r=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}for(var h=0,c=i;h<c.length;h++){var d=c[h];if(this.control.series[d].visible){t=!0;break}}return t}},{key:"addSvgClass",value:function(e,t){var i=e.getAttribute("class")||"";-1===(i+=""!==i?" ":"").indexOf(t)&&e.setAttribute("class",i+t)}},{key:"removeSvgClass",value:function(e,t){var i=e.getAttribute("class")||"";i.indexOf(t)>-1&&e.setAttribute("class",i.replace(t,""))}},{key:"getChildren",value:function(e){for(var t=[],i=0;i<e.childNodes.length;i++)"defs"!==e.childNodes[i].tagName&&t.push(e.childNodes[i]);return t}}]),e}()),jn=function(){function e(t){_classCallCheck(this,e),this.chartId=t.element.id+"_"}return _createClass(e,[{key:"renderElements",value:function(e,t){var i=t.createGroup({id:this.chartId+"scrollBar_"+e.axis.name,transform:"translate("+(e.isVertical&&e.axis.isInversed?e.height:e.axis.isInversed?e.width:"0")+","+(e.isVertical&&e.axis.isInversed?"0":e.axis.isInversed?e.height:e.isVertical?e.width:"0")+") rotate("+(e.isVertical&&e.axis.isInversed?"90":e.isVertical?"270":e.axis.isInversed?"180":"0")+")"}),n=t.createGroup({id:this.chartId+"scrollBar_backRect_"+e.axis.name}),r=t.createGroup({id:this.chartId+"scrollBar_thumb_"+e.axis.name,transform:"translate(0,0)"});return this.backRect(e,t,n),this.thumb(e,t,r),this.renderCircle(e,t,r),this.arrows(e,t,r),this.thumbGrip(e,t,r),i.appendChild(n),i.appendChild(r),i}},{key:"backRect",value:function(e,t,i){var n=e.scrollbarThemeStyle,r=t.drawRectangle(new Bi(this.chartId+"scrollBarBackRect_"+e.axis.name,n.backRect,{width:1,color:n.backRect},1,new v(0,0,e.width,e.height),0,0));i.appendChild(r)}},{key:"arrows",value:function(e,t,i){var n=e.scrollbarThemeStyle,r=new P(this.chartId+"scrollBar_leftArrow_"+e.axis.name,n.arrow,1,n.arrow,1,"","");this.leftArrowEle=t.drawPath(r),r.id=this.chartId+"scrollBar_rightArrow_"+e.axis.name,this.rightArrowEle=t.drawPath(r),this.setArrowDirection(this.thumbRectX,this.thumbRectWidth,e.height),i.appendChild(this.leftArrowEle),i.appendChild(this.rightArrowEle)}},{key:"setArrowDirection",value:function(e,t,i){var n="M "+(e+t+4-.5)+" "+i/2+" L "+(e+t+4-6)+" 11.5 L "+(e+t+4-6)+" 4.5 Z";this.leftArrowEle.setAttribute("d","M "+(e-4+1)+" "+i/2+" L "+(e-4+6)+" 11 L "+(e-4+6)+" 5 Z"),this.rightArrowEle.setAttribute("d",n)}},{key:"thumb",value:function(e,t,i){e.startX=this.thumbRectX,this.slider=t.drawRectangle(new Bi(this.chartId+"scrollBarThumb_"+e.axis.name,e.scrollbarThemeStyle.thumb,{width:1,color:""},1,new v(this.thumbRectX,0,this.thumbRectWidth,e.height))),i.appendChild(this.slider)}},{key:"renderCircle",value:function(e,t,i){var n=e.scrollbarThemeStyle,r=new Vi(this.chartId+"scrollBar_leftCircle_"+e.axis.name,n.circle,{width:1,color:n.circle},1,this.thumbRectX,e.height/2,8),o=t.createDefs();o.innerHTML='<filter x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox"id="scrollbar_shadow"><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix></filter>';var s=t.createGroup({id:this.chartId+e.axis.name+"_thumb_shadow"});s.innerHTML='<use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+"scrollBar_leftCircle_"+e.axis.name+'"></use><use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+"scrollBar_rightCircle_"+e.axis.name+'"></use>',this.leftCircleEle=t.drawCircle(r),r.id=this.chartId+"scrollBar_rightCircle_"+e.axis.name,r.cx=this.thumbRectX+this.thumbRectWidth,this.rightCircleEle=t.drawCircle(r),i.appendChild(o),i.appendChild(this.leftCircleEle),i.appendChild(this.rightCircleEle),i.appendChild(s)}},{key:"thumbGrip",value:function(e,t,i){var n=0,r=0,o=e.scrollbarThemeStyle,s=new Vi(this.chartId+"scrollBar_gripCircle0_"+e.axis.name,o.grip,{width:1,color:o.grip},1,0,0,1);this.gripCircle=t.createGroup({id:this.chartId+"scrollBar_gripCircle_"+e.axis.name,transform:"translate("+(this.thumbRectX+this.thumbRectWidth/2+5*(e.isVertical?1:-1))+","+(e.isVertical?"10":"5")+") rotate("+(e.isVertical?"180":"0")+")"});for(var a=1;a<=6;a++)s.id=this.chartId+"scrollBar_gripCircle"+a+"_"+e.axis.name,s.cx=n,s.cy=r,this.gripCircle.appendChild(t.drawCircle(s)),n=3===a?0:n+5,r=a>=3?5:0;i.appendChild(this.gripCircle)}}]),e}(),In=function(){function e(t,i){_classCallCheck(this,e),this.scrollRange={max:null,min:null,interval:null,delta:null},this.component=t,this.elements=[],this.scrollElements=new jn(t),this.axis=i,this.mouseMoveListener=this.scrollMouseMove.bind(this),this.mouseUpListener=this.scrollMouseUp.bind(this),this.animateDuration=500,this.isPointer=c.d.isPointer,this.browserName=c.d.info.name}return _createClass(e,[{key:"getMouseXY",value:function(e){var t,i,n;e.type.indexOf("touch")>-1?(t=(n=e).changedTouches[0].clientX,i=n.changedTouches[0].clientY):(t=e.clientX,i=e.clientY);var r=Yt(this.component.element.id+"_scrollBar_svg"+this.axis.name).getBoundingClientRect();this.mouseX=t-Math.max(r.left,0),this.mouseY=i-Math.max(r.top,0)}},{key:"wireEvents",value:function(e){c.l.add(e,c.d.touchStartEvent,this.scrollMouseDown,this),c.l.add(e,c.d.touchMoveEvent,this.scrollMouseMove,this),c.l.add(e,c.d.touchEndEvent,this.scrollMouseUp,this),c.l.add(e,"mousewheel",this.scrollMouseWheel,this),window.addEventListener("mousemove",this.mouseMoveListener,!1),window.addEventListener("mouseup",this.mouseUpListener,!1)}},{key:"unWireEvents",value:function(e){c.l.remove(e,c.d.touchStartEvent,this.scrollMouseDown),c.l.remove(e,c.d.touchMoveEvent,this.scrollMouseMove),c.l.remove(e,c.d.touchEndEvent,this.scrollMouseUp),c.l.remove(e,"mousewheel",this.scrollMouseWheel),window.removeEventListener("mousemove",this.mouseMoveListener,!1),window.removeEventListener("mouseup",this.mouseUpListener,!1)}},{key:"scrollMouseDown",value:function(e){var t=e.target.id,i=this.scrollElements;if(this.getMouseXY(e),this.isResizeLeft=this.isExist(t,"_leftCircle_")||this.isExist(t,"_leftArrow_"),this.isResizeRight=this.isExist(t,"_rightCircle_")||this.isExist(t,"_rightArrow_"),this.previousXY=this.isVertical&&this.axis.isInversed?this.mouseY:this.isVertical?this.width-this.mouseY:this.axis.isInversed?this.width-this.mouseX:this.mouseX,this.previousWidth=i.thumbRectWidth,this.previousRectX=i.thumbRectX,this.startZoomPosition=this.axis.zoomPosition,this.startZoomFactor=this.axis.zoomFactor,this.startRange=this.axis.visibleRange,this.scrollStarted=!0,this.component.trigger("scrollStart",this.getArgs("scrollStart")),this.isExist(t,"scrollBarThumb_"))this.isThumbDrag=!0,this.svgObject.style.cursor="-webkit-grabbing";else if(this.isExist(t,"scrollBarBackRect_")){var n=this.moveLength(this.previousXY,this.previousRectX);if(i.thumbRectX=this.isWithIn(n)?n:i.thumbRectX,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.setZoomFactorPosition(i.thumbRectX,i.thumbRectWidth),this.isLazyLoad){var r=this.calculateLazyRange(i.thumbRectX,i.thumbRectWidth,i.thumbRectX>this.previousRectX?"RightMove":"LeftMove");r&&this.component.trigger("scrollEnd",r)}}""===this.component.element.style.height&&(this.isCustomHeight=!0,this.component.element.style.height=this.component.availableSize.height+"px")}},{key:"isExist",value:function(e,t){return e.indexOf(t)>-1}},{key:"isWithIn",value:function(e){return e-8>=0&&e+this.scrollElements.thumbRectWidth+8<=this.width}},{key:"moveLength",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=.1*(this.width-2*i);return n=e<t?t-(t-n>i?n:i):t+(t+this.scrollElements.thumbRectWidth+n<this.width-i?n:i),n}},{key:"setZoomFactorPosition",value:function(e,t){var i=this.axis;this.isScrollUI=!0;var n=e+t+8+1;this.zoomPosition=(e-(e-8.5<=0?8.5:0))/(this.isVertical?i.rect.height:this.width),this.zoomFactor=(t+(n>=this.width?9:0))/(this.isVertical?i.rect.height:this.width),i.zoomPosition=this.zoomPosition,i.zoomFactor=this.zoomFactor}},{key:"scrollMouseMove",value:function(e){var t=e.target,i=this.scrollElements;this.getMouseXY(e),this.setCursor(t),this.setTheme(t);var n=this.isVertical&&this.axis.isInversed?this.width-this.mouseY:this.isVertical?this.mouseY:this.mouseX,r=this.axis.visibleRange,o=this.zoomPosition,s=this.zoomFactor;if(this.isThumbDrag){this.component.isScrolling=this.isThumbDrag,n=this.isVertical||this.axis.isInversed?this.width-n:n;var a=i.thumbRectX+(n-this.previousXY);n>=a+i.thumbRectWidth?this.setCursor(t):this.svgObject.style.cursor="-webkit-grabbing",n>=0&&n<=a+i.thumbRectWidth&&(i.thumbRectX=this.isWithIn(a)?a:i.thumbRectX,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.previousXY=n,this.setZoomFactorPosition(a,i.thumbRectWidth)),this.component.trigger("scrollChanged",this.getArgs("scrollChanged",r,o,s))}else(this.isResizeLeft||this.isResizeRight)&&(this.resizeThumb(e),this.component.trigger("scrollChanged",this.getArgs("scrollChanged",r,o,s)))}},{key:"scrollMouseWheel",value:function(e){var t=Yt(this.component.element.id+"_scrollBar_svg"+this.axis.name).getBoundingClientRect();this.mouseX=e.clientX-Math.max(t.left,0),this.mouseY=e.clientY-Math.max(t.top,0);var i,n=.5,r=this.scrollElements,o=this.axis,s="mozilla"!==this.browserName||this.isPointer?e.wheelDelta/120>0?1:-1:-e.detail/3>0?1:-1;i=Math.max(Math.max(1/Gt(o.zoomFactor,0,1),1)+.25*s,1);var a,l=this.axis.visibleRange,h=this.zoomPosition,c=this.zoomFactor;i>=1&&(n=(n="Horizontal"===o.orientation?this.mouseX/o.rect.width:1-this.mouseY/o.rect.height)>1?1:n<0?0:n,this.zoomFactor=1===i?1:Gt(1/i,0,1),this.zoomPosition=1===i?0:o.zoomPosition+(o.zoomFactor-this.zoomFactor)*n),r.thumbRectX=this.isWithIn(this.zoomPosition*this.width)?this.zoomPosition*this.width:r.thumbRectX,this.isScrollUI=!0,this.positionThumb(r.thumbRectX,r.thumbRectWidth),this.isLazyLoad&&this.setZoomFactorPosition(r.thumbRectX,r.thumbRectWidth),o.zoomFactor=this.zoomFactor,o.zoomPosition=this.zoomPosition,this.isLazyLoad&&((a=this.calculateMouseWheelRange(r.thumbRectX,r.thumbRectWidth))&&a.currentRange.minimum!==a.previousAxisRange.minimum&&a.currentRange.maximum!==a.previousAxisRange.maximum&&(this.component.trigger("scrollEnd",a),this.isScrollEnd=!1)),this.isLazyLoad||this.component.trigger("scrollChanged",this.getArgs("scrollChanged",l,h,c))}},{key:"scrollMouseUp",value:function(e){var t;if(this.startX=this.scrollElements.thumbRectX,!this.isResizeLeft&&!this.isResizeRight||this.isLazyLoad||(this.axis.zoomFactor=this.startX+this.scrollElements.thumbRectWidth+8+1>=this.width-1&&this.startX-8.5<=0?1:this.zoomFactor),this.isLazyLoad){var i=this.previousRectX-this.startX;if((i>0||i<0)&&this.isThumbDrag){var n=i<0?"RightMove":"LeftMove";this.startX="RightMove"===n?this.startX+Math.abs(i)<this.width-8?this.startX:this.width-8-this.scrollElements.thumbRectWidth:this.startX+this.scrollElements.thumbRectWidth-Math.abs(i)>8?this.startX:8,(t=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth,n))&&(this.component.trigger("scrollEnd",t),this.scrollStarted=!1)}(this.isResizeLeft||this.isResizeRight)&&((t=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth))&&(this.component.trigger("scrollEnd",t),this.scrollStarted=!1))}this.isThumbDrag=!1,this.isResizeLeft=!1,this.isResizeRight=!1,this.isScrollEnd=!1,this.component.isScrolling=!1,this.scrollStarted&&!this.isLazyLoad&&(this.component.trigger("scrollEnd",this.getArgs("scrollChanged",this.startRange,this.startZoomPosition,this.startZoomFactor)),this.scrollStarted=!1),this.isCustomHeight&&(this.component.element.style.height=null)}},{key:"calculateMouseWheelRange",value:function(e,t){var i,n,r,o,s,a=this.scrollRange,l=this.getStartEnd(this.previousStart,this.previousEnd,!1);return e+t+8<=this.width&&(n=(e-8)/this.width,i=t/this.width),(o=(r=a.min+n*a.delta)+i*a.delta)&&(s={axis:this.axis,currentRange:this.getStartEnd(r,o,!0),previousAxisRange:l}),s}},{key:"calculateLazyRange",value:function(e,t,i){var n,r,o,s,a,l=t,h=this.scrollRange,c=this.getStartEnd(this.previousStart,this.previousEnd,!1);return this.isResizeRight||"RightMove"===i?(n=(l=this.isResizeRight?l+16:l)/this.width,r="RightMove"===i?(e+8)/this.width:this.axis.zoomPosition,s=(o="RightMove"===i?h.min+r*h.delta:this.previousStart)+n*h.delta):this.isResizeLeft||"LeftMove"===i?(r=(e-8)/this.width,n=l/this.width,o=(o=h.min+r*h.delta)>=h.min?o:h.min,s="LeftMove"===i?o+n*h.delta:this.previousEnd):this.isThumbDrag&&(r="RightMove"===i?(e+8)/this.width:(e-8)/this.width,n=this.scrollElements.thumbRectWidth/this.width,s=(o=(o=h.min+r*h.delta)>=h.min?o:h.min)+n*h.delta),s&&(a={axis:this.component.isBlazor?{}:this.axis,currentRange:this.getStartEnd(o,s,!0),previousAxisRange:c}),a}},{key:"getStartEnd",value:function(e,t,i){var n=this.valueType;switch("DateTime"!==n&&"DateTimeCategory"!==n||!i?i&&(this.previousStart=Math.ceil(e),this.previousEnd=Math.ceil(t)):(this.previousStart=e,this.previousEnd=t),n){case"Double":case"Category":case"Logarithmic":e=Math.ceil(e),t=Math.ceil(t);break;case"DateTime":case"DateTimeCategory":e=new Date(e),t=new Date(t)}return{minimum:e,maximum:t}}},{key:"render",value:function(e){return(this.component.zoomModule||e&&this.axis.scrollbarSettings.enable)&&this.getDefaults(),this.getTheme(),this.removeScrollSvg(),t=this,i=this.component.svgRenderer,n=t.axis.rect,r="Horizontal"===t.axis.orientation,t.svgObject=i.createSvg({id:t.component.element.id+"_scrollBar_svg"+t.axis.name,width:t.isVertical?t.height:t.width,height:t.isVertical?t.width:t.height,style:"position: absolute;top: "+((t.axis.opposedPosition&&r?-16:0)+n.y)+"px;left: "+((t.axis.opposedPosition&&!r?16:0)+n.x-(t.isVertical?t.height:0))+"px;cursor:auto;"}),t.elements.push(t.svgObject),this.wireEvents(this.svgObject),this.svgObject.appendChild(this.scrollElements.renderElements(this,this.component.svgRenderer)),this.svgObject;var t,i,n,r}},{key:"getTheme",value:function(){this.scrollbarThemeStyle=function(e){var t;switch(e){case"HighContrastLight":t={backRect:"#333",thumb:"#bfbfbf",circle:"#fff",circleHover:"#685708",arrow:"#333",grip:"#333",arrowHover:"#fff",backRectBorder:"#969696"};break;case"Bootstrap":t={backRect:"#f5f5f5",thumb:"#e6e6e6",circle:"#fff",circleHover:"#eee",arrow:"#8c8c8c",grip:"#8c8c8c"};break;case"Fabric":t={backRect:"#f8f8f8",thumb:"#eaeaea",circle:"#fff",circleHover:"#eaeaea",arrow:"#a6a6a6",grip:"#a6a6a6"};break;default:t={backRect:"#f5f5f5",thumb:"#e0e0e0",circle:"#fff",circleHover:"#eee",arrow:"#9e9e9e",grip:"#9e9e9e"}}return t}(this.component.theme)}},{key:"removeScrollSvg",value:function(){document.getElementById(this.component.element.id+"_scrollBar_svg"+this.axis.name)&&Object(c.gb)(document.getElementById(this.component.element.id+"_scrollBar_svg"+this.axis.name))}},{key:"setCursor",value:function(e){var t=e.id;this.svgObject.style.cursor=t.indexOf("scrollBarThumb_")>-1||t.indexOf("_gripCircle")>-1?"-webkit-grab":t.indexOf("Circle_")>-1||t.indexOf("Arrow_")>-1?this.isVertical?"ns-resize":"ew-resize":"auto"}},{key:"setTheme",value:function(e){var t=e.id,i=t.indexOf("_leftCircle_")>-1||t.indexOf("_leftArrow_")>-1,n=t.indexOf("_rightCircle_")>-1||t.indexOf("_rightArrow_")>-1,r=this.scrollbarThemeStyle,o=this.scrollElements.leftArrowEle,s=this.scrollElements.rightArrowEle,a=this.scrollElements.leftCircleEle,l=this.scrollElements.rightCircleEle,h=this.isCurrentAxis(e,o);a.style.fill=i&&h?r.circleHover:r.circle,l.style.fill=n&&h?r.circleHover:r.circle,a.style.stroke=i&&h?r.circleHover:r.circle,l.style.stroke=n&&h?r.circleHover:r.circle,"HighContrastLight"===this.component.theme&&(o.style.fill=i&&h?r.arrowHover:r.arrow,o.style.stroke=i&&h?r.arrowHover:r.arrow,s.style.fill=n&&h?r.arrowHover:r.arrow,s.style.stroke=n&&h?r.arrowHover:r.arrow,a.style.stroke=i&&h?r.circleHover:r.circle,l.style.stroke=n&&h?r.circleHover:r.circle)}},{key:"isCurrentAxis",value:function(e,t){return e.id.split("_")[2]===t.id.split("_")[2]}},{key:"resizeThumb",value:function(e){var t,i=this.previousRectX,n=this.isVertical&&this.axis.isInversed?this.mouseY:this.isVertical?this.width-this.mouseY:this.axis.isInversed?this.width-this.mouseX:this.mouseX,r=Math.abs(this.previousXY-n);if(this.isResizeLeft&&n>=0){var o=i+(n>this.previousXY?r:-r);t=o-8>=0?this.previousWidth+(n>this.previousXY?-r:r):this.previousWidth,o=o-8>=0?o:i,t>=40&&n<o+t&&(this.scrollElements.thumbRectX=this.previousRectX=o,this.scrollElements.thumbRectWidth=this.previousWidth=t,this.previousXY=n,this.positionThumb(o,t),this.setZoomFactorPosition(o,t))}else this.isResizeRight&&(t=n>=40+this.scrollElements.thumbRectX&&n<=this.width-8?n-this.scrollElements.thumbRectX:this.previousWidth,this.scrollElements.thumbRectWidth=this.previousWidth=t,this.previousXY=n,this.positionThumb(this.startX,t),this.setZoomFactorPosition(this.startX,t),this.isLazyLoad||this.setZoomFactorPosition(this.startX,t))}},{key:"positionThumb",value:function(e,t){var i=this.scrollElements;i.slider.setAttribute("x",e.toString()),i.slider.setAttribute("width",t.toString()),i.leftCircleEle.setAttribute("cx",e.toString()),i.rightCircleEle.setAttribute("cx",(e+t).toString()),i.setArrowDirection(e,t,this.height),i.gripCircle.setAttribute("transform","translate("+(e+t/2+5*(this.isVertical?1:-1))+","+(this.isVertical?"10":"5")+") rotate("+(this.isVertical?"180":"0")+")")}},{key:"getDefaults",value:function(){var e=this.axis;this.axis.scrollbarSettings.enable&&(this.isLazyLoad=!0,this.getLazyDefaults(e)),this.isVertical="Vertical"===e.orientation,this.zoomFactor=this.isLazyLoad?this.zoomFactor:e.zoomFactor,this.zoomPosition=this.isLazyLoad?this.zoomPosition:e.zoomPosition;var t=this.zoomFactor*(this.isVertical?e.rect.height:e.rect.width);t=t>40?t:40,this.scrollX=e.rect.x,this.scrollY=e.rect.y,this.width=this.isVertical?e.rect.height:e.rect.width,this.height=16;var i=this.zoomPosition*(this.isVertical?e.rect.height:this.width),n=this.width-40-8;this.scrollElements.thumbRectX=i>n?n:i<8?8:i,this.scrollElements.thumbRectWidth=t+this.scrollElements.thumbRectX<this.width-16?t:this.width-this.scrollElements.thumbRectX-8}},{key:"getLazyDefaults",value:function(e){var t,i,n=e.valueType,r=e.scrollbarSettings;this.valueType=n=r.range.minimum&&r.range.maximum||!r.pointsLength?n:"Double";var o,s,a=e.scrollbarSettings.range,l=e.visibleRange,h=e.scrollbarSettings.pointsLength,c={skeleton:"full",type:"dateTime"},d=this.component.intl.getDateParser(c),u=this.component.intl.getDateFormat(c);switch(n){case"Double":case"Category":case"Logarithmic":t=a.minimum?a.minimum:h?0:l.min,i=a.maximum?a.maximum:h?h-1:l.max;break;case"DateTime":case"DateTimeCategory":t=a.minimum?Date.parse(d(u(a.minimum))):l.min,i=a.maximum?Date.parse(d(u(a.maximum))):l.max}t=Math.min(t,l.min),i=Math.max(i,l.max),o=(l.max-l.min)/(i-t),s=(l.min-t)/(i-t),this.zoomFactor=a.minimum||a.maximum?o:this.axis.maxPointLength/e.scrollbarSettings.pointsLength,this.zoomPosition=a.minimum||a.maximum?s:e.zoomPosition,this.scrollRange.min=t,this.scrollRange.max=i,this.scrollRange.delta=i-t,this.previousStart=l.min,this.previousEnd=l.max}},{key:"getLogRange",value:function(e){var t=e.scrollbarSettings.range,i=ct(t.minimum,e.logBase);i=isFinite(i)?i:t.minimum;var n=ct(t.maximum,e.logBase);return n=isFinite(i)?n:t.maximum,{minimum:Math.floor(i/1),maximum:Math.ceil(n/1)}}},{key:"injectTo",value:function(t,i){t.zoomingScrollBar=new e(i,t)}},{key:"destroy",value:function(){var e=this;this.axes?this.axes.map((function(e){e.zoomingScrollBar.destroy()})):(this.elements.map((function(t){e.unWireEvents(t),Object(c.gb)(t.firstChild)})),this.elements=[])}},{key:"getModuleName",value:function(){return"ScrollBar"}},{key:"getArgs",value:function(e,t,i,n){return{axis:this.component.isBlazor?{}:this.axis,name:e,range:this.axis.visibleRange,zoomFactor:this.axis.zoomFactor,zoomPosition:this.axis.zoomPosition,previousRange:t,previousZoomFactor:n,previousZoomPosition:i}}}]),e}();function zn(e,t,i,n){return(e=function(e,t,i){var n=(e-t.min)/t.delta;return i?1-n:n}(e,t,n))*i}function En(e,t,i,n){return(n?1-e/t:e/t)*i.delta+i.min}function Dn(e,t){return e.reduce((function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e}))}var Bn,Nn=function e(t,i,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];_classCallCheck(this,e),this.x=t,this.y=i,this.xValue=n,this.visible=o},Vn=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).dataSource=e.dataSource,i.xName=e.xName,i.yName=e.yName,i.query=e.query,i.xMin=1/0,i.xMax=-1/0,i.yMin=1/0,i.yMax=-1/0,i}return _inherits(t,e),_createClass(t,[{key:"renderChart",value:function(e){var t,i,n=this;this.seriesLength=0,e.rangeSlider.points=[],e.series.length?e.series.map((function(r){t=r.dataSource||e.dataSource,i=r.query||e.query,r.points=[],n.processDataSource(t,i,e,r)})):this.processDataSource(e.dataSource,e.query,e)}},{key:"processDataSource",value:function(e,t,i,n){var r=this;e instanceof D.a||Object(c.W)(e)||!Object(c.W)(t)?(i.dataModule=new sn(e,t),i.dataModule.getData(i.dataModule.generateQuery().requiresCount()).then((function(e){return r.dataManagerSuccess(e,i,n)}))):this.dataManagerSuccess({result:e,count:e.length},i,n)}},{key:"dataManagerSuccess",value:function(e,t,i){var n=e.count?e.result:[];t.allowServerDataBinding=!1,this.processJsonData(n,t,Object.keys(n).length,i),this.seriesLength+=i?1:this.seriesLength,i&&this.seriesLength!==t.series.length||(this.processXAxis(t),this.calculateGroupingBounds(t),this.processYAxis(t),t.renderChart())}},{key:"processJsonData",value:function(e,t,i,n){for(var r,o=0,s=n&&n.xName||t.xName,a=n&&n.yName||t.yName;o<i;){if((r=new Nn(Object(c.U)(s,e[o]),Object(c.U)(a,e[o]))).yValue=+r.y,"DateTime"===t.valueType){var l=t.intl.getDateParser({skeleton:"full",type:"dateTime"}),h=t.intl.getDateFormat({skeleton:"full",type:"dateTime"});r.x=new Date(D.b.parse.parseJson({val:r.x}).val),r.xValue=Date.parse(l(h(r.x)))}else r.xValue=+r.x;n&&n.points.push(r),this.xMin=Math.min(this.xMin,r.xValue),this.yMin=Math.min(this.yMin,r.yValue),this.xMax=Math.max(this.xMax,r.xValue),this.yMax=Math.max(this.yMax,r.yValue),t.rangeSlider.points.push(r),o++}}},{key:"processXAxis",value:function(e){var t;this.xAxis={minimum:e.minimum,maximum:e.maximum,interval:e.interval,valueType:e.valueType,isInversed:e.enableRtl,labelFormat:e.labelFormat,logBase:e.logBase,skeleton:e.skeleton,skeletonType:e.skeletonType},this.xAxis.intervalType=e.intervalType,this.xAxis.maximumLabels=3,this.xAxis.skeleton=e.skeleton,this.xAxis.intervalDivs=[10,5,2,1],this.xAxis.rect=e.bounds,this.xAxis.visibleLabels=[],this.xAxis.orientation="Horizontal",(t=e[It(e.valueType)+"Module"]).min=this.xMin,t.max=this.xMax,t.getActualRange(this.xAxis,e.bounds),"Double"!==this.xAxis.valueType&&"DateTime"!==this.xAxis.valueType||t.updateActualRange(this.xAxis,this.xAxis.actualRange.min,this.xAxis.actualRange.max,this.xAxis.actualRange.interval),this.xAxis.actualRange.delta=this.xAxis.actualRange.max-this.xAxis.actualRange.min,this.xAxis.visibleRange=this.xAxis.actualRange,t.calculateVisibleLabels(this.xAxis,e)}},{key:"processYAxis",value:function(e){this.yAxis={majorGridLines:{width:0},rangePadding:"None",majorTickLines:{width:0},labelStyle:{size:"0"},visible:!1,valueType:"Double",minimum:null,maximum:null,interval:null},this.yAxis.rect=e.bounds,this.yAxis.maximumLabels=3,this.yAxis.intervalDivs=[10,5,2,1],this.yAxis.orientation="Vertical",e.doubleModule.min=this.yMin,e.doubleModule.max=this.yMax,e.doubleModule.getActualRange(this.yAxis,e.bounds),e.doubleModule.updateActualRange(this.yAxis,this.yAxis.actualRange.min,this.yAxis.actualRange.max,this.yAxis.actualRange.interval),this.yAxis.actualRange.delta=this.yAxis.actualRange.max-this.yAxis.actualRange.min,this.yAxis.visibleRange=this.yAxis.actualRange}},{key:"renderSeries",value:function(e){var t=this;this.chartGroup=e.renderer.createGroup({id:e.element.id+"_chart"});var i=H(e.theme);e.series.map((function(n,r){n.xAxis=t.xAxis,n.yAxis=t.yAxis,n.chart=e,n.index=r,n.xAxis.isInversed=e.enableRtl,n.interior=n.fill||i[r%i.length],t.createSeriesElement(e,n,r),e[It(n.type)+"SeriesModule"]?e[It(n.type)+"SeriesModule"].render(n,t.xAxis,t.yAxis,!1):e.lineSeriesModule.render(n,t.xAxis,t.yAxis,!1),t.chartGroup.appendChild(n.seriesElement),n.animation.enable&&e.animateSeries&&e[It(n.type)+"SeriesModule"]&&e[It(n.type)+"SeriesModule"].doAnimation(n)}))}},{key:"appendSeriesElements",value:function(e){e.svgObject.appendChild(this.chartGroup),e.series.length&&this.drawSeriesBorder(e,this.chartGroup)}},{key:"createSeriesElement",value:function(e,t,i){var n=e.element.id;t.clipRect=new v(this.xAxis.rect.x,this.yAxis.rect.y,this.xAxis.rect.width,this.yAxis.rect.height),t.clipRectElement=e.renderer.drawClipPath(new Bi(n+"_RangeSeriesClipRect_"+i,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:t.clipRect.width,height:t.clipRect.height})),t.seriesElement=e.renderer.createGroup({id:n+"SeriesGroup"+i,transform:"translate("+t.clipRect.x+","+t.clipRect.y+")","clip-path":"url(#"+n+"_RangeSeriesClipRect_"+i+")"}),t.seriesElement.appendChild(t.clipRectElement)}},{key:"calculateGroupingBounds",value:function(e){var t=e.margin.bottom,i=p("string",e.labelStyle).height;this.calculateDateTimeNiceInterval(this.xAxis,new g(e.bounds.width,e.bounds.height),this.xMin,this.xMax,!1),!e.enableGrouping||"DateTime"!==e.valueType||"Years"===this.xAxis.actualIntervalType&&e.series.length||(e.bounds.height-="Outside"===e.labelPosition||0===e.series.length?t+i:i+2*t),e.series.length||(e.bounds.y+=e.bounds.height/4,e.bounds.height=e.bounds.height/2)}},{key:"drawSeriesBorder",value:function(e,t){var i=new P(e.element.id+"_SeriesBorder","transparent",e.navigatorBorder.width,e.navigatorBorder.color,1,"","M "+e.bounds.x+" "+e.bounds.y+" L "+(e.bounds.x+e.bounds.width)+" "+e.bounds.y+(e.stockChart?"M":"L")+(e.bounds.x+e.bounds.width)+" "+(e.bounds.y+e.bounds.height)+" L "+e.bounds.x+" "+(e.bounds.y+e.bounds.height)+(e.stockChart?"":"Z")),n=e.renderer.drawPath(i);e.svgObject.appendChild(n)}}]),t}(bn),Fn=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).firstLevelLabels=[],i.secondLevelLabels=[],i.rangeNavigator=e,i}return _inherits(t,e),_createClass(t,[{key:"renderGridLines",value:function(){var e,t=0,i=this.rangeNavigator,n=i.majorGridLines,r=i.majorTickLines,o="",s="",a=i.bounds,l=i.chartSeries.xAxis,h=i.disableRangeSelector?"transparent":null;this.gridLines=i.renderer.createGroup({id:i.element.id+"_GridLines"});var c="Outside"===i.tickPosition||0===i.series.length?a.y+a.height+r.height:a.y+a.height-r.height;this.firstLevelLabels=[],l.labelStyle=i.labelStyle,l.skeleton=i.skeleton,l.skeletonType=i.skeletonType,l.isChart=!1,"DateTime"===i.valueType&&(this.calculateDateTimeNiceInterval(l,a,l.doubleRange.start,l.doubleRange.end,l.isChart),this.actualIntervalType=l.actualIntervalType,this.findAxisLabels(l)),this.firstLevelLabels=l.visibleLabels,this.lowerValues=[],e=l.visibleLabels.length;for(var d=0;d<e;d++)this.lowerValues.push(this.firstLevelLabels[d].value),(t=kt(this.firstLevelLabels[d].value,l)*a.width+a.x)>=a.x&&a.x+a.width>=t&&(o=o.concat("M "+t+" "+(i.bounds.y+i.bounds.height)+" L "+t+" "+i.bounds.y+" "),s=s.concat("M "+t+" "+(a.y+a.height)+" L "+t+" "+c+" "));var u=new P(i.element.id+"_MajorGridLine","transparent",n.width,i.series.length?h||n.color||i.themeStyle.gridLineColor:"transparent",1,n.dashArray,o);this.gridLines.appendChild(i.renderer.drawPath(u)),u=new P(i.element.id+"_MajorTickLine","transparent",r.width,h||r.color||i.themeStyle.gridLineColor,1,n.dashArray,s),this.gridLines.appendChild(i.renderer.drawPath(u))}},{key:"renderAxisLabels",value:function(){var e,t=this.rangeNavigator.chartSeries.xAxis,i=this.rangeNavigator,n=i.renderer.createGroup({id:i.element.id+"_AxisLabels"}),r=i.renderer.createGroup({id:i.element.id+"_FirstLevelAxisLabels"}),o=i.renderer.createGroup({id:i.element.id+"_SecondLevelAxisLabels"}),s=t;if(e=this.findLabelY(i,!1),this.placeAxisLabels(t,e,"_AxisLabel_",i,r),s.intervalType=s.actualIntervalType=i.groupBy||this.getSecondaryLabelType(t.actualIntervalType),s.labelFormat="",i.enableGrouping&&"DateTime"===i.valueType&&"Years"!==this.actualIntervalType){s.visibleRange.interval=1,s.visibleLabels=[],this.findAxisLabels(s),this.secondLevelLabels=s.visibleLabels,e=this.findLabelY(i,!0);var a=this.placeAxisLabels(s,e,"_SecondaryLabel_",i,o),l=new P(i.element.id+"_SecondaryMajorLines","transparent",i.majorTickLines.width,i.majorTickLines.color||i.themeStyle.gridLineColor,1,i.majorGridLines.dashArray,a);this.gridLines.appendChild(i.renderer.drawPath(l))}i.chartSeries.xAxis.visibleLabels=i.chartSeries.xAxis.visibleLabels.concat(s.visibleLabels),n.appendChild(r),n.appendChild(o),i.svgObject.appendChild(this.gridLines),i.svgObject.appendChild(n)}},{key:"getSecondaryLabelType",value:function(e){var t=["Years","Quarter","Months","Weeks","Days","Hours","Minutes","Seconds"];return"Years"===e?"Years":t[t.indexOf(e)-1]}},{key:"findAxisLabels",value:function(e){e.visibleLabels=[];var t,i,n=new Date(e.visibleRange.min),r=this.rangeNavigator.interval?this.rangeNavigator.interval:1;switch(e.actualIntervalType){case"Years":n=new Date(n.getFullYear(),0,1);break;case"Quarter":n=n.getMonth()<=2?new Date(n.getFullYear(),0,1):n.getMonth()<=5?new Date(n.getFullYear(),3,1):n.getMonth()<=8?new Date(n.getFullYear(),6,1):new Date(n.getFullYear(),9,1);break;case"Months":n=new Date(n.getFullYear(),n.getMonth());break;case"Weeks":n=new Date(n.getFullYear(),n.getMonth(),n.getDate()-n.getDay());break;case"Days":n=new Date(n.getFullYear(),n.getMonth(),n.getDate());break;case"Hours":n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours());break;case"Minutes":n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes());break;case"Seconds":n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds())}for(t=n.getTime(),this.rangeNavigator.format=this.rangeNavigator.intl.getDateFormat({format:e.labelFormat||this.blazorFormat(e),type:It(e.skeletonType),skeleton:this.getSkeleton(e,null,null,this.rangeNavigator.isBlazor)});t<=e.visibleRange.max;)i=this.dateFormats(this.rangeNavigator.format(new Date(t)),e,e.visibleLabels.length),e.visibleLabels.push(new ot(i,t,this.rangeNavigator.labelStyle,i)),t=this.increaseDateTimeInterval(e,t,r).getTime()}},{key:"blazorFormat",value:function(e){return this.rangeNavigator.isBlazor&&"Years"===e.actualIntervalType?"yyyy":""}},{key:"dateFormats",value:function(e,t,i){var n=e,r=this.rangeNavigator.isBlazor,o=this.rangeNavigator.enableGrouping&&0===this.firstLevelLabels.length;switch(t.actualIntervalType){case"Quarter":e.indexOf("Jan")>-1?n=o?"Quarter1":e.replace(r?"January":"Jan","Quarter1"):e.indexOf("Apr")>-1?n=o?"Quarter2":e.replace(r?"April":"Apr","Quarter2"):e.indexOf("Jul")>-1?n=o?"Quarter3":e.replace(r?"July":"Jul","Quarter3"):e.indexOf("Oct")>-1&&(n=o?"Quarter4":e.replace(r?"October":"Oct","Quarter4"));break;case"Weeks":n="Week"+ ++i;break;default:n=e}return n}},{key:"findLabelY",value:function(e,t){var i,n=e.bounds.y+e.bounds.height,r=e.majorTickLines.height,o=p("Quarter1 2011",e.labelStyle).height,s=8;return i="Outside"===e.labelPosition&&"Outside"===e.tickPosition||0===e.series.length?n+r+s+.75*o:"Inside"===e.labelPosition&&"Inside"===e.tickPosition?n-r-s:"Inside"===e.labelPosition&&"Outside"===e.tickPosition?n-s:n+s+.75*o,t&&(s=15,"Outside"===e.labelPosition||0===e.series.length?i+=s+.75*o:i="Outside"===e.tickPosition||0===e.series.length?n+r+s+.75*o:n+s+.75*o),i}},{key:"placeAxisLabels",value:function(e,t,i,n,r){var o,s,a,l,h=e.visibleLabels.length,c=n.bounds,d="",u=n.disableRangeSelector?"transparent":null,m=n.enableRtl?c.x+c.width:c.x,g=e.actualIntervalType,y="DateTime"===n.valueType?h>1?e.visibleLabels[1].value-e.visibleLabels[0].value:(e.visibleRange.max-e.visibleLabels[0].value)/2:0;"DateTime"!==n.valueType||"Quarter"!==g&&"Weeks"!==g||this.findSuitableFormat(e,n);for(var f=0,x=h;f<x;f++)if((o=e.visibleLabels[f]).size=p(o.text,e.labelStyle),"Middle"===n.secondaryLabelAlignment?a=kt(o.value+y/2,e)*c.width+c.x:i.indexOf("Secondary")>-1&&(a=this.findAlignment(e,f)),l=kt(o.value,e)*c.width+c.x,(0===f||f===e.visibleLabels.length-1&&n.enableRtl)&&a<c.x&&(a=c.x+o.size.width/2),(f===e.visibleLabels.length-1||0===f&&n.enableRtl)&&a+o.size.width>c.x+c.width&&(a=c.x+c.width-o.size.width/2),i.indexOf("_SecondaryLabel_")>-1&&a>=c.x&&c.x+c.width>=a&&(d=d.concat("M "+l+" "+t+" L "+l+" "+(t-o.size.height))),"Hide"!==n.labelIntersectAction||0===f||!this.isIntersect(e,a,o.size.width,m,s.size.width)){var _;"Middle"===n.secondaryLabelAlignment&&1===e.visibleLabels.length&&(a=kt(o.value,e)+(c.x+c.width/2));var w=n.labelStyle;_={cancel:!1,name:"labelRender",text:o.text,value:o.value,labelStyle:{size:w.size,color:u||w.color||n.themeStyle.labelFontColor,fontFamily:w.fontFamily,fontStyle:w.fontStyle||n.labelStyle.fontStyle,fontWeight:w.fontWeight||n.labelStyle.fontWeight,opacity:w.opacity||n.labelStyle.opacity,textAlignment:w.textAlignment||n.labelStyle.textAlignment,textOverflow:w.textOverflow||n.labelStyle.textOverflow},region:new v(a,t,o.size.width,o.size.height)},n.trigger("labelRender",_),_.cancel||(n.labels.push(_),gi(this.rangeNavigator.renderer,new b(this.rangeNavigator.element.id+i+f,a,t,"middle",_.text),_.labelStyle,_.labelStyle.color||n.themeStyle.labelFontColor,r).setAttribute("style","DateTime"===e.valueType?"cursor: pointer":"cursor: default"),m=a,s=o)}return d}},{key:"isIntersect",value:function(e,t,i,n,r){return e.isInversed?t+i/2>n-r/2:t-i/2<n+r/2}},{key:"findSuitableFormat",value:function(e,t){for(var i,n,r=e.visibleLabels,o=r.length,s=t.bounds,a="DateTime"===t.valueType?o>1?r[1].value-r[0].value:e.visibleRange.interval:0,l=0;l<o;l++)n=kt(r[l].value+a/2,e)*s.width+s.x,r[l].size=p(r[l].text,e.labelStyle),0===l&&n<s.x&&(n=s.x+r[l].size.width/2),"Quarter"===e.actualIntervalType?0!==l&&(r[l].text.indexOf("Quarter")>-1&&this.isIntersect(e,n,r[l].size.width,i,r[l-1].size.width)?(r.every((function(e){return e.text=e.text.toString().replace("Quarter","QTR"),!0})),e.visibleLabels=r,this.findSuitableFormat(e,t)):this.isIntersect(e,n,r[l].size.width,i,r[l-1].size.width)&&(r.every((function(e){return e.text=e.text.toString().replace("QTR","Q"),!0})),e.visibleLabels=r)):"Weeks"===e.actualIntervalType&&0!==l&&r[l].text.indexOf("Week")>-1&&this.isIntersect(e,n,r[l].size.width,i,r[l-1].size.width)&&(r.every((function(e){return e.text=e.text.toString().replace("Week","W"),!0})),e.visibleLabels=r),i=n}},{key:"findAlignment",value:function(e,t){var i=e.visibleLabels[t],n=e.visibleLabels[t+1],r=this.rangeNavigator.bounds;return"Near"===this.rangeNavigator.secondaryLabelAlignment?kt(i.value,e)*r.width+r.x+i.size.width/2:kt(n?n.value:e.visibleRange.max,e)*r.width+r.x-i.size.width}}]),t}(xn);!function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.tooltipLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(Bn||(Bn={}));var Wn,Hn,Zn,Xn,Gn,Yn,Un,Qn,qn,Jn,Kn,$n,er,tr,ir,nr,rr,or,sr,ar,lr,hr,cr,dr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ur=(Xn=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).clipRect=new v(0,0,0,0),e}return _inherits(t,e),t}(c.e),dr([Object(c.s)(null)],Xn.prototype,"dataSource",void 0),dr([Object(c.s)(null)],Xn.prototype,"xName",void 0),dr([Object(c.s)(null)],Xn.prototype,"yName",void 0),dr([Object(c.s)()],Xn.prototype,"query",void 0),dr([Object(c.s)("Line")],Xn.prototype,"type",void 0),dr([Object(c.g)({enable:!1},Le)],Xn.prototype,"animation",void 0),dr([Object(c.g)({color:"transparent",width:2},ke)],Xn.prototype,"border",void 0),dr([Object(c.s)(null)],Xn.prototype,"fill",void 0),dr([Object(c.s)(1)],Xn.prototype,"width",void 0),dr([Object(c.s)(1)],Xn.prototype,"opacity",void 0),dr([Object(c.s)("0")],Xn.prototype,"dashArray",void 0),Xn),pr=(Zn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),dr([Object(c.s)(null)],Zn.prototype,"width",void 0),dr([Object(c.s)(null)],Zn.prototype,"height",void 0),dr([Object(c.g)({width:1,color:null},ke)],Zn.prototype,"border",void 0),dr([Object(c.s)(null)],Zn.prototype,"fill",void 0),dr([Object(c.s)("Circle")],Zn.prototype,"type",void 0),Zn),mr=(Hn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),dr([Object(c.g)({},pr)],Hn.prototype,"thumb",void 0),dr([Object(c.s)(null)],Hn.prototype,"selectedRegionColor",void 0),dr([Object(c.s)(null)],Hn.prototype,"unselectedRegionColor",void 0),Hn),gr=(Wn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),dr([Object(c.s)(!1)],Wn.prototype,"enable",void 0),dr([Object(c.s)(.85)],Wn.prototype,"opacity",void 0),dr([Object(c.s)(null)],Wn.prototype,"fill",void 0),dr([Object(c.s)(null)],Wn.prototype,"format",void 0),dr([Object(c.g)(Bn.tooltipLabelFont,Ce)],Wn.prototype,"textStyle",void 0),dr([Object(c.s)(null)],Wn.prototype,"template",void 0),dr([Object(c.g)({color:"#cccccc",width:.5},ke)],Wn.prototype,"border",void 0),dr([Object(c.s)("OnDemand")],Wn.prototype,"displayMode",void 0),Wn),vr=function(){function e(t){_classCallCheck(this,e),this.control=t,this.points=[],this.isIOS=c.d.isIos||c.d.isIos7;var i=t.navigatorStyleSettings.thumb;this.thumbVisible=0!==t.themeStyle.thumbWidth&&0!==t.themeStyle.thumbHeight,this.elementId=t.element.id,this.thumpPadding=t.themeStyle.thumbWidth/2,this.addEventListener(),this.thumbColor=t.disableRangeSelector?"transparent":i.fill||t.themeStyle.thumbBackground}return _createClass(e,[{key:"render",value:function(e){var t=e.renderer,i=e.navigatorStyleSettings,n=e.disableRangeSelector?"transparent":null,r=t.createGroup({id:this.elementId+"_sliders",style:e.disableRangeSelector?"pointer-events:none;":""}),o=new Bi(this.elementId+"_leftUnSelectedArea",n||i.unselectedRegionColor||e.themeStyle.unselectedRectColor,{width:0},1,{x:e.bounds.x,y:e.bounds.y,width:e.bounds.width/3,height:e.bounds.height});this.leftUnSelectedElement=t.drawRectangle(o),o.id=this.elementId+"_rightUnSelectedArea",this.rightUnSelectedElement=t.drawRectangle(o),o.id=this.elementId+"_SelectedArea",o.fill=n||i.selectedRegionColor||e.themeStyle.selectedRegionColor,this.selectedElement=t.drawRectangle(o),this.selectedElement.setAttribute("style","cursor: -webkit-grab"),this.leftSlider=t.createGroup({id:this.elementId+"_LeftSlider",style:"cursor: ew-resize"}),this.rightSlider=t.createGroup({id:this.elementId+"_RightSlider",style:"cursor: ew-resize"}),this.createThump(t,e.bounds,this.leftSlider,this.elementId+"_LeftSlider",r),this.createThump(t,e.bounds,this.rightSlider,this.elementId+"_RightSlider"),r.appendChild(this.leftUnSelectedElement),r.appendChild(this.rightUnSelectedElement),r.appendChild(this.selectedElement),r.appendChild(this.leftSlider),r.appendChild(this.rightSlider),e.svgObject.appendChild(r)}},{key:"createThump",value:function(e,t,i,n,r){var o,s=this.control,a=s.navigatorStyleSettings.thumb,l=t.y+t.height/2,h=this.thumpPadding,c=s.themeStyle.thumbHeight/2-5,d=s.disableRangeSelector?"transparent":null,u=d||a.border.color||s.themeStyle.thumpLineColor;i.appendChild(e.drawPath(new P(n+"_ThumpLine","transparent",a.border.width,s.series.length?u:"transparent",1,null,"M "+h+" "+t.y+" L "+h+" "+(t.y+t.height)+" "))),this.thumpY=l-s.themeStyle.thumbHeight/2,this.sliderY=t.y>this.thumpY?this.thumpY:t.y,r&&!s.disableRangeSelector&&((o=e.createDefs()).innerHTML='<rect xmlns="http://www.w3.org/2000/svg" id="'+this.control.element.id+'_shadow" x="0" y="'+this.thumpY+'" width="'+s.themeStyle.thumbWidth+'" height="'+s.themeStyle.thumbHeight+'" rx="'+("Circle"===a.type?"50%":"0%")+'"/><filter xmlns="http://www.w3.org/2000/svg" x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox" id="ej2-range-shadow"><feOffset dx="0" dy="1" in="SourceAlpha"result="shadowOffsetOuter1"/><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"/><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"/><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1"/></filter>',r.appendChild(o)),i.innerHTML+='<use xmlns="http://www.w3.org/2000/svg" fill="black" fill-opacity="1" filter="url(#ej2-range-shadow)" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#path-1"/>',i.appendChild("Circle"===a.type?Xt({x:h,y:l},"Circle",{width:s.themeStyle.thumbWidth,height:s.themeStyle.thumbHeight},"",new P(n+"_ThumpSymbol",d||this.thumbColor,a.border.width,u,1,null)):e.drawRectangle(new Bi(n+"_ThumpSymbol",d||this.thumbColor,{width:a.border.width,color:u},1,{x:h-s.themeStyle.thumbWidth/2,y:l-s.themeStyle.thumbHeight/2,width:s.themeStyle.thumbWidth,height:s.themeStyle.thumbHeight},2,2))),this.thumbVisible&&i.appendChild(e.drawPath(new P(n+"_ThumpGrip","transparent",1,d||s.themeStyle.gripColor,1,null,"M "+(h+2)+" "+(l+c)+" L "+(h+2)+" "+(l-c)+" M "+h+" "+(l+c)+" L "+h+" "+(l-c)+" M "+(h-2)+" "+(l+c)+" L "+(h-2)+" "+(l-c)+" ")))}},{key:"setSlider",value:function(e,t,i,n){var r=this.control,o=r.bounds.x,s=r.chartSeries.xAxis.actualRange,a=0===r.series.length;t>=e||(e=[t,t=e][0]),e=t>=e?e:[t,t=e][0],e=Math.max(e,s.min),t=Math.min(t,s.max),this.startX=o+zn(e,s,r.bounds.width,r.enableRtl),this.endX=o+zn(t,s,r.bounds.width,r.enableRtl);var l=r.enableRtl?this.endX:this.startX,h=r.enableRtl?this.startX:this.endX;this.sliderWidth=Math.abs(this.endX-this.startX),this.selectedElement.setAttribute("x",l+""),this.selectedElement.setAttribute("width",this.sliderWidth+""),this.leftUnSelectedElement.setAttribute("width",l-o+""),this.rightUnSelectedElement.setAttribute("x",h+""),this.rightUnSelectedElement.setAttribute("width",r.bounds.width-(h-o)+""),this.leftSlider.setAttribute("transform","translate("+(this.startX-this.thumpPadding)+", 0)"),this.rightSlider.setAttribute("transform","translate("+(this.endX-this.thumpPadding)+", 0)");var c=this.control.svgObject.getBoundingClientRect().left-this.control.element.getBoundingClientRect().left,d=this.control.enableRtl?this.endX:this.startX,u=this.control.enableRtl?this.startX:this.endX;this.leftRect={x:a?c+o:o,y:a?0:r.bounds.y,width:a?d-o:d,height:a?this.thumpY:r.bounds.height},this.rightRect={x:a?c+u:u,y:a?0:r.bounds.y,width:r.bounds.width-(h-o),height:a?this.thumpY:r.bounds.height},this.midRect={x:a?d+c:0,y:a?0:r.bounds.y,width:a?Math.abs(this.endX-this.startX):u,height:a?this.thumpY:r.bounds.height},this.currentStart=e,this.currentEnd=t,n&&(this.control.rangeTooltipModule.renderLeftTooltip(this),this.control.rangeTooltipModule.renderRightTooltip(this)),i&&this.triggerEvent(s)}},{key:"triggerEvent",value:function(e){var t,i,n,r,o,s=this.control.chartSeries.xAxis,a=s.valueType;t={cancel:!1,start:"DateTime"===a?new Date(this.currentStart):"Logarithmic"===a?Math.pow(s.logBase,this.currentStart):this.currentStart,end:"DateTime"===a?new Date(this.currentEnd):"Logarithmic"===a?Math.pow(s.logBase,this.currentEnd):this.currentEnd,name:"changed",selectedData:(i=this.points,n=this.currentStart,r=this.currentEnd,o=[],i.map((function(e){e.xValue>=n&&e.xValue<=r&&o.push({x:e.x,y:e.y})})),o),zoomPosition:(this.control.enableRtl?e.max-this.currentEnd:this.currentStart-e.min)/e.delta,zoomFactor:(this.currentEnd-this.currentStart)/e.delta},this.control.trigger("changed",t)}},{key:"addEventListener",value:function(){this.control.isDestroyed||(this.control.on(c.d.touchMoveEvent,this.mouseMoveHandler,this),this.control.on(c.d.touchStartEvent,this.mouseDownHandler,this),this.control.on(c.d.touchEndEvent,this.mouseUpHandler,this),this.control.on(c.d.isPointer?"pointerleave":"mouseleave",this.mouseCancelHandler,this))}},{key:"removeEventListener",value:function(){this.control.isDestroyed||(this.control.off(c.d.touchMoveEvent,this.mouseMoveHandler),this.control.off(c.d.touchStartEvent,this.mouseDownHandler),this.control.off(c.d.touchEndEvent,this.mouseUpHandler),this.control.off(c.d.isPointer?"pointerleave":"mouseleave",this.mouseCancelHandler))}},{key:"mouseMoveHandler",value:function(e){var t,i,n=this.control,r=n.chartSeries.xAxis.actualRange,o=n.bounds;if(this.getCurrentSlider(e.target.id),this.isDrag&&n.mouseX>=o.x){switch(this.currentSlider){case"Left":n.startValue=this.getRangeValue(Math.abs(n.mouseX-o.x));break;case"Right":n.endValue=this.getRangeValue(Math.abs(n.mouseX-o.x));break;case"Middle":t=Math.max(this.getRangeValue(Math.abs(this.startX-(this.previousMoveX-n.mouseX)-o.x)),r.min),i=Math.min(this.getRangeValue(Math.abs(this.endX-(this.previousMoveX-n.mouseX)-o.x)),r.max),Math.floor(Math.abs(zn(i,r,n.bounds.width,n.enableRtl)-zn(t,r,n.bounds.width,n.enableRtl)))===Math.floor(this.sliderWidth)&&(n.startValue=t,n.endValue=i)}e.preventDefault&&this.isIOS&&e.preventDefault(),this.setSlider(n.startValue,n.endValue,!n.enableDeferredUpdate,n.rangeTooltipModule&&n.tooltip.enable),this.previousMoveX=n.mouseX}}},{key:"getRangeValue",value:function(e){var t=this.control;return En(e,t.bounds.width,t.chartSeries.xAxis.actualRange,t.enableRtl)}},{key:"mouseDownHandler",value:function(e){this.currentSlider=this.getCurrentSlider(e.target.id),this.selectedElement.setAttribute("style","cursor: -webkit-grabbing"),this.isDrag=!("UnSelectedArea"===this.currentSlider||!this.currentSlider),this.previousMoveX=this.control.mouseDownX}},{key:"getCurrentSlider",value:function(e){var t=this.control.themeStyle.thumbHoverColor;return e.indexOf(this.elementId+"_LeftSlider")>-1?(this.leftSlider.childNodes[2].setAttribute("fill",t),"Left"):e.indexOf(this.elementId+"_RightSlider")>-1?(this.rightSlider.childNodes[2].setAttribute("fill",t),"Right"):e.indexOf(this.elementId+"_SelectedArea")>-1?"Middle":e.indexOf("UnSelectedArea")>-1?(this.leftSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.rightSlider.childNodes[2].setAttribute("fill",this.thumbColor),"UnSelectedArea"):e.indexOf(this.elementId+"_AxisLabel_")>-1&&"DateTime"===this.control.valueType?(this.labelIndex=+e.substring(e.lastIndexOf("_")+1,e.length),"firstLevelLabels"):e.indexOf(this.elementId+"_SecondaryLabel")>-1&&"DateTime"===this.control.valueType?(this.labelIndex=+e.substring(e.lastIndexOf("_")+1,e.length),"secondLevelLabels"):(this.leftSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.rightSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.control.periodSelectorModule&&(this.control.periodSelectorModule.triggerChange=!0),null)}},{key:"mouseUpHandler",value:function(e){var t=this.control,i=t.chartSeries.xAxis.actualRange,n=t.enableDeferredUpdate,r=t.tooltip.enable;if(t.stockChart&&(t.stockChart.zoomChange=!1),"UnSelectedArea"===this.currentSlider){var o,s,a,l=t.enableRtl,h=t.endValue-t.startValue;t.mouseDownX<this.startX?(o=Math.max(this.getRangeValue(t.mouseDownX-this.sliderWidth/2-t.bounds.x),i.min),a=l?o:o+h,s=l?o-h:o):(o=Math.min(this.getRangeValue(t.mouseDownX+this.sliderWidth/2-t.bounds.x),i.max),s=l?o:o-h,a=l?o+h:o),this.performAnimation(s,a,t),n=!1}else if("firstLevelLabels"===this.currentSlider||"secondLevelLabels"===this.currentSlider){var c=t.rangeAxis[this.currentSlider][this.labelIndex+1];this.performAnimation(t.rangeAxis[this.currentSlider][this.labelIndex].value,c?t.allowIntervalData?c.value-1:c.value:i.max,t),n=!1}this.isDrag&&t.allowSnapping&&(this.setAllowSnapping(t,this.currentStart,this.currentEnd,n,r),n=!1),n&&this.setSlider(this.currentStart,this.currentEnd,!0,r),null!==this.currentSlider&&this.control.periodSelectorSettings.periods.length>0&&(this.control.periodSelectorModule.triggerChange=!1,this.control.periodSelectorModule.datePicker.startDate=new Date(this.currentStart),this.control.periodSelectorModule.datePicker.endDate=new Date(this.currentEnd)),this.selectedElement.setAttribute("style","cursor: -webkit-grab"),t.startValue=this.currentStart,t.endValue=this.currentEnd,this.isDrag=!1,this.labelIndex=null,this.currentSlider=null}},{key:"setAllowSnapping",value:function(e,t,i,n,r){var o=e.rangeAxis.lowerValues;o.push(e.chartSeries.xAxis.actualRange.max),this.setSlider(Dn(o,t),Dn(o,i),n,r),e.startValue=this.currentStart,e.endValue=this.currentEnd}},{key:"performAnimation",value:function(e,t,i,n){var r=this,o=this.currentStart,s=this.currentEnd,a=i.enableDeferredUpdate,l=i.tooltip.enable;new c.b({}).animate(Object(c.F)("div"),{duration:Object(c.W)(n)?this.control.animationDuration:n,progress:function(i){r.setSlider(Dt(i.timeStamp,0,e-o,i.duration)+o,Dt(i.timeStamp,0,t-s,i.duration)+s,!a,l)},end:function(n){i.allowSnapping?r.setAllowSnapping(i,e,t,!0,l):r.setSlider(e,t,!0,l),r.control.startValue=r.currentStart,r.control.endValue=r.currentEnd,r.control.periodSelectorSettings.periods.length>0&&(r.control.periodSelectorModule.triggerChange=!1,r.control.periodSelectorModule.datePicker.startDate=new Date(r.currentStart),r.control.periodSelectorModule.datePicker.endDate=new Date(r.currentEnd))}})}},{key:"mouseCancelHandler",value:function(){this.isDrag&&this.control.allowSnapping&&this.setAllowSnapping(this.control,this.currentStart,this.currentEnd,!1,this.control.tooltip.enable),this.isDrag=!1,this.currentSlider=null,this.control.startValue=this.currentStart,this.control.endValue=this.currentEnd}},{key:"destroy",value:function(){this.removeEventListener()}}]),e}(),yr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},fr=(Gn=function(e){function t(e,i){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i))).animateSeries=!0,n.chartid=57725,n}return _inherits(t,e),_createClass(t,[{key:"preRender",value:function(){if(this.isBlazor=window.Blazor,this.unWireEvents(),this.setCulture(),this.allowServerDataBinding=!1,""===this.element.id){var e=document.getElementsByClassName("e-rangenavigator").length;this.element.id="rangenavigator_"+this.chartid+"_"+e}this.wireEvents()}},{key:"initPrivateVariables",value:function(){this.doubleModule=new Be,this.labels=[],this.rangeSlider=new vr(this),this.chartSeries=new Vn(this),this.lineSeriesModule=new Cn,this.rangeAxis=new Fn(this)}},{key:"setCulture",value:function(){this.intl=new c.n}},{key:"setSliderValue",value:function(){var e="DateTime"===this.valueType,t=this.chartSeries.xAxis.actualRange;this.startValue=this.startValue?this.startValue:this.value[0]?e?this.value[0].getTime():+this.value[0]:t.min,this.endValue=this.endValue?this.endValue:this.value[1]?e?this.value[1].getTime():+this.value[1]:t.max}},{key:"render",value:function(){var e=this,t={name:"load",rangeNavigator:this.isBlazor?{}:this,theme:this.theme};this.trigger("load",t,(function(){e.theme=e.isBlazor?t.theme:e.theme,e.setTheme(),e.initPrivateVariables(),e.createRangeSvg(),e.calculateBounds(),e.chartSeries.renderChart(e),ht("chartmeasuretext"),e.renderComplete(),e.allowServerDataBinding=!0}))}},{key:"setTheme",value:function(){this.themeStyle=function(e,t){var i=t.navigatorStyleSettings.thumb,n=Object(c.W)(i.width)?c.d.isDevice?15:20:i.width,r=Object(c.W)(i.height)?c.d.isDevice?15:20:i.height,o="HighContrast"===e?"#969696":"#6F6C6C",s="HighContrast"===e?"#4A4848":"#414040",a="MaterialDark"===e?"#303030":"FabricDark"===e?"#201F1F":"1A1A1A",l={gridLineColor:"#E0E0E0",axisLineColor:"#000000",labelFontColor:"#686868",unselectedRectColor:t.series.length?"rgba(255, 255, 255, 0.6)":"#EEEEEE",thumpLineColor:"rgba(189, 189, 189, 1)",thumbBackground:"rgba(250, 250, 250, 1)",gripColor:"#757575",background:"#FFFFFF",thumbHoverColor:"#EEEEEE",selectedRegionColor:t.series.length?"transparent":"#FF4081",tooltipBackground:"rgb(0, 8, 22)",tooltipFontColor:"#dbdbdb",thumbWidth:n,thumbHeight:r};switch(e){case"Fabric":l.selectedRegionColor=t.series.length?"transparent":"#007897";break;case"Bootstrap":l.selectedRegionColor=t.series.length?"transparent":"#428BCA";break;case"HighContrastLight":l={gridLineColor:"#bdbdbd",axisLineColor:"#969696",labelFontColor:"#ffffff",unselectedRectColor:t.series.length?"rgba(255, 255, 255, 0.3)":"#EEEEEE",thumpLineColor:"#ffffff",thumbBackground:"#262626",gripColor:"#ffffff",background:a,thumbHoverColor:"#BFBFBF",selectedRegionColor:t.series.length?"transparent":"#FFD939",tooltipBackground:"#ffffff",tooltipFontColor:"#000000",thumbWidth:n,thumbHeight:r};break;case"Highcontrast":case"HighContrast":l={gridLineColor:s,axisLineColor:o,labelFontColor:"#DADADA",unselectedRectColor:t.series.length?"rgba(43, 43, 43, 0.6)":"#514F4F",thumpLineColor:"#969696",thumbBackground:"#333232",gripColor:"#DADADA",background:"#000000",thumbHoverColor:"#BFBFBF",selectedRegionColor:t.series.length?"rgba(22, 22, 22, 0.6)":"#FFD939",tooltipBackground:"#F4F4F4",tooltipFontColor:"#282727",thumbWidth:n,thumbHeight:r};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":l={labelFontColor:"#DADADA",axisLineColor:" #6F6C6C",gridLineColor:"#414040",tooltipBackground:"#F4F4F4",tooltipFontColor:"#333232",unselectedRectColor:t.series.length?"rgba(43, 43, 43, 0.6)":"#514F4F",thumpLineColor:"#969696",thumbBackground:"#333232",gripColor:"#DADADA",background:a,thumbHoverColor:"#BFBFBF",selectedRegionColor:t.series.length?"rgba(22, 22, 22, 0.6)":"FabricDark"===e?"#007897":"BootstrapDark"===e?"#428BCA":"#FF4081",thumbWidth:n,thumbHeight:r};break;case"Bootstrap4":l={gridLineColor:"#E0E0E0",axisLineColor:"#CED4DA",labelFontColor:"#212529",unselectedRectColor:t.series.length?"rgba(255, 255, 255, 0.6)":"#514F4F",thumpLineColor:"rgba(189, 189, 189, 1)",thumbBackground:"#FFFFFF",gripColor:"#495057",background:"rgba(255, 255, 255, 0.6)",thumbHoverColor:"#EEEEEE",selectedRegionColor:t.series.length?"transparent":"#FFD939",tooltipBackground:"rgba(0, 0, 0, 0.9)",tooltipFontColor:"rgba(255, 255, 255)",thumbWidth:n,thumbHeight:r};break;default:l.selectedRegionColor=t.series.length?"transparent":"#FF4081"}return l}(this.theme,this)}},{key:"createRangeSvg",value:function(){this.removeSvg(),yi(this),this.renderChartBackground()}},{key:"calculateBounds",value:function(){var e=this.enableGrouping?15:8,t=this.navigatorStyleSettings.thumb,i=p("tempString",this.labelStyle).height,n=this.margin,r=!this.series.length,o=!this.disableRangeSelector&&r&&this.tooltip.enable?35:0,s=this.periodSelectorModule;if(this.periodSelectorModule&&this.periodSelectorSettings.periods.length>0&&(s.periodSelectorSize={x:0,y:0,height:0,width:0},s.periodSelectorSize.width=this.availableSize.width,s.periodSelectorSize.height=this.periodSelectorSettings.height,s.periodSelectorSize.y="Bottom"===this.periodSelectorSettings.position?this.availableSize.height-s.periodSelectorSize.height:0),this.bounds=new v(this.themeStyle.thumbWidth/2+t.border.width+n.left,n.top+o+("Top"===this.periodSelectorSettings.position&&s?s.periodSelectorSize.y+s.periodSelectorSize.height:0),this.availableSize.width-this.themeStyle.thumbWidth-2*t.border.width-n.left-n.right,this.availableSize.height-n.top-n.bottom-o-(s?s.periodSelectorSize.height:0)),this.bounds.height-=("Outside"===this.labelPosition||r?i+e:0)+("Outside"===this.tickPosition||r?this.majorTickLines.height:0),r){var a=this.enableGrouping?this.bounds.height-(i+e):this.bounds.height;this.bounds.y+=this.themeStyle.thumbHeight>a?(this.themeStyle.thumbHeight-a)/2:0}this.disableRangeSelector&&(this.bounds.y=0,this.bounds.height=this.periodSelectorSettings.height)}},{key:"renderChart",value:function(){this.chartSeries.renderSeries(this),this.rangeAxis.renderGridLines(),this.rangeAxis.renderAxisLabels(),this.chartSeries.appendSeriesElements(this),this.createSecondaryElement(),this.setSliderValue(),this.renderPeriodSelector(),this.renderSlider(),this.stockChart||this.element.appendChild(this.svgObject),this.trigger("loaded",{rangeNavigator:this.isBlazor?{}:this}),this.rangeSlider.setSlider(this.startValue,this.endValue,!1,this.tooltip.enable&&"Always"===this.tooltip.displayMode)}},{key:"renderPeriodSelector",value:function(){this.periodSelectorModule&&(this.periodSelectorModule.renderSelectorElement(this),this.periodSelectorModule.renderSelector())}},{key:"createSecondaryElement",value:function(){if(this.tooltip.enable){var e=this.createElement("div");e.id=this.element.id+"_Secondary_Element",e.setAttribute("style","position: relative"),this.element.appendChild(e)}}},{key:"renderSlider",value:function(){this.rangeSlider.render(this),this.rangeSlider.setSlider(this.startValue,this.endValue,!0,this.tooltip.enable&&"Always"===this.tooltip.displayMode)}},{key:"removeSvg",value:function(){if(Yt(this.element.id+"_Secondary_Element")&&Object(c.gb)(Yt(this.element.id+"_Secondary_Element")),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);this.svgObject.hasChildNodes()||!this.svgObject.parentNode||this.stockChart||Object(c.gb)(this.svgObject)}}},{key:"unWireEvents",value:function(){var e=c.d.touchMoveEvent,t=c.d.touchEndEvent,i=c.d.isPointer?"pointerleave":"mouseleave";c.l.remove(this.element,c.d.touchStartEvent,this.rangeOnMouseDown),c.l.remove(this.element,e,this.mouseMove),c.l.remove(this.element,t,this.mouseEnd),c.l.remove(this.element,"click",this.rangeOnMouseClick),c.l.remove(this.element,i,this.mouseLeave),window.removeEventListener(c.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.rangeResize)}},{key:"wireEvents",value:function(){var e=c.d.isPointer?"pointerleave":"mouseleave";c.l.add(this.element,c.d.touchStartEvent,this.rangeOnMouseDown,this),c.l.add(this.element,c.d.touchMoveEvent,this.mouseMove,this),c.l.add(this.element,c.d.touchEndEvent,this.mouseEnd,this),c.l.add(this.element,"click",this.rangeOnMouseClick,this),c.l.add(this.element,e,this.mouseLeave,this),window.addEventListener(c.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.rangeResize.bind(this));var t=this.element;t.style.touchAction="none",t.style.msTouchAction="none",t.style.msContentZooming="none",t.style.msUserSelect="none",t.style.webkitUserSelect="none",t.style.position="relative",t.style.display="block"}},{key:"rangeResize",value:function(e){var t=this;if(!document.getElementById(this.element.id))return!1;this.animateSeries=!1,this.removeAllTooltip(),this.resizeTo&&clearTimeout(this.resizeTo);var i={rangeNavigator:this,name:"resized",currentSize:new g(0,0),previousSize:new g(this.availableSize.width,this.availableSize.height)};return this.resizeTo=setTimeout((function(){t.isDestroyed?clearTimeout(t.resizeTo):(t.createRangeSvg(),i.currentSize=t.availableSize,t.trigger("resized",i),t.calculateBounds(),t.chartSeries.renderChart(t))}),500),!1}},{key:"removeAllTooltip",value:function(){this.tooltip.enable&&"Always"===this.tooltip.displayMode&&(Yt(this.element.id+"_leftTooltip")&&Object(c.gb)(Yt(this.element.id+"_leftTooltip")),Yt(this.element.id+"_rightTooltip")&&Object(c.gb)(Yt(this.element.id+"_rightTooltip")))}},{key:"mouseMove",value:function(e){return Yt(this.stockChart?this.element.id:this.element.id+"_svg")&&(this.mouseX=this.setMouseX(e),this.notify(c.d.touchMoveEvent,e)),!1}},{key:"mouseLeave",value:function(e){var t=this.rangeSlider;t.isDrag&&t.triggerEvent(this.chartSeries.xAxis.actualRange);var i=c.d.isPointer?"pointerleave":"mouseleave";return this.mouseX=this.setMouseX(e),this.notify(i,e),!1}},{key:"rangeOnMouseClick",value:function(e){return this.notify("click",e),!1}},{key:"print",value:function(e){new mn(this).print(e)}},{key:"export",value:function(e,t,i,n,r,o,s){n=n||[this],new mn(this).export(e,t,i,n,r,o,s)}},{key:"renderChartBackground",value:function(){var e=new Bi(this.element.id+"_ChartBorder",this.themeStyle.background,{width:0,color:"transparent"},1,new v(0,0,this.availableSize.width,this.availableSize.height));this.svgObject.appendChild(this.renderer.drawRectangle(e))}},{key:"rangeOnMouseDown",value:function(e){return this.mouseDownX=this.setMouseX(e),this.notify(c.d.touchStartEvent,e),!1}},{key:"mouseEnd",value:function(e){return this.mouseX=this.setMouseX(e),this.notify(c.d.touchEndEvent,e),!1}},{key:"setMouseX",value:function(e){var t=e.type.indexOf("touch")>-1?e.changedTouches[0].clientX:e.clientX,i=this.element.getBoundingClientRect(),n=this.stockChart?Yt(this.element.id).getBoundingClientRect():Yt(this.element.id+"_svg").getBoundingClientRect();return t-i.left-Math.max(n.left-i.left,0)}},{key:"getPersistData",value:function(){return this.addOnPersist(["loaded"])}},{key:"onPropertyChanged",value:function(e,i){var n=!1,r=!1,o=!1;this.animateSeries=!1;for(var s=0,a=Object.keys(e);s<a.length;s++)switch(a[s]){case"width":case"height":case"navigatorBorder":case"enableGrouping":case"labelPosition":case"tickPosition":case"labelStyle":r=!0;break;case"enableRtl":case"xName":case"yName":case"query":case"minimum":case"maximum":case"interval":case"intervalType":case"logBase":case"valueType":case"majorGridLines":case"minorGridLines":case"navigatorStyleSettings":case"labelFormat":case"skeleton":case"skeletonType":case"secondaryLabelAlignment":n=!0;break;case"dataSource":case"series":n=!0,r=!0;break;case"theme":this.animateSeries=!0;break;case"locale":_get(_getPrototypeOf(t.prototype),"refresh",this).call(this);break;case"value":this.startValue=null,this.endValue=null,o=!0}!r&&n&&(this.removeSvg(),this.chartSeries.xMin=1/0,this.chartSeries.xMax=-1/0,this.chartSeries.renderChart(this)),r&&n&&(this.removeSvg(),this.chartSeries.xMin=this.chartSeries.yMin=1/0,this.chartSeries.xMax=this.chartSeries.yMax=-1/0,this.calculateBounds(),this.chartSeries.renderChart(this)),r&&!n&&(this.removeSvg(),this.calculateBounds(),this.chartSeries.renderChart(this)),r||n||!o||(this.setSliderValue(),this.rangeSlider.setSlider(this.startValue,this.endValue,!0,this.tooltip.enable&&"Always"===this.tooltip.displayMode))}},{key:"requiredModules",value:function(){var e=this,t=[];return this.series.map((function(i){t.push({member:i.type+"Series",args:[e]})})),this.periodSelectorSettings.periods.length>0&&t.push({member:"PeriodSelector",args:[this]}),"Double"!==this.valueType&&t.push({member:this.valueType,args:[this]}),this.tooltip.enable&&t.push({member:"RangeTooltip",args:[this]}),t}},{key:"getModuleName",value:function(){return"rangeNavigator"}},{key:"destroy",value:function(){this.unWireEvents(),this.rangeSlider.destroy(),_get(_getPrototypeOf(t.prototype),"destroy",this).call(this),this.element.innerHTML="",this.element.classList.remove("e-rangenavigator")}}]),t}(c.h),yr([Object(c.s)(null)],Gn.prototype,"width",void 0),yr([Object(c.s)(null)],Gn.prototype,"height",void 0),yr([Object(c.s)(null)],Gn.prototype,"dataSource",void 0),yr([Object(c.s)(null)],Gn.prototype,"xName",void 0),yr([Object(c.s)(null)],Gn.prototype,"yName",void 0),yr([Object(c.s)()],Gn.prototype,"query",void 0),yr([Object(c.f)([],ur)],Gn.prototype,"series",void 0),yr([Object(c.g)({},gr)],Gn.prototype,"tooltip",void 0),yr([Object(c.s)(null)],Gn.prototype,"minimum",void 0),yr([Object(c.s)(null)],Gn.prototype,"maximum",void 0),yr([Object(c.s)(null)],Gn.prototype,"interval",void 0),yr([Object(c.s)("Auto")],Gn.prototype,"intervalType",void 0),yr([Object(c.s)("Hide")],Gn.prototype,"labelIntersectAction",void 0),yr([Object(c.s)(10)],Gn.prototype,"logBase",void 0),yr([Object(c.s)("Double")],Gn.prototype,"valueType",void 0),yr([Object(c.s)("Outside")],Gn.prototype,"labelPosition",void 0),yr([Object(c.s)(500)],Gn.prototype,"animationDuration",void 0),yr([Object(c.s)(!1)],Gn.prototype,"enableGrouping",void 0),yr([Object(c.s)(!1)],Gn.prototype,"enableDeferredUpdate",void 0),yr([Object(c.s)(!1)],Gn.prototype,"disableRangeSelector",void 0),yr([Object(c.s)(!1)],Gn.prototype,"allowSnapping",void 0),yr([Object(c.s)(!1)],Gn.prototype,"allowIntervalData",void 0),yr([Object(c.s)(!1)],Gn.prototype,"useGroupingSeparator",void 0),yr([Object(c.s)()],Gn.prototype,"groupBy",void 0),yr([Object(c.s)("Outside")],Gn.prototype,"tickPosition",void 0),yr([Object(c.g)(Bn.axisLabelFont,Ce)],Gn.prototype,"labelStyle",void 0),yr([Object(c.g)({},Ke)],Gn.prototype,"majorGridLines",void 0),yr([Object(c.g)({},tt)],Gn.prototype,"majorTickLines",void 0),yr([Object(c.g)({},mr)],Gn.prototype,"navigatorStyleSettings",void 0),yr([Object(c.g)({},Ee)],Gn.prototype,"periodSelectorSettings",void 0),yr([Object(c.g)({color:"#DDDDDD",width:1},ke)],Gn.prototype,"navigatorBorder",void 0),yr([Object(c.s)("Material")],Gn.prototype,"theme",void 0),yr([Object(c.s)([])],Gn.prototype,"value",void 0),yr([Object(c.s)("")],Gn.prototype,"labelFormat",void 0),yr([Object(c.s)("")],Gn.prototype,"skeleton",void 0),yr([Object(c.s)("DateTime")],Gn.prototype,"skeletonType",void 0),yr([Object(c.s)("Middle")],Gn.prototype,"secondaryLabelAlignment",void 0),yr([Object(c.g)({top:5,bottom:5,right:5,left:5},Oe)],Gn.prototype,"margin",void 0),yr([Object(c.k)()],Gn.prototype,"load",void 0),yr([Object(c.k)()],Gn.prototype,"loaded",void 0),yr([Object(c.k)()],Gn.prototype,"resized",void 0),yr([Object(c.k)()],Gn.prototype,"labelRender",void 0),yr([Object(c.k)()],Gn.prototype,"changed",void 0),yr([Object(c.k)()],Gn.prototype,"tooltipRender",void 0),yr([Object(c.k)()],Gn.prototype,"selectorRender",void 0),yr([Object(c.k)()],Gn.prototype,"beforePrint",void 0),Gn=yr([c.q],Gn)),br=function(){function e(t){_classCallCheck(this,e),this.control={},this.rootControl=t}return _createClass(e,[{key:"setControlValues",value:function(e){"rangeNavigator"===e.getModuleName()?(this.control.periods=this.rootControl.periodSelectorSettings.periods,this.control.seriesXMax=e.chartSeries.xMax,this.control.seriesXMin=e.chartSeries.xMin,this.control.rangeSlider=e.rangeSlider,this.control.rangeNavigatorControl=e,this.control.endValue=e.endValue,this.control.startValue=e.startValue):(this.control.periods=this.rootControl.periods,this.control.endValue=this.control.seriesXMax=e.seriesXMax,this.control.startValue=this.control.seriesXMin=e.seriesXMin,this.control.rangeNavigatorControl=this.rootControl.rangeNavigator,this.control.rangeNavigatorControl&&(this.control.rangeSlider=this.rootControl.rangeNavigator.rangeSlider)),this.control.element=e.element,this.control.disableRangeSelector=e.disableRangeSelector}},{key:"appendSelector",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.renderSelectorElement(null,e,t),this.renderSelector()}},{key:"renderSelectorElement",value:function(e,t,i){var n,r;this.periodSelectorSize=e?this.periodSelectorSize:new v(i,this.rootControl.titleSize.height,t.width,t.height),e?(n=e.themeStyle.thumbWidth,r=e.element):(n=t.thumbSize,r=t.element),Yt(r.id+"_Secondary_Element")&&Object(c.gb)(Yt(r.id+"_Secondary_Element")),this.periodSelectorDiv=Object(c.F)("div",{id:r.id+"_Secondary_Element",styles:"width: "+(this.periodSelectorSize.width-n)+"px;height: "+this.periodSelectorSize.height+"px;top:"+this.periodSelectorSize.y+"px;left:"+(this.periodSelectorSize.x+n/2)+"px; position: absolute"}),r.appendChild(this.periodSelectorDiv)}},{key:"renderSelector",value:function(){var e=this;this.setControlValues(this.rootControl);var t=!0,i=this.control.element.id,n=Object(c.F)("div",{id:i+"_selector"});this.periodSelectorDiv.appendChild(n);for(var r,o=this.control.periods,s=this.updateCustomElement(),a="text-transform: none; text-overflow: unset",l=0;l<o.length;l++)s.push({align:"Left",text:o[l].text});"stockChart"===this.rootControl.getModuleName()&&(t=this.rootControl.enableCustomRange),t&&(this.calendarId=i+"_calendar",s.push({template:"<button id="+this.calendarId+"></button>",align:"Right"})),r={selector:s,name:"RangeSelector",cancel:!1,enableCustomFormat:!0,content:"Date Range"},"stockChart"===this.rootControl.getModuleName()&&(s.push({template:Object(c.F)("button",{id:i+"_reset",innerHTML:"Reset",styles:a,className:"e-dropdown-btn e-btn"}),align:"Right"}),this.rootControl.exportType.indexOf("Print")>-1&&s.push({template:Object(c.F)("button",{id:i+"_print",innerHTML:"Print",styles:a,className:"e-dropdown-btn e-btn"}),align:"Right"}),this.rootControl.exportType.length&&s.push({template:Object(c.F)("button",{id:i+"_export",innerHTML:"Export",styles:a,className:"e-dropdown-btn e-btn"}),align:"Right"})),this.rootControl.trigger("selectorRender",r),this.toolbar=new N.b({items:r.selector,height:this.periodSelectorSize.height,clicked:function(t){e.buttonClick(t,e.control)},created:function(){e.nodes=e.toolbar.element.querySelectorAll(".e-toolbar-left")[0],Object(c.W)(e.selectedIndex)&&o.map((function(t,i){t.selected&&(e.control.startValue=e.changedRange(t.intervalType,e.control.endValue,t.interval).getTime(),e.selectedIndex=e.nodes.childNodes.length-o.length+i)})),e.setSelectedStyle(e.selectedIndex)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(n),this.triggerChange=!0,t&&(this.datePicker=new V.c({min:new Date(this.control.seriesXMin),max:new Date(this.control.seriesXMax),format:"dd'/'MM'/'yyyy",placeholder:"Select a range",showClearButton:!1,startDate:new Date(this.control.startValue),endDate:new Date(this.control.endValue),created:function(t){if(r.enableCustomFormat){var i=document.getElementsByClassName("e-date-range-wrapper")[0];i.style.display="none",i.insertAdjacentElement("afterend",Object(c.F)("div",{id:"customRange",innerHTML:r.content,className:"e-btn e-dropdown-btn",styles:'font-family: "Segoe UI"; font-size: 14px; font-weight: 500; text-transform: none '})),Yt("customRange").insertAdjacentElement("afterbegin",Object(c.F)("span",{id:"dateIcon",className:"e-input-group-icon e-range-icon e-btn-icon e-icons",styles:"font-size: 16px; min-height: 0px; margin: -3px 0 0 0; outline: none; min-width: 30px"})),document.getElementById("customRange").onclick=function(){e.datePicker.show(Yt("customRange"))}}},change:function(t){if(e.triggerChange&&(e.control.rangeSlider&&t.event?e.control.rangeSlider.performAnimation(t.startDate.getTime(),t.endDate.getTime(),e.control.rangeNavigatorControl):t.event&&e.rootControl.rangeChanged(t.startDate.getTime(),t.endDate.getTime()),e.nodes=e.toolbar.element.querySelectorAll(".e-toolbar-left")[0],!e.rootControl.resizeTo&&e.control.rangeSlider&&e.control.rangeSlider.isDrag))for(var i=0,n=e.nodes.childNodes.length;i<n;i++)e.nodes.childNodes[i].childNodes[0].classList.remove("e-active"),e.nodes.childNodes[i].childNodes[0].classList.remove("e-active")}}),this.datePicker.appendTo("#"+this.calendarId))}},{key:"updateCustomElement",value:function(){var e=[],t=this.rootControl.element.id,i="text-transform: none; text-overflow: unset";return"stockChart"===this.rootControl.getModuleName()&&(this.rootControl.seriesType.length&&e.push({template:Object(c.F)("button",{id:t+"_seriesType",innerHTML:"Series",styles:i}),align:"Left"}),this.rootControl.indicatorType.length&&e.push({template:Object(c.F)("button",{id:t+"_indicatorType",innerHTML:"Indicators",styles:i}),align:"Left"}),this.rootControl.trendlineType.length&&e.push({template:Object(c.F)("button",{id:t+"_trendType",innerHTML:"Trendline",styles:i}),align:"Left"})),e}},{key:"setSelectedStyle",value:function(e){if(this.control.disableRangeSelector||"stockChart"===this.rootControl.getModuleName()){for(var t=0,i=this.nodes.childNodes.length;t<i;t++)this.nodes.childNodes[t].childNodes[0].classList.remove("e-active"),this.nodes.childNodes[t].childNodes[0].classList.remove("e-active");this.nodes.childNodes[e].childNodes[0].classList.add("e-flat"),this.nodes.childNodes[e].childNodes[0].classList.add("e-active")}}},{key:"buttonClick",value:function(e,t){var i,n,r=this,o=e.item,s=this.control.rangeSlider,a=this.control.periods,l=a.filter((function(e){return e.text===o.text}));a.map((function(t,i){t.text===e.item.text&&(r.selectedIndex=r.nodes.childNodes.length-a.length+i)})),""!==e.item.text&&this.setSelectedStyle(this.selectedIndex),"all"===o.text.toLowerCase()?(i=t.seriesXMin,n=t.seriesXMax,s?s.performAnimation(i,n,this.control.rangeNavigatorControl):this.rootControl.rangeChanged(i,n)):"ytd"===o.text.toLowerCase()?s?(i=new Date(new Date(s.currentEnd).getFullYear().toString()).getTime(),n=s.currentEnd,s.performAnimation(i,n,this.control.rangeNavigatorControl)):(i=new Date(new Date(this.rootControl.currentEnd).getFullYear().toString()).getTime(),n=this.rootControl.currentEnd,this.rootControl.rangeChanged(i,n)):""!==o.text.toLowerCase()&&(s?(i=this.changedRange(l[0].intervalType,s.currentEnd,l[0].interval).getTime(),n=s.currentEnd,s.performAnimation(i,n,this.control.rangeNavigatorControl)):(i=this.changedRange(l[0].intervalType,this.rootControl.currentEnd,l[0].interval).getTime(),n=this.rootControl.currentEnd,this.rootControl.rangeChanged(i,n))),"stockChart"===this.rootControl.getModuleName()&&(this.rootControl.zoomChange=!1),Yt(this.calendarId+"_popup")&&!c.d.isDevice&&(Yt(this.calendarId+"_popup").querySelectorAll(".e-range-header")[0].style.display="none")}},{key:"changedRange",value:function(e,t,i){var n=new Date(t);switch(e){case"Quarter":n.setMonth(n.getMonth()-3*i);break;case"Months":n.setMonth(n.getMonth()-i);break;case"Weeks":n.setDate(n.getDate()-7*i);break;case"Days":n.setDate(n.getDate()-i);break;case"Hours":n.setHours(n.getHours()-i);break;case"Minutes":n.setMinutes(n.getMinutes()-i);break;case"Seconds":n.setSeconds(n.getSeconds()-i);break;default:n.setFullYear(n.getFullYear()-i)}return n}},{key:"getModuleName",value:function(){return"PeriodSelector"}},{key:"destroy",value:function(){}}]),e}(),xr=function(){function e(t){_classCallCheck(this,e),this.stockChart=t}return _createClass(e,[{key:"initializeChart",value:function(e){var t=this,i=this.stockChart;if(i.isProtectedOnChange=!0,i.chartObject){for(var n=document.getElementById(i.chartObject.id);n.firstChild;)n.removeChild(n.firstChild);Yt(i.chartObject+"_tooltip")&&Object(c.gb)(Yt(i.chartObject+"_tooltip"))}else i.chartObject=i.renderer.createGroup({id:i.element.id+"_stockChart_chart"}),i.mainObject.appendChild(i.chartObject);if(this.cartesianChartSize=this.calculateChartSize(),i.chart=new fn({chartArea:i.chartArea,margin:this.findMargin(i),primaryXAxis:this.copyObject(i.primaryXAxis),primaryYAxis:this.copyObject(i.primaryYAxis),rows:i.rows,indicators:i.indicators,axes:i.axes,tooltipRender:function(e){t.stockChart.trigger("tooltipRender",e)},axisLabelRender:function(e){t.stockChart.trigger("axisLabelRender",e)},seriesRender:function(i){i.data&&t.stockChart.startValue&&t.stockChart.endValue&&(i.data=i.data.filter((function(e){return new Date(Date.parse(e[i.series.xName])).getTime()>=t.stockChart.startValue&&new Date(Date.parse(e[i.series.xName])).getTime()<=t.stockChart.endValue}))),i.data=e||i.data,t.stockChart.trigger("seriesRender",i)},onZooming:function(e){t.stockChart.trigger("onZooming",e)},pointClick:function(e){t.stockChart.trigger("pointClick",e)},pointMove:function(e){t.stockChart.trigger("pointMove",e)},dataSource:i.dataSource,series:this.findSeriesCollection(i.series),zoomSettings:this.copyObject(i.zoomSettings),tooltip:i.tooltip,crosshair:i.crosshair,height:this.cartesianChartSize.height.toString(),selectedDataIndexes:i.selectedDataIndexes,selectionMode:i.selectionMode,isMultiSelect:i.isMultiSelect,annotations:i.annotations,theme:i.theme,legendSettings:{visible:!1},zoomComplete:function(e){if("DateTime"===e.axis.valueType&&i.rangeNavigator){t.stockChart.zoomChange=!0;var n=t.calculateUpdatedRange(e.currentZoomFactor,e.currentZoomPosition,e.axis);i.rangeSelector.sliderChange(n.start,n.end)}}}),0!==i.indicators.length){if(i.isSelect)for(var r=0;r<i.indicators.length;r++)i.chart.indicators[r].animation.enable=!1,i.chart.indicators[r].dataSource=Object(c.J)([],i.chart.series[0].dataSource,null,!0);i.isSelect=!0}i.chart.stockChart=i,i.chart.appendTo(i.chartObject),i.isProtectedOnChange=!1}},{key:"findMargin",value:function(e){var t={};return t.top=2*e.margin.top,t.left=e.margin.left,t.right=e.margin.right,t.bottom=e.margin.bottom,t}},{key:"findSeriesCollection",value:function(e){for(var t=[],i=0,n=e.length;i<n;i++)t.push(e[i]),t[i].high=e[i].high,t[i].low=e[i].low,t[i].open=e[i].open,t[i].close=e[i].close,t[i].xName=e[i].xName,t[i].volume=e[i].volume,t[i].animation=e[i].animation,e[i].localData&&(t[i].dataSource=e[i].localData),"HiloOpenClose"!==t[i].type&&"Candle"!==t[i].type&&"volume"===t[i].yName&&(t[i].enableTooltip=!1);return t}},{key:"calculateChartSize",value:function(){var e=this.stockChart;return new g(e.availableSize.width,e.enablePeriodSelector&&e.enableSelector?e.availableSize.height-e.toolbarHeight-80:e.enableSelector&&!e.enablePeriodSelector?e.availableSize.height-80:e.enablePeriodSelector&&!e.enableSelector?e.availableSize.height-e.toolbarHeight:e.availableSize.height)}},{key:"calculateUpdatedRange",value:function(e,t,i){var n,r=i.actualRange;return{start:n=r.min+t*r.delta,end:n+e*r.delta}}},{key:"cartesianChartRefresh",value:function(e,t,i,n){e.cartesianChart.initializeChart(n)}},{key:"copyObject",value:function(e){return Object(c.J)({},e,{},!0)}}]),e}(),_r=function(){function e(t){_classCallCheck(this,e),this.stockChart=t}return _createClass(e,[{key:"initializeRangeNavigator",value:function(){var e=this,t=this.stockChart;if(t.selectorObject){for(var i=document.getElementById(t.selectorObject.id);i.firstChild;)i.removeChild(i.firstChild);Yt(t.selectorObject.id+"_leftTooltip")&&Object(c.gb)(Yt(t.selectorObject.id+"_leftTooltip")),Yt(t.selectorObject.id+"_rightTooltip")&&Object(c.gb)(Yt(t.selectorObject.id+"_rightTooltip"))}else t.selectorObject=t.renderer.createGroup({id:t.element.id+"_stockChart_rangeSelector",transform:"translate(0,"+t.cartesianChart.cartesianChartSize.height+")"}),t.mainObject.appendChild(t.selectorObject);t.rangeNavigator=new fr({locale:"en",valueType:t.primaryXAxis.valueType,theme:this.stockChart.theme,series:this.findSeriesCollection(t.series),height:this.calculateChartSize().height.toString(),value:[new Date(t.startValue),new Date(t.endValue)],margin:this.findMargin(t),tooltip:{enable:t.tooltip.enable,displayMode:"Always"},dataSource:t.dataSource,changed:function(i){var n={name:"rangeChange",end:i.end,selectedData:i.selectedData,start:i.start,zoomFactor:i.zoomFactor,zoomPosition:i.zoomPosition,data:void 0};e.stockChart.trigger("rangeChange",n),e.stockChart.startValue=i.start,e.stockChart.endValue=i.end,e.stockChart.zoomChange||e.stockChart.cartesianChart.cartesianChartRefresh(e.stockChart,i.start,i.end,n.data),t.periodSelector&&t.periodSelector.datePicker&&(t.periodSelector.datePicker.startDate=new Date(i.start),t.periodSelector.datePicker.endDate=new Date(i.end),t.periodSelector.datePicker.dataBind())}}),t.rangeNavigator.stockChart=t,t.rangeNavigator.appendTo(t.selectorObject)}},{key:"findMargin",value:function(e){return{top:5,left:0,right:0,bottom:0}}},{key:"findSeriesCollection",value:function(e){for(var t=[],i=0,n=e.length;i<n;i++)t.push(e[i]),t[i].xName=e[i].xName,t[i].yName=""===e[i].yName?e[i].close:e[i].yName;return t}},{key:"calculateChartSize",value:function(){var e=this.stockChart;return new g(e.availableSize.width,e.enableSelector?80:0)}},{key:"sliderChange",value:function(e,t){this.stockChart.rangeNavigator.rangeSlider.performAnimation(e,t,this.stockChart.rangeNavigator,0)}}]),e}(),wr=function(){function e(t){_classCallCheck(this,e),this.selectedSeries="",this.selectedIndicator="",this.selectedTrendLine="",this.indicators=[],this.secondayIndicators=[],this.stockChart=t,this.selectedSeries=this.stockChart.series[0].type}return _createClass(e,[{key:"initializePeriodSelector",value:function(){this.stockChart.periods=this.stockChart.tempPeriods,this.stockChart.periodSelector.rootControl=this.stockChart;var e=this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect,t=Yt(this.stockChart.element.id+"_Secondary_Element");this.stockChart.periodSelector.appendSelector({thumbSize:0,element:t,width:e.width,height:this.stockChart.toolbarHeight},e.x),this.initializeSeriesSelector(),this.initializeIndicatorSelector(),this.initializeTrendlineSelector(),this.exportButton(),this.printButton(),this.resetButton()}},{key:"getDropDownItems",value:function(e){var t=[];if(e===this.stockChart.seriesType){for(var i=0;i<e.length;i++)t.push({text:"&nbsp;&nbsp;&nbsp;"+e[i].toString()});for(var n=0;n<this.stockChart.series.length;n++)for(var r=0;r<t.length;r++){var o=t[r].text.replace("&nbsp;&nbsp;&nbsp;","");(o="OHLC"===o?"HiloOpenClose":o)===this.stockChart.series[n].type&&(t[r].text=t[r].text.replace("&nbsp;&nbsp;&nbsp;","&#10004&nbsp;"))}}else if(e===this.stockChart.exportType)for(var s=0;s<e.length;s++)t.push({text:e[s].toString()});else for(var a=0;a<e.length;a++)"Print"!==e[a].toString()&&t.push({text:"&nbsp;&nbsp;&nbsp;"+e[a].toString()});return t}},{key:"addedSeries",value:function(e){for(var t=this.stockChart.series,i=0;i<t.length;i++)if("volume"!==t[i].yName){t[i].type=e.indexOf("Candle")>-1?"Candle":e.indexOf("OHLC")>-1?"HiloOpenClose":e,t[i].enableSolidCandles="Candle"===e;for(var n=0;n<t[i].trendlines.length;n++){var r=t[i].trendlines[n];r.animation.enable=!1,r.enableTooltip=!1}}}},{key:"initializeSeriesSelector",value:function(){var e=this;new F.b({items:this.getDropDownItems(this.stockChart.seriesType),select:function(t){e.selectedSeries=t.item.text;var i=e.tickMark(t);e.addedSeries(i),e.stockChart.cartesianChart.initializeChart()}}).appendTo("#"+this.stockChart.element.id+"_seriesType")}},{key:"resetButton",value:function(){var e=this;this.stockChart.isProtectedOnChange=!0,(new W.a).appendTo("#"+this.stockChart.element.id+"_reset"),document.getElementById(this.stockChart.element.id+"_reset").onclick=function(){for(var t=e.indicators.length;t;)e.stockChart.indicators.pop(),t--;e.indicators=[],e.secondayIndicators=[],e.stockChart.isSingleAxis?e.stockChart.rows=[{}]:(e.stockChart.rows.length>2&&e.stockChart.rows.splice(2,e.stockChart.rows.length-1),e.stockChart.axes.length>2&&(e.stockChart.axes.splice(1,e.stockChart.axes.length-1),e.stockChart.axes[0].rowIndex=1));for(var i=0;i<e.stockChart.series.length;i++)"volume"!==e.stockChart.series[i].yName&&(e.stockChart.series[i].type=e.stockChart.tempSeriesType[i],0!==e.stockChart.series[i].trendlines.length&&(e.stockChart.series[i].trendlines[0].width=0));e.stockChart.indicatorElements=null,e.stockChart.resizeTo=null,e.stockChart.zoomChange=!1,e.stockChart.refresh(),e.stockChart.isProtectedOnChange=!0}}},{key:"initializeTrendlineSelector",value:function(){var e=this;this.trendlineDropDown=new F.b({items:this.stockChart.resizeTo?this.trendlineDropDown.items:this.getDropDownItems(this.stockChart.trendlineType),select:function(t){var i=e.tickMark(t),n=i=(i=i.split(" ")[0].toLocaleLowerCase()+(i.split(" ")[1]?i.split(" ")[1]:"")).substr(0,1).toUpperCase()+i.substr(1);if(e.selectedTrendLine=""===e.selectedTrendLine?n:e.selectedTrendLine+","+n,e.trendline!==n){e.trendline=n;for(var r=0;r<e.stockChart.series.length;r++)if("volume"!==e.stockChart.series[r].yName)if(0===e.stockChart.series[0].trendlines.length){var o=void 0;e.stockChart.trendlinetriggered&&(o=[{type:n,width:1,enableTooltip:!1}],e.stockChart.trendlinetriggered=!1),e.stockChart.series[0].trendlines=o}else e.stockChart.series[0].trendlines[0].width=1,e.stockChart.series[0].trendlines[0].type=n,e.stockChart.series[0].trendlines[0].animation.enable=!!e.stockChart.trendlinetriggered;e.stockChart.cartesianChart.initializeChart()}else t.item.text="&nbsp;&nbsp;&nbsp;"+t.item.text.replace("&#10004&nbsp;",""),e.stockChart.series[0].trendlines[0].width=0,e.trendline=null,e.stockChart.cartesianChart.initializeChart()}}),this.trendlineDropDown.appendTo("#"+this.stockChart.element.id+"_trendType")}},{key:"initializeIndicatorSelector",value:function(){var e=this;this.indicatorDropDown=new F.b({items:this.stockChart.resizeTo?this.indicatorDropDown.items:this.getDropDownItems(this.stockChart.indicatorType),select:function(t){for(var i=0;i<e.stockChart.series.length;i++)0!==e.stockChart.series[i].trendlines.length&&(e.stockChart.series[i].trendlines[0].animation.enable=!1);t.item.text=t.item.text.indexOf("&#10004&nbsp;")>=0?t.item.text.substr(t.item.text.indexOf(";")+1):t.item.text;var n=t.item.text.replace("&nbsp;&nbsp;&nbsp;",""),r=n=(n=n.split(" ")[0].toLocaleLowerCase()+(n.split(" ")[1]?n.split(" ")[1]:"")).substr(0,1).toUpperCase()+n.substr(1);if(e.selectedIndicator=-1===e.selectedIndicator.indexOf(r)?e.selectedIndicator+" "+r:e.selectedIndicator.replace(r,""),"Tma"===r||"BollingerBands"===r||"Sma"===r||"Ema"===r)if(-1===e.indicators.indexOf(r)){t.item.text="&#10004&nbsp;"+t.item.text.replace("&nbsp;&nbsp;&nbsp;","");var o=e.getIndicator(r,e.stockChart.series[0].yAxisName);e.indicators.push(r),e.stockChart.indicators=e.stockChart.indicators.concat(o),e.stockChart.cartesianChart.initializeChart()}else{t.item.text="&nbsp;&nbsp;&nbsp;"+t.item.text;for(var s=0;s<e.stockChart.indicators.length;s++)e.stockChart.indicators[s].type===r&&e.stockChart.indicators.splice(s,1);e.indicators.splice(e.indicators.indexOf(r),1),e.stockChart.cartesianChart.initializeChart()}else e.createIndicatorAxes(r,t)}}),this.indicatorDropDown.appendTo("#"+this.stockChart.element.id+"_indicatorType")}},{key:"getIndicator",value:function(e,t){var i=this.stockChart.series[0];return[{type:e,period:3,yAxisName:t,dataSource:i.localData,xName:i.xName,open:i.open,close:i.close,high:i.high,low:i.low,volume:i.volume,fill:"Sma"===e?"#32CD32":"#6063ff",animation:{enable:!1},upperLine:{color:"#FFE200",width:1},periodLine:{width:2},lowerLine:{color:"#FAA512",width:1},fastPeriod:8,slowPeriod:5,macdType:"Both",width:1,macdPositiveColor:"#6EC992",macdNegativeColor:"#FF817F",bandColor:"rgba(245, 203, 35, 0.12)"}]}},{key:"createIndicatorAxes",value:function(e,t){if(-1===this.indicators.indexOf(e)){var i,n,r;t.item.text="&#10004&nbsp;"+t.item.text.replace("&nbsp;&nbsp;&nbsp;",""),this.indicators.push(e);var o=this.stockChart.rows.length;if(this.stockChart.rows[this.stockChart.rows.length-1].height="15%",n=[{height:100-15*o+"px"}],1===this.stockChart.rows.length&&(this.stockChart.isSingleAxis=!0),this.stockChart.rows=this.stockChart.rows.concat(n),this.stockChart.isSingleAxis)for(var s=0;s<this.stockChart.axes.length;s++)this.stockChart.axes[s].rowIndex+=1;else this.stockChart.axes[0].rowIndex+=1;i=[{plotOffset:10,opposedPosition:!0,rowIndex:this.stockChart.isSingleAxis?0:this.stockChart.axes.length,desiredIntervals:1,labelFormat:"n2",majorGridLines:this.stockChart.primaryYAxis.majorGridLines,lineStyle:this.stockChart.primaryYAxis.lineStyle,labelPosition:this.stockChart.primaryYAxis.labelPosition,majorTickLines:this.stockChart.primaryYAxis.majorTickLines,rangePadding:"None",name:e.toString()}],this.stockChart.axes=this.stockChart.axes.concat(i),this.stockChart.primaryYAxis.rowIndex=this.stockChart.isSingleAxis?o+1:0,r=this.getIndicator(e,e.toString()),this.stockChart.indicators=this.stockChart.indicators.concat(r),this.stockChart.cartesianChart.initializeChart()}else{t.item.text="&nbsp;&nbsp;&nbsp;"+t.item.text;for(var a=0;a<this.stockChart.indicators.length;a++)this.stockChart.indicators[a].type===e&&this.stockChart.indicators.splice(a,1);this.indicators.splice(this.indicators.indexOf(e),1);for(var l=0,h=0;h<this.stockChart.axes.length;h++)this.stockChart.axes[h].name===e&&(l=this.stockChart.axes[h].rowIndex,this.stockChart.rows.splice(h,1),this.stockChart.axes.splice(h,1));for(var c=0;c<this.stockChart.axes.length;c++)0!==this.stockChart.axes[c].rowIndex&&this.stockChart.axes[c].rowIndex>l&&(this.stockChart.axes[c].rowIndex=this.stockChart.axes[c].rowIndex-1);this.stockChart.cartesianChart.initializeChart()}}},{key:"tickMark",value:function(e){for(var t,i=e.item.parentObj.items,n=0;n<i.length;n++)i[n].text=i[n].text.indexOf("&#10004&nbsp;")>=0?i[n].text.substr(i[n].text.indexOf(";")+1):i[n].text,i[n].text.indexOf("&nbsp;&nbsp;&nbsp;")>=0||(i[n].text="&nbsp;&nbsp;&nbsp;"+i[n].text);return e.item.text.indexOf("&nbsp;&nbsp;&nbsp;")>=0?(t=e.item.text.replace("&nbsp;&nbsp;&nbsp;",""),e.item.text=e.item.text.replace("&nbsp;&nbsp;&nbsp;","&#10004&nbsp;")):t=e.item.text.replace("&#10004&nbsp;",""),t}},{key:"printButton",value:function(){var e=this;this.stockChart.exportType.indexOf("Print")>-1&&((new W.a).appendTo("#"+this.stockChart.element.id+"_print"),document.getElementById(this.stockChart.element.id+"_print").onclick=function(){e.stockChart.chart.print(e.stockChart.element.id)})}},{key:"exportButton",value:function(){var e=this;new F.b({items:this.getDropDownItems(this.stockChart.exportType),select:function(t){var i,n=t.item.text,r=e.stockChart,o=r.element.id+"_stockChart_",s=r.svgObject.getBoundingClientRect();r.chart.exportModule&&(e.stockChart.svgObject.insertAdjacentElement("afterbegin",e.addExportSettings()),i=r.svgObject.firstElementChild.getBoundingClientRect(),e.stockChart.svgObject.setAttribute("height",(s.height+i.height).toString()),Yt(o+"chart").style.transform="translateY("+i.height+"px)",r.enableSelector&&Yt(o+"rangeSelector").setAttribute("transform","translate(0,"+(r.cartesianChart.cartesianChartSize.height+i.height)+")"),r.chart.exportModule.export(n,"StockChart",null,[r],null,r.svgObject.clientHeight),Object(c.gb)(Yt(e.stockChart.element.id+"_additionalExport")),Yt(o+"chart").style.transform="translateY(0px)",r.enableSelector&&Yt(o+"rangeSelector").setAttribute("transform","translate(0,"+r.cartesianChart.cartesianChartSize.height+")"),e.stockChart.svgObject.setAttribute("height",s.height.toString()))}}).appendTo("#"+this.stockChart.element.id+"_export")}},{key:"calculateAutoPeriods",value:function(){var e=[];return(e=this.findRange(this.stockChart.seriesXMin,this.stockChart.seriesXMax)).push({text:"YTD",selected:!0},{text:"All"}),e}},{key:"findRange",value:function(e,t){var i=[];return(t-e)/3154e7>=1?i.push({text:"1M",interval:1,intervalType:"Months"},{text:"3M",interval:3,intervalType:"Months"},{text:"6M",interval:6,intervalType:"Months"},{text:"1Y",interval:1,intervalType:"Years"}):(t-e)/1577e7>=1?i.push({text:"1M",interval:1,intervalType:"Months"},{text:"3M",interval:3,intervalType:"Months"},{text:"6M",interval:6,intervalType:"Months"}):(t-e)/2628e6>=1?i.push({text:"1D",interval:1,intervalType:"Days"},{text:"3W",interval:3,intervalType:"Weeks"},{text:"1M",interval:1,intervalType:"Months"}):(t-e)/864e5>=1&&i.push({text:"1H",interval:1,intervalType:"Hours"},{text:"12H",interval:12,intervalType:"Hours"},{text:"1D",interval:1,intervalType:"Days"}),i}},{key:"addExportSettings",value:function(){var e=this.stockChart.renderer.createGroup({id:this.stockChart.element.id+"_additionalExport",width:this.stockChart.availableSize.width}),t=p(this.stockChart.title,this.stockChart.titleStyle).height,i=new b(e.id+"_Title",bi(new v(0,0,this.stockChart.availableSize.width,0),this.stockChart.titleStyle),0,"middle",this.stockChart.title,"","text-before-edge");gi(this.stockChart.renderer,i,this.stockChart.titleStyle,this.stockChart.titleStyle.color,e);var n={size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},r=p("Series: "+this.selectedSeries,n).width/2,o=t;return this.textElementSpan(new b(e.id+"_Series",r,o,"start",["Series : ",this.selectedSeries],"","text-before-edge"),n,"black",e),r+=p("Series: "+this.selectedSeries+" Z",n).width,""!==this.selectedIndicator&&(this.textElementSpan(new b(e.id+"_Indicator",r,o,"start",["Indicator :",this.selectedIndicator],"","text-before-edge"),n,"black",e),r+=p("Indicator: "+this.selectedIndicator+" Z",n).width),""!==this.selectedTrendLine&&this.textElementSpan(new b(e.id+"_TrendLine",r,o,"start",["Trendline :",this.selectedTrendLine],"","text-before-edge"),n,"black",e),e}},{key:"textElementSpan",value:function(e,t,i,n){var r,o,s,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5?arguments[5]:void 0,h=arguments.length>6?arguments[6]:void 0,c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8?arguments[8]:void 0,m=new d(""),g={};if(g={id:e.id,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":e.anchor,x:e.x,y:e.y,fill:i,"font-size":t.size,transform:e.transform,opacity:t.opacity,"dominant-baseline":e.baseLine},o="string"==typeof e.text?e.text:a?e.text[e.text.length-1]:e.text[0],r=m.createText(g,o),"string"!=typeof e.text&&e.text.length>1)for(var v=1,y=e.text.length;v<y;v++)e.text[v]=" "+e.text[v],s=m.createTSpan({x:e.x+p(o,t).width+5,id:e.id,y:e.y,opacity:.5},e.text[v]),r.appendChild(s);return Kt(!1,n,r,l,h,"x","y",null,null,c,!1,null,u),r}}]),e}(),Cr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},kr=(ar=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)("")],ar.prototype,"color",void 0),Cr([Object(c.s)("16px")],ar.prototype,"size",void 0),Cr([Object(c.s)("Segoe UI")],ar.prototype,"fontFamily",void 0),Cr([Object(c.s)("Normal")],ar.prototype,"fontStyle",void 0),Cr([Object(c.s)("Normal")],ar.prototype,"fontWeight",void 0),Cr([Object(c.s)(1)],ar.prototype,"opacity",void 0),Cr([Object(c.s)("Trim")],ar.prototype,"textOverflow",void 0),Cr([Object(c.s)("Center")],ar.prototype,"textAlignment",void 0),ar),Sr=(sr=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)("")],sr.prototype,"color",void 0),Cr([Object(c.s)(1)],sr.prototype,"width",void 0),sr),Mr=(or=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.g)({},Sr)],or.prototype,"border",void 0),Cr([Object(c.s)("transparent")],or.prototype,"background",void 0),Cr([Object(c.s)(1)],or.prototype,"opacity",void 0),or),Or=(rr=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)(10)],rr.prototype,"left",void 0),Cr([Object(c.s)(10)],rr.prototype,"right",void 0),Cr([Object(c.s)(10)],rr.prototype,"top",void 0),Cr([Object(c.s)(10)],rr.prototype,"bottom",void 0),rr),Lr=(nr=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)(!1)],nr.prototype,"startFromAxis",void 0),Cr([Object(c.s)(!0)],nr.prototype,"visible",void 0),Cr([Object(c.s)(null)],nr.prototype,"start",void 0),Cr([Object(c.s)("#808080")],nr.prototype,"color",void 0),Cr([Object(c.s)(null)],nr.prototype,"end",void 0),Cr([Object(c.s)(null)],nr.prototype,"size",void 0),Cr([Object(c.s)("Auto")],nr.prototype,"sizeType",void 0),Cr([Object(c.s)(null)],nr.prototype,"dashArray",void 0),Cr([Object(c.s)(!1)],nr.prototype,"isRepeat",void 0),Cr([Object(c.s)(null)],nr.prototype,"repeatEvery",void 0),Cr([Object(c.s)(!1)],nr.prototype,"isSegmented",void 0),Cr([Object(c.s)(null)],nr.prototype,"repeatUntil",void 0),Cr([Object(c.s)(null)],nr.prototype,"segmentStart",void 0),Cr([Object(c.s)(null)],nr.prototype,"segmentAxisName",void 0),Cr([Object(c.s)(null)],nr.prototype,"segmentEnd",void 0),Cr([Object(c.s)(1)],nr.prototype,"opacity",void 0),Cr([Object(c.s)("")],nr.prototype,"text",void 0),Cr([Object(c.g)({color:"transparent",width:1},Sr)],nr.prototype,"border",void 0),Cr([Object(c.s)(null)],nr.prototype,"rotation",void 0),Cr([Object(c.s)("Behind")],nr.prototype,"zIndex",void 0),Cr([Object(c.s)("Middle")],nr.prototype,"horizontalAlignment",void 0),Cr([Object(c.s)("Middle")],nr.prototype,"verticalAlignment",void 0),Cr([Object(c.g)(L.stripLineLabelFont,kr)],nr.prototype,"textStyle",void 0),nr),Pr=(ir=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)(0)],ir.prototype,"delay",void 0),Cr([Object(c.s)(!1)],ir.prototype,"enable",void 0),Cr([Object(c.s)(1e3)],ir.prototype,"duration",void 0),ir),Ar=(tr=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)(null)],tr.prototype,"fill",void 0),Cr([Object(c.s)("Gap")],tr.prototype,"mode",void 0),Cr([Object(c.g)({color:"transparent",width:0},Sr)],tr.prototype,"border",void 0),tr),Rr=(er=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)("Line")],er.prototype,"type",void 0),Cr([Object(c.s)(null)],er.prototype,"length",void 0),Cr([Object(c.s)(null)],er.prototype,"color",void 0),Cr([Object(c.s)("")],er.prototype,"dashArray",void 0),Cr([Object(c.s)(1)],er.prototype,"width",void 0),er),Tr=($n=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).localData=void 0,e}return _inherits(t,e),t}(c.e),Cr([Object(c.s)("date")],$n.prototype,"xName",void 0),Cr([Object(c.s)("close")],$n.prototype,"yName",void 0),Cr([Object(c.s)("open")],$n.prototype,"open",void 0),Cr([Object(c.s)("close")],$n.prototype,"close",void 0),Cr([Object(c.s)("high")],$n.prototype,"high",void 0),Cr([Object(c.s)("low")],$n.prototype,"low",void 0),Cr([Object(c.s)("volume")],$n.prototype,"volume",void 0),Cr([Object(c.s)("")],$n.prototype,"pointColorMapping",void 0),Cr([Object(c.g)(null,Pr)],$n.prototype,"animation",void 0),Cr([Object(c.s)(null)],$n.prototype,"xAxisName",void 0),Cr([Object(c.s)(null)],$n.prototype,"yAxisName",void 0),Cr([Object(c.s)(null)],$n.prototype,"fill",void 0),Cr([Object(c.s)("0")],$n.prototype,"dashArray",void 0),Cr([Object(c.s)(1)],$n.prototype,"width",void 0),Cr([Object(c.s)("")],$n.prototype,"name",void 0),Cr([Object(c.s)("")],$n.prototype,"dataSource",void 0),Cr([Object(c.s)()],$n.prototype,"query",void 0),Cr([Object(c.s)("#e74c3d")],$n.prototype,"bullFillColor",void 0),Cr([Object(c.s)("#2ecd71")],$n.prototype,"bearFillColor",void 0),Cr([Object(c.s)(!1)],$n.prototype,"enableSolidCandles",void 0),Cr([Object(c.s)(!0)],$n.prototype,"visible",void 0),Cr([Object(c.g)({color:"transparent",width:0},Sr)],$n.prototype,"border",void 0),Cr([Object(c.s)(1)],$n.prototype,"opacity",void 0),Cr([Object(c.s)("Candle")],$n.prototype,"type",void 0),Cr([Object(c.g)(null,Ji)],$n.prototype,"marker",void 0),Cr([Object(c.f)([],$i)],$n.prototype,"trendlines",void 0),Cr([Object(c.s)(!0)],$n.prototype,"enableTooltip",void 0),Cr([Object(c.s)("")],$n.prototype,"tooltipMappingName",void 0),Cr([Object(c.s)(null)],$n.prototype,"selectionStyle",void 0),Cr([Object(c.s)(.5)],$n.prototype,"cardinalSplineTension",void 0),Cr([Object(c.g)(null,Ae)],$n.prototype,"cornerRadius",void 0),Cr([Object(c.g)(null,Ar)],$n.prototype,"emptyPointSettings",void 0),Cr([Object(c.s)(null)],$n.prototype,"columnWidth",void 0),Cr([Object(c.s)(0)],$n.prototype,"columnSpacing",void 0),$n),jr=(Kn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)("Sma")],Kn.prototype,"type",void 0),Cr([Object(c.s)(14)],Kn.prototype,"period",void 0),Cr([Object(c.s)(3)],Kn.prototype,"dPeriod",void 0),Cr([Object(c.s)(14)],Kn.prototype,"kPeriod",void 0),Cr([Object(c.s)(80)],Kn.prototype,"overBought",void 0),Cr([Object(c.s)(20)],Kn.prototype,"overSold",void 0),Cr([Object(c.s)("Close")],Kn.prototype,"field",void 0),Cr([Object(c.s)(2)],Kn.prototype,"standardDeviation",void 0),Cr([Object(c.s)(12)],Kn.prototype,"slowPeriod",void 0),Cr([Object(c.s)(!0)],Kn.prototype,"showZones",void 0),Cr([Object(c.s)(26)],Kn.prototype,"fastPeriod",void 0),Cr([Object(c.g)({color:"#ff9933",width:2},Rr)],Kn.prototype,"macdLine",void 0),Cr([Object(c.s)("Both")],Kn.prototype,"macdType",void 0),Cr([Object(c.s)("#e74c3d")],Kn.prototype,"macdNegativeColor",void 0),Cr([Object(c.s)("#2ecd71")],Kn.prototype,"macdPositiveColor",void 0),Cr([Object(c.s)("rgba(211,211,211,0.25)")],Kn.prototype,"bandColor",void 0),Cr([Object(c.g)({color:"#ffb735",width:1},Rr)],Kn.prototype,"upperLine",void 0),Cr([Object(c.s)("")],Kn.prototype,"seriesName",void 0),Cr([Object(c.g)({color:"#f2ec2f",width:1},Rr)],Kn.prototype,"periodLine",void 0),Cr([Object(c.g)({color:"#f2ec2f",width:1},Rr)],Kn.prototype,"lowerLine",void 0),Cr([Object(c.s)("")],Kn.prototype,"high",void 0),Cr([Object(c.s)("")],Kn.prototype,"open",void 0),Cr([Object(c.s)("")],Kn.prototype,"low",void 0),Cr([Object(c.s)("")],Kn.prototype,"xName",void 0),Cr([Object(c.s)("")],Kn.prototype,"close",void 0),Cr([Object(c.s)("")],Kn.prototype,"pointColorMapping",void 0),Cr([Object(c.s)("")],Kn.prototype,"volume",void 0),Cr([Object(c.s)(null)],Kn.prototype,"xAxisName",void 0),Cr([Object(c.s)(null)],Kn.prototype,"yAxisName",void 0),Cr([Object(c.g)(null,Pr)],Kn.prototype,"animation",void 0),Cr([Object(c.s)(null)],Kn.prototype,"fill",void 0),Cr([Object(c.s)("0")],Kn.prototype,"dashArray",void 0),Cr([Object(c.s)(1)],Kn.prototype,"width",void 0),Cr([Object(c.s)()],Kn.prototype,"query",void 0),Cr([Object(c.s)("")],Kn.prototype,"dataSource",void 0),Kn),Ir=(Jn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.g)({},nt)],Jn.prototype,"crosshairTooltip",void 0),Cr([Object(c.g)(L.axisLabelFont,kr)],Jn.prototype,"labelStyle",void 0),Cr([Object(c.s)("")],Jn.prototype,"title",void 0),Cr([Object(c.g)(L.axisTitleFont,kr)],Jn.prototype,"titleStyle",void 0),Cr([Object(c.s)("")],Jn.prototype,"labelFormat",void 0),Cr([Object(c.s)("DateTime")],Jn.prototype,"skeletonType",void 0),Cr([Object(c.s)("")],Jn.prototype,"skeleton",void 0),Cr([Object(c.s)(0)],Jn.prototype,"plotOffset",void 0),Cr([Object(c.s)(10)],Jn.prototype,"logBase",void 0),Cr([Object(c.s)(0)],Jn.prototype,"rowIndex",void 0),Cr([Object(c.s)(1)],Jn.prototype,"span",void 0),Cr([Object(c.s)(3)],Jn.prototype,"maximumLabels",void 0),Cr([Object(c.s)(null)],Jn.prototype,"desiredIntervals",void 0),Cr([Object(c.s)(1)],Jn.prototype,"zoomFactor",void 0),Cr([Object(c.s)(0)],Jn.prototype,"zoomPosition",void 0),Cr([Object(c.s)(!1)],Jn.prototype,"opposedPosition",void 0),Cr([Object(c.s)(!0)],Jn.prototype,"enableAutoIntervalOnZooming",void 0),Cr([Object(c.s)("Double")],Jn.prototype,"valueType",void 0),Cr([Object(c.s)("Auto")],Jn.prototype,"rangePadding",void 0),Cr([Object(c.s)("None")],Jn.prototype,"edgeLabelPlacement",void 0),Cr([Object(c.s)("BetweenTicks")],Jn.prototype,"labelPlacement",void 0),Cr([Object(c.s)("Auto")],Jn.prototype,"intervalType",void 0),Cr([Object(c.s)("Outside")],Jn.prototype,"tickPosition",void 0),Cr([Object(c.s)("")],Jn.prototype,"name",void 0),Cr([Object(c.s)("Outside")],Jn.prototype,"labelPosition",void 0),Cr([Object(c.s)(!0)],Jn.prototype,"visible",void 0),Cr([Object(c.s)(0)],Jn.prototype,"labelRotation",void 0),Cr([Object(c.s)(0)],Jn.prototype,"minorTicksPerInterval",void 0),Cr([Object(c.s)(null)],Jn.prototype,"crossesAt",void 0),Cr([Object(c.s)(null)],Jn.prototype,"crossesInAxis",void 0),Cr([Object(c.s)(!0)],Jn.prototype,"placeNextToAxisLine",void 0),Cr([Object(c.s)(null)],Jn.prototype,"minimum",void 0),Cr([Object(c.s)(null)],Jn.prototype,"interval",void 0),Cr([Object(c.s)(null)],Jn.prototype,"maximum",void 0),Cr([Object(c.s)(34)],Jn.prototype,"maximumLabelWidth",void 0),Cr([Object(c.g)({},tt)],Jn.prototype,"majorTickLines",void 0),Cr([Object(c.s)(!1)],Jn.prototype,"enableTrim",void 0),Cr([Object(c.g)({},it)],Jn.prototype,"minorTickLines",void 0),Cr([Object(c.g)({},$e)],Jn.prototype,"minorGridLines",void 0),Cr([Object(c.g)({},Ke)],Jn.prototype,"majorGridLines",void 0),Cr([Object(c.g)({},et)],Jn.prototype,"lineStyle",void 0),Cr([Object(c.s)(!1)],Jn.prototype,"isInversed",void 0),Cr([Object(c.s)("Trim")],Jn.prototype,"labelIntersectAction",void 0),Cr([Object(c.s)(100)],Jn.prototype,"coefficient",void 0),Cr([Object(c.s)(0)],Jn.prototype,"startAngle",void 0),Cr([Object(c.s)(2)],Jn.prototype,"tabIndex",void 0),Cr([Object(c.f)([],Lr)],Jn.prototype,"stripLines",void 0),Cr([Object(c.s)(null)],Jn.prototype,"description",void 0),Jn),zr=(qn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)("100%")],qn.prototype,"height",void 0),Cr([Object(c.g)({},Sr)],qn.prototype,"border",void 0),qn),Er=(Qn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)("0")],Qn.prototype,"y",void 0),Cr([Object(c.s)("0")],Qn.prototype,"x",void 0),Cr([Object(c.s)(null)],Qn.prototype,"content",void 0),Cr([Object(c.s)("Chart")],Qn.prototype,"region",void 0),Cr([Object(c.s)("Center")],Qn.prototype,"horizontalAlignment",void 0),Cr([Object(c.s)("Pixel")],Qn.prototype,"coordinateUnits",void 0),Cr([Object(c.s)("Middle")],Qn.prototype,"verticalAlignment",void 0),Cr([Object(c.s)(null)],Qn.prototype,"yAxisName",void 0),Cr([Object(c.s)(null)],Qn.prototype,"description",void 0),Cr([Object(c.s)(null)],Qn.prototype,"xAxisName",void 0),Qn),Dr=(Un=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)(0)],Un.prototype,"point",void 0),Cr([Object(c.s)(0)],Un.prototype,"series",void 0),Un),Br=(Yn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c.e),Cr([Object(c.s)("Circle")],Yn.prototype,"type",void 0),Cr([Object(c.s)("")],Yn.prototype,"text",void 0),Cr([Object(c.s)("")],Yn.prototype,"description",void 0),Cr([Object(c.s)()],Yn.prototype,"date",void 0),Cr([Object(c.g)({color:"black",width:1},Sr)],Yn.prototype,"border",void 0),Cr([Object(c.s)("transparent")],Yn.prototype,"background",void 0),Cr([Object(c.s)(!0)],Yn.prototype,"showOnSeries",void 0),Cr([Object(c.s)("close")],Yn.prototype,"placeAt",void 0),Cr([Object(c.g)(L.stockEventFont,kr)],Yn.prototype,"textStyle",void 0),Yn),Nr=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.chart))).symbolLocations=[],i.stockChart=e,i.chartId=i.stockChart.element.id,i}return _inherits(t,e),_createClass(t,[{key:"renderStockEvents",value:function(){var e,t,i,n,r=this.stockChart,o=r.renderer.createGroup({id:this.chartId+"_StockEvents"});this.symbolLocations=function(e,t,i){for(var n=[],r=0;r<e;++r){for(var o=[],s=0;s<t;++s)o[s]=i;n[r]=o}return n}(r.series.length,r.stockEvents.length,new Wi(0,0));for(var s=0;s<r.stockEvents.length;s++){e=this.stockChart.stockEvents[s];var a=!0,l=!1,h=void 0;try{for(var c,d=r.chart.series[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value,m={name:"stockEventRender",stockChart:r,text:e.text,type:e.type,cancel:!1,series:u};r.trigger("stockEventRender",m),e.text=m.text,e.type=m.type,n=p(e.text+"W",e.textStyle),m.cancel||(t=r.renderer.createGroup({id:this.chartId+"_Series_"+u.index+"_StockEvents_"+s}),pt(this.dateParse(e.date).getTime(),u.xAxis.visibleRange)&&(i=this.findClosePoint(u,e),e.showOnSeries||(i.y=u.yAxis.rect.y+u.yAxis.rect.height),this.symbolLocations[u.index][s]=i,this.createStockElements(t,e,u,s,i,n),o.appendChild(t)))}}catch(g){l=!0,h=g}finally{try{a||null==d.return||d.return()}finally{if(l)throw h}}}return o}},{key:"findClosePoint",value:function(e,t){for(var i,n,r,o,s=this.getClosest(e,this.dateParse(t.date).getTime()),a=0;a<e.points.length;a++)s===(n=e.points[a]).xValue&&n.visible?i=new Xi(n,e):0!==a&&a!==e.points.length&&s>e.points[a-1].xValue&&s<e.points[a+1].xValue&&(i=new Xi(n,e));return r=e.xAxis.rect.x+kt(i.point.xValue,e.xAxis)*e.xAxis.rect.width,o=-1*(o=kt(i.point[t.placeAt],e.yAxis)*e.yAxis.rect.height)+(e.yAxis.rect.y+e.yAxis.rect.height),new Wi(r,o)}},{key:"createStockElements",value:function(e,t,i,n,r,o){var s,a,l=new g(o.width>20?o.width:20,o.height>20?o.height:20),h=r.x,c=r.y,d=this.chartId+"_Series_"+i.index+"_StockEvents_"+n,u=t.border;switch(t.type){case"Flag":case"Circle":case"Square":e.appendChild(Xt(new Wi(h,c),"Circle",new g(2,2),"",new P(d+"_Circle","transparent",u.width,u.color),this.dateParse(t.date).toISOString())),e.appendChild(Xt(new Wi(h,c-5),"VerticalLine",new g(9,9),"",new P(d+"_Path",u.color,u.width,u.color),this.dateParse(t.date).toISOString())),e.appendChild(Xt(new Wi("Flag"!==t.type?h:h+l.width/2,c-l.height),t.type,l,"",new P(d+"_Shape",t.background,u.width,u.color),this.dateParse(t.date).toISOString())),gi(this.stockChart.renderer,new b(d+"_Text","Flag"!==t.type?r.x:r.x+l.width/2,r.y-l.height,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;case"ArrowUp":case"ArrowDown":case"ArrowRight":case"ArrowLeft":s="M "+h+" "+c+" "+this.findArrowpaths(t.type),a=new P(d+"_Shape",t.background,u.width,u.color,1,"",s),e.appendChild(this.stockChart.renderer.drawPath(a));break;case"Triangle":case"InvertedTriangle":l.height=3*o.height,l.width=o.width+1.5*o.width,e.appendChild(Xt(new Wi(r.x,r.y),t.type,new g(20,20),"",new P(d+"_Shape",t.background,u.width,u.color),this.dateParse(t.date).toISOString())),gi(this.stockChart.renderer,new b(d+"_Text",r.x,r.y,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;case"Text":o.height+=8,s="M "+h+" "+c+" L "+(h-5)+" "+(c-5)+" L "+(h-o.width/2)+" "+(c-5)+" L "+(h-o.width/2)+" "+(c-o.height)+" L "+(h+o.width/2)+" "+(c-o.height)+" L "+(h+o.width/2)+" "+(c-5)+" L "+(h+5)+" "+(c-5)+" Z",a=new P(d+"_Shape",t.background,u.width,u.color,1,"",s),e.appendChild(this.stockChart.renderer.drawPath(a)),gi(this.stockChart.renderer,new b(d+"_Text",h,c-o.height/2,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;default:s="M "+h+" "+c+" L "+(h-o.width/2)+" "+(c-o.height/3)+" L "+(h-o.width/2)+" "+(c-o.height)+" L "+(h+o.width/2)+" "+(c-o.height)+" L "+(h+o.width/2)+" "+(c-o.height/3)+" Z",a=new P(d+"_Shape",t.background,u.width,u.color,1,"",s),e.appendChild(this.stockChart.renderer.drawPath(a)),gi(this.stockChart.renderer,new b(d+"_Text",h,c-o.height/2,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e)}}},{key:"renderStockEventTooltip",value:function(e){var t=parseInt(e.split("_StockEvents_")[0].replace(/\D+/g,""),10),i=parseInt(e.split("_StockEvents_")[1].replace(/\D+/g,""),10),n=this.symbolLocations[t][i],r=new Wi(n.x,n.y+this.stockChart.toolbarHeight+this.stockChart.titleSize.height);this.applyHighLights(i,t);var o=this.getElement(this.chartId+"_StockEvents_Tooltip_svg");if(o&&parseInt(o.getAttribute("opacity"),10)>0)this.stockEventTooltip.content=[this.stockChart.stockEvents[i].description],this.stockEventTooltip.location=r,this.stockEventTooltip.dataBind();else{Yt(this.chartId+"_StockEvents_Tooltip_svg")&&Object(c.gb)(Yt(this.chartId+"_StockEvents_Tooltip"));var s=Object(c.F)("div",{id:this.chartId+"_StockEvents_Tooltip",className:"ejSVGTooltip",attrs:{style:"pointer-events:none; position:absolute;z-index: 1"}});Yt(this.chartId+"_Secondary_Element").appendChild(s),this.stockEventTooltip=new E({opacity:1,header:"",content:[this.stockChart.stockEvents[i].description],enableAnimation:!0,location:r,theme:this.stockChart.theme,inverted:!0,areaBounds:this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect}),this.stockEventTooltip.areaBounds.y+=this.stockChart.toolbarHeight+this.stockChart.titleSize.height,this.stockEventTooltip.appendTo("#"+s.id)}}},{key:"removeStockEventTooltip",value:function(e){var t=this,i=this.getElement(this.chartId+"_StockEvents_Tooltip");this.stopAnimation(),i&&this.stockEventTooltip&&(this.toolTipInterval=setTimeout((function(){t.stockEventTooltip.fadeOut(),t.removeHighLights()}),e))}},{key:"findArrowpaths",value:function(e){var t="";switch(e){case"ArrowUp":t="l -10 10 l 5 0 l 0 10 l 10 0 l 0 -10 l 5 0 z";break;case"ArrowDown":t="l -10 -10 l 5 0 l 0 -10 l 10 0 l 0 10 l 5 0 z";break;case"ArrowLeft":t="l -10 -10 l 0 5 l -10 0 l 0 10 l 10 0 l 0 5 z";break;case"ArrowRight":t="l 10 -10 l 0 5 l 10 0 l 0 10 l -10 0 l 0 5 z"}return t}},{key:"applyHighLights",value:function(e,t){this.pointIndex===e&&this.seriesIndex===t||this.removeHighLights(),this.pointIndex=e,this.seriesIndex=t;var i=this.chartId+"_Series_"+t+"_StockEvents_"+e;this.setOpacity(i+"_Shape",.5),this.setOpacity(i+"_Text",.5)}},{key:"removeHighLights",value:function(){var e=this.chartId+"_Series_"+this.seriesIndex+"_StockEvents_"+this.pointIndex;this.setOpacity(e+"_Shape",1),this.setOpacity(e+"_Text",1)}},{key:"setOpacity",value:function(e,t){Yt(e)&&Yt(e).setAttribute("opacity",t.toString())}},{key:"dateParse",value:function(e){var t=this.chart.intl.getDateParser({skeleton:"full",type:"dateTime"}),i=this.chart.intl.getDateFormat({skeleton:"full",type:"dateTime"});return new Date(Date.parse(t(i(new Date(D.b.parse.parseJson({val:e}).val)))))}}]),t}(An),Vr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Fr=(lr=function(e){function t(e,i){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i))).isSingleAxis=!1,n.chartid=57723,n.tempSeriesType=[],n.zoomChange=!1,n.allowPan=!1,n.onPanning=!1,n.trendlinetriggered=!0,n.toolbarHeight=n.enablePeriodSelector?c.d.isDevice?56:42:0,n.initialRender=!0,n.rangeFound=!1,n.tempPeriods=[],n}return _inherits(t,e),_createClass(t,[{key:"onPropertyChanged",value:function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++)switch(n[i]){case"series":this.render()}}},{key:"rangeChanged",value:function(e,t){var i=document.getElementById(this.chartObject.id);if(i)for(;i.firstChild;)i.removeChild(i.firstChild);this.startValue=e,this.endValue=t,this.cartesianChart.initializeChart(),this.periodSelector.datePicker.startDate=new Date(e),this.periodSelector.datePicker.endDate=new Date(t),this.periodSelector.datePicker.dataBind()}},{key:"preRender",value:function(){this.isBlazor=window.Blazor,this.unWireEvents(),this.initPrivateVariable(),this.allowServerDataBinding=!1,this.isProtectedOnChange=!0,this.setCulture(),this.wireEvents()}},{key:"unWireEvents",value:function(){var e=c.d.touchMoveEvent,t=c.d.touchEndEvent,i=c.d.isPointer?"pointerleave":"mouseleave";c.l.remove(this.element,c.d.touchStartEvent,this.stockChartOnMouseDown),c.l.remove(this.element,e,this.stockChartOnMouseMove),c.l.remove(this.element,t,this.stockChartMouseEnd),c.l.remove(this.element,"click",this.stockChartOnMouseClick),c.l.remove(this.element,"contextmenu",this.stockChartRightClick),c.l.remove(this.element,i,this.stockChartOnMouseLeave),window.removeEventListener(c.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.stockChartResize)}},{key:"wireEvents",value:function(){var e=c.d.isPointer?"pointerleave":"mouseleave";c.l.add(this.element,c.d.touchStartEvent,this.stockChartOnMouseDown,this),c.l.add(this.element,c.d.touchMoveEvent,this.stockChartOnMouseMove,this),c.l.add(this.element,c.d.touchEndEvent,this.stockChartMouseEnd,this),c.l.add(this.element,"click",this.stockChartOnMouseClick,this),c.l.add(this.element,"contextmenu",this.stockChartRightClick,this),c.l.add(this.element,e,this.stockChartOnMouseLeave,this),window.addEventListener(c.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.stockChartResize.bind(this)),this.setStyle(this.element)}},{key:"initPrivateVariable",value:function(){if(""===this.element.id){var e=document.getElementsByClassName("e-stockChart").length;this.element.id="stockChart_"+this.chartid+"_"+e}this.seriesXMax=null,this.seriesXMin=null,this.startValue=null,this.endValue=null,this.currentEnd=null}},{key:"setCulture",value:function(){this.intl=new c.n}},{key:"storeDataSource",value:function(){for(var e=0;e<this.series.length;e++){var t=this.series[e];this.tempSeriesType.push(t.type),t.localData=void 0}this.initialRender=!0,this.rangeFound=!1,this.resizeTo=null,this.startValue=null,this.endValue=null}},{key:"render",value:function(){var e=this,t={name:"load",stockChart:this.isBlazor?{}:this,theme:this.theme};this.trigger("load",t,(function(){e.theme=e.isBlazor?t.theme:e.theme,e.stockChartTheme=Z(e.theme),e.storeDataSource(),e.drawSVG(),e.renderTitle(),e.chartModuleInjection(),e.chartRender(),e.dataSource instanceof D.a&&e.series[0].dataSource instanceof D.a||(e.stockChartDataManagerSuccess(),e.initialRender=!1),e.renderComplete(),e.allowServerDataBinding=!0,e.isProtectedOnChange=!1}))}},{key:"stockChartDataManagerSuccess",value:function(){this.findRange(),this.renderRangeSelector(),this.renderPeriodSelector(),this.trigger("loaded",{stockChart:this.isBlazor?{}:this})}},{key:"setStyle",value:function(e){var t=this.zoomSettings,i=t.enableSelectionZooming||t.enablePinchZooming||"None"!==this.selectionMode||this.crosshair.enable;e.style.msTouchAction=i?"none":"element",e.style.touchAction=i?"none":"element",e.style.msUserSelect="none",e.style.msContentZooming="none",e.style.position="relative",e.style.display="block",e.style.webkitUserSelect="none"}},{key:"drawSVG",value:function(){this.removeSvg(),vi(this),this.renderer=new d(this.element.id),this.renderBorder(),this.createSecondaryElements(),this.mainObject=this.renderer.createSvg({id:this.element.id+"_stockChart_svg",width:this.availableSize.width,height:this.availableSize.height-(this.enablePeriodSelector?this.toolbarHeight:0)-this.titleSize.height}),this.svgObject=this.mainObject,this.element.appendChild(this.mainObject)}},{key:"createSecondaryElements",value:function(){var e=pi(!1,this.element.id+"_Secondary_Element")||this.createElement("div");e.id=this.element.id+"_Secondary_Element",this.title?(this.titleSize=p(this.title,this.titleStyle),this.titleSize.height+=15):this.titleSize={height:null,width:null},e.setAttribute("style","position: relative; height:"+((this.enablePeriodSelector?this.toolbarHeight:0)+this.titleSize.height)+"px"),Kt(!1,this.element,e,!1)}},{key:"findCurrentData",value:function(e,t){var i,n=this;return e&&this.startValue&&this.endValue&&(i=e.filter((function(e){return new Date(Date.parse(e[t])).getTime()>=n.startValue&&new Date(Date.parse(e[t])).getTime()<=n.endValue}))),i}},{key:"renderPeriodSelector",value:function(){this.enablePeriodSelector&&(this.toolbarSelector.initializePeriodSelector(),this.periodSelector.toolbar.refreshOverflow(),this.enableSelector||this.cartesianChart.cartesianChartRefresh(this,this.startValue,this.endValue))}},{key:"chartRender",value:function(){this.cartesianChart=new xr(this),this.cartesianChart.initializeChart()}},{key:"renderRangeSelector",value:function(){this.enableSelector&&(this.rangeSelector=new _r(this),this.rangeSelector.initializeRangeNavigator())}},{key:"getModuleName",value:function(){return"stockChart"}},{key:"getPersistData",value:function(){return""}},{key:"removeSvg",value:function(){if(document.getElementById(this.element.id+"_Secondary_Element")&&Object(c.gb)(document.getElementById(this.element.id+"_Secondary_Element")),this.mainObject){for(;this.mainObject.childNodes.length>0;)this.mainObject.removeChild(this.mainObject.firstChild);!this.mainObject.hasChildNodes()&&this.mainObject.parentNode&&(Object(c.gb)(this.mainObject),this.mainObject=null,this.selectorObject=null,this.chartObject=null)}}},{key:"chartModuleInjection",value:function(){var e,t=!0,i=!1,n=void 0;try{for(var r,o=this.getInjectedModules()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;-1===(e=s.prototype.getModuleName().toLowerCase()).indexOf("rangetooltip")?fn.Inject(s):fr.Inject(s),"datetime"!==e&&"areaseries"!==e&&"steplineseries"!==e||fr.Inject(s)}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"findRange",value:function(){var e=this;this.seriesXMin=1/0,this.seriesXMax=-1/0;var t=!0,i=!1,n=void 0;try{for(var r,o=this.chart.series[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;this.seriesXMin=Math.min(this.seriesXMin,s.xMin),this.seriesXMax=Math.max(this.seriesXMax,s.xMax)}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}this.endValue=this.currentEnd=this.seriesXMax,this.enablePeriodSelector?(this.toolbarSelector=new wr(this),this.periodSelector=new br(this),this.tempPeriods=this.periods.length?this.periods:this.toolbarSelector.calculateAutoPeriods(),this.tempPeriods.map((function(t,i){t.selected&&"ytd"===t.text.toLowerCase()?e.startValue=new Date(new Date(e.currentEnd).getFullYear().toString()).getTime():t.selected&&"all"===t.text.toLowerCase()?e.startValue=e.seriesXMin:t.selected&&(e.startValue=e.periodSelector.changedRange(t.intervalType,e.endValue,t.interval).getTime())}))):this.startValue=this.seriesXMin,this.rangeFound=!0}},{key:"stockChartResize",value:function(e){var t=this;return!!document.getElementById(this.element.id)&&(this.animateSeries=!1,this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout((function(){vi(t),t.renderBorder(),t.renderTitle(),t.cartesianChart.cartesianChartRefresh(t,t.startValue,t.endValue),t.mainObject.setAttribute("width",t.availableSize.width.toString()),t.enablePeriodSelector&&t.renderPeriodSelector()}),500),!1)}},{key:"stockChartOnMouseDown",value:function(e){var t,i,n,r,o=this.chart.element.getBoundingClientRect();if(this.trigger("stockChartMouseDown",{target:e.target.id,x:this.mouseX,y:this.mouseY}),"touchstart"===e.type?(this.isTouch=!0,t=(r=e).changedTouches[0].clientX,n=r.target,i=r.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType,t=e.clientX,i=e.clientY,n=e.target),n.id.indexOf(this.element.id+"_stockChart_chart")>-1){var s=Yt(this.element.id+"_stockChart_chart").getBoundingClientRect();this.mouseDownY=this.previousMouseMoveY=i-o.top-Math.max(s.top-o.top,0),this.mouseDownX=this.previousMouseMoveX=t-o.left-Math.max(s.left-o.left,0),this.setMouseXY(this.mouseDownX,this.mouseDownY),this.referenceXAxis=this.chart.primaryXAxis,Yt(this.element.id+"_stockChart_chart").setAttribute("cursor","pointer"),this.mouseDownXPoint=En(this.mouseX-this.referenceXAxis.rect.x,this.referenceXAxis.rect.width,this.referenceXAxis.visibleRange,this.referenceXAxis.isInversed),this.allowPan=!0,this.notify(c.d.touchStartEvent,e)}return!1}},{key:"stockChartMouseEnd",value:function(e){var t,i,n;return"touchend"===e.type?(i=(n=e).changedTouches[0].clientX,t=n.changedTouches[0].clientY,this.isTouch=!0):(t=e.clientY,i=e.clientX,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),Yt(this.element.id+"_stockChart_chart").setAttribute("cursor","auto"),this.onPanning=!1,this.setMouseXY(i,t),this.stockChartOnMouseUp(e),!1}},{key:"stockChartOnMouseUp",value:function(e){return this.trigger("stockChartMouseUp",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isChartDrag=!1,this.allowPan=!1,this.isTouch&&(this.threshold=(new Date).getTime()+300),this.notify(c.d.touchEndEvent,e),this.stockEvent&&this.stockEvent.removeStockEventTooltip(0),!1}},{key:"setMouseXY",value:function(e,t){var i=Yt(this.element.id+"_stockChart_chart").getBoundingClientRect(),n=this.element.getBoundingClientRect();this.mouseX=e-n.left-Math.max(i.left-n.left,0),this.mouseY=t-n.top-Math.max(i.top-n.top,0)}},{key:"stockChartOnMouseMove",value:function(e){var t,i,n;return"touchmove"===e.type?(this.isTouch=!0,n=(i=e).changedTouches[0].clientY,t=i.changedTouches[0].clientX):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType||this.isTouch,t=e.clientX,n=e.clientY),this.trigger("stockChartMouseMove",{target:e.target.id,x:this.mouseX,y:this.mouseY}),Yt(this.element.id+"_stockChart_chart")&&(this.setMouseXY(t,n),this.chartOnMouseMove(e)),!1}},{key:"chartOnMouseMove",value:function(e){if(this.allowPan&&this.mouseDownXPoint&&this.mouseX!==this.previousMouseMoveX&&this.zoomSettings.enablePan){this.onPanning=!0,Yt(this.element.id+"_stockChart_chart").setAttribute("cursor","pointer"),this.mouseUpXPoint=En(this.mouseX-this.referenceXAxis.rect.x,this.referenceXAxis.rect.width,this.referenceXAxis.visibleRange,this.referenceXAxis.isInversed);var t=Math.abs(this.mouseUpXPoint-this.mouseDownXPoint);this.mouseDownXPoint<this.mouseUpXPoint?this.seriesXMin<=this.referenceXAxis.visibleRange.min-t&&(this.startValue=this.referenceXAxis.visibleRange.min-t,this.endValue=this.referenceXAxis.visibleRange.max-t,this.cartesianChart.cartesianChartRefresh(this,this.referenceXAxis.visibleRange.min-t,this.referenceXAxis.visibleRange.max-t),this.rangeSelector.sliderChange(this.referenceXAxis.visibleRange.min-t,this.referenceXAxis.visibleRange.max-t)):this.seriesXMax>=this.referenceXAxis.visibleRange.max+t&&(this.startValue=this.referenceXAxis.visibleRange.min+t,this.endValue=this.referenceXAxis.visibleRange.max+t,this.cartesianChart.cartesianChartRefresh(this,this.referenceXAxis.visibleRange.min+t,this.referenceXAxis.visibleRange.max+t),this.rangeSelector.sliderChange(this.referenceXAxis.visibleRange.min+t,this.referenceXAxis.visibleRange.max+t))}var i;return this.notify(c.d.touchMoveEvent,e),""===e.target.id&&((this.chart.tooltip.enable||this.crosshair.enable)&&(i=document.getElementById(this.element.id+"_stockChart_chart_tooltip"))&&Object(c.gb)(i),Yt(this.element.id+"_StockEvents_Tooltip")&&this.stockEvent.removeStockEventTooltip(0)),-1!==e.target.id.indexOf("StockEvents")?(clearInterval(this.stockEvent.toolTipInterval),this.stockEvent.renderStockEventTooltip(e.target.id)):this.stockEvent&&this.stockEvent.removeStockEventTooltip(1e3),this.isTouch=!1,!1}},{key:"stockChartOnMouseClick",value:function(e){return this.trigger("stockChartMouseClick",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.notify("click",e),!1}},{key:"stockChartRightClick",value:function(e){return!this.crosshair.enable||2!==e.buttons&&0!==e.which&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)}},{key:"stockChartOnMouseLeave",value:function(e){var t,i,n;return"touchleave"===e.type?(this.isTouch=!0,i=(t=e).changedTouches[0].clientX,n=t.changedTouches[0].clientY):(i=e.clientX,n=e.clientY,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),this.setMouseXY(i,n),this.allowPan=!1,this.stockChartOnMouseLeaveEvent(e),!1}},{key:"stockChartOnMouseLeaveEvent",value:function(e){var t=c.d.isPointer?"pointerleave":"mouseleave";return this.isChartDrag=!1,this.notify(t,e),this.stockEvent&&this.stockEvent.removeStockEventTooltip(1e3),!1}},{key:"destroy",value:function(){}},{key:"renderBorder",value:function(){if(this.border.width){var e=this.createElement("div");e.id=this.element.id+"_stock_border",e.style.width=this.availableSize.width+"px",e.style.height=this.availableSize.height+"px",e.style.position="absolute",e.style.border=this.border.width+"px solid "+this.border.color,e.style.pointerEvents="none",Kt(!1,Yt(this.element.id),e)}}},{key:"renderTitle",value:function(){var e;if(this.title){Kt(!1,Yt(this.element.id+"_Secondary_Element"),this.renderer.createSvg({id:this.element.id+"_stockChart_Title",width:this.availableSize.width,height:this.titleSize.height,fill:this.background||this.stockChartTheme.background}),!1);var t=this.titleStyle.textAlignment,i="Near"===t?"start":"Far"===t?"end":"middle";e=new v(0,0,this.availableSize.width,0);var n=new b(this.element.id+"_ChartTitle",bi(e,this.titleStyle),this.titleSize.height-10,i,this.title,"","auto");gi(this.renderer,n,this.titleStyle,this.titleStyle.color||this.findTitleColor(),Yt(this.element.id+"_stockChart_Title"),!1,!1),this.availableSize.height-=this.titleSize.height+5}}},{key:"findTitleColor",value:function(){return this.theme.toLocaleLowerCase().indexOf("highcontrast")>-1||this.theme.indexOf("Dark")>-1?"#ffffff":"#424242"}},{key:"calculateStockEvents",value:function(){this.stockEvents.length&&(this.stockEvent=new Nr(this),Kt(!1,this.chartObject,this.stockEvent.renderStockEvents()))}}]),t}(c.h),Vr([Object(c.s)(null)],lr.prototype,"width",void 0),Vr([Object(c.s)(null)],lr.prototype,"height",void 0),Vr([Object(c.s)("")],lr.prototype,"dataSource",void 0),Vr([Object(c.g)({},Or)],lr.prototype,"margin",void 0),Vr([Object(c.g)({color:"#DDDDDD",width:1},Sr)],lr.prototype,"border",void 0),Vr([Object(c.s)(null)],lr.prototype,"background",void 0),Vr([Object(c.s)("Material")],lr.prototype,"theme",void 0),Vr([Object(c.g)({name:"primaryXAxis",valueType:"DateTime"},Ir)],lr.prototype,"primaryXAxis",void 0),Vr([Object(c.g)({border:{color:null,width:.5},background:"transparent"},Mr)],lr.prototype,"chartArea",void 0),Vr([Object(c.g)({name:"primaryYAxis",opposedPosition:!0,labelPosition:"Inside"},Ir)],lr.prototype,"primaryYAxis",void 0),Vr([Object(c.f)([{}],zr)],lr.prototype,"rows",void 0),Vr([Object(c.f)([{opposedPosition:!0}],Ir)],lr.prototype,"axes",void 0),Vr([Object(c.f)([],Tr)],lr.prototype,"series",void 0),Vr([Object(c.f)([],Br)],lr.prototype,"stockEvents",void 0),Vr([Object(c.s)(!1)],lr.prototype,"isTransposed",void 0),Vr([Object(c.s)("")],lr.prototype,"title",void 0),Vr([Object(c.g)({size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},kr)],lr.prototype,"titleStyle",void 0),Vr([Object(c.f)([],jr)],lr.prototype,"indicators",void 0),Vr([Object(c.g)({shared:!0,enableMarker:!1},Ie)],lr.prototype,"tooltip",void 0),Vr([Object(c.g)({dashArray:"5"},vn)],lr.prototype,"crosshair",void 0),Vr([Object(c.g)({},yn)],lr.prototype,"zoomSettings",void 0),Vr([Object(c.s)(!0)],lr.prototype,"enablePeriodSelector",void 0),Vr([Object(c.s)(!0)],lr.prototype,"enableCustomRange",void 0),Vr([Object(c.s)(!1)],lr.prototype,"isSelect",void 0),Vr([Object(c.s)(!0)],lr.prototype,"enableSelector",void 0),Vr([Object(c.f)([],ze)],lr.prototype,"periods",void 0),Vr([Object(c.f)([{}],Er)],lr.prototype,"annotations",void 0),Vr([Object(c.k)()],lr.prototype,"selectorRender",void 0),Vr([Object(c.k)()],lr.prototype,"stockChartMouseMove",void 0),Vr([Object(c.k)()],lr.prototype,"stockChartMouseLeave",void 0),Vr([Object(c.k)()],lr.prototype,"stockChartMouseDown",void 0),Vr([Object(c.k)()],lr.prototype,"stockChartMouseUp",void 0),Vr([Object(c.k)()],lr.prototype,"stockChartMouseClick",void 0),Vr([Object(c.k)()],lr.prototype,"pointClick",void 0),Vr([Object(c.k)()],lr.prototype,"pointMove",void 0),Vr([Object(c.k)()],lr.prototype,"onZooming",void 0),Vr([Object(c.s)("None")],lr.prototype,"selectionMode",void 0),Vr([Object(c.s)(!1)],lr.prototype,"isMultiSelect",void 0),Vr([Object(c.k)()],lr.prototype,"load",void 0),Vr([Object(c.k)()],lr.prototype,"loaded",void 0),Vr([Object(c.k)()],lr.prototype,"rangeChange",void 0),Vr([Object(c.k)()],lr.prototype,"axisLabelRender",void 0),Vr([Object(c.k)()],lr.prototype,"tooltipRender",void 0),Vr([Object(c.k)()],lr.prototype,"seriesRender",void 0),Vr([Object(c.k)()],lr.prototype,"stockEventRender",void 0),Vr([Object(c.f)([],Dr)],lr.prototype,"selectedDataIndexes",void 0),Vr([Object(c.s)(["Line","Hilo","OHLC","Hollow Candle","Spline","Candle"])],lr.prototype,"seriesType",void 0),Vr([Object(c.s)(["EMA","TMA","SMA","Momentum","ATR","Accumulation Distribution","Bollinger Bands","MACD","Stochastic","RSI"])],lr.prototype,"indicatorType",void 0),Vr([Object(c.s)(["PNG","JPEG","SVG","PDF","Print"])],lr.prototype,"exportType",void 0),Vr([Object(c.s)(["Linear","Exponential","Polynomial","Logarithmic","Moving Average"])],lr.prototype,"trendlineType",void 0),lr);!function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"},e.tooltipLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.dataLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.titleFont={size:"15px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"},e.subTitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"}}(hr||(hr={})),function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.smithchartTitleFont={size:"15px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.smithchartSubtitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"}}(cr||(cr={}));var Wr,Hr,Zr,Xr,Gr,Yr,Ur,Qr,qr,Jr,Kr,$r,eo,to,io,no,ro,oo,so,ao,lo,ho,co,uo,po,mo,go,vo,yo,fo,bo,xo,_o,wo,Co,ko,So,Mo,Oo,Lo,Po,Ao,Ro,To,jo,Io,zo,Eo,Do,Bo,No=i("ofXK"),Vo=["dataLabelTemplate"],Fo=["content"],Wo=["tooltipTemplate"],Ho=["animation","backwardForecast","dashArray","enableTooltip","fill","forwardForecast","intercept","legendShape","marker","name","period","polynomialOrder","type","visible","width"],Zo=[],Xo=(Xr=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Zo),i.directivePropList=Ho,i}return _inherits(t,e),t}(h.b),Xr.\u0275fac=function(e){return new(e||Xr)(s.Qb(s.R))},Xr.\u0275dir=s.Lb({type:Xr,selectors:[["e-trendline"]],inputs:{animation:"animation",backwardForecast:"backwardForecast",dashArray:"dashArray",enableTooltip:"enableTooltip",fill:"fill",forwardForecast:"forwardForecast",intercept:"intercept",legendShape:"legendShape",marker:"marker",name:"name",period:"period",polynomialOrder:"polynomialOrder",type:"type",visible:"visible",width:"width"},features:[s.Bb]}),Xr),Go=(Zr=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"trendlines"))}return _inherits(t,e),t}(h.a),Zr.\u0275fac=function(e){return new(e||Zr)},Zr.\u0275dir=s.Lb({type:Zr,selectors:[["e-trendlines"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,Xo,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),Zr),Yo=["color","dashArray","value"],Uo=[],Qo=(Hr=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Uo),i.directivePropList=Yo,i}return _inherits(t,e),t}(h.b),Hr.\u0275fac=function(e){return new(e||Hr)(s.Qb(s.R))},Hr.\u0275dir=s.Lb({type:Hr,selectors:[["e-segment"]],inputs:{color:"color",dashArray:"dashArray",value:"value"},features:[s.Bb]}),Hr),qo=(Wr=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"segments"))}return _inherits(t,e),t}(h.a),Wr.\u0275fac=function(e){return new(e||Wr)},Wr.\u0275dir=s.Lb({type:Wr,selectors:[["e-segments"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,Qo,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),Wr),Jo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ko=["animation","bearFillColor","binInterval","border","boxPlotMode","bullFillColor","cardinalSplineTension","close","columnSpacing","columnWidth","connector","cornerRadius","dashArray","dataSource","dragSettings","drawType","emptyPointSettings","enableComplexProperty","enableSolidCandles","enableTooltip","errorBar","fill","high","intermediateSumIndexes","isClosed","legendShape","low","marker","maxRadius","minRadius","name","negativeFillColor","nonHighlightStyle","opacity","open","pointColorMapping","query","segmentAxis","segments","selectionStyle","showMean","showNormalDistribution","size","splineType","stackingGroup","sumIndexes","summaryFillColor","tooltipFormat","tooltipMappingName","trendlines","type","unSelectedStyle","visible","volume","width","xAxisName","xName","yAxisName","yName","zOrder"],$o=[],es=((oo=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,i.tags=["trendlines","segments"],Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents($o),i.directivePropList=Ko,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||oo)(s.Qb(s.R))},oo.\u0275dir=s.Lb({type:oo,selectors:[["e-series"]],contentQueries:function(e,t,i){var n;1&e&&(s.Ib(i,Vo,!0),s.Ib(i,Go,!0),s.Ib(i,qo,!0)),2&e&&(s.rc(n=s.fc())&&(t.dataLabel_template=n.first),s.rc(n=s.fc())&&(t.childTrendlines=n.first),s.rc(n=s.fc())&&(t.childSegments=n.first))},inputs:{animation:"animation",bearFillColor:"bearFillColor",binInterval:"binInterval",border:"border",boxPlotMode:"boxPlotMode",bullFillColor:"bullFillColor",cardinalSplineTension:"cardinalSplineTension",close:"close",columnSpacing:"columnSpacing",columnWidth:"columnWidth",connector:"connector",cornerRadius:"cornerRadius",dashArray:"dashArray",dataSource:"dataSource",dragSettings:"dragSettings",drawType:"drawType",emptyPointSettings:"emptyPointSettings",enableComplexProperty:"enableComplexProperty",enableSolidCandles:"enableSolidCandles",enableTooltip:"enableTooltip",errorBar:"errorBar",fill:"fill",high:"high",intermediateSumIndexes:"intermediateSumIndexes",isClosed:"isClosed",legendShape:"legendShape",low:"low",marker:"marker",maxRadius:"maxRadius",minRadius:"minRadius",name:"name",negativeFillColor:"negativeFillColor",nonHighlightStyle:"nonHighlightStyle",opacity:"opacity",open:"open",pointColorMapping:"pointColorMapping",query:"query",segmentAxis:"segmentAxis",segments:"segments",selectionStyle:"selectionStyle",showMean:"showMean",showNormalDistribution:"showNormalDistribution",size:"size",splineType:"splineType",stackingGroup:"stackingGroup",sumIndexes:"sumIndexes",summaryFillColor:"summaryFillColor",tooltipFormat:"tooltipFormat",tooltipMappingName:"tooltipMappingName",trendlines:"trendlines",type:"type",unSelectedStyle:"unSelectedStyle",visible:"visible",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName",yName:"yName",zOrder:"zOrder"},features:[s.Bb]}),function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);o>3&&s&&Object.defineProperty(t,i,s)}([Object(h.f)(),Jo("design:type",Object)],oo.prototype,"dataLabel_template",void 0),oo),ts=((ro=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"series"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||ro)},ro.\u0275dir=s.Lb({type:ro,selectors:[["e-series-collection"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,es,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),ro),is=["border","color","dashArray","end","horizontalAlignment","isRepeat","isSegmented","opacity","repeatEvery","repeatUntil","rotation","segmentAxisName","segmentEnd","segmentStart","size","sizeType","start","startFromAxis","text","textStyle","verticalAlignment","visible","zIndex"],ns=[],rs=((no=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(ns),i.directivePropList=is,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||no)(s.Qb(s.R))},no.\u0275dir=s.Lb({type:no,selectors:[["e-stripline"]],inputs:{border:"border",color:"color",dashArray:"dashArray",end:"end",horizontalAlignment:"horizontalAlignment",isRepeat:"isRepeat",isSegmented:"isSegmented",opacity:"opacity",repeatEvery:"repeatEvery",repeatUntil:"repeatUntil",rotation:"rotation",segmentAxisName:"segmentAxisName",segmentEnd:"segmentEnd",segmentStart:"segmentStart",size:"size",sizeType:"sizeType",start:"start",startFromAxis:"startFromAxis",text:"text",textStyle:"textStyle",verticalAlignment:"verticalAlignment",visible:"visible",zIndex:"zIndex"},features:[s.Bb]}),no),os=((io=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"striplines"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||io)},io.\u0275dir=s.Lb({type:io,selectors:[["e-striplines"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,rs,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),io),ss=["customAttributes","end","maximumTextWidth","start","text","type"],as=[],ls=((to=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(as),i.directivePropList=ss,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||to)(s.Qb(s.R))},to.\u0275dir=s.Lb({type:to,selectors:[["e-category"]],inputs:{customAttributes:"customAttributes",end:"end",maximumTextWidth:"maximumTextWidth",start:"start",text:"text",type:"type"},features:[s.Bb]}),to),hs=((eo=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"categories"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||eo)},eo.\u0275dir=s.Lb({type:eo,selectors:[["e-categories"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,ls,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),eo),cs=["alignment","border","categories","overflow","textStyle"],ds=[],us=(($r=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,i.tags=["categories"],Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(ds),i.directivePropList=cs,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||$r)(s.Qb(s.R))},$r.\u0275dir=s.Lb({type:$r,selectors:[["e-multilevellabel"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,hs,!0),2&e&&s.rc(n=s.fc())&&(t.childCategories=n.first)},inputs:{alignment:"alignment",border:"border",categories:"categories",overflow:"overflow",textStyle:"textStyle"},features:[s.Bb]}),$r),ps=((Kr=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"multilevellabels"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||Kr)},Kr.\u0275dir=s.Lb({type:Kr,selectors:[["e-multilevellabels"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,us,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),Kr),ms=["border","coefficient","columnIndex","crossesAt","crossesInAxis","crosshairTooltip","description","desiredIntervals","edgeLabelPlacement","enableAutoIntervalOnZooming","enableTrim","interval","intervalType","isIndexed","isInversed","labelFormat","labelIntersectAction","labelPlacement","labelPosition","labelRotation","labelStyle","lineStyle","logBase","majorGridLines","majorTickLines","maximum","maximumLabelWidth","maximumLabels","minimum","minorGridLines","minorTickLines","minorTicksPerInterval","multiLevelLabels","name","opposedPosition","placeNextToAxisLine","plotOffset","plotOffsetBottom","plotOffsetLeft","plotOffsetRight","plotOffsetTop","rangePadding","rowIndex","scrollbarSettings","skeleton","skeletonType","span","startAngle","startFromZero","stripLines","tabIndex","tickPosition","title","titleStyle","valueType","visible","zoomFactor","zoomPosition"],gs=[],vs=((Jr=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,i.tags=["stripLines","multiLevelLabels"],Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(gs),i.directivePropList=ms,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||Jr)(s.Qb(s.R))},Jr.\u0275dir=s.Lb({type:Jr,selectors:[["e-axis"]],contentQueries:function(e,t,i){var n;1&e&&(s.Ib(i,os,!0),s.Ib(i,ps,!0)),2&e&&(s.rc(n=s.fc())&&(t.childStripLines=n.first),s.rc(n=s.fc())&&(t.childMultiLevelLabels=n.first))},inputs:{border:"border",coefficient:"coefficient",columnIndex:"columnIndex",crossesAt:"crossesAt",crossesInAxis:"crossesInAxis",crosshairTooltip:"crosshairTooltip",description:"description",desiredIntervals:"desiredIntervals",edgeLabelPlacement:"edgeLabelPlacement",enableAutoIntervalOnZooming:"enableAutoIntervalOnZooming",enableTrim:"enableTrim",interval:"interval",intervalType:"intervalType",isIndexed:"isIndexed",isInversed:"isInversed",labelFormat:"labelFormat",labelIntersectAction:"labelIntersectAction",labelPlacement:"labelPlacement",labelPosition:"labelPosition",labelRotation:"labelRotation",labelStyle:"labelStyle",lineStyle:"lineStyle",logBase:"logBase",majorGridLines:"majorGridLines",majorTickLines:"majorTickLines",maximum:"maximum",maximumLabelWidth:"maximumLabelWidth",maximumLabels:"maximumLabels",minimum:"minimum",minorGridLines:"minorGridLines",minorTickLines:"minorTickLines",minorTicksPerInterval:"minorTicksPerInterval",multiLevelLabels:"multiLevelLabels",name:"name",opposedPosition:"opposedPosition",placeNextToAxisLine:"placeNextToAxisLine",plotOffset:"plotOffset",plotOffsetBottom:"plotOffsetBottom",plotOffsetLeft:"plotOffsetLeft",plotOffsetRight:"plotOffsetRight",plotOffsetTop:"plotOffsetTop",rangePadding:"rangePadding",rowIndex:"rowIndex",scrollbarSettings:"scrollbarSettings",skeleton:"skeleton",skeletonType:"skeletonType",span:"span",startAngle:"startAngle",startFromZero:"startFromZero",stripLines:"stripLines",tabIndex:"tabIndex",tickPosition:"tickPosition",title:"title",titleStyle:"titleStyle",valueType:"valueType",visible:"visible",zoomFactor:"zoomFactor",zoomPosition:"zoomPosition"},features:[s.Bb]}),Jr),ys=((qr=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"axes"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||qr)},qr.\u0275dir=s.Lb({type:qr,selectors:[["e-axes"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,vs,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),qr),fs=["border","height"],bs=[],xs=((Qr=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(bs),i.directivePropList=fs,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||Qr)(s.Qb(s.R))},Qr.\u0275dir=s.Lb({type:Qr,selectors:[["e-row"]],inputs:{border:"border",height:"height"},features:[s.Bb]}),Qr),_s=((Ur=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"rows"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||Ur)},Ur.\u0275dir=s.Lb({type:Ur,selectors:[["e-rows"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,xs,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),Ur),ws=["border","width"],Cs=[],ks=((Yr=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Cs),i.directivePropList=ws,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||Yr)(s.Qb(s.R))},Yr.\u0275dir=s.Lb({type:Yr,selectors:[["e-column"]],inputs:{border:"border",width:"width"},features:[s.Bb]}),Yr),Ss=((Gr=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"columns"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||Gr)},Gr.\u0275dir=s.Lb({type:Gr,selectors:[["e-columns"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,ks,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),Gr),Ms=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Os=["content","coordinateUnits","description","horizontalAlignment","region","verticalAlignment","x","xAxisName","y","yAxisName"],Ls=[],Ps=((uo=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Ls),i.directivePropList=Os,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||uo)(s.Qb(s.R))},uo.\u0275dir=s.Lb({type:uo,selectors:[["e-annotation"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,Fo,!0),2&e&&s.rc(n=s.fc())&&(t.content=n.first)},inputs:{content:"content",coordinateUnits:"coordinateUnits",description:"description",horizontalAlignment:"horizontalAlignment",region:"region",verticalAlignment:"verticalAlignment",x:"x",xAxisName:"xAxisName",y:"y",yAxisName:"yAxisName"},features:[s.Bb]}),function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);o>3&&s&&Object.defineProperty(t,i,s)}([Object(h.f)(),Ms("design:type",Object)],uo.prototype,"content",void 0),uo),As=((co=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"annotations"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||co)},co.\u0275dir=s.Lb({type:co,selectors:[["e-annotations"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,Ps,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),co),Rs=["point","series"],Ts=[],js=((ho=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Ts),i.directivePropList=Rs,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||ho)(s.Qb(s.R))},ho.\u0275dir=s.Lb({type:ho,selectors:[["e-selecteddataindex"]],inputs:{point:"point",series:"series"},features:[s.Bb]}),ho),Is=((lo=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"selecteddataindexes"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||lo)},lo.\u0275dir=s.Lb({type:lo,selectors:[["e-selecteddataindexes"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,js,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),lo),zs=["animation","bandColor","close","dPeriod","dashArray","dataSource","enableComplexProperty","fastPeriod","field","fill","high","kPeriod","low","lowerLine","macdLine","macdNegativeColor","macdPositiveColor","macdType","open","overBought","overSold","period","periodLine","pointColorMapping","query","segmentAxis","segments","seriesName","showZones","slowPeriod","standardDeviation","type","upperLine","visible","volume","width","xAxisName","xName","yAxisName"],Es=[],Ds=((ao=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Es),i.directivePropList=zs,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||ao)(s.Qb(s.R))},ao.\u0275dir=s.Lb({type:ao,selectors:[["e-indicator"]],inputs:{animation:"animation",bandColor:"bandColor",close:"close",dPeriod:"dPeriod",dashArray:"dashArray",dataSource:"dataSource",enableComplexProperty:"enableComplexProperty",fastPeriod:"fastPeriod",field:"field",fill:"fill",high:"high",kPeriod:"kPeriod",low:"low",lowerLine:"lowerLine",macdLine:"macdLine",macdNegativeColor:"macdNegativeColor",macdPositiveColor:"macdPositiveColor",macdType:"macdType",open:"open",overBought:"overBought",overSold:"overSold",period:"period",periodLine:"periodLine",pointColorMapping:"pointColorMapping",query:"query",segmentAxis:"segmentAxis",segments:"segments",seriesName:"seriesName",showZones:"showZones",slowPeriod:"slowPeriod",standardDeviation:"standardDeviation",type:"type",upperLine:"upperLine",visible:"visible",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName"},features:[s.Bb]}),ao),Bs=((so=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"indicators"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||so)},so.\u0275dir=s.Lb({type:so,selectors:[["e-indicators"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,Ds,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),so),Ns=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Vs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Fs=["afterExport","animationComplete","annotationRender","axisLabelRender","axisMultiLabelRender","axisRangeCalculated","beforeExport","beforePrint","chartMouseClick","chartMouseDown","chartMouseLeave","chartMouseMove","chartMouseUp","drag","dragComplete","dragEnd","dragStart","legendClick","legendRender","load","loaded","multiLevelLabelClick","onZooming","pointClick","pointDoubleClick","pointMove","pointRender","resized","scrollChanged","scrollEnd","scrollStart","selectionComplete","seriesRender","textRender","tooltipRender","zoomComplete","dataSourceChange"],Ws=["dataSource"],Hs=((mo=function(e){function t(e,i,n,r){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).ngEle=e,o.srenderer=i,o.viewContainerRef=n,o.injector=r,o.tags=["series","axes","rows","columns","annotations","selectedDataIndexes","indicators"],o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[];try{var s=o.injector.get("ChartsLineSeries");-1===o.injectedModules.indexOf(s)&&o.injectedModules.push(s)}catch(he){}try{var a=o.injector.get("ChartsScatterSeries");-1===o.injectedModules.indexOf(a)&&o.injectedModules.push(a)}catch(ce){}try{var l=o.injector.get("ChartsColumnSeries");-1===o.injectedModules.indexOf(l)&&o.injectedModules.push(l)}catch(de){}try{var c=o.injector.get("ChartsSplineSeries");-1===o.injectedModules.indexOf(c)&&o.injectedModules.push(c)}catch(ue){}try{var d=o.injector.get("ChartsSplineAreaSeries");-1===o.injectedModules.indexOf(d)&&o.injectedModules.push(d)}catch(pe){}try{var u=o.injector.get("ChartsStripLine");-1===o.injectedModules.indexOf(u)&&o.injectedModules.push(u)}catch(me){}try{var p=o.injector.get("ChartsAreaSeries");-1===o.injectedModules.indexOf(p)&&o.injectedModules.push(p)}catch(ge){}try{var m=o.injector.get("ChartsScrollBar");-1===o.injectedModules.indexOf(m)&&o.injectedModules.push(m)}catch(ve){}try{var g=o.injector.get("ChartsStepLineSeries");-1===o.injectedModules.indexOf(g)&&o.injectedModules.push(g)}catch(ye){}try{var v=o.injector.get("ChartsStepAreaSeries");-1===o.injectedModules.indexOf(v)&&o.injectedModules.push(v)}catch(fe){}try{var y=o.injector.get("ChartsStackingColumnSeries");-1===o.injectedModules.indexOf(y)&&o.injectedModules.push(y)}catch(be){}try{var f=o.injector.get("ChartsStackingLineSeries");-1===o.injectedModules.indexOf(f)&&o.injectedModules.push(f)}catch(xe){}try{var b=o.injector.get("ChartsStackingAreaSeries");-1===o.injectedModules.indexOf(b)&&o.injectedModules.push(b)}catch(_e){}try{var x=o.injector.get("ChartsBarSeries");-1===o.injectedModules.indexOf(x)&&o.injectedModules.push(x)}catch(we){}try{var _=o.injector.get("ChartsStackingBarSeries");-1===o.injectedModules.indexOf(_)&&o.injectedModules.push(_)}catch(Ce){}try{var w=o.injector.get("ChartsRangeColumnSeries");-1===o.injectedModules.indexOf(w)&&o.injectedModules.push(w)}catch(ke){}try{var C=o.injector.get("ChartsBubbleSeries");-1===o.injectedModules.indexOf(C)&&o.injectedModules.push(C)}catch(Se){}try{var k=o.injector.get("ChartsTooltip");-1===o.injectedModules.indexOf(k)&&o.injectedModules.push(k)}catch(Me){}try{var S=o.injector.get("ChartsCrosshair");-1===o.injectedModules.indexOf(S)&&o.injectedModules.push(S)}catch(Oe){}try{var M=o.injector.get("ChartsCategory");-1===o.injectedModules.indexOf(M)&&o.injectedModules.push(M)}catch(Le){}try{var O=o.injector.get("ChartsDateTime");-1===o.injectedModules.indexOf(O)&&o.injectedModules.push(O)}catch(Pe){}try{var L=o.injector.get("ChartsLogarithmic");-1===o.injectedModules.indexOf(L)&&o.injectedModules.push(L)}catch(Ae){}try{var P=o.injector.get("ChartsLegend");-1===o.injectedModules.indexOf(P)&&o.injectedModules.push(P)}catch(Re){}try{var A=o.injector.get("ChartsZoom");-1===o.injectedModules.indexOf(A)&&o.injectedModules.push(A)}catch(Te){}try{var R=o.injector.get("ChartsDataLabel");-1===o.injectedModules.indexOf(R)&&o.injectedModules.push(R)}catch(je){}try{var T=o.injector.get("ChartsSelection");-1===o.injectedModules.indexOf(T)&&o.injectedModules.push(T)}catch(Ie){}try{var j=o.injector.get("ChartsChartAnnotation");-1===o.injectedModules.indexOf(j)&&o.injectedModules.push(j)}catch(ze){}try{var I=o.injector.get("ChartsHiloSeries");-1===o.injectedModules.indexOf(I)&&o.injectedModules.push(I)}catch(Ee){}try{var z=o.injector.get("ChartsHiloOpenCloseSeries");-1===o.injectedModules.indexOf(z)&&o.injectedModules.push(z)}catch(De){}try{var E=o.injector.get("ChartsWaterfallSeries");-1===o.injectedModules.indexOf(E)&&o.injectedModules.push(E)}catch(Be){}try{var D=o.injector.get("ChartsRangeAreaSeries");-1===o.injectedModules.indexOf(D)&&o.injectedModules.push(D)}catch(Ne){}try{var B=o.injector.get("ChartsCandleSeries");-1===o.injectedModules.indexOf(B)&&o.injectedModules.push(B)}catch(Ve){}try{var N=o.injector.get("ChartsPolarSeries");-1===o.injectedModules.indexOf(N)&&o.injectedModules.push(N)}catch(Fe){}try{var V=o.injector.get("ChartsRadarSeries");-1===o.injectedModules.indexOf(V)&&o.injectedModules.push(V)}catch(We){}try{var F=o.injector.get("ChartsSmaIndicator");-1===o.injectedModules.indexOf(F)&&o.injectedModules.push(F)}catch(He){}try{var W=o.injector.get("ChartsTmaIndicator");-1===o.injectedModules.indexOf(W)&&o.injectedModules.push(W)}catch(Ze){}try{var H=o.injector.get("ChartsEmaIndicator");-1===o.injectedModules.indexOf(H)&&o.injectedModules.push(H)}catch(Xe){}try{var Z=o.injector.get("ChartsAccumulationDistributionIndicator");-1===o.injectedModules.indexOf(Z)&&o.injectedModules.push(Z)}catch(Ge){}try{var X=o.injector.get("ChartsMacdIndicator");-1===o.injectedModules.indexOf(X)&&o.injectedModules.push(X)}catch(Ye){}try{var G=o.injector.get("ChartsAtrIndicator");-1===o.injectedModules.indexOf(G)&&o.injectedModules.push(G)}catch(Ue){}try{var Y=o.injector.get("ChartsRsiIndicator");-1===o.injectedModules.indexOf(Y)&&o.injectedModules.push(Y)}catch(Qe){}try{var U=o.injector.get("ChartsMomentumIndicator");-1===o.injectedModules.indexOf(U)&&o.injectedModules.push(U)}catch(qe){}try{var Q=o.injector.get("ChartsStochasticIndicator");-1===o.injectedModules.indexOf(Q)&&o.injectedModules.push(Q)}catch(Je){}try{var q=o.injector.get("ChartsBollingerBands");-1===o.injectedModules.indexOf(q)&&o.injectedModules.push(q)}catch(Ke){}try{var J=o.injector.get("ChartsBoxAndWhiskerSeries");-1===o.injectedModules.indexOf(J)&&o.injectedModules.push(J)}catch($e){}try{var K=o.injector.get("ChartsHistogramSeries");-1===o.injectedModules.indexOf(K)&&o.injectedModules.push(K)}catch(et){}try{var $=o.injector.get("ChartsErrorBar");-1===o.injectedModules.indexOf($)&&o.injectedModules.push($)}catch(tt){}try{var ee=o.injector.get("ChartsTrendlines");-1===o.injectedModules.indexOf(ee)&&o.injectedModules.push(ee)}catch(it){}try{var te=o.injector.get("ChartsDateTimeCategory");-1===o.injectedModules.indexOf(te)&&o.injectedModules.push(te)}catch(nt){}try{var ie=o.injector.get("ChartsMultiColoredLineSeries");-1===o.injectedModules.indexOf(ie)&&o.injectedModules.push(ie)}catch(rt){}try{var ne=o.injector.get("ChartsMultiColoredAreaSeries");-1===o.injectedModules.indexOf(ne)&&o.injectedModules.push(ne)}catch(ot){}try{var re=o.injector.get("ChartsMultiLevelLabel");-1===o.injectedModules.indexOf(re)&&o.injectedModules.push(re)}catch(st){}try{var oe=o.injector.get("ChartsParetoSeries");-1===o.injectedModules.indexOf(oe)&&o.injectedModules.push(oe)}catch(at){}try{var se=o.injector.get("ChartsExport");-1===o.injectedModules.indexOf(se)&&o.injectedModules.push(se)}catch(lt){}try{var ae=o.injector.get("ChartsDataEditing");-1===o.injectedModules.indexOf(ae)&&o.injectedModules.push(ae)}catch(ht){}try{var le=o.injector.get("ChartsHighlight");-1===o.injectedModules.indexOf(le)&&o.injectedModules.push(le)}catch(ct){}return o.registerEvents(Fs),o.addTwoWay.call(_assertThisInitialized(o),Ws),Object(h.g)("currentInstance",_assertThisInitialized(o),o.viewContainerRef),o.context=new h.c,o}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.context.ngOnInit(this)}},{key:"ngAfterViewInit",value:function(){this.context.ngAfterViewInit(this)}},{key:"ngOnDestroy",value:function(){this.context.ngOnDestroy(this)}},{key:"ngAfterContentChecked",value:function(){this.tagObjects[0].instance=this.childSeries,this.childAxes&&(this.tagObjects[1].instance=this.childAxes),this.childRows&&(this.tagObjects[2].instance=this.childRows),this.childColumns&&(this.tagObjects[3].instance=this.childColumns),this.childAnnotations&&(this.tagObjects[4].instance=this.childAnnotations),this.childSelectedDataIndexes&&(this.tagObjects[5].instance=this.childSelectedDataIndexes),this.childIndicators&&(this.tagObjects[6].instance=this.childIndicators),this.context.ngAfterContentChecked(this)}}]),t}(fn)).\u0275fac=function(e){return new(e||mo)(s.Qb(s.l),s.Qb(s.F),s.Qb(s.R),s.Qb(s.s))},mo.\u0275cmp=s.Kb({type:mo,selectors:[["ejs-chart"]],contentQueries:function(e,t,i){var n;1&e&&(s.Ib(i,Wo,!0),s.Ib(i,ts,!0),s.Ib(i,ys,!0),s.Ib(i,_s,!0),s.Ib(i,Ss,!0),s.Ib(i,As,!0),s.Ib(i,Is,!0),s.Ib(i,Bs,!0)),2&e&&(s.rc(n=s.fc())&&(t.tooltip_template=n.first),s.rc(n=s.fc())&&(t.childSeries=n.first),s.rc(n=s.fc())&&(t.childAxes=n.first),s.rc(n=s.fc())&&(t.childRows=n.first),s.rc(n=s.fc())&&(t.childColumns=n.first),s.rc(n=s.fc())&&(t.childAnnotations=n.first),s.rc(n=s.fc())&&(t.childSelectedDataIndexes=n.first),s.rc(n=s.fc())&&(t.childIndicators=n.first))},inputs:{allowMultiSelection:"allowMultiSelection",annotations:"annotations",axes:"axes",background:"background",backgroundImage:"backgroundImage",border:"border",chartArea:"chartArea",columns:"columns",crosshair:"crosshair",currencyCode:"currencyCode",dataSource:"dataSource",description:"description",enableAnimation:"enableAnimation",enableCanvas:"enableCanvas",enableExport:"enableExport",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableSideBySidePlacement:"enableSideBySidePlacement",height:"height",highlightMode:"highlightMode",highlightPattern:"highlightPattern",indicators:"indicators",isMultiSelect:"isMultiSelect",isTransposed:"isTransposed",legendSettings:"legendSettings",locale:"locale",margin:"margin",palettes:"palettes",primaryXAxis:"primaryXAxis",primaryYAxis:"primaryYAxis",rows:"rows",selectedDataIndexes:"selectedDataIndexes",selectionMode:"selectionMode",selectionPattern:"selectionPattern",series:"series",subTitle:"subTitle",subTitleStyle:"subTitleStyle",tabIndex:"tabIndex",theme:"theme",title:"title",titleStyle:"titleStyle",tooltip:"tooltip",useGroupingSeparator:"useGroupingSeparator",width:"width",zoomSettings:"zoomSettings"},outputs:{afterExport:"afterExport",animationComplete:"animationComplete",annotationRender:"annotationRender",axisLabelRender:"axisLabelRender",axisMultiLabelRender:"axisMultiLabelRender",axisRangeCalculated:"axisRangeCalculated",beforeExport:"beforeExport",beforePrint:"beforePrint",chartMouseClick:"chartMouseClick",chartMouseDown:"chartMouseDown",chartMouseLeave:"chartMouseLeave",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",drag:"drag",dragComplete:"dragComplete",dragEnd:"dragEnd",dragStart:"dragStart",legendClick:"legendClick",legendRender:"legendRender",load:"load",loaded:"loaded",multiLevelLabelClick:"multiLevelLabelClick",onZooming:"onZooming",pointClick:"pointClick",pointDoubleClick:"pointDoubleClick",pointMove:"pointMove",pointRender:"pointRender",resized:"resized",scrollChanged:"scrollChanged",scrollEnd:"scrollEnd",scrollStart:"scrollStart",selectionComplete:"selectionComplete",seriesRender:"seriesRender",textRender:"textRender",tooltipRender:"tooltipRender",zoomComplete:"zoomComplete",dataSourceChange:"dataSourceChange"},features:[s.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Ns([Object(h.f)(),Vs("design:type",Object)],mo.prototype,"tooltip_template",void 0),mo=Ns([Object(h.d)([h.c]),Vs("design:paramtypes",[s.l,s.F,s.R,s.s])],mo)),Zs=((po=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:po}),po.\u0275inj=s.Nb({factory:function(e){return new(e||po)},imports:[[No.c]]}),po),Xs={provide:"ChartsLineSeries",useValue:Cn},Gs={provide:"ChartsScatterSeries",useValue:function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"render",value:function(e,t,i,n){e.isRectSeries=!1;var r,o,s=e.marker,a=e.points,l="PolarRadar"===e.chart.chartAreaType?St:qt,h=e.chart.redraw,c=!0,d=!1,u=void 0;try{for(var p,m=a[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var g=p.value;o=h&&g.symbolLocations?g.symbolLocations[0]:null,g.symbolLocations=[],g.regions=[],g.visible&&gt(a[g.index-1],g,a[g.index+1],e)&&(r={cancel:!1,name:"pointRender",series:e,point:g,fill:e.setPointColor(g,e.interior),border:e.setBorderColor(g,{width:e.border.width,color:e.border.color}),height:s.height,width:s.width,shape:s.shape},e.chart.trigger("pointRender",r),r.cancel?g.marker={visible:!0}:(g.symbolLocations.push(l(g.xValue,g.yValue,t,i,n,e)),g.color=r.fill,this.refresh(e,g,r,o)))}}catch(v){d=!0,u=v}finally{try{c||null==m.return||m.return()}finally{if(d)throw u}}}},{key:"refresh",value:function(e,t,i,n){var r,o,s=e.chart,a=e.marker,l=new P(s.element.id+"_Series_"+e.index+"_Point_"+t.index,i.fill,i.border.width,i.border.color,e.opacity,null);s.redraw&&Yt(l.id)&&(r="Circle"===i.shape?"c":"",o=Yt(l.id).getAttribute("d")),Kt(!1,e.seriesElement,Xt(t.symbolLocations[0],i.shape,new g(i.width,i.height),a.imageUrl,l,(t.x.toString(),t.yValue.toString()),e.chart.svgRenderer,e.clipRect),s.redraw,!0,r+"x",r+"y",n,o),t.regions.push(new v(t.symbolLocations[0].x-a.width,t.symbolLocations[0].y-a.height,2*a.width,2*a.height)),t.marker={border:i.border,fill:i.fill,height:i.height,visible:!0,width:i.width,shape:i.shape}}},{key:"doAnimation",value:function(e){var t=e.animation.duration,i=e.animation.delay,n=e.seriesElement.childNodes,r=1,o=!0,s=!1,a=void 0;try{for(var l,h=e.points[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;c.symbolLocations.length&&n[r]&&(Bt(n[r],i,t,e,c.index,c.symbolLocations[0],!1),r++)}}catch(d){s=!0,a=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}}},{key:"getModuleName",value:function(){return"ScatterSeries"}},{key:"destroy",value:function(e){}}]),e}()},Ys={provide:"ChartsColumnSeries",useValue:Sn},Us={provide:"ChartsSplineSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r,o,s,a,l=null,h="",d="M",u=[],p=0;a=this.filterEmptyPoints(e);for(var m=0;m<a.length;m++)o=a[m],Object(c.W)(o.x)||""===o.x||(o.index=p++,u.push(o));for(var g="PolarRadar"===e.chart.chartAreaType?St:qt,v=0,y=u;v<y.length;v++){var f=y[v];s=this.getPreviousIndex(u,f.index-1,e),f.symbolLocations=[],f.regions=[],f.visible&&gt(u[s],f,u[this.getNextIndex(u,f.index-1,e)],e)?(null!==l&&(h=this.getSplineDirection(e.drawPoints[s],l,f,t,i,n,e,d,g,h),d="L"),l=f,this.storePointLocation(f,e,n,g)):(d="M",l=null,f.symbolLocations=[])}if(u.length>0&&e.drawPoints.length>0&&"PolarRadar"===e.chart.chartAreaType&&e.isClosed){var b=this.getFirstLastVisiblePoint(u);h=this.getSplineDirection(e.drawPoints[e.drawPoints.length-1],b.last,{xValue:b.first.xValue,yValue:b.first.yValue},t,i,n,e,d,g,h),d="L"}r=new P("TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+e.index,"transparent",e.width,e.interior,e.opacity,e.dashArray,h),this.appendLinePath(r,e,""),this.renderMarker(e)}},{key:"getSplineDirection",value:function(e,t,i,n,r,o,s,a,l,h){var c=e.controlPoint1,d=e.controlPoint2,u=l(t.xValue,t.yValue,n,r,o,s),p=l(i.xValue,i.yValue,n,r,o,s),m=l(c.x,c.y,n,r,o,s),g=l(d.x,d.y,n,r,o,s);return h.concat(a+" "+u.x+" "+u.y+" C "+m.x+" "+m.y+" "+g.x+" "+g.y+" "+p.x+" "+p.y+" ")}},{key:"getModuleName",value:function(){return"SplineSeries"}},{key:"destroy",value:function(e){}}]),t}(Ln)},Qs={provide:"ChartsSplineAreaSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r,o,s,a,l,h,c,d=null,u="",p=null,m=null,g=[],v=0;c=this.filterEmptyPoints(e);for(var y=0;y<c.length;y++)null!==(h=c[y]).x&&""!==h.x&&(h.index=v,v++,g.push(h));for(var f,b=g.length,x="PolarRadar"===e.chart.chartAreaType?St:qt,_="PolarRadar"===e.chart.chartAreaType?e.points[0].yValue:Math.max(e.yAxis.visibleRange.min,0),w=0;w<b;w++)(h=g[w]).symbolLocations=[],h.regions=[],f=this.getPreviousIndex(g,h.index-1,e),h.visible&&gt(g[f],h,g[this.getNextIndex(g,h.index-1,e)],e)?(d?(a=e.drawPoints[f].controlPoint1,l=e.drawPoints[f].controlPoint2,x(d.xValue,d.yValue,t,i,n,e),r=x(h.xValue,h.yValue,t,i,n,e),o=x(a.x,a.y,t,i,n,e),s=x(l.x,l.y,t,i,n,e),u=u.concat("C "+o.x+" "+o.y+" "+s.x+" "+s.y+" "+r.x+" "+r.y+" ")):(u+="M "+(p=x(h.xValue,_,t,i,n,e)).x+" "+p.y+" ",u+="L "+(m=x(h.xValue,h.yValue,t,i,n,e)).x+" "+m.y+" "),this.storePointLocation(h,e,n,x),d=h):(d=null,h.symbolLocations=[]),(w+1<b&&!g[w+1].visible||w===b-1)&&r&&p&&(p=x(h.xValue,_,t,i,n,e),u=u.concat("L "+p.x+" "+p.y));this.appendLinePath(new P(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,u),e,""),this.renderMarker(e)}},{key:"getModuleName",value:function(){return"SplineAreaSeries"}},{key:"destroy",value:function(e){}}]),t}(Ln)},qs={provide:"ChartsStripLine",useValue:function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"measureStripLine",value:function(e,t,i,n,r){var o,s,a=e.orientation;if(t.isRepeat&&null!==t.size)o=n,s=null;else if("DateTimeCategory"===e.valueType){var l=t.start,h=t.end;o=null!=l&&"number"!=typeof l?e.labels.indexOf(l.getTime().toString()):l,s=null!=h&&"number"!=typeof h?e.labels.indexOf(h.getTime().toString()):h}else o=null===t.start?null:+t.start,s=null===t.end?null:+t.end;var c=this.getFromTovalue(o,s,t.size,t.startFromAxis,e,t),d="Vertical"===a?(c.to-c.from)*e.rect.height:i.height,u="Horizontal"===a?(c.to-c.from)*e.rect.width:i.width,p="Vertical"===a?i.x:c.from*e.rect.width+e.rect.x,m="Horizontal"===a?i.y:e.rect.y+e.rect.height-("Pixel"===t.sizeType?c.from:c.to)*e.rect.height;if(t.isSegmented&&null!=t.segmentStart&&null!=t.segmentEnd&&"Pixel"!==t.sizeType){var g=this.getFromTovalue(+t.segmentStart,+t.segmentEnd,null,null,r,t);"Vertical"===r.orientation?(m=r.rect.y+r.rect.height-g.to*r.rect.height,d=(g.to-g.from)*r.rect.height):(p=g.from*r.rect.width+r.rect.x,u=(g.to-g.from)*r.rect.width)}return 0!==d&&0!==u||"Pixel"===t.sizeType&&(null!==t.start||t.startFromAxis)?new v(p,m,u,d):new v(0,0,0,0)}},{key:"getFromTovalue",value:function(e,t,i,n,r,o){var s=!o.isRepeat&&n?r.visibleRange.min:e,a=this.getToValue(Math.max(e,Object(c.W)(t)?e:t),s,i,r,t,o);return s=this.findValue(s,r),a=this.findValue(a,r),{from:kt(r.isInversed?a:s,r),to:kt(r.isInversed?s:a,r)}}},{key:"getToValue",value:function(e,t,i,n,r,o){var s=o.sizeType,a=null===r;if("DateTime"!==n.valueType)return"Pixel"===o.sizeType?t:a?t+i:e;var l=new Date(t);switch("Auto"===s&&(s=n.actualIntervalType,i*=n.visibleRange.interval),s){case"Years":return a?new Date(l.setFullYear(l.getFullYear()+i)):e;case"Months":return a?new Date(l.setMonth(l.getMonth()+i)):e;case"Days":return a?new Date(l.setDate(l.getDate()+i)):e;case"Hours":return a?new Date(l.setHours(l.getHours()+i)):e;case"Minutes":return a?new Date(l.setMinutes(l.getMinutes()+i)):e;case"Seconds":return a?new Date(l.setSeconds(l.getSeconds()+i)):e;default:return t}}},{key:"findValue",value:function(e,t){return e<t.visibleRange.min?e=t.visibleRange.min:e>t.visibleRange.max&&(e=t.visibleRange.max),e}},{key:"renderStripLine",value:function(e,t,i){var n,r=e.element.id+"_stripline_"+t+"_",o=e.chartAxisLayoutPanel.seriesClipRect,s=0,a=0,l=null,h=new Bi(r+"ClipRect","transparent",{width:1,color:"Gray"},1,{x:e.initialClipRect.x,y:e.initialClipRect.y,width:e.initialClipRect.width,height:e.initialClipRect.height}),c=e.renderer.createGroup({id:r+"collections","clip-path":"url(#"+r+"ClipRect)"});c.appendChild(Vt(e.redraw,h,e.renderer));var d=!0,u=!1,p=void 0;try{for(var m,g=i[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var v=m.value,y=0,f=!0,b=!1,x=void 0;try{for(var _,w=v.stripLines[Symbol.iterator]();!(f=(_=w.next()).done);f=!0){var C=_.value;if(C.visible&&C.zIndex===t)if(C.isSegmented&&null!=C.segmentStart&&null!=C.segmentEnd&&"Pixel"!==C.sizeType&&(l=this.getSegmentAxis(i,v,C)),C.isRepeat&&null!=C.repeatEvery&&null!==C.size&&"Pixel"!==C.sizeType)for(s=null!=C.repeatUntil?"DateTime"===v.valueType?C.repeatUntil.getTime():+C.repeatUntil:v.actualRange.max,a=C.start,(C.startFromAxis&&"DateTime"===v.valueType&&"Auto"===C.sizeType||C.start<v.visibleRange.min)&&(a=v.visibleLabels[0].value===v.visibleRange.min?v.visibleRange.min:v.visibleLabels[0].value-("DateTime"===v.valueType?v.dateTimeInterval:v.visibleRange.interval)),a=C.startFromAxis&&"DateTime"!==v.valueType?v.visibleRange.min:a;a<s;)n=pt(a+("DateTime"===v.valueType?v.dateTimeInterval*+C.size:C.size),v.visibleRange),(a>=v.visibleRange.min&&a<v.visibleRange.max||n)&&this.renderStripLineElement(v,C,o,r,c,e,a,l,y),y++,a=this.getStartValue(v,C,a);else this.renderStripLineElement(v,C,o,r,c,e,null,l,y),y++}}catch(k){b=!0,x=k}finally{try{f||null==w.return||w.return()}finally{if(b)throw x}}}}catch(k){u=!0,p=k}finally{try{d||null==g.return||g.return()}finally{if(u)throw p}}Kt(e.enableCanvas,e.svgObject,c,e.redraw)}},{key:"renderPath",value:function(e,t,i,n,r,o){var s=Yt(i),a=s?s.getAttribute("d"):"";Kt(r.enableCanvas,n,r.renderer.drawPath(new P(i,"",e.size,e.color,e.opacity,e.dashArray,"Vertical"===o.orientation?"M"+t.x+" "+t.y+" L"+(t.x+t.width)+" "+t.y:"M"+t.x+" "+t.y+" L"+t.x+" "+(t.y+t.height))),r.redraw,!0,"x","y",null,a,!0)}},{key:"renderRectangle",value:function(e,t,i,n,r){var o=Yt(i),s=o?new v(+o.getAttribute("x"),+o.getAttribute("y"),+o.getAttribute("width"),+o.getAttribute("height")):null;Kt(r.enableCanvas,n,r.renderer.drawRectangle(new Bi(i,e.color,e.border,e.opacity,t,0,0,"",e.dashArray)),r.redraw,!0,"x","y",null,null,!0,!0,s)}},{key:"renderText",value:function(e,t,i,n,r,o){var s,a=p(e.text,e.textStyle).height/8*3,l=t.y+t.height/2+a,h=null===e.rotation?"Vertical"===o.orientation?0:-90:e.rotation,c=t.x+t.width/2;"Horizontal"===o.orientation?(c=this.getTextStart(c+a*this.factor(e.horizontalAlignment),t.width,e.horizontalAlignment),l=this.getTextStart(l-a,t.height,e.verticalAlignment),s=this.invertAlignment(e.verticalAlignment)):(c=this.getTextStart(c,t.width,e.horizontalAlignment),l=this.getTextStart(l+a*this.factor(e.verticalAlignment)-5,t.height,e.verticalAlignment),s=e.horizontalAlignment),gi(r.renderer,new b(i,c,l,s,e.text,"rotate("+h+" "+c+","+l+")","middle"),e.textStyle,e.textStyle.color,n)}},{key:"invertAlignment",value:function(e){switch(e){case"Start":e="End";break;case"End":e="Start"}return e}},{key:"getStartValue",value:function(e,t,i){return"DateTime"===e.valueType?this.getToValue(null,i,+t.repeatEvery,e,null,t):i+ +t.repeatEvery}},{key:"getSegmentAxis",value:function(e,t,i){var n;if(null==i.segmentAxisName)return"Horizontal"===t.orientation?e[1]:e[0];for(var r=0;r<e.length;r++)i.segmentAxisName===e[r].name&&(n=e[r]);return n}},{key:"renderStripLineElement",value:function(e,t,i,n,r,o,s,a,l){var h=this.measureStripLine(e,t,i,s,a);"Pixel"===t.sizeType?this.renderPath(t,h,n+"path_"+e.name+"_"+l,r,o,e):0!==h.height&&0!==h.width&&this.renderRectangle(t,h,n+"rect_"+e.name+"_"+l,r,o),""!==t.text&&this.renderText(t,h,n+"text_"+e.name+"_"+l,r,o,e)}},{key:"factor",value:function(e){var t=0;switch(e){case"Start":t=1;break;case"End":t=-1}return t}},{key:"getTextStart",value:function(e,t,i){switch(i){case"Start":e=e-t/2+5;break;case"End":e=e+t/2-5}return e}},{key:"getModuleName",value:function(){return"StripLine"}},{key:"destroy",value:function(){}}]),e}()},Js={provide:"ChartsAreaSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r,o=null,s="",a=e.chart&&"PolarRadar"===e.chart.chartAreaType,l=Math.max(e.yAxis.visibleRange.min,0);a&&(l=this.getFirstLastVisiblePoint(e.points).first.yValue);for(var h,c=e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode,d=e.border?e.border.width:0,u=e.border?e.border.color:"transparent",p="PolarRadar"===e.chart.chartAreaType?St:qt,m=this.enableComplexProperty(e),g=0;g<m.length;g++)r=(h=m[g]).xValue,h.symbolLocations=[],h.regions=[],h.visible&&gt(m[g-1],h,m[g+1],e)&&(s+=this.getAreaPathDirection(r,l,e,n,p,o,"M"),o=o||new Wi(r,l),s+=this.getAreaPathDirection(r,h.yValue,e,n,p,null,"L"),m[g+1]&&!m[g+1].visible&&(!a||a&&this.withinYRange(m[g+1],i))&&!c&&(s+=this.getAreaEmptyDirection({x:r,y:l},o,e,n,p),o=null),this.storePointLocation(h,e,n,p));if(a&&""!==s){var v="",y=this.chart;v+=this.getAreaPathDirection(0,l,e,n,p,null,"L"),(t.isInversed||i.isInversed)&&(s+="Polar"===e.type?y.polarSeriesModule.getPolarIsInversedPath(t,v):y.radarSeriesModule.getRadarIsInversedPath(t,v)),s=s.concat(s+" Z")}this.appendLinePath(new P(e.chart.element.id+"_Series_"+e.index,e.interior,d,u,e.opacity,e.dashArray,e.points.length>1&&""!==s?s+this.getAreaPathDirection(e.points[e.points.length-1].xValue,"PolarRadar"===e.chart.chartAreaType?e.points[e.points.length-1].yValue:l,e,n,p,null,"L"):""),e,""),this.renderMarker(e)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"AreaSeries"}},{key:"doAnimation",value:function(e){this.doLinearAnimation(e,e.animation)}}]),t}(Mn)},Ks={provide:"ChartsScrollBar",useValue:In},$s={provide:"ChartsStepLineSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r,o,s,a,l="",h="M",c=null,d=this.enableComplexProperty(e);o="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0;var u=!0,p=!1,m=void 0;try{for(var g,v=d[Symbol.iterator]();!(u=(g=v.next()).done);u=!0){var y=g.value;y.symbolLocations=[],y.regions=[],y.visible&&gt(d[y.index-1],y,d[y.index+1],e)?(null!=c?(a=qt(y.xValue,y.yValue,t,i,n),s=qt(c.xValue,c.yValue,t,i,n),l=l.concat(h+" "+s.x+" "+s.y+" L "+a.x+" "+s.y+" L "+a.x+" "+a.y+" "),h="L"):(s=qt(y.xValue-o,y.yValue,t,i,n),l=l.concat(h+" "+s.x+" "+s.y+" "),h="L"),this.storePointLocation(y,e,n,qt),c=y):(c="Drop"===e.emptyPointSettings.mode?c:null,h="Drop"===e.emptyPointSettings.mode?h:"M")}}catch(f){p=!0,m=f}finally{try{u||null==v.return||v.return()}finally{if(p)throw m}}s=qt(d[d.length-1].xValue+o,d[d.length-1].yValue,t,i,n),l=l.concat(h+" "+s.x+" "+s.y+" "),r=new P(e.chart.element.id+"_Series_"+e.index,"transparent",e.width,e.interior,e.opacity,e.dashArray,l),this.appendLinePath(r,e,""),this.renderMarker(e)}},{key:"doAnimation",value:function(e){this.doLinearAnimation(e,e.animation)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"StepLineSeries"}}]),t}(wn)},ea={provide:"ChartsStepAreaSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r,o,s,a,l,h,c=null,d="",u=this.enableComplexProperty(e),p=u.length,m=Math.max(e.yAxis.visibleRange.min,0),g=null;h="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0;for(var v=0;v<p;v++)l=(a=u[v]).xValue,a.symbolLocations=[],a.regions=[],a.visible&&gt(u[v-1],a,u[v+1],e)&&(null===c&&(c=new Wi(l,0),d+="M "+(r=qt(l-h,m,t,i,n)).x+" "+r.y+" ",d+="L "+(r=qt(l-h,a.yValue,t,i,n)).x+" "+r.y+" "),null!=g?(r=qt(a.xValue,a.yValue,t,i,n),o=qt(g.xValue,g.yValue,t,i,n),d+="L "+r.x+" "+o.y+" L "+r.x+" "+r.y+" "):"Gap"===e.emptyPointSettings.mode&&(d+="L "+(r=qt(a.xValue,a.yValue,t,i,n)).x+" "+r.y+" "),this.storePointLocation(a,e,n,qt),g=a),u[v+1]&&!u[v+1].visible&&"Drop"!==e.emptyPointSettings.mode&&(d+="L "+(r=qt(l+h,m,t,i,n)).x+" "+r.y,c=null,g=null);p>1&&""!==d?(d+="L "+(o=qt((c={x:u[p-1].xValue+h,y:u[p-1].yValue}).x,c.y,t,i,n)).x+" "+o.y+" ",d+="L "+(o=qt((c={x:u[p-1].xValue+h,y:m}).x,c.y,t,i,n)).x+" "+o.y+" "):d="",s=new P(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,d),this.appendLinePath(s,e,""),this.renderMarker(e)}},{key:"doAnimation",value:function(e){this.doLinearAnimation(e,e.animation)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"StepAreaSeries"}}]),t}(wn)},ta={provide:"ChartsStackingColumnSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){e.isRectSeries=!0;var t,i,n=this.getSideBySideInfo(e),r=e.stackedValues,o=at(e),s=!0,a=!1,l=void 0;try{for(var h,c=o[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;d.symbolLocations=[],d.regions=[],d.visible&&gt(o[d.index-1],d,o[d.index+1],e)&&(t=this.getRectangle(d.xValue+n.start,r.endValues[d.index],d.xValue+n.end,r.startValues[d.index],e),(i=this.triggerEvent(e,d,e.interior,{width:e.border.width,color:e.border.color})).cancel||(this.drawRectangle(e,d,t,i),this.updateSymbolLocation(d,t,e)))}}catch(u){a=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}this.renderMarker(e)}},{key:"doAnimation",value:function(e){this.animate(e)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"StackingColumnSeries"}}]),t}(kn)},ia={provide:"ChartsStackingLineSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){for(var r,o,s,a="PolarRadar"===e.chart.chartAreaType?St:qt,l="",h=this.enableComplexProperty(e),c=h.length,d=e.stackedValues,u=0;u<c;u++)h[u].regions=[],h[u].symbolLocations=[],h[u].visible&&gt(h[u-1],h[u],h[u+1],e)?(o=a(h[u].xValue,d.endValues[u],t,i,n,e),l=l.concat((u?"L":"M")+" "+o.x+" "+o.y+" "),h[u].symbolLocations.push(a(h[u].xValue,d.endValues[u],t,i,n,e)),h[u].regions.push(new v(h[u].symbolLocations[0].x-e.marker.width,h[u].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height))):"Drop"!==e.emptyPointSettings.mode&&h[u+1]&&h[u+1].visible&&(o=a(h[u+1].xValue,d.endValues[u+1],t,i,n,e),l=l.concat("M "+o.x+" "+o.y+" "));"PolarRadar"===e.chart.chartAreaType&&h.length>1&&(l+="L "+(s=a((o={y:d.endValues[0],x:e.points[0].xValue}).x,o.y,t,i,n,e)).x+" "+s.y+" "),r=new P(e.chart.element.id+"_Series_"+e.index,"none",e.width,e.interior,e.opacity,e.dashArray,l),this.appendLinePath(r,e,""),this.renderMarker(e)}},{key:"doAnimation",value:function(e){this.doLinearAnimation(e,e.animation)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"StackingLineSeries"}}]),t}(wn)},na={provide:"ChartsStackingAreaSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r,o,s="PolarRadar"===e.chart.chartAreaType,a=s?St:qt,l="",h=this.enableComplexProperty(e),c=h.length,d=e.stackedValues,u=s?Math.max(e.yAxis.visibleRange.min,d.endValues[0]):Math.max(e.yAxis.visibleRange.min,d.startValues[0]),p=0,m=a(h[0].xValue,u,t,i,n,e);l=l.concat("M "+m.x+" "+m.y+" ");for(var g=e.chart&&"PolarRadar"===e.chart.chartAreaType,y=0;y<c;y++)if(h[y].symbolLocations=[],h[y].regions=[],h[y].visible&&gt(h[y-1],h[y],h[y+1],e))m=a(h[y].xValue,d.endValues[y],t,i,n,e),l=l.concat("L "+m.x+" "+m.y+" "),h[y].symbolLocations.push(a(h[y].xValue,d.endValues[y],t,i,n,e)),h[y].regions.push(new v(h[y].symbolLocations[0].x-e.marker.width,h[y].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height));else if(!g&&"Drop"!==e.emptyPointSettings.mode){for(var f=y-1;f>=p;f--)o=a(h[f].xValue,d.startValues[f],t,i,n,e),l=l.concat("L "+o.x+" "+o.y+" ");h[y+1]&&h[y+1].visible&&(!g||g&&this.withinYRange(h[y+1],i))&&(m=a(h[y+1].xValue,d.startValues[y+1],t,i,n,e),l=l.concat("M "+m.x+" "+m.y+" ")),p=y+1}if("PolarRadar"===e.chart.chartAreaType&&h.length>1){var b=this.getFirstLastVisiblePoint(e.points),x=this.chart;l+="L "+(o=a((m={x:b.first.xValue,y:d.endValues[b.first.index]}).x,m.y,t,i,n,e)).x+" "+o.y+" ",1===this.chart.visible&&(t.isInversed||i.isInversed)&&(this.chart.enableAnimation=!1,l="Polar"===e.type?x.polarSeriesModule.getPolarIsInversedPath(t,l):x.radarSeriesModule.getRadarIsInversedPath(t,l))}if(!g||g&&e.index!==this.getFirstSeriesIndex(e.chart.visibleSeries))for(var _=c-1;_>=p;_--)if(!g||h[_].visible){var w=this.getPreviousSeries(e);"Drop"===w.emptyPointSettings.mode&&w.points[_].isEmpty||(o=a(h[_].xValue,d.startValues[_],t,i,n,e),l=l.concat((_===c-1&&s?"M":"L")+" "+o.x+" "+o.y+" "))}r=new P(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,l),this.appendLinePath(r,e,""),this.renderMarker(e)}},{key:"doAnimation",value:function(e){this.doLinearAnimation(e,e.animation)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"StackingAreaSeries"}},{key:"getPreviousSeries",value:function(e){for(var t=e.chart.visibleSeries,i=0,n=t.length;i<n;i++)if(e.index===t[i].index&&0!==i)return t[i-1];return t[0]}},{key:"getFirstSeriesIndex",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;if(s.visible)return s.index}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}return 0}}]),t}(wn)},ra={provide:"ChartsBarSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){var t,i,n=Math.max(e.yAxis.visibleRange.min,0),r=this.getSideBySideInfo(e),o=!0,s=!1,a=void 0;try{for(var l,h=e.points[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;c.symbolLocations=[],c.regions=[],c.visible&&gt(e.points[c.index-1],c,e.points[c.index+1],e)&&(t=this.getRectangle(c.xValue+r.start,c.yValue,c.xValue+r.end,n,e),(i=this.triggerEvent(e,c,e.interior,{width:e.border.width,color:e.border.color})).cancel||(this.updateSymbolLocation(c,t,e),this.drawRectangle(e,c,t,i)))}}catch(d){s=!0,a=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}this.renderMarker(e)}},{key:"doAnimation",value:function(e){this.animate(e)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"BarSeries"}}]),t}(kn)},oa={provide:"ChartsStackingBarSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){var t,i,n=this.getSideBySideInfo(e),r=e.stackedValues,o=!0,s=!1,a=void 0;try{for(var l,h=e.points[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;c.symbolLocations=[],c.regions=[],c.visible&&gt(e.points[c.index-1],c,e.points[c.index+1],e)&&(t=this.getRectangle(c.xValue+n.start,r.endValues[c.index],c.xValue+n.end,r.startValues[c.index],e),(i=this.triggerEvent(e,c,e.interior,{width:e.border.width,color:e.border.color})).cancel||(this.drawRectangle(e,c,t,i),this.updateSymbolLocation(c,t,e)))}}catch(d){s=!0,a=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}this.renderMarker(e)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"StackingBarSeries"}},{key:"doAnimation",value:function(e){this.animate(e)}}]),t}(kn)},sa={provide:"ChartsRangeColumnSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){var t,i,n=this.getSideBySideInfo(e),r=!0,o=!1,s=void 0;try{for(var a,l=e.points[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;h.symbolLocations=[],h.regions=[],h.visible&&gt(e.points[h.index-1],h,e.points[h.index+1],e)&&(t=this.getRectangle(h.xValue+n.start,h.high,h.xValue+n.end,h.low,e),(i=this.triggerEvent(e,h,e.interior,{width:e.border.width,color:e.border.color})).cancel||(this.updateSymbolLocation(h,t,e),this.drawRectangle(e,h,t,i)))}}catch(c){o=!0,s=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}this.renderMarker(e)}},{key:"getModuleName",value:function(){return"RangeColumnSeries"}},{key:"doAnimation",value:function(e){this.animate(e)}},{key:"destroy",value:function(e){}}]),t}(kn)},aa={provide:"ChartsBubbleSeries",useValue:function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"render",value:function(e,t,i,n){var r,o,s,a,l,h,c=e.marker,d=e.points,u=Math.max(e.chart.initialClipRect.height,e.chart.initialClipRect.width),p=u/100,m=e.maxRadius*p,y=e.minRadius*p,f=null,b=e.chart.redraw;if(null===e.maxRadius||null===e.minRadius){var x=!0,_=!1,w=void 0;try{for(var C,k=e.chart.visibleSeries[Symbol.iterator]();!(x=(C=k.next()).done);x=!0){var S=C.value;"Bubble"!==S.type||!0!==S.visible||null!==S.maxRadius&&null!==S.minRadius||(f=S.sizeMax>f?S.sizeMax:f)}}catch(j){_=!0,w=j}finally{try{x||null==k.return||k.return()}finally{if(_)throw w}}y=m=1,a=u/5/2*m}else f=e.sizeMax,a=m-y;var M=!0,O=!1,L=void 0;try{for(var A,R=d[Symbol.iterator]();!(M=(A=R.next()).done);M=!0){var T=A.value;h=b?T.symbolLocations[0]:null,T.symbolLocations=[],T.regions=[],T.visible&&gt(d[T.index-1],T,d[T.index+1],e)&&(s=(s=null===e.maxRadius||null===e.minRadius?a*Math.abs(+T.size/f):y+a*Math.abs(+T.size/f))||y,o={cancel:!1,name:"pointRender",series:e,point:T,fill:e.setPointColor(T,e.interior),border:e.setBorderColor(T,{width:e.border.width,color:e.border.color}),height:2*s,width:2*s},e.chart.trigger("pointRender",o),o.cancel?T.marker={visible:!1}:(T.symbolLocations.push(qt(T.xValue,T.yValue,t,i,n)),T.color=o.fill,r=new P(e.chart.element.id+"_Series_"+e.index+"_Point_"+T.index,o.fill,o.border.width,o.border.color,e.opacity,null),l=Xt(T.symbolLocations[0],"Circle",new g(o.width,o.height),c.imageUrl,r,(T.x.toString(),T.yValue.toString()),e.chart.svgRenderer,e.clipRect),Kt(!1,e.seriesElement,l,b),T.regions.push(new v(T.symbolLocations[0].x-s,T.symbolLocations[0].y-s,2*s,2*s)),T.marker={border:o.border,fill:o.fill,height:o.height,visible:!0,shape:"Circle",width:o.width},b&&mi(l,300,h,T.symbolLocations[0],"cx","cy")))}}catch(j){O=!0,L=j}finally{try{M||null==R.return||R.return()}finally{if(O)throw L}}}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"BubbleSeries"}},{key:"doAnimation",value:function(e){var t=e.animation.duration,i=e.animation.delay,n=e.seriesElement.childNodes,r=1,o=!0,s=!1,a=void 0;try{for(var l,h=e.points[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;c.symbolLocations.length&&(Bt(n[r],i,t,e,c.index,c.symbolLocations[0],!1),r++)}}catch(d){s=!0,a=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}}}]),e}()},la={provide:"ChartsTooltip",useValue:function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).addEventListener(),i}return _inherits(t,e),_createClass(t,[{key:"addEventListener",value:function(){this.chart.isDestroyed||(this.chart.on(c.d.isPointer?"pointerleave":"mouseleave",this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this),this.chart.on(c.d.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(c.d.touchEndEvent,this.mouseUpHandler,this))}},{key:"mouseUpHandler",value:function(){var e=this.control;e.isTouch&&!this.isSelected(e)&&(At(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&e.tooltip.shared||!e.tooltip.shared)&&(e.crosshair.enable?e.startMove&&this.removeTooltip(2e3):(this.tooltip(),this.removeTooltip(2e3)))}},{key:"mouseLeaveHandler",value:function(){this.removeTooltip(this.chart.tooltip.fadeOutDuration)}},{key:"mouseMoveHandler",value:function(){var e=this.chart;e.disableTrackTooltip||this.isSelected(e)||(e.tooltip.shared||e.isTouch&&!e.startMove||this.tooltip(),At(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)?!e.tooltip.shared||e.isTouch&&!e.startMove||this.tooltip():e.tooltip.shared&&this.removeTooltip(this.chart.tooltip.fadeOutDuration))}},{key:"longPress",value:function(){var e=this.chart;return e.crosshair.enable&&At(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&this.tooltip(),!1}},{key:"tooltip",value:function(){if(this.chart.stockChart&&this.chart.stockChart.onPanning)return this.removeTooltip(1e3),null;var e;e=this.getElement(this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg");var t=this.chart.stockChart&&e&&e.firstChild.childNodes.length>1,i=e&&parseInt(e.getAttribute("opacity"),10)>0&&!t,n=this.getTooltipElement(i);this.chart.enableCanvas&&n&&(document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(n),n.appendChild(document.getElementById(this.chart.element.id+"_tooltip_svg"))),this.chart.tooltip.shared?this.renderGroupedTooltip(this.chart,!i,n):this.renderSeriesTooltip(this.chart,!i,n)}},{key:"findHeader",value:function(e){return""===this.header?"":(this.header=this.parseTemplate(e.point,e.series,this.header,e.series.xAxis,e.series.yAxis),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()?this.header:"")}},{key:"findShapes",value:function(){if(!this.chart.tooltip.enableMarker)return[];var e=[],t=!0,i=!1,n=void 0;try{for(var r,o=this.currentPoints[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;e.push(s.point.marker.shape||s.series.marker.shape)}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}return e}},{key:"renderSeriesTooltip",value:function(e,t,i){var n=this.getData();if(n.lierIndex=this.lierIndex,this.currentPoints=[],this.findData(n,this.previousPoints[0])){if((!e.dataEditingModule||!e.dataEditingModule.isPointDragging)&&this.previousPoints[0]&&n.point.index===this.previousPoints[0].point.index&&n.series.index===this.previousPoints[0].series.index)return null;this.pushData(n,t,i,!0)&&this.triggerTooltipRender(n,t,this.getTooltipText(n),this.findHeader(n))}else if(!n.point&&this.isRemove)this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.isRemove=!1;else{var r=!0,o=!1,s=void 0;try{for(var a,l=e.visibleSeries[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;h.visible&&(n=this.getClosestX(e,h)||n)}}catch(c){o=!0,s=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}n&&n.point&&this.findMouseValue(n,e)}},{key:"triggerTooltipRender",value:function(e,t,i,n){var r=this,o=(!(arguments.length>4&&void 0!==arguments[4])||arguments[4],{cancel:!1,name:"tooltipRender",text:i,headerText:n,template:void 0,series:this.chart.isBlazor?{}:e.series,textStyle:this.textStyle,point:e.point,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.index,pointText:e.point.text}}),s=function(i){i.cancel?(r.removeHighlight(r.control),Object(c.gb)(r.getElement(r.element.id+"_tooltip"))):("BoxAndWhisker"===e.series.type&&(r.removeText(),t=!0),r.headerText=i.headerText,r.formattedText=r.formattedText.concat(i.text),r.text=r.formattedText,r.createTooltip(r.chart,t,r.getSymbolLocation(e),e.series.clipRect,e.point,r.findShapes(),r.findMarkerHeight(r.currentPoints[0]),r.chart.chartAxisLayoutPanel.seriesClipRect,null,r.getTemplateText(e),r.chart.tooltip.template?i.template:"")),r.isRemove=!0};s.bind(this,e),this.chart.trigger("tooltipRender",o,s)}},{key:"findMarkerHeight",value:function(e){if(!this.chart.tooltip.enableMarker)return 0;var t=e.series;return(t.marker.visible||this.chart.tooltip.shared&&(!t.isRectSeries||t.marker.visible)||"Scatter"===t.type||"Scatter"===t.drawType)&&"Candle"!==t.type&&"Hilo"!==t.type&&"HiloOpenClose"!==t.type?(t.marker.height+2)/2+2*t.marker.border.width:0}},{key:"findData",value:function(e,t){return e.point&&(!t||t.point!==e.point||t&&t.lierIndex>3&&t.lierIndex!==this.lierIndex||t.point===e.point)}},{key:"getSymbolLocation",value:function(e){var t;if("BoxAndWhisker"!==e.series.type){if(!e.point.symbolLocations[0])return null;t=new Wi(e.point.symbolLocations[0].x,e.point.symbolLocations[0].y)}switch(e.series.type){case"BoxAndWhisker":return this.getBoxLocation(e);case"Waterfall":return this.getWaterfallRegion(e,t);case"RangeArea":return this.getRangeArea(e,t);default:return t}}},{key:"getRangeArea",value:function(e,t){return e.point.regions[0]&&(this.inverted?t.x=e.point.regions[0].x+e.point.regions[0].width/2:t.y=e.point.regions[0].y+e.point.regions[0].height/2),t}},{key:"getWaterfallRegion",value:function(e,t){return this.inverted?t.x=e.point.y<0?t.x+e.point.regions[0].width:t.x:t.y=e.point.y<0?t.y-e.point.regions[0].height:t.y,t}},{key:"getTooltipText",value:function(e){var t=e.series;return this.parseTemplate(e.point,t,this.getFormat(this.chart,t),t.xAxis,t.yAxis)}},{key:"getTemplateText",value:function(e){if(this.chart.tooltip.template){var t=Object(c.J)({},e.point);return t.x=this.formatPointValue(e.point,e.series.xAxis,"x",!0,!1),"XY"===e.series.seriesType?t.y=this.formatPointValue(e.point,e.series.yAxis,"y",!1,!0):(t.low=this.formatPointValue(e.point,e.series.yAxis,"low",!1,!0),t.high=this.formatPointValue(e.point,e.series.yAxis,"high",!1,!0)),t}return e.point}},{key:"findMouseValue",value:function(e,t){t.requireInvertedAxis?(this.valueY=(1-kt(e.point.xValue,e.series.xAxis))*e.series.xAxis.rect.height+e.series.xAxis.rect.y,this.valueX=t.mouseX):(this.valueX="PolarRadar"===t.chartAreaType?Ot(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x:kt(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x,this.valueY=t.mouseY)}},{key:"renderGroupedTooltip",value:function(e,t,i){var n,r="PolarRadar"===e.chartAreaType?this.getData():null;this.stopAnimation(),this.removeHighlight(e),this.currentPoints=[];var o=[];t&&(e.stockChart?document.getElementById(e.stockChart.element.id+"_Secondary_Element").appendChild(i):i&&document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),this.removeText();var s=!0,a=!1,l=void 0;try{for(var h,c=e.visibleSeries[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;d.enableTooltip&&d.visible&&("Cartesian"===e.chartAreaType&&d.visible?n=this.getClosestX(e,d):"PolarRadar"===e.chartAreaType&&d.visible&&null!==r.point&&(n=new Xi(d.points[r.point.index],d)),n&&""!==this.header&&0===this.currentPoints.length&&this.findHeader(n),n&&this.triggerSharedTooltip(n,t,this.getTooltipText(n),this.findHeader(n),o))}}catch(u){a=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}this.currentPoints.length>0?this.createTooltip(e,t,this.findSharedLocation(),1===this.currentPoints.length?this.currentPoints[0].series.clipRect:null,null,this.findShapes(),this.findMarkerHeight(this.currentPoints[0]),e.chartAxisLayoutPanel.seriesClipRect,o):this.getElement(this.element.id+"_tooltip_path")&&this.getElement(this.element.id+"_tooltip_path").setAttribute("d","")}},{key:"triggerSharedTooltip",value:function(e,t,i,n,r){var o=this,s={cancel:!1,name:"tooltipRender",text:i,headerText:n,point:e.point,series:this.chart.isBlazor?{}:e.series,textStyle:this.textStyle,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.index,pointText:e.point.text}},a=function(t){t.cancel?r.push(e):("BoxAndWhisker"===e.series.type&&o.removeText(),o.formattedText=o.formattedText.concat(t.text),o.text=o.formattedText,o.headerText=t.headerText,o.findMouseValue(e,o.chart),o.currentPoints.push(e),e=null)};a.bind(this,e,r),this.chart.trigger("tooltipRender",s,a)}},{key:"findSharedLocation",value:function(){var e=this.chart.stockChart;if(e){1===this.text.length&&this.text.push("");var t=e.enablePeriodSelector?e.toolbarHeight:0,i=document.getElementById(e.element.id+"_ChartTitle"),n=""!==e.title?i.getBoundingClientRect().height+10:0;return new Wi(this.chart.chartAxisLayoutPanel.seriesClipRect.x+5,this.chart.chartAxisLayoutPanel.seriesClipRect.y+t+5+n)}return this.currentPoints.length>1?new Wi(this.valueX,this.valueY):this.getSymbolLocation(this.currentPoints[0])}},{key:"getBoxLocation",value:function(e){return this.lierIndex>3?e.point.symbolLocations[this.lierIndex-4]:{x:e.point.regions[0].x+e.point.regions[0].width/2,y:e.point.regions[0].y+e.point.regions[0].height/2}}},{key:"parseTemplate",value:function(e,t,i,n,r){for(var o,s,a=0,l=Object.keys(e);a<l.length;a++){var h=l[a];o=new RegExp("${point."+h+"}","gm"),i=i.replace(o.source,this.formatPointValue(e,"${point.x}"===o.source?n:r,h,"${point.x}"===o.source,"${point.high}"===o.source||"${point.open}"===o.source||"${point.close}"===o.source||"${point.low}"===o.source||"${point.y}"===o.source||"${point.minimum}"===o.source||"${point.maximum}"===o.source||"${point.outliers}"===o.source||"${point.upperQuartile}"===o.source||"${point.lowerQuartile}"===o.source||"${point.median}"===o.source))}for(var c=0,d=Object.keys(Object.getPrototypeOf(t));c<d.length;c++){var u=d[c];o=new RegExp("${series."+u+"}","gm"),s=t[u],i=i.replace(o.source,s)}return i}},{key:"formatPointValue",value:function(e,t,i,n,r){var o,s,a;return"Category"!==t.valueType&&n?o=(s=t.labelFormat&&null!==t.labelFormat.match("{value}"))?t.labelFormat.replace("{value}",t.format(e[i])):t.format(e[i]):r?(s=t.labelFormat&&null!==t.labelFormat.match("{value}"),a=t.format("outliers"===i?e[i][this.lierIndex-4]:e[i]),o=s?t.labelFormat.replace("{value}",a):a):o=e[i],o}},{key:"getFormat",value:function(e,t){if(t.tooltipFormat)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):t.tooltipFormat;if(!t.tooltipFormat&&e.tooltip.format)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):e.tooltip.format;var i=e.tooltip.shared?"${series.name}":"Histogram"===t.type?"${point.minimum}-${point.maximum}":"${point.x}";switch(t.seriesType){case"XY":return"Indicator"===t.category&&this.getIndicatorTooltipFormat(t,e,e.tooltip.format),i+" : "+("Bubble"===t.type?"<b>${point.y}</b>  Size : <b>${point.size}</b>":"<b>${point.y}</b>");case"HighLow":return i+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>";case"HighLowOpenClose":return i+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>";case"BoxPlot":return i+"<br/>"+(this.lierIndex>3?"Outliers : <b>${point.outliers}</b>":"Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>")}return""}},{key:"getIndicatorTooltipFormat",value:function(e,t,i){return"XY"===e.seriesType?e.name+" : <b>${point.y}</b>":i}},{key:"removeHighlightedMarker",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;ht(this.element.id+"_Series_"+s.series.index+"_Point_"+s.point.index+"_Trackball")}}catch(a){i=!0,n=a}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}this.chart.markerRender&&this.chart.markerRender.removeHighlightedMarker(),this.previousPoints=[]}},{key:"getModuleName",value:function(){return"Tooltip"}},{key:"destroy",value:function(e){}}]),t}(An)},ha={provide:"ChartsCrosshair",useValue:function(){function e(t){_classCallCheck(this,e),this.arrowLocation=new Wi(0,0),this.rx=2,this.ry=2,this.chart=t,this.elementID=this.chart.element.id,this.svgRenderer=new d(this.chart.element.id),this.addEventListener()}return _createClass(e,[{key:"addEventListener",value:function(){if(!this.chart.isDestroyed){var e=c.d.isPointer?"pointerleave":"mouseleave";this.chart.on(c.d.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(c.d.touchEndEvent,this.mouseUpHandler,this),this.chart.on(e,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this)}}},{key:"mouseUpHandler",value:function(){this.chart.startMove&&this.removeCrosshair(2e3)}},{key:"mouseLeaveHandler",value:function(){this.removeCrosshair(1e3)}},{key:"mouseMoveHandler",value:function(e){var t=this.chart;"touchmove"===e.type&&(c.d.isIos||c.d.isIos7)&&t.startMove&&e.preventDefault&&e.preventDefault(),t.disableTrackTooltip||(At(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?!t.startMove&&t.isTouch||this.crosshair():this.removeCrosshair(1e3))}},{key:"longPress",value:function(){var e=this.chart;return At(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&this.crosshair(),!1}},{key:"crosshair",value:function(){var e,t,i=this.chart,n="",r="",o=document.getElementById(this.elementID+"_crosshair_axis"),s=i.crosshair,a=document.getElementById(this.elementID+"_tooltip"),l=i.chartAxisLayoutPanel.seriesClipRect,h=i.enableCanvas?document.getElementById(this.elementID+"_Secondary_Element"):document.getElementById(this.elementID+"_UserInteraction"),d=document.getElementById(this.elementID+"_Crosshair");return i.enableCanvas&&(d||(d=Object(c.F)("div",{id:this.elementID+"_Crosshair",styles:"position: absolute; pointer-events: none"}),h.appendChild(d))),this.stopAnimation(),i.tooltip.enable&&!At(i.tooltipModule.valueX,i.tooltipModule.valueY,l)?null:i.stockChart&&i.stockChart.onPanning?(this.removeCrosshair(1e3),null):(this.valueX=i.tooltip.enable?i.tooltipModule.valueX:i.mouseX,this.valueY=i.tooltip.enable?i.tooltipModule.valueY:i.mouseY,i.enableCanvas||h.setAttribute("opacity","1"),"Both"!==s.lineType&&"Horizontal"!==s.lineType||(n+="M "+l.x+" "+this.valueY+" L "+(l.x+l.width)+" "+this.valueY),"Both"!==s.lineType&&"Vertical"!==s.lineType||(r+="M "+this.valueX+" "+l.y+" L "+this.valueX+" "+(l.y+l.height)),void(i.enableCanvas?(o||(o=this.svgRenderer.createGroup({id:this.elementID+"_crosshair_axis"})),t=this.svgRenderer.createSvg({id:i.tooltip.enable?i.element.id+"_tooltip_svg":i.element.id+"_svg",width:i.availableSize.width,height:i.availableSize.height}),i.tooltip.enable&&(a=a||i.tooltipModule.createElement(),a.appendChild(t),h.appendChild(a)),e=new P(this.elementID+"_HorizontalLine","none",s.line.width,s.line.color||i.themeStyle.crosshairLine,1,s.dashArray,n),this.drawCrosshairLine(e,d,l.x,this.valueY,l.width,0,n),e.d=r,e.id=this.elementID+"_VerticalLine",this.drawCrosshairLine(e,d,this.valueX,l.y,0,l.height,r),this.renderAxisTooltip(i,l,o),t.appendChild(o),i.tooltip.enable||d.appendChild(t)):0===h.childNodes.length?(o=i.renderer.createGroup({id:this.elementID+"_crosshair_axis"}),e=new P(this.elementID+"_HorizontalLine","none",s.line.width,s.line.color||i.themeStyle.crosshairLine,1,s.dashArray,n),this.renderCrosshairLine(e,h),e.d=r,e.id=this.elementID+"_VerticalLine",this.renderCrosshairLine(e,h),h.appendChild(o),this.renderAxisTooltip(i,l,h.lastChild)):(document.getElementById(this.elementID+"_HorizontalLine").setAttribute("d",n),document.getElementById(this.elementID+"_VerticalLine").setAttribute("d",r),this.renderAxisTooltip(i,l,h.lastChild))))}},{key:"renderCrosshairLine",value:function(e,t){var i=this.chart.renderer.drawPath(e);t.appendChild(i)}},{key:"drawCrosshairLine",value:function(e,t,i,n,r,o,s){if(!document.getElementById(e.id)&&s){var a=Object(c.F)("div",{id:e.id});t.appendChild(a)}if(document.getElementById(e.id)){var l="top:"+n.toString()+"px;left:"+i.toString()+"px;width:"+r+"px;height:"+o+"px;fill:"+e.stroke+";border: 0.5px solid black;position: absolute",h=document.getElementById(e.id),d=document.getElementById(this.elementID+"_crosshair_axis");h.setAttribute("style",l),t.style.opacity="1",d&&(d.style.opacity="1")}}},{key:"renderAxisTooltip",value:function(e,t,i){for(var n,r,o,s,a,l,h,c,d=0,u=e.axisCollections.length;d<u;d++)if(c=(n=e.axisCollections[d]).placeNextToAxisLine?n.updatedRect:n.rect,n.crosshairTooltip.enable)if(this.valueX<=c.x+c.width&&c.x<=this.valueX||this.valueY<=c.y+c.height&&c.y<=this.valueY){if(s=document.getElementById(this.elementID+"_axis_tooltip_"+d),a=document.getElementById(this.elementID+"_axis_tooltip_text_"+d),!(r=this.getAxisText(n)))continue;o=this.tooltipLocation(r,n,t,c),null===s&&(s=e.enableCanvas?this.svgRenderer.drawPath({id:this.elementID+"_axis_tooltip_"+d,fill:n.crosshairTooltip.fill||e.themeStyle.crosshairFill},null):e.renderer.drawPath({id:this.elementID+"_axis_tooltip_"+d,fill:n.crosshairTooltip.fill||e.themeStyle.crosshairFill},null),i.appendChild(s),l=new b(this.elementID+"_axis_tooltip_text_"+d,0,0,"start",r),a=gi(e.enableCanvas?this.svgRenderer:e.renderer,l,n.crosshairTooltip.textStyle,n.crosshairTooltip.textStyle.color||e.themeStyle.crosshairLabel,i)),h=m(this.rx,this.ry,o,this.arrowLocation,10,this.isTop,this.isBottom,this.isLeft,this.valueX,this.valueY),s.setAttribute("d",h),a.textContent=r,a.setAttribute("x",(o.x+5).toString()),a.setAttribute("y",(o.y+5+3*this.elementSize.height/4).toString())}else ht(this.elementID+"_axis_tooltip_"+d),ht(this.elementID+"_axis_tooltip_text_"+d)}},{key:"getAxisText",value:function(e){var t;this.isBottom=!1,this.isTop=!1,this.isLeft=!1,this.isRight=!1;var i="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0;return"Horizontal"===e.orientation?(t=Rt(Math.abs(this.valueX-e.rect.x),e.rect.width,e)+i,this.isBottom=!e.opposedPosition,this.isTop=e.opposedPosition):(t=Tt(Math.abs(this.valueY-e.rect.y),e.rect.height,e)+i,this.isRight=e.opposedPosition,this.isLeft=!e.opposedPosition),"DateTime"===e.valueType?e.format(new Date(t)):"Category"===e.valueType?e.labels[Math.floor(t)]:"DateTimeCategory"===e.valueType?this.chart.dateTimeCategoryModule.getIndexedAxisLabel(e.labels[Math.floor(t)],e.format):"Logarithmic"===e.valueType?e.format(Math.pow(e.logBase,t)):e.labelFormat&&null!==e.labelFormat.match("{value}")?e.labelFormat.replace("{value}",e.format(t)):e.format(t)}},{key:"tooltipLocation",value:function(e,t,i,n){var r,o=i.x,s=i.y,a="Inside"===t.labelPosition,l=t.scrollbarSettings.enable||t.zoomingScrollBar&&t.zoomingScrollBar.svgObject?t.scrollBarHeight:0;if(this.elementSize=p(e,t.crosshairTooltip.textStyle),"Horizontal"===t.orientation){var h=a?n.y-this.elementSize.height-10:n.y+10;this.arrowLocation=new Wi(this.valueX,a?n.y-this.elementSize.height-20:n.y+l),r=new v(this.valueX-this.elementSize.width/2-5,h+(a?0:l),this.elementSize.width+10,this.elementSize.height+10),t.opposedPosition&&(r.y=a?n.y:n.y-(this.elementSize.height+10+10)-l),r.x<o&&(r.x=o),r.x+r.width>o+i.width&&(r.x-=r.x+r.width-(o+i.width)),this.arrowLocation.x+5>r.x+r.width-this.rx&&(this.arrowLocation.x=r.x+r.width-this.rx-5),this.arrowLocation.x-5<r.x+this.rx&&(this.arrowLocation.x=r.x+this.rx+5)}else l*=t.opposedPosition?1:-1,this.arrowLocation=new Wi(n.x,this.valueY),r=new v((a?n.x-l:n.x-this.elementSize.width-20)+l,this.valueY-this.elementSize.height/2-5,this.elementSize.width+10,this.elementSize.height+10),t.opposedPosition?(r.x=a?n.x-this.elementSize.width-10:n.x+10+l,r.x+r.width>this.chart.availableSize.width&&(this.arrowLocation.x-=r.x+r.width-this.chart.availableSize.width,r.x-=r.x+r.width-this.chart.availableSize.width)):r.x<0&&(this.arrowLocation.x-=r.x,r.x=0),r.y<s&&(r.y=s),r.y+r.height>=s+i.height&&(r.y-=r.y+r.height-(s+i.height)),this.arrowLocation.y+5>r.y+r.height-this.ry&&(this.arrowLocation.y=r.y+r.height-this.ry-5),this.arrowLocation.y-5<r.y+this.ry&&(this.arrowLocation.y=r.y+this.ry+5);return r}},{key:"stopAnimation",value:function(){ii(this.crosshairInterval)}},{key:"progressAnimation",value:function(){ii(this.crosshairInterval)}},{key:"removeCrosshair",value:function(e){var t=this.chart,i=t.enableCanvas?document.getElementById(this.elementID+"_Crosshair"):document.getElementById(this.elementID+"_UserInteraction"),n=t.enableCanvas?document.getElementById(this.elementID+"_crosshair_axis"):null;this.stopAnimation(),i&&"0"!==i.getAttribute("opacity")&&(this.crosshairInterval=setTimeout((function(){new c.b({}).animate(i,{duration:200,progress:function(e){i.style.animation="",t.enableCanvas?(i.style.opacity=(1-e.timeStamp/e.duration).toString(),n.style.opacity=(1-e.timeStamp/e.duration).toString()):i.setAttribute("opacity",(1-e.timeStamp/e.duration).toString())},end:function(e){t.enableCanvas?(i.style.opacity="0",n.style.opacity="0"):i.setAttribute("opacity","0"),t.startMove=!1,t.tooltipModule&&(t.tooltipModule.valueX=null,t.tooltipModule.valueY=null)}})}),e))}},{key:"getModuleName",value:function(){return"Crosshair"}},{key:"destroy",value:function(e){}}]),e}()},ca={provide:"ChartsCategory",useValue:_n},da={provide:"ChartsDateTime",useValue:xn},ua={provide:"ChartsLogarithmic",useValue:function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"calculateRangeAndInterval",value:function(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.calculateVisibleRange(e,t),this.calculateVisibleLabels(t,this.chart)}},{key:"getActualRange",value:function(e,t){this.initializeDoubleRange(e),this.min=this.min<0?0:this.min;var i=ct(this.min,e.logBase);i=isFinite(i)?i:this.min;var n=1===this.max?1:ct(this.max,e.logBase);n=isFinite(i)?n:this.max,this.min=Math.floor(i/1),this.max=Math.ceil(n/1),e.actualRange.interval=e.interval||this.calculateLogNiceInterval(this.max-this.min,t,e),e.actualRange.min=this.min,e.actualRange.max=this.max,e.actualRange.delta=this.max-this.min}},{key:"calculateVisibleRange",value:function(e,t){t.visibleRange={interval:t.actualRange.interval,max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta};var i=!Object(c.W)(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRange(e),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateLogNiceInterval(t.doubleRange.delta,e,t):t.visibleRange.interval,t.visibleRange.interval=0===Math.floor(t.visibleRange.interval)?1:Math.floor(t.visibleRange.interval),t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval))}},{key:"calculateLogNiceInterval",value:function(e,t,i){for(var n=Ht(t,i),r=e,o=Math.pow(10,Math.floor(ct(r,10))),s=0,a=i.intervalDivs.length;s<a;s++){var l=o*i.intervalDivs[s];if(n<e/l)break;r=l}return r}},{key:"calculateVisibleLabels",value:function(e,t){var i,n=e.visibleRange.min;e.visibleLabels=[],(e.zoomFactor<1||e.zoomPosition>0)&&(n=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval);var r=this.getFormat(e),o=null!==r.match("{value}");for(e.format=t.intl.getNumberFormat({format:o?"":r,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(Math.pow(e.logBase,e.visibleRange.min)),e.endLabel=e.format(Math.pow(e.logBase,e.visibleRange.max));n<=e.visibleRange.max;n+=e.visibleRange.interval)i=Object(c.J)({},Object(c.U)("properties",e.labelStyle),null,!0),pt(n,e.visibleRange)&&Ft(this.chart,n,this.formatValue(e,o,r,Math.pow(e.logBase,n)),i,e);e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}},{key:"getModuleName",value:function(){return"Logarithmic"}},{key:"destroy",value:function(e){}}]),t}(Be)},pa={provide:"ChartsLegend",useValue:function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).library=_assertThisInitialized(i),i.addEventListener(),i}return _inherits(t,e),_createClass(t,[{key:"addEventListener",value:function(){this.chart.isDestroyed||(this.chart.on(c.d.touchMoveEvent,this.mouseMove,this),this.chart.on("click",this.click,this),this.chart.on(c.d.touchEndEvent,this.mouseEnd,this))}},{key:"removeEventListener",value:function(){this.chart.isDestroyed||(this.chart.off(c.d.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(c.d.touchEndEvent,this.mouseEnd))}},{key:"mouseMove",value:function(e){this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(e),this.chart.highlightModule&&"None"!==this.chart.highlightMode&&this.click(e))}},{key:"mouseEnd",value:function(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)}},{key:"getLegendOptions",value:function(e,t){var i,n;this.legendCollections=[];var r=!0,o=!1,s=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;"Indicator"!==h.category&&""!==h.name&&(i="PolarRadar"===t.chartAreaType?h.drawType:h.type,n=h.pointColorMapping&&h.points[0].interior?h.points[0].interior:h.interior,this.legendCollections.push(new dn(h.name,n,h.legendShape,"TrendLine"===h.category?this.chart.series[h.sourceIndex].trendlines[h.index].visible:h.visible,i,h.marker.shape,h.marker.visible)))}}catch(c){o=!0,s=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}},{key:"getLegendBounds",value:function(e,t,i){var n=i.padding,r=0,o=0;this.isVertical?o=i.width?0:e.width/100*5:r=i.height?0:e.height/100*5,t.height+=r,t.width+=o;var s,a=i.shapeWidth,l=i.shapePadding,h=0,c=0,d=0,u=0,m=0;this.maxItemHeight=Math.max(p("MeasureText",i.textStyle).height,i.shapeHeight);var g=!1,v=!0,y=!1,f=void 0;try{for(var b,x=this.legendCollections[Symbol.iterator]();!(v=(b=x.next()).done);v=!0){var _=b.value;Ne.test(_.text)&&(_.text=_i(_.text,Ne)),Ve.test(_.text)&&(_.text=_i(_.text,Ve)),s={fill:_.fill,text:_.text,shape:_.shape,markerShape:_.markerShape,name:"legendRender",cancel:!1},this.chart.trigger("legendRender",s),_.render=!s.cancel,_.text=s.text,_.fill=s.fill,_.shape=s.shape,_.markerShape=s.markerShape,_.textSize=p(_.text,i.textStyle),_.render&&""!==_.text&&(g=!0,c+=d=a+l+_.textSize.width+n,(t.width<n+c||this.isVertical)&&(h=Math.max(h,c+n-(this.isVertical?0:d)),0===m&&d!==c&&(m=1),c=this.isVertical?0:d,u=++m*(this.maxItemHeight+n)+n))}}catch(w){y=!0,f=w}finally{try{v||null==x.return||x.return()}finally{if(y)throw f}}u=Math.max(u,this.maxItemHeight+n+n),this.isPaging=t.height<u,this.totalPages=m,g?this.setBounds(Math.max(c+n,h),u,i,t):this.setBounds(0,0,i,t)}},{key:"getRenderPoint",value:function(e,t,i,n,r,o,s){var a=this.legend.padding,l=n.location.x+i+n.textSize.width;l+(e.textSize.width+i)>r.x+r.width+this.legend.shapeWidth/2||this.isVertical?(e.location.x=t.x,e.location.y=o===s?n.location.y:n.location.y+this.maxItemHeight+a):(e.location.x=o===s?n.location.x:l,e.location.y=n.location.y),e.text=di(+(this.legendBounds.x+this.legendBounds.width-(e.location.x+i-this.legend.shapeWidth/2)).toFixed(4),e.text,this.legend.textStyle)}},{key:"LegendClick",value:function(e,t){var i=this.chart,n=i.visibleSeries[e],r=this.legendCollections[e],o={legendText:r.text,legendShape:r.shape,chart:i.isBlazor?{}:i,series:n,name:"legendClick",cancel:!1};this.chart.trigger("legendClick",o),n.legendShape=o.legendShape,null!==n.fill&&(i.visibleSeries[e].interior=n.fill);var s=[];if(i.selectionModule&&(s=Object(c.J)([],i.selectionModule.selectedDataIndexes,null,!0)),i.legendSettings.toggleVisibility){if("TrendLine"===n.category?i.series[n.sourceIndex].trendlines[n.index].visible=!i.series[n.sourceIndex].trendlines[n.index].visible:(n.chart.isProtectedOnChange=!0,this.changeSeriesVisiblity(n,n.visible)),r.visible="TrendLine"===n.category?i.series[n.sourceIndex].trendlines[n.index].visible:n.visible,i.svgObject.childNodes.length>0&&!i.enableAnimation&&!i.enableCanvas){for(;i.svgObject.lastChild;)i.svgObject.removeChild(i.svgObject.lastChild);Object(c.gb)(i.svgObject)}i.animateSeries=!1,i.redraw=i.enableAnimation,wi(i),ht(x(i.element.id+"_Secondary_Element").querySelectorAll(".ejSVGTooltip")[0]),this.redrawSeriesElements(n,i),i.removeSvg(),i.refreshAxis(),n.refreshAxisLabel(),this.refreshSeries(i.visibleSeries),i.refreshBound(),i.trigger("loaded",{chart:i}),s.length>0&&(i.selectionModule.selectedDataIndexes=s,i.selectionModule.redrawSelection(i,i.selectionMode)),i.highlightModule&&"None"!==i.highlightMode&&i.highlightModule.redrawSelection(i,i.highlightMode),i.redraw=!1}else i.selectionModule?i.selectionModule.legendSelection(i,e,t):i.highlightModule&&i.highlightModule.legendSelection(i,e,t);n.chart.isProtectedOnChange=!1}},{key:"changeSeriesVisiblity",value:function(e,t){e.visible=!t,this.isSecondaryAxis(e.xAxis)&&(e.xAxis.internalVisibility=e.xAxis.series.some((function(e){return e.visible}))),this.isSecondaryAxis(e.yAxis)&&(e.yAxis.internalVisibility=e.yAxis.series.some((function(e){return e.visible})))}},{key:"isSecondaryAxis",value:function(e){return this.chart.axes.indexOf(e)>-1}},{key:"redrawSeriesElements",value:function(e,t){if(!t.redraw)return null;ht(t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections")}},{key:"refreshSeries",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.position=void 0}}catch(s){i=!0,n=s}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"click",value:function(e){var t=this;if(this.chart.legendSettings.visible){for(var i,n,r=this.chart.mouseX,o=this.chart.mouseY,s=e.target.id,a=0,l=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"];a<l.length;a++){var h=l[a];if(s.indexOf(h)>-1){i=parseInt(s.split(h)[1],10),this.LegendClick(i,e);break}}s.indexOf(this.legendID+"_pageup")>-1?this.changePage(e,!0):s.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(e,!1),this.chart.enableCanvas&&this.pagingRegions.length&&this.checkWithinBounds(r,o),(n=this.legendRegions.filter((function(e){return At(r,o+(t.isPaging?(t.currentPageNumber-1)*t.translatePage(null,1,2):0),e.rect)}))).length&&this.chart.enableCanvas&&this.LegendClick(n[0].index,e)}}},{key:"checkWithinBounds",value:function(e,t){var i=this.chart.renderer,n=this.legendBounds,r=this.chart.legendSettings.border.width,o=new v(n.x,n.y,n.width,n.height);return o.x=o.x-r/2,o.y=o.y-r/2,o.width=o.width+r,o.height=o.height+r,At(e,t,this.pagingRegions[0])?(--this.currentPageNumber>0?(this.legendRegions=[],i.clearRect(o),i.canvasClip(new Bi("legendClipPath","transparent",{width:0,color:""},null,o)),this.renderLegend(this.chart,this.legend,n),i.canvasRestore()):++this.currentPageNumber,null):At(e,t,this.pagingRegions[1])?(++this.currentPageNumber>0&&this.currentPageNumber<=this.totalNoOfPages?(this.legendRegions=[],i.clearRect(o),i.canvasClip(new Bi("legendClipPath","transpaent",{width:0,color:""},null,o)),this.renderLegend(this.chart,this.legend,n),i.canvasRestore()):--this.currentPageNumber,null):void 0}},{key:"getModuleName",value:function(){return"Legend"}},{key:"destroy",value:function(e){this.removeEventListener()}}]),t}(function(){function e(t){_classCallCheck(this,e),this.rowCount=0,this.columnCount=0,this.pageButtonSize=8,this.pageXCollections=[],this.maxColumns=0,this.isTrimmed=!1,this.maxWidth=0,this.currentPage=1,this.currentPageNumber=1,this.legendRegions=[],this.pagingRegions=[],this.chart=t,this.legend=t.legendSettings,this.legendID=t.element.id+"_chart_legend",this.isChartControl="chart"===t.getModuleName(),this.isBulletChartControl="bulletChart"===t.getModuleName(),this.bulletChart=this.chart}return _createClass(e,[{key:"calculateLegendBounds",value:function(e,t,i){var n=this.legend;this.getPosition(n.position,t),this.legendBounds=new v(e.x,e.y,0,0);var r=this.isBulletChartControl?"40%":"20%";this.isVertical="Left"===this.position||"Right"===this.position,this.isVertical?(this.legendBounds.height=ui(n.height,t.height-(e.y-this.chart.margin.top))||e.height,this.legendBounds.width=ui(n.width||r,t.width)):(this.legendBounds.width=ui(n.width,t.width)||e.width,this.legendBounds.height=ui(n.height||r,t.height)),this.library.getLegendBounds(t,this.legendBounds,n),this.getLocation(this.position,n.alignment,this.legendBounds,e,t,i)}},{key:"getPosition",value:function(e,t){var i=this.chart,n=this.chart;this.isChartControl||this.isBulletChartControl?this.position="Auto"!==e?e:"Bottom":("Auto"===e&&((i||n).visibleSeries&&"Funnel"===(i||n).visibleSeries[0].type||"Pyramid"===(i||n).visibleSeries[0].type)&&(e="Top"),this.position="Auto"!==e?e:t.width>t.height?"Right":"Bottom")}},{key:"setBounds",value:function(e,t,i,n){e=e<n.width?e:n.width,t=t<n.height?t:n.height,n.width=i.width?n.width:e,n.height=i.height?n.height:t,this.rowCount=Math.max(1,Math.ceil((n.height-i.padding)/(this.maxItemHeight+i.padding)))}},{key:"getLocation",value:function(e,t,i,n,r,o){var s=this.legend.border.width,a=this.isBulletChartControl,l=this.bulletChart,h="Inside"===l.labelPosition,c="Inside"===l.tickPosition,d="Vertical"===l.orientation,u=a&&""!==l.categoryField?o.width+this.chart.border.width+3*s:0,p=i.height+s+this.legend.margin.top+this.legend.margin.bottom,m=i.width+s+this.legend.margin.left+this.legend.margin.right,g=this.chart.margin.bottom;"Bottom"===e?(i.x=this.alignLegend(i.x,r.width,i.width,t),i.y=n.y+(n.height-p)+s+this.legend.margin.top,i.y+=!a||l.opposedPosition||h||c||d?d&&""!==l.categoryField?o.height+2*s:0:l.majorTickLines.height+g+this.legend.border.width+2*s,ft(n,new Hi(0,0,0,p))):"Top"===e?(i.x=this.alignLegend(i.x,r.width,i.width,t),i.y=n.y+s+this.legend.margin.top,i.y-=!a||!l.opposedPosition||h||c||d?0:l.majorTickLines.height+this.chart.margin.top,ft(n,new Hi(0,0,p-=a?2*-s:0,0))):"Right"===e?(i.x=n.x+(n.width-i.width)-this.legend.margin.right,i.y=n.y+this.alignLegend(0,r.height-(n.y+g),i.height,t),m+=a&&l.opposedPosition&&!h&&!c&&d?this.chart.margin.left+this.chart.margin.right+l.majorTickLines.height:0,ft(n,new Hi(0,m,0,0))):"Left"===e?(i.x=i.x+this.legend.margin.left,i.y=n.y+this.alignLegend(0,r.height-(n.y+g),i.height,t),m+=!a||l.opposedPosition||h||c||!d?"Vertical"!==l.orientation&&""!==l.categoryField?u:0:i.x-this.chart.margin.left+s+l.majorTickLines.height,ft(n,new Hi(m,0,0,0))):(i.x=this.legend.location.x,i.y=this.legend.location.y,ft(n,new Hi(0,0,0,0)))}},{key:"alignLegend",value:function(e,t,i,n){switch(n){case"Far":e=t-i-e;break;case"Center":e=(t-i)/2}return e}},{key:"renderLegend",value:function(e,t,i,n){var r=this.findFirstLegendPosition(this.legendCollections),o=t.padding;this.legendRegions=[],this.maxItemHeight=Math.max(this.legendCollections[0].textSize.height,t.shapeHeight);var s=e.renderer.createGroup({id:this.legendID+"_g"}),a=this.createLegendElements(e,i,s,t,this.legendID,n);if(r!==this.legendCollections.length){var l,h;h=new Wi(i.x+o+t.shapeWidth/2,i.y+o+this.maxItemHeight/2);var c=new b("",h.x,h.y,"start");this.totalPages=this.totalPages=this.isChartControl||this.isBulletChartControl?this.totalPages:0;var d=t.shapePadding+o+t.shapeWidth,u=0;this.pageXCollections=[],this.legendCollections[r].location=h;var p=this.legendCollections[r],m=!0,g=!1,v=void 0;try{for(var y,f=this.legendCollections[Symbol.iterator]();!(m=(y=f.next()).done);m=!0){var x=y.value;"accumulationchart"===this.chart.getModuleName()&&(x.fill=(this.chart||this.chart).visibleSeries[0].points[x.pointIndex].color),this.accessbilityText=this.isBulletChartControl?"Legend of bullet chart"+x.text:"Click to show or hide the "+x.text+" series",x.render&&""!==x.text&&((l=e.renderer.createGroup({id:this.legendID+this.generateId(x,"_g_",u)}))&&(l.setAttribute("tabindex",t.tabIndex.toString()),l.setAttribute("aria-label",t.description||this.accessbilityText)),this.library.getRenderPoint(x,h,d,p,i,u,r),this.renderSymbol(x,l,u),this.renderText(e,x,l,c,u),l&&l.setAttribute("style","cursor: "+(!t.toggleVisibility&&("None"===e.selectionMode||"None"===e.highlightMode||"None"===e.selectionMode)||this.isBulletChartControl?"auto":"pointer")),a&&a.appendChild(l),p=x),u++}}catch(_){g=!0,v=_}finally{try{m||null==f.return||f.return()}finally{if(g)throw v}}this.isPaging?this.renderPagingElements(e,i,c,s):this.totalPages=1}Kt(e.enableCanvas,e.svgObject,s,n)}},{key:"findFirstLegendPosition",value:function(e){var t=0,i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;if(a.render&&""!==a.text)break;t++}}catch(l){n=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}return t}},{key:"createLegendElements",value:function(e,t,i,n,r,o){var s=n.padding,a=new Bi(r+"_element",n.background,n.border,n.opacity,t);i?i.appendChild(e.renderer.drawRectangle(a)):e.renderer.drawRectangle(a);var l=e.renderer.createGroup({id:r+"_collections"}),h=e.enableCanvas;h||i.appendChild(l),this.legendTranslateGroup=e.renderer.createGroup({id:r+"_translate_g"}),h||l.appendChild(this.legendTranslateGroup);var c=e.renderer.createClipPath({id:r+"_clipPath"});return a.y+=s,a.id+="_clipPath_rect",a.width=!this.isChartControl&&"bulletChart"!==e.getModuleName()&&this.isVertical?this.maxWidth-s:t.width,h?this.pagingClipRect=a:(this.clipRect=e.renderer.drawRectangle(a),c.appendChild(this.clipRect)),Kt(h,e.svgObject,c,o),h||l.setAttribute("style","clip-path:url(#"+c.id+")"),this.legendTranslateGroup}},{key:"renderSymbol",value:function(e,t,i){var n,r=this.isBulletChartControl?this.chart:null,o=e.visible?e.fill:"#D3D3D3",s="SeriesType"===e.shape?e.type:e.shape;s="Scatter"===s?e.markerShape:s;var a="chart"===this.chart.getModuleName()&&"SeriesType"===e.shape&&e.type.toLowerCase().indexOf("line")>-1&&-1===e.type.toLowerCase().indexOf("area")?this.chart.visibleSeries[i].width:this.isBulletChartControl&&"Multiply"===e.shape?4:1,l="chart"===this.chart.getModuleName()&&("Scatter"===e.type||"Bubble"===e.type);if(l&&i<this.chart.visibleSeries.length){var h=this.chart.visibleSeries[i].border;n=h.color?h.color:o,a=h.width?h.width:1}var c,d=new P(this.legendID+this.generateId(e,"_shape_",i),o,a,l?n:o,1,"",""),u=this.chart.enableCanvas;u?(c=-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),Xt(e.location,s,new g(this.legend.shapeWidth,this.legend.shapeHeight),"",d,0,this.chart.renderer,this.currentPageNumber?new v(0,c,0,0):null,this.isBulletChartControl,r),this.legendRegions.push({rect:new v(e.location.x,e.location.y,this.legend.shapeWidth,this.legend.shapeHeight+c),index:i})):t.appendChild(Xt(e.location,s,new g(this.legend.shapeWidth,this.legend.shapeHeight),"",d,0,this.chart.renderer,null,this.isBulletChartControl,r)),("Line"===s&&e.markerVisibility&&"Image"!==e.markerShape||"Doughnut"===e.type)&&(d.id=this.legendID+this.generateId(e,"_shape_marker_",i),s="Doughnut"===e.type?"Circle":e.markerShape,d.fill="Doughnut"===e.type?"#FFFFFF":d.fill,u?Xt(e.location,s,new g(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",d,0,this.chart.renderer,this.currentPageNumber?new v(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,this.isBulletChartControl,r):t.appendChild(Xt(e.location,s,new g(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",d,0,null,null,this.isBulletChartControl,r)))}},{key:"renderText",value:function(e,t,i,n,r){var o=e.legendSettings;n.id=this.legendID+this.generateId(t,"_text_",r);var s=t.visible?o.textStyle.color||e.themeStyle.legendLabel:"#D3D3D3";n.text=t.text,n.x=t.location.x+o.shapeWidth/2+o.shapePadding,n.y=t.location.y+this.maxItemHeight/4;var a=this.chart.enableCanvas,l=gi(e.renderer,n,o.textStyle,s,i,!1,!1,!1,!1,null,this.currentPageNumber&&a?new v(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);if(l&&l.setAttribute("aria-label",o.description||this.accessbilityText),a){var h=p(n.text,o.textStyle);this.legendRegions[r].rect.y=n.y<this.legendRegions[r].rect.y?n.y:this.legendRegions[r].rect.y,this.legendRegions[r].rect.width+=h.width,this.legendRegions[r].rect.height=h.height,this.legendRegions[r].rect.y-=.5*h.height}}},{key:"renderPagingElements",value:function(e,t,i,n){var r=e.renderer.createGroup({id:this.legendID+"_navigation"});this.pagingRegions=[];var o=e.enableCanvas;o||n.appendChild(r);var s=e.legendSettings;this.totalPages=this.isChartControl||this.isBulletChartControl||!this.isVertical?Math.ceil(this.totalPages/Math.max(1,this.rowCount-1)):Math.ceil(this.totalPages/this.maxColumns);var a=new P(this.legendID+"_pageup","transparent",5,"#545454",1,"",""),l=this.pageButtonSize;r&&r.setAttribute("style","cursor: pointer"),this.clipPathHeight=(this.rowCount-1)*(this.maxItemHeight+s.padding),o?(this.pagingClipRect.height=this.legendBounds.height-this.clipPathHeight-(this.pagingClipRect.y-this.legendBounds.y)-s.border.width,this.pagingClipRect.y=this.pagingClipRect.y+this.clipPathHeight,this.pagingClipRect.x+=s.border.width,this.pagingClipRect.width-=s.border.width+s.border.width/2,this.chart.renderer.clearRect(new v(this.pagingClipRect.x,this.pagingClipRect.y,this.pagingClipRect.width,this.pagingClipRect.height))):this.clipRect.setAttribute("height",this.clipPathHeight.toString());var h=t.x+l/2,c=t.y+this.clipPathHeight+(t.height-this.clipPathHeight)/2,d=p(this.totalPages+"/"+this.totalPages,s.textStyle);o?Xt({x:h,y:c},"LeftArrow",new g(l,l),"",a,0,this.chart.renderer,new v(t.width-(2*(l+8)+8+d.width),0,0,0)):r.appendChild(Xt({x:h,y:c},"LeftArrow",new g(l,l),"",a)),this.pagingRegions.push(new v(h+t.width-(2*(l+8)+8+d.width)-.5*l,c-.5*l,l,l)),i.x=h+l/2+8,i.y=c+d.height/4,i.id=this.legendID+"_pagenumber",i.text="1/"+this.totalPages,o&&this.totalNoOfPages&&(i.text=this.currentPageNumber+"/"+this.totalNoOfPages);var u=gi(e.renderer,i,s.textStyle,s.textStyle.color,r,!1,!1,!1,!1,null,new v(t.width-(2*(l+8)+8+d.width),0,0,0));h=i.x+8+l/2+d.width,a.id=this.legendID+"_pagedown",o?Xt({x:h,y:c},"RightArrow",new g(l,l),"",a,0,this.chart.renderer,new v(t.width-(2*(l+8)+8+d.width),0,0,0)):r.appendChild(Xt({x:h,y:c},"RightArrow",new g(l,l),"",a)),this.pagingRegions.push(new v(h+(t.width-(2*(l+8)+8+d.width)-.5*l),c-.5*l,l,l)),o?1===this.currentPageNumber&&this.calTotalPage&&(this.totalNoOfPages=this.totalPages,this.calTotalPage=!1):r.setAttribute("transform","translate("+(t.width-(2*(l+8)+8+d.width))+", 0)"),this.translatePage(u,this.currentPage-1,this.currentPage)}},{key:"translatePage",value:function(e,t,i){var n=this.clipPathHeight*t,r="translate(0,-"+n+")";return this.isChartControl||this.bulletChart||!this.isVertical||(r="translate(-"+(n=(n=this.pageXCollections[t*this.maxColumns]-this.legendBounds.x)<0?0:n)+",0)"),this.chart.enableCanvas||this.legendTranslateGroup.setAttribute("transform",r),this.chart.enableCanvas||(e.textContent=i+"/"+this.totalPages),this.currentPage=i,n}},{key:"changePage",value:function(e,t){var i=document.getElementById(this.legendID+"_pagenumber"),n=parseInt(i.textContent.split("/")[0],10);t&&n>1?this.translatePage(i,n-2,n-1):!t&&n<this.totalPages&&this.translatePage(i,n,n+1)}},{key:"generateId",value:function(e,t,i){return this.isChartControl?t+i:t+e.pointIndex}},{key:"move",value:function(e){var t=this,i=this.chart.mouseX,n=this.chart.mouseY;if(e.target.textContent.indexOf("...")>-1){var r=e.target.id.split(this.legendID+"_text_");if(2===r.length){var o=parseInt(r[1],10),s=this.chart.element;isNaN(o)||(this.chart.isTouch&&ht(this.chart.element.id+"_EJ2_Legend_Tooltip"),this.isChartControl?dt(this.chart.series[o].name,i,n,s.offsetWidth,s.id+"_EJ2_Legend_Tooltip",Yt(this.chart.element.id+"_Secondary_Element")):dt(this.chart.visibleSeries[0].points[o].x.toString(),i+10,n+10,s.offsetWidth,s.id+"_EJ2_Legend_Tooltip",Yt(this.chart.element.id+"_Secondary_Element")))}}else ht(this.chart.element.id+"_EJ2_Legend_Tooltip");this.chart.isTouch&&(clearTimeout(this.clearTooltip),this.clearTooltip=setTimeout((function(){ht(t.chart.element.id+"_EJ2_Legend_Tooltip")}),1e3))}}]),e}())},ma={provide:"ChartsZoom",useValue:function(){function e(t){_classCallCheck(this,e),this.chart=t,this.isPointer=c.d.isPointer,this.browserName=c.d.info.name,this.wheelEvent="mozilla"===this.browserName?this.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel",this.cancelEvent=this.isPointer?"pointerleave":"mouseleave",this.addEventListener(),this.isDevice=c.d.isDevice;var i=t.zoomSettings;this.toolkit=new Rn(t),this.zooming=i,this.elementId=t.element.id,this.zoomingRect=new v(0,0,0,0),this.zoomAxes=[],this.zoomkitOpacity=.3,this.isIOS=c.d.isIos||c.d.isIos7,this.isZoomed=this.performedUI=this.zooming.enablePan&&this.zooming.enableSelectionZooming,i.enableScrollbar&&(t.scrollElement=Object(c.F)("div",{id:t.element.id+"_scrollElement"}))}return _createClass(e,[{key:"renderZooming",value:function(e,t,i){this.calculateZoomAxesRange(t,t.axisCollections),!this.zooming.enableSelectionZooming||i&&(!t.isDoubleTap||1!==this.touchStartList.length)||this.isPanning&&!t.isDoubleTap?this.isPanning&&t.isChartDrag&&(!i||i&&1===this.touchStartList.length)&&(this.pinchTarget=i?e.target:null,this.doPan(t,t.axisCollections)):(this.isPanning=!!this.isDevice||this.isPanning,this.performedUI=!0,this.drawZoomingRectangle(t))}},{key:"drawZoomingRectangle",value:function(e){var t=e.chartAxisLayoutPanel.seriesClipRect,i=new Wi(e.previousMouseMoveX,e.previousMouseMoveY),n=new Wi(e.mouseX,e.mouseY),r=this.zoomingRect=function(e,t,i){var n,r;return n=t.x<i.x?i.x:t.x>i.x+i.width?i.x+i.width:t.x,r=t.y<i.y?i.y:t.y>i.y+i.height?i.y+i.height:t.y,new v(n>e.x?e.x:n,r>e.y?e.y:r,Math.abs(n-e.x),Math.abs(r-e.y))}(i,n,t);r.width>0&&r.height>0&&(this.isZoomed=!0,e.disableTrackTooltip=!0,e.svgObject.setAttribute("cursor","crosshair"),"X"===this.zooming.mode?(r.height=t.height,r.y=t.y):"Y"===this.zooming.mode&&(r.width=t.width,r.x=t.x),(e.enableCanvas?document.getElementById(this.elementId+"_tooltip_svg"):e.svgObject).appendChild(e.svgRenderer.drawRectangle(new Bi(this.elementId+"_ZoomArea",e.themeStyle.selectionRectFill,{color:e.themeStyle.selectionRectStroke,width:1},1,r,0,0,"","3"))))}},{key:"doPan",value:function(e,t){var i,n,r,o,s=this;if(e.startMove&&e.crosshair.enable)return null;this.isZoomed=!0,this.offset=e.delayRedraw?this.offset:e.chartAxisLayoutPanel.seriesClipRect,e.delayRedraw=!0,e.disableTrackTooltip=!0;var a=[],l=!0,h=!1,c=void 0;try{for(var d,u=t[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;r={cancel:!1,name:"zoomComplete",axis:p,previousZoomFactor:p.zoomFactor,previousZoomPosition:p.zoomPosition,currentZoomFactor:p.zoomFactor,currentZoomPosition:p.zoomPosition},i=Math.max(1/Gt(p.zoomFactor,0,1),1),"Horizontal"===p.orientation?(n=(e.previousMouseMoveX-e.mouseX)/p.rect.width/i,r.currentZoomPosition=Gt(p.zoomPosition+n,0,1-p.zoomFactor)):(n=(e.previousMouseMoveY-e.mouseY)/p.rect.height/i,r.currentZoomPosition=Gt(p.zoomPosition-n,0,1-p.zoomFactor)),e.trigger("zoomComplete",r),r.cancel||(p.zoomFactor=r.currentZoomFactor,p.zoomPosition=r.currentZoomPosition),a.push({zoomFactor:p.zoomFactor,zoomPosition:p.zoomFactor,axisName:p.name,axisRange:p.visibleRange})}}catch(m){h=!0,c=m}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}!(o={cancel:!1,axisCollection:a,name:"onZooming"}).cancel&&this.chart.isBlazor?this.chart.trigger("onZooming",o,(function(){s.performDefferedZoom(e)})):this.performDefferedZoom(e)}},{key:"performDefferedZoom",value:function(e){var t,i;if(this.zooming.enableDeferredZooming){switch(t=e.mouseX-e.mouseDownX,i=e.mouseY-e.mouseDownY,this.zooming.mode){case"X":i=0;break;case"Y":t=0}this.setTransform(t,i,null,null,e,!1),this.refreshAxis(e.chartAxisLayoutPanel,e,e.axisCollections),e.enableCanvas&&this.performZoomRedraw(e)}else this.performZoomRedraw(e);e.previousMouseMoveX=e.mouseX,e.previousMouseMoveY=e.mouseY}},{key:"performZoomRedraw",value:function(e){var t=this.zoomingRect;e.animateSeries=!1,this.isZoomed&&(t.width>0&&t.height>0?(this.performedUI=!0,e.svgObject.setAttribute("cursor","auto"),this.doZoom(e,e.axisCollections,e.chartAxisLayoutPanel.seriesClipRect),e.isDoubleTap=!1):e.disableTrackTooltip&&(e.disableTrackTooltip=!1,e.delayRedraw=!1,e.enableCanvas?e.createChartSvg():e.removeSvg(),e.refreshAxis(),e.refreshBound()))}},{key:"refreshAxis",value:function(e,t,i){var n=t.zoomSettings.mode;e.measureAxis(new v(t.initialClipRect.x,t.initialClipRect.y,t.initialClipRect.width,t.initialClipRect.height)),i.map((function(t,i){"Horizontal"===t.orientation&&"Y"!==n&&e.drawXAxisLabels(t,i,null,t.placeNextToAxisLine?t.updatedRect:t.rect),"Vertical"===t.orientation&&"X"!==n&&e.drawYAxisLabels(t,i,null,t.placeNextToAxisLine?t.updatedRect:t.rect)}))}},{key:"doZoom",value:function(e,t,i){var n,r,o=this,s=this.zoomingRect,a=this.zooming.mode;this.isPanning=e.zoomSettings.enablePan||this.isPanning;var l=[],h=!0,c=!1,d=void 0;try{for(var u,p=t[Symbol.iterator]();!(h=(u=p.next()).done);h=!0){var m=u.value;n={cancel:!1,name:"zoomComplete",axis:m,previousZoomFactor:m.zoomFactor,previousZoomPosition:m.zoomPosition,currentZoomFactor:m.zoomFactor,currentZoomPosition:m.zoomPosition},"Horizontal"===m.orientation?"Y"!==a&&(n.currentZoomPosition+=Math.abs((s.x-i.x)/i.width)*m.zoomFactor,n.currentZoomFactor*=s.width/i.width,e.trigger("zoomComplete",n)):"X"!==a&&(n.currentZoomPosition+=(1-Math.abs((s.height+(s.y-i.y))/i.height))*m.zoomFactor,n.currentZoomFactor*=s.height/i.height,e.trigger("zoomComplete",n)),n.cancel||(m.zoomFactor=n.currentZoomFactor,m.zoomPosition=n.currentZoomPosition),l.push({zoomFactor:m.zoomFactor,zoomPosition:m.zoomFactor,axisName:m.name,axisRange:m.visibleRange})}}catch(g){c=!0,d=g}finally{try{h||null==p.return||p.return()}finally{if(c)throw d}}!(r={cancel:!1,axisCollection:l,name:"onZooming"}).cancel&&this.chart.isBlazor?this.chart.trigger("onZooming",r,(function(){o.zoomingRect=new v(0,0,0,0),o.performZoomRedraw(e)})):(this.zoomingRect=new v(0,0,0,0),this.performZoomRedraw(e))}},{key:"performMouseWheelZooming",value:function(e,t,i,n,r){var o,s,a,l,h,c=this,d="mozilla"!==this.browserName||this.isPointer?e.wheelDelta/120>0?1:-1:-e.detail/3>0?1:-1,u=this.zooming.mode,p=.5;this.isZoomed=!0,this.calculateZoomAxesRange(n,n.axisCollections),n.disableTrackTooltip=!0,this.performedUI=!0,this.isPanning=n.zoomSettings.enablePan||this.isPanning;var m=[],g=!0,v=!1,y=void 0;try{for(var f,b=r[Symbol.iterator]();!(g=(f=b.next()).done);g=!0){var x=f.value;l={cancel:!1,name:"zoomComplete",axis:x,previousZoomFactor:x.zoomFactor,previousZoomPosition:x.zoomPosition,currentZoomFactor:x.zoomFactor,currentZoomPosition:x.zoomPosition},("Vertical"===x.orientation&&"X"!==u||"Horizontal"===x.orientation&&"Y"!==u)&&((o=Math.max(Math.max(1/Gt(x.zoomFactor,0,1),1)+.25*d,1))>=1&&(p=(p="Horizontal"===x.orientation?t/x.rect.width:1-i/x.rect.height)>1?1:p<0?0:p,s=1===o?1:Gt(1/o,0,1),a=1===o?0:x.zoomPosition+(x.zoomFactor-s)*p,x.zoomPosition===a&&x.zoomFactor===s||(s=a+s>1?1-a:s),l.currentZoomFactor=s,l.currentZoomPosition=a,n.trigger("zoomComplete",l)),l.cancel||(x.zoomFactor=l.currentZoomFactor,x.zoomPosition=l.currentZoomPosition)),m.push({zoomFactor:x.zoomFactor,zoomPosition:x.zoomFactor,axisName:x.name,axisRange:x.visibleRange})}}catch(_){v=!0,y=_}finally{try{g||null==b.return||b.return()}finally{if(v)throw y}}!(h={cancel:!1,axisCollection:m,name:"onZooming"}).cancel&&this.chart.isBlazor?this.chart.trigger("onZooming",h,(function(){c.performZoomRedraw(n)})):this.performZoomRedraw(n)}},{key:"performPinchZooming",value:function(e,t){if(this.zoomingRect.width>0&&this.zoomingRect.height>0||t.startMove&&t.crosshair.enable)return!1;this.calculateZoomAxesRange(t,t.axisCollections),this.isZoomed=!0,this.isPanning=!0,this.performedUI=!0,this.offset=t.delayRedraw?this.offset:t.chartAxisLayoutPanel.seriesClipRect,t.delayRedraw=!0,t.disableTrackTooltip=!0;var i,n,r,o,s,a,l,h=t.element.getBoundingClientRect(),c=this.touchStartList,d=this.touchMoveList,u=c[0].pageX-h.left,p=c[0].pageY-h.top,m=d[0].pageX-h.left,g=d[0].pageY-h.top,y=c[1].pageX-h.left,f=c[1].pageY-h.top,b=d[1].pageY-h.top;if(i=Math.abs(m-(d[1].pageX-h.left))/Math.abs(u-y),n=Math.abs(g-b)/Math.abs(p-f),a=(this.offset.x-m)/i+u,l=(this.offset.y-g)/n+p,s=new v(a,l,this.offset.width/i,this.offset.height/n),r=m-i*u,o=g-n*p,!isNaN(i-i)&&!isNaN(n-n))switch(this.zooming.mode){case"XY":this.setTransform(r,o,i,n,t,!0);break;case"X":this.setTransform(r,0,i,1,t,!0);break;case"Y":this.setTransform(0,o,1,n,t,!0)}return this.calculatePinchZoomFactor(t,s),this.refreshAxis(t.chartAxisLayoutPanel,t,t.axisCollections),!0}},{key:"calculatePinchZoomFactor",value:function(e,t){for(var i,n,r,o,s,a,l,h,c,d,u=this.zooming.mode,p=[],m=0;m<e.axisCollections.length;m++){var g=e.axisCollections[m];("Horizontal"===g.orientation&&"Y"!==u||"Vertical"===g.orientation&&"X"!==u)&&(h=g.zoomFactor,c=g.zoomPosition,l={cancel:!1,name:"zoomComplete",axis:g,previousZoomFactor:g.zoomFactor,previousZoomPosition:g.zoomPosition,currentZoomFactor:h,currentZoomPosition:c},"Horizontal"===g.orientation?(r=(s=t.x-this.offset.x)/(a=g.rect.width/this.zoomAxes[m].delta)+this.zoomAxes[m].min,o=(s=t.x+t.width-this.offset.x)/a+this.zoomAxes[m].min):(s=t.y-this.offset.y,a=g.rect.height/this.zoomAxes[m].delta,r=(-1*s+g.rect.height)/a+this.zoomAxes[m].min,o=(-1*(s=t.y+t.height-this.offset.y)+g.rect.height)/a+this.zoomAxes[m].min),i=Math.min(r,o),n=Math.max(r,o),c=(i-this.zoomAxes[m].actualMin)/this.zoomAxes[m].actualDelta,h=(n-i)/this.zoomAxes[m].actualDelta,l.currentZoomPosition=c<0?0:c,l.currentZoomFactor=h>1?1:h,e.trigger("zoomComplete",l),l.cancel||(g.zoomFactor=l.currentZoomFactor,g.zoomPosition=l.currentZoomPosition),p.push({zoomFactor:g.zoomFactor,zoomPosition:g.zoomFactor,axisName:g.name,axisRange:g.visibleRange}))}!(d={cancel:!1,axisCollection:p,name:"onZooming"}).cancel&&this.chart.isBlazor&&this.chart.trigger("onZooming",d)}},{key:"setTransform",value:function(e,t,i,n,r,o){var s,a,l,h;if(r.enableCanvas||r.seriesElements.setAttribute("clip-path","url(#"+this.elementId+"_ChartAreaClipRect_)"),r.indicatorElements&&r.indicatorElements.setAttribute("clip-path","url(#"+this.elementId+"_ChartAreaClipRect_)"),null!==e&&null!==t){var c=!0,d=!1,u=void 0;try{for(var p,m=r.visibleSeries[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var g=p.value;a=r.requireInvertedAxis?g.yAxis.rect.x:g.xAxis.rect.x,l=r.requireInvertedAxis?g.xAxis.rect.y:g.yAxis.rect.y,s="translate("+(e+(o?i*a:a))+","+(t+(o?n*l:l))+")",s=i||n?s+" scale("+i+" "+n+")":s,g.visible&&("Indicator"===g.category?g.seriesElement.parentNode.setAttribute("transform",s):r.enableCanvas||g.seriesElement.setAttribute("transform",s),h=Yt(r.element.id+"_Series_"+g.index+"_DataLabelCollections"),g.errorBarElement&&g.errorBarElement.setAttribute("transform",s),g.symbolElement&&g.symbolElement.setAttribute("transform",s),g.textElement&&(g.textElement.setAttribute("visibility","hidden"),g.shapeElement.setAttribute("visibility","hidden")),h&&(h.style.visibility="hidden"))}}catch(v){d=!0,u=v}finally{try{c||null==m.return||m.return()}finally{if(d)throw u}}}}},{key:"calculateZoomAxesRange",value:function(e,t){for(var i,n,r=0;r<e.axisCollections.length;r++){var o=e.axisCollections[r];n=o.visibleRange,this.zoomAxes[r]?e.delayRedraw||(this.zoomAxes[r].min=n.min,this.zoomAxes[r].delta=n.delta):(i={actualMin:o.actualRange.min,actualDelta:o.actualRange.delta,min:n.min,delta:n.delta},this.zoomAxes[r]=i)}}},{key:"showZoomingToolkit",value:function(e){var t,i,n=this.zooming.toolbarItems,r=e.chartAxisLayoutPanel.seriesClipRect,o=e.svgRenderer,s=this.isDevice?1:n.length,a=this.isDevice?p("Reset Zoom",{size:"12px"}).width:16,l=this.isDevice?p("Reset Zoom",{size:"12px"}).height:22,h=s*a+5*(s+1)+5*(s-1),d=r.x+r.width-h-5,u=r.y+5,m=5,g=this.toolkit;if('<feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/>','</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',0===s||Yt(this.elementId+"_Zooming_KitCollection"))return!1;var y,f=o.createDefs();n=this.isDevice?["Reset"]:n,f.innerHTML='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/><feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',this.toolkitElements=o.createGroup({id:this.elementId+"_Zooming_KitCollection",transform:"translate("+d+","+u+")"}),this.toolkitElements.appendChild(f),this.toolkitElements.appendChild(o.drawRectangle(new Bi(this.elementId+"_Zooming_Rect","#fafafa",{color:"transparent",width:1},1,new v(0,0,h,l+10),0,0))),(t=o.drawRectangle(new Bi(this.elementId+"_Zooming_Rect","#fafafa",{color:"transparent",width:1},.1,new v(0,0,h,l+10),0,0))).setAttribute("filter","url(#chart_shadow)"),this.toolkitElements.appendChild(t);for(var b=1;b<=s;b++){switch(y=n[b-1],i=o.createGroup({transform:"translate("+m+","+(this.isDevice?5:8)+")"}),y){case"Pan":g.createPanButton(i,this.toolkitElements,e);break;case"Zoom":g.createZoomButton(i,this.toolkitElements,e);break;case"ZoomIn":g.createZoomInButton(i,this.toolkitElements,e);break;case"ZoomOut":g.createZoomOutButton(i,this.toolkitElements,e);break;case"Reset":g.createResetButton(i,this.toolkitElements,e,this.isDevice)}m+=a+10}if(this.toolkitElements.setAttribute("opacity",this.isDevice?"1":""+this.zoomkitOpacity),this.toolkitElements.setAttribute("cursor","auto"),e.enableCanvas){var x=document.createElement("div");x.id=e.element.id+"_zoom",x.setAttribute("style","position:absolute; z-index:1");var _=e.svgRenderer.createSvg({id:e.element.id+"_zoomkit_svg",width:e.availableSize.width,height:e.availableSize.height/2});_.setAttribute("style","position:absolute"),_.appendChild(this.toolkitElements),x.appendChild(_),document.getElementById(this.elementId+"_Secondary_Element").appendChild(x)}else e.svgObject.appendChild(this.toolkitElements);return this.isDevice||(c.l.add(this.toolkitElements,"mousemove touchstart",this.zoomToolkitMove,this),c.l.add(this.toolkitElements,"mouseleave touchend",this.zoomToolkitLeave,this),this.isPanning&&g.pan()),!0}},{key:"applyZoomToolkit",value:function(e,t){this.isAxisZoomed(t)?(this.showZoomingToolkit(e),this.isZoomed=!0):(this.toolkit.removeTooltip(),this.isPanning=!1,this.isZoomed=!1,e.svgObject.setAttribute("cursor","auto"))}},{key:"isAxisZoomed",value:function(e){var t=!1,i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;t=t||1!==a.zoomFactor||0!==a.zoomPosition}}catch(l){n=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}return t}},{key:"zoomToolkitMove",value:function(e){var t=this.toolkitElements;return t.getAttribute("opacity"),this.zoomkitOpacity=1,t.setAttribute("opacity",""+this.zoomkitOpacity),!1}},{key:"zoomToolkitLeave",value:function(e){var t=this.toolkitElements;return this.zoomkitOpacity=.3,t.setAttribute("opacity",""+this.zoomkitOpacity),!1}},{key:"addEventListener",value:function(){this.chart.isDestroyed||(c.l.add(this.chart.element,this.wheelEvent,this.chartMouseWheel,this),this.chart.on(c.d.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(c.d.touchStartEvent,this.mouseDownHandler,this),this.chart.on(c.d.touchEndEvent,this.mouseUpHandler,this),this.chart.on(this.cancelEvent,this.mouseCancelHandler,this))}},{key:"removeEventListener",value:function(){this.chart.isDestroyed||(c.l.remove(this.chart.element,this.wheelEvent,this.chartMouseWheel),this.chart.off(c.d.touchMoveEvent,this.mouseMoveHandler),this.chart.off(c.d.touchStartEvent,this.mouseDownHandler),this.chart.off(c.d.touchEndEvent,this.mouseUpHandler),this.chart.off(this.cancelEvent,this.mouseCancelHandler))}},{key:"chartMouseWheel",value:function(e){var t=this.chart,i=t.element.getBoundingClientRect(),n=Yt(t.svgId).getBoundingClientRect(),r=e.clientX-i.left-Math.max(n.left-i.left,0),o=e.clientY-i.top-Math.max(n.top-i.top,0);return this.zooming.enableMouseWheelZooming&&At(r,o,t.chartAxisLayoutPanel.seriesClipRect)&&(e.preventDefault(),this.performMouseWheelZooming(e,r,o,t,t.axisCollections)),!1}},{key:"mouseMoveHandler",value:function(e){var t=this.chart,i=null;"touchmove"===e.type&&(e.preventDefault&&this.isIOS&&(this.isPanning||t.isDoubleTap||this.zooming.enablePinchZooming&&this.touchStartList.length>1)&&e.preventDefault(),i=e.touches),t.isChartDrag&&(t.isTouch&&(this.touchMoveList=this.addTouchPointer(this.touchMoveList,e,i),this.zooming.enablePinchZooming&&this.touchMoveList.length>1&&this.touchStartList.length>1&&this.performPinchZooming(e,t)),this.renderZooming(e,t,t.isTouch))}},{key:"mouseDownHandler",value:function(e){var t,i=this.chart,n=null;"touchstart"===e.type?(n=e.touches,t=e.target):t=e.target,-1===t.id.indexOf(i.element.id+"_Zooming_")&&At(i.previousMouseMoveX,i.previousMouseMoveY,i.chartAxisLayoutPanel.seriesClipRect)&&(i.isChartDrag=!0),i.isTouch&&(this.touchStartList=this.addTouchPointer(this.touchStartList,e,n))}},{key:"mouseUpHandler",value:function(e){var t=this.chart,i=-1===e.target.id.indexOf(t.element.id+"_ZoomOut_")||-1===e.target.id.indexOf(t.element.id+"_ZoomIn_");(t.isChartDrag||i)&&this.performZoomRedraw(t),t.isTouch&&(t.isDoubleTap&&At(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&1===this.touchStartList.length&&this.isZoomed&&this.toolkit.reset(),this.touchStartList=[],t.isDoubleTap=!1)}},{key:"mouseCancelHandler",value:function(e){this.isZoomed&&this.performZoomRedraw(this.chart),this.pinchTarget=null,this.touchStartList=[],this.touchMoveList=[]}},{key:"addTouchPointer",value:function(e,t,i){if(i){e=[];for(var n=0,r=i.length;n<r;n++)e.push({pageX:i[n].clientX,pageY:i[n].clientY,pointerId:null})}else if(0===(e=e||[]).length)e.push({pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId});else for(var o=0,s=e.length;o<s;o++)e[o].pointerId===t.pointerId?e[o]={pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId}:e.push({pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId});return e}},{key:"getModuleName",value:function(){return"Zoom"}},{key:"destroy",value:function(e){this.removeEventListener()}}]),e}()},ga={provide:"ChartsDataLabel",useValue:function(){function e(t){_classCallCheck(this,e),this.errorHeight=0,this.chart=t}return _createClass(e,[{key:"initPrivateVariables",value:function(e,t){var i="",n="",r=e.chart.renderer,o=void 0===e.index?e.category:e.index;"Cartesian"===e.chart.chartAreaType&&(i="translate("+e.clipRect.x+","+e.clipRect.y+")",n="url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+o+")"),t.dataLabel.visible&&(e.shapeElement=r.createGroup({id:this.chart.element.id+"ShapeGroup"+o,transform:i,"clip-path":"url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+o+")"}),e.textElement=r.createGroup({id:this.chart.element.id+"TextGroup"+o,transform:i,"clip-path":n})),this.markerHeight="Scatter"===e.type||t.visible?t.height/2:0,this.commonId=this.chart.element.id+"_Series_"+o+"_Point_",this.calculateErrorHeight(e,e.marker.dataLabel.position),this.chartBackground="transparent"===this.chart.chartArea.background?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background}},{key:"calculateErrorHeight",value:function(e,t){if(!e.errorBar.visible)return null;if(e.errorBar.visible&&"PolarRadar"!==this.chart.chartAreaType){var i=e.errorBar.direction,n=this.chart.errorBarModule.positiveHeight,r=this.chart.errorBarModule.negativeHeight;this.isRectSeries(e)?("Top"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Minus"===i?r:0),"Outer"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Plus"===i?n:0)):("Top"!==t&&"Outer"!==t&&"Auto"!==t||(this.errorHeight="Both"!==i&&"Plus"!==i||e.chart.isTransposed?0:n),"Bottom"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Minus"===i?r:0))}else this.errorHeight=0}},{key:"isRectSeries",value:function(e){return e.isRectSeries||"RangeArea"===e.type}},{key:"render",value:function(e,t,i){var n,r,o,s,a,l,h,d;this.initPrivateVariables(e,e.marker),this.inverted=t.requireInvertedAxis,this.yAxisInversed=e.yAxis.isInversed;for(var u,m=t.redraw,g=t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections",y=Object(c.F)("div",{id:g}),f=at(e),x=0;x<f.length;x++){u=f[x],this.margin=i.margin;var _=void 0,w=void 0,C=void 0,k=void 0,S=void 0,M=void 0,O=[],L=!0,P=e.clipRect;h=d=i.angle,a={width:i.border.width,color:i.border.color};var A=Object(c.J)({},Object(c.U)("properties",i.font),null,!0);if(u.symbolLocations.length&&u.symbolLocations[0]||"BoxAndWhisker"===e.type&&u.regions.length){_=(O=ti(u,e,t)).length;for(var R=0;R<_;R++)if(s={cancel:!1,name:"textRender",series:e,point:u,text:O[R],border:a,color:i.fill,template:i.template,font:A},t.trigger("textRender",s),!s.cancel)if(this.fontBackground=s.color,this.isDataLabelShape(s),this.markerHeight="Bubble"===e.type?u.regions[0].height/2:this.markerHeight,null!==s.template)this.createDataLabelTemplate(y,e,i,u,s,R,m);else{if(l=p(s.text,i.font),n=this.calculateTextPosition(u,e,l,i,R),"PolarRadar"===t.chartAreaType){var T=!0,j=!1,I=void 0;try{for(var z,E=t.chartAxisLayoutPanel.visibleAxisLabelRect[Symbol.iterator]();!(T=(z=E.next()).done);T=!0){var D=z.value;if(ri(new v(n.x,n.y,n.width,n.height),D)){L=!1;break}}}catch(H){j=!0,I=H}finally{try{T||null==E.return||E.return()}finally{if(j)throw I}}}var B=void 0,N=new v(n.x+P.x,n.y+P.y,n.width,n.height),V=[];if(i.enableRotation&&0!==h){var F=this.getRectanglePoints(N);V.push(_t(F,N.x+.5*N.width,N.y-N.height/2,h)),B=!0;for(var W=R;W>0;W--)if(V[R]&&V[W-1]&&wt(V[R],V[W-1])){B=!1,V[R]=null;break}}else B=!ni(n,t.dataLabelCollections,P);B&&L&&(t.dataLabelCollections.push(N),this.isShape&&(M=t.renderer.drawRectangle(new Bi(this.commonId+u.index+"_TextShape_"+R,s.color,s.border,i.opacity,n,i.rx,i.ry),new Int32Array([P.x,P.y])),e.shapeElement&&e.shapeElement.appendChild(M)),r=ai(li(this.fontBackground)),o=Math.round((299*r.r+587*r.g+114*r.b)/1e3),w=n.x+this.margin.left+l.width/2,C=n.y+this.margin.top+3*l.height/4,0!==h&&i.enableRotation?(k=w-i.margin.left/2+i.margin.right/2,S=C-i.margin.top/2-l.height/i.margin.top+i.margin.bottom/2,d=h>360?h-360:h<-360?h+360:h):(d=0,k=n.x,S=n.y),gi(t.renderer,new b(this.commonId+u.index+"_Text_"+R,w,C,"middle",s.text,"rotate("+d+","+k+","+S+")","auto",d),s.font,s.font.color||(o>=128||"Hilo"===e.type?"black":"white"),e.textElement,!1,m,!0,!1,e.chart.duration,e.clipRect))}}}y.childElementCount&&Kt(t.enableCanvas,Yt(t.element.id+"_Secondary_Element"),y,t.redraw,!1,"x","y",null,"",!1,!1,null,t.duration)}},{key:"getRectanglePoints",value:function(e){return[new Wi(e.x,e.y),new Wi(e.x+e.width,e.y),new Wi(e.x+e.width,e.y+e.height),new Wi(e.x,e.y+e.height)]}},{key:"createDataLabelTemplate",value:function(e,t,i,n,r,o,s){this.margin={left:0,right:0,bottom:0,top:0};var a,l=t.clipRect,h=Ut(Object(c.F)("div",{id:this.chart.element.id+"_Series_"+(void 0===t.index?t.category:t.index)+"_DataLabel_"+n.index+(o?"_"+o:""),styles:"position: absolute;background-color:"+r.color+";"+(a=i.font,"font-size:"+a.size+"; font-style:"+a.fontStyle+"; font-weight:"+a.fontWeight+"; font-family:"+a.fontFamily+";opacity:"+a.opacity+"; color:"+a.color+";")+";border:"+r.border.width+"px solid "+r.border.color+";"}),0,r.template,this.chart,n,t,this.chart.element.id+"_DataLabel"),d=Qt(h,s),u=this.calculateTextPosition(n,t,{width:d.width,height:d.height},i,o);h.style.left=("PolarRadar"===this.chart.chartAreaType?0:t.clipRect.x)+u.x+"px",h.style.top=("PolarRadar"===this.chart.chartAreaType?0:t.clipRect.y)+u.y+"px";var p=ai(li(this.fontBackground)),m=t.chart.requireInvertedAxis?t.xAxis:t.yAxis,g=t.chart.requireInvertedAxis?t.yAxis:t.xAxis;h.style.color=i.font.color||(Math.round((299*p.r+587*p.g+114*p.b)/1e3)>=128?"black":"white"),h.childElementCount&&(!ni(u,this.chart.dataLabelCollections,l)||"None"===i.labelIntersectAction)&&("XY"!==t.seriesType||void 0===n.yValue||pt(n.yValue,t.yAxis.visibleRange)||t.type.indexOf("100")>-1&&pt(t.stackedValues.endValues[n.index],t.yAxis.visibleRange))&&pt(n.xValue,t.xAxis.visibleRange)&&parseFloat(h.style.top)>=m.rect.y&&parseFloat(h.style.left)>=g.rect.x&&parseFloat(h.style.top)<=m.rect.y+m.rect.height&&parseFloat(h.style.left)<=g.rect.x+g.rect.width&&(this.chart.dataLabelCollections.push(new v(u.x+l.x,u.y+l.y,u.width,u.height)),Kt(this.chart.enableCanvas,e,h,s,!0,"left","top"),t.animation.enable&&this.chart.animateSeries&&this.doDataLabelAnimation(t,h))}},{key:"calculateTextPosition",value:function(e,t,i,n,r){var o,s=r>1&&"Candle"===t.type?e.regions[1]:e.regions[0];r>1&&"HiloOpenClose"===t.type&&(s=2===r?e.regions[1]:e.regions[2]),o=this.getLabelLocation(e,t,i,r);var a,l=t.clipRect;if(this.chart.requireInvertedAxis&&this.isRectSeries(t)&&"BoxAndWhisker"!==t.type){this.locationY=o.y;var h=i.width+this.borderWidth+this.margin.left+this.margin.right-5;o.x="Auto"===n.position?o.x:this.calculateAlignment(h,o.x,n.alignment,e.yValue<0),o.x=this.calculateRectPosition(o.x,s,e.yValue<0!==this.yAxisInversed,n.position,t,i,r,e)}else{this.locationX=o.x;var c=i.height+2*this.borderWidth+this.markerHeight+this.margin.bottom+this.margin.top+5;o.y="Auto"===n.position?o.y:this.calculateAlignment(c,o.y,n.alignment,!!this.isRectSeries(t)&&e.yValue<0),o.y=this.isRectSeries(t)&&"BoxAndWhisker"!==t.type?this.calculateRectPosition(o.y,s,e.yValue<0!==this.yAxisInversed,n.position,t,i,r,e):this.calculatePathPosition(o.y,n.position,t,e,i,r),this.isRectSeries(t)&&"PolarRadar"===this.chart.chartAreaType&&(o=this.calculatePolarRectPosition(o,n.position,t,e,i,r,n.alignment,c))}return a=oi(o,i,this.margin),!0===n.enableRotation&&0!==n.angle||a.y>l.y+l.height||a.x>l.x+l.width||a.x+a.width<0||a.y+a.height<0||(a.x=a.x<0?5:a.x,a.y=a.y<0?5:a.y,a.x-=a.x+a.width>l.x+l.width?a.x+a.width-(l.x+l.width)+5:0,a.y-=a.y+a.height>l.y+l.height?a.y+a.height-(l.y+l.height)+5:0,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground),a}},{key:"calculatePolarRectPosition",value:function(e,t,i,n,r,o,s,a){var l,h=this.chart.availableSize.width,c="Center"===s?0:"Far"===s?1:-1,d=n.regionData.startAngle-.5*Math.PI+(n.regionData.endAngle-n.regionData.startAngle)/2;return l=0===o?n.regionData.radius<n.regionData.innerRadius?n.regionData.innerRadius:n.regionData.radius:n.regionData.radius>n.regionData.innerRadius?n.regionData.innerRadius:n.regionData.radius,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,i.drawType.indexOf("Stacking")>-1?t="Outer"===t?"Top":t:i.drawType.indexOf("Range")>-1&&(t="Outer"===t||"Top"===t?t:"Auto"),"Outer"===t?l=0===o?l+10+this.markerHeight:l-10-this.markerHeight:"Middle"===t?(l=l/2+5,"StackingColumn"===i.drawType&&(l=n.regionData.innerRadius+(n.regionData.radius-n.regionData.innerRadius)/2+5-r.height/2)):"Top"===t?l=0===o?l-10-this.markerHeight:l+10+this.markerHeight:"Bottom"===t?(l=10,l+="StackingColumn"===i.drawType?n.regionData.innerRadius+this.markerHeight:0):l=0===o?l>=i.chart.radius?l-5:"StackingColumn"===i.drawType?l-10:l+10:l>=i.chart.radius?l+5:l-10,l+=a*c,e.x=i.clipRect.width/2+i.clipRect.x+l*Math.cos(d),"StackingColumn"===i.drawType?e.x=e.x<h/2?e.x+r.width/2:e.x>h/2?e.x-r.width/2:e.x:"Column"===i.drawType&&(e.x=e.x<h/2?e.x-r.width/2:e.x>h/2?e.x+r.width/2:e.x),e.y=i.clipRect.height/2+i.clipRect.y+l*Math.sin(d),e}},{key:"getLabelLocation",value:function(e,t,i,n){var r=new Wi(0,0),o="Candle"===t.type&&n>1?e.regions[1]:e.regions[0];"HiloOpenClose"===t.type&&(o=2===n?e.regions[1]:e.regions[2]);var s=t.xAxis,a=t.yAxis,l=t.chart.requireInvertedAxis;if("BoxAndWhisker"===t.type){switch(this.markerHeight=0,n){case 0:r=qt(e.xValue,e.median,s,a,l);break;case 1:r=qt(e.xValue,e.maximum,s,a,l);break;case 2:r=qt(e.xValue,e.minimum,s,a,l);break;case 3:r=qt(e.xValue,e.upperQuartile,s,a,l);break;case 4:r=qt(e.xValue,e.lowerQuartile,s,a,l);break;default:r=qt(e.xValue,e.outliers[n-5],s,a,l),this.markerHeight=t.marker.height/2}l?r.y=e.regions[0].y+e.regions[0].height/2:r.x=e.regions[0].x+e.regions[0].width/2}else r=0===n||1===n?new Wi(e.symbolLocations[0].x,e.symbolLocations[0].y):2!==n&&3!==n||"Candle"!==t.type?l?{x:o.x+o.width/2,y:o.y}:{x:o.x+o.width,y:o.y+o.height/2}:new Wi(e.symbolLocations[1].x,e.symbolLocations[1].y);return n>1&&"HiloOpenClose"===t.type&&(t.chart.requireInvertedAxis?r.y=o.y+o.height/2+2*(2===n?1:-1):r.x=o.x+o.width/2+2*(2===n?1:-1)),r}},{key:"calculateRectPosition",value:function(e,t,i,n,r,o,s,a){if("PolarRadar"===r.chart.chartAreaType)return null;var l=this.margin,h=this.borderWidth+(this.inverted?o.width:o.height)/2+5;switch(r.type.indexOf("Stacking")>-1?n="Outer"===n?"Top":n:r.type.indexOf("Range")>-1?n="Outer"===n||"Top"===n?n:"Auto":"Waterfall"===r.type&&(n="Auto"===n?"Middle":n),n){case"Bottom":e=this.inverted?i?e+t.width-h-l.left:e-t.width+h+l.right:i?e-t.height+h+l.top:e+t.height-h-l.bottom;break;case"Middle":e=e=this.inverted?i?e+t.width/2:e-t.width/2:i?e-t.height/2:e+t.height/2;break;case"Auto":e=this.calculateRectActualPosition(e,t,i,r,o,s,a);break;default:h+=this.errorHeight,e=this.calculateTopAndOuterPosition(e,t,n,r,s,h,i)}return this.fontBackground=(this.inverted?e<t.x||e>t.x+t.width:e<t.y||e>t.y+t.height)?"transparent"===this.fontBackground?this.chartBackground:this.fontBackground:"transparent"===this.fontBackground?a.color||r.interior:this.fontBackground,e}},{key:"calculatePathPosition",value:function(e,t,i,n,r,o){switch(i.type.indexOf("Area")>-1&&"RangeArea"!==i.type&&this.yAxisInversed&&"Auto"!==i.marker.dataLabel.position&&(t="Top"===t?"Bottom":"Bottom"===t?"Top":t),this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,t){case"Top":case"Outer":e=e-this.markerHeight-this.borderWidth-r.height/2-this.margin.bottom-5-this.errorHeight;break;case"Bottom":e=e+this.markerHeight+this.borderWidth+r.height/2+this.margin.top+5+this.errorHeight;break;case"Auto":e=this.calculatePathActualPosition(e,this.markerHeight,i,n,r,o)}return e}},{key:"isDataLabelShape",value:function(e){this.isShape="transparent"!==e.color||e.border.width>0,this.borderWidth=e.border.width,this.isShape||(this.margin={left:0,right:0,bottom:0,top:0})}},{key:"calculateRectActualPosition",value:function(e,t,i,n,r,o,s){for(var a,l,h=!0,c=0,d=this.chart.dataLabelCollections,u=-1!==n.type.indexOf("Range")||"Hilo"===n.type?2:4;h&&c<u;)a=this.calculateRectPosition(e,t,i,this.getPosition(c),n,r,o,s),this.inverted?h=(l=oi(new Wi(a,this.locationY),r,this.margin)).x<0||ni(l,d,n.clipRect)||l.x+l.width>n.clipRect.width:h=(l=oi(new Wi(this.locationX,a),r,this.margin)).y<0||ni(l,d,n.clipRect)||l.y>n.clipRect.height,c++;return a}},{key:"calculateAlignment",value:function(e,t,i,n){switch(i){case"Far":t=this.inverted?n?t-e:t+e:n?t+e:t-e;break;case"Near":t=this.inverted?n?t+e:t-e:n?t-e:t+e;break;case"Center":t=t}return t}},{key:"calculateTopAndOuterPosition",value:function(e,t,i,n,r,o,s){var a,l=this.margin;switch(n.type){case"RangeColumn":case"RangeArea":case"Hilo":a=0===r&&!this.yAxisInversed||1===r&&this.yAxisInversed,e=this.updateLabelLocation(i,e,o,l,t,a);break;case"Candle":a=(0===r||2===r)&&!this.yAxisInversed||(1===r||3===r)&&this.yAxisInversed,e=this.updateLabelLocation(i,e,o,l,t,a,r>1);break;case"HiloOpenClose":r<=1?(a=0===r&&!this.yAxisInversed||1===r&&this.yAxisInversed,e=this.updateLabelLocation(i,e,o,l,t,a)):e=this.yAxisInversed?this.inverted?e-o-l.right:e+o+l.top:this.inverted?e+o+l.left:e-o-l.bottom;break;default:e=s&&"Top"===i||!s&&"Outer"===i?this.inverted?e+o+l.left+this.markerHeight:e-o-l.bottom-this.markerHeight:this.inverted?e-o-l.right-this.markerHeight:e+o+l.top+this.markerHeight}return e}},{key:"updateLabelLocation",value:function(e,t,i,n,r,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return this.inverted?o?"Outer"!==e||s?t-i-n.right-this.markerHeight:t+i+n.left+this.markerHeight:"Outer"!==e||s?t-r.width+i+n.left+this.markerHeight:t-r.width-i-n.right-this.markerHeight:o?"Outer"!==e||s?t+i+n.top+this.markerHeight:t-i-n.bottom-this.markerHeight:"Outer"!==e||s?t+r.height-i-n.bottom-this.markerHeight:t+r.height+i+n.top+this.markerHeight}},{key:"calculatePathActualPosition",value:function(e,t,i,n,r,o){var s,a,l,h,c,d=i.points,u=n.index,p=d[u].yValue,m=d.length-1>u?d[u+1]:null,g=u>0?d[u-1]:null,v=!0,y=this.chart.dataLabelCollections;if("Bubble"===i.type)s="Top";else if(i.type.indexOf("Step")>-1)s="Top",u&&(s=g&&g.visible&&p>g.yValue===this.yAxisInversed&&p!==g.yValue?"Bottom":"Top");else if("BoxAndWhisker"===i.type)1===o||3===o||o>4?s=i.yAxis.isInversed?"Bottom":"Top":2===o||4===o?s=i.yAxis.isInversed?"Top":"Bottom":(v=!1,s="Middle",a=this.calculatePathPosition(e,s,i,n,r,o));else if(0===u)s=!m||!m.visible||p>m.yValue||p<m.yValue&&this.yAxisInversed?"Top":"Bottom";else if(u===d.length-1)s=!g||!g.visible||p>g.yValue||p<g.yValue&&this.yAxisInversed?"Top":"Bottom";else if(m.visible||g&&g.visible)if(m.visible&&g){var f=(m.yValue-g.yValue)/2,b=f*u+(m.yValue-f*(u+1));s=this.yAxisInversed?b<p?"Bottom":"Top":b<p?"Top":"Bottom"}else s=m.yValue>p||g&&g.yValue>p?"Bottom":"Top";else s="Top";for(h="Bottom"===s,c=["Outer","Top","Bottom","Middle","Auto"].indexOf(s);v&&c<4;)a=this.calculatePathPosition(e,this.getPosition(c),i,n,r,o),v=(l=oi(new Wi(this.locationX,a),r,this.margin)).y<0||ni(l,y,i.clipRect)||l.y+l.height>i.clipRect.height,c=h?c-1:c+1,h=!1;return a}},{key:"doDataLabelAnimation",value:function(e,t){for(var i,n,r=e.shapeElement.childNodes,o=e.textElement.childNodes,s=e.animation.delay+e.animation.duration,a=e.chart.animated?e.chart.duration:200,l=t?1:o.length,h=0;h<l;h++)n=o[h],t?(t.style.visibility="hidden",Zt(t,s,a,"ZoomIn")):(i=new Wi(+n.getAttribute("x")+ +n.getAttribute("width")/2,+n.getAttribute("y")+ +n.getAttribute("height")/2),Bt(n,s,a,e,null,i,!0),r[h]&&(n=r[h],i=new Wi(+n.getAttribute("x")+ +n.getAttribute("width")/2,+n.getAttribute("y")+ +n.getAttribute("height")/2),Bt(n,s,a,e,null,i,!0)))}},{key:"getPosition",value:function(e){return["Outer","Top","Bottom","Middle","Auto"][e]}},{key:"getModuleName",value:function(){return"DataLabel"}},{key:"destroy",value:function(e){}}]),e}()},va={provide:"ChartsSelection",useValue:Tn},ya={provide:"ChartsChartAnnotation",useValue:function(e){function t(e,i){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).chart=e,n.annotations=i,n}return _inherits(t,e),_createClass(t,[{key:"renderAnnotations",value:function(e){var t=this;this.annotations=this.chart.annotations,this.parentElement=pi(this.chart.redraw,this.chart.element.id+"_Annotation_Collections")||Object(c.F)("div",{id:this.chart.element.id+"_Annotation_Collections"}),this.annotations.map((function(e,i){t.processAnnotation(e,i,t.parentElement)})),Jt(this.parentElement,e,this.chart.redraw)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"Annotation"}}]),t}(function(){function e(t){_classCallCheck(this,e),this.control=t}return _createClass(e,[{key:"render",value:function(e,t){return this.isChart="chart"===this.control.getModuleName(),this.annotation=e,Ut(Object(c.F)("div",{id:this.control.element.id+"_Annotation_"+t,styles:"position: absolute; z-index: 1"}),0,e.content,this.control)}},{key:"setAnnotationPixelValue",value:function(e){var t;return t="Chart"===this.annotation.region?new v(0,0,this.control.availableSize.width,this.control.availableSize.height):this.isChart?this.control.chartAxisLayoutPanel.seriesClipRect:this.control.series[0].accumulationBound,e.x=("string"!=typeof this.annotation.x?"number"==typeof this.annotation.x?this.annotation.x:0:ui(this.annotation.x,t.width))+t.x,e.y=("number"==typeof this.annotation.y?this.annotation.y:ui(this.annotation.y,t.height))+t.y,!0}},{key:"setAnnotationPointValue",value:function(e){var t=new Wi(0,0);if(this.isChart){var i,n,r,o=this.control,s=this.annotation,a=s.xAxisName,l=s.yAxisName,h=o.requireInvertedAxis,c=this.control.stockChart,d=!0,u=!1,p=void 0;try{for(var m,g=o.axisCollections[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var v=m.value;if(a===v.name||null==a&&"primaryXAxis"===v.name)if((i=v).valueType.indexOf("Category")>-1){var y="DateTimeCategory"===i.valueType?s.x.getTime().toString():s.x;if(i.labels.indexOf(y)<0)return!1;r=i.labels.indexOf(y)}else if("DateTime"===i.valueType){var f={skeleton:"full",type:"dateTime"};r="object"==typeof this.annotation.x?Date.parse(o.intl.getDateParser(f)(o.intl.getDateFormat(f)(new Date(D.b.parse.parseJson({val:s.x}).val)))):0}else r=+s.x;else(l===v.name||null==l&&"primaryYAxis"===v.name)&&"Logarithmic"===(n=v).valueType}}catch(b){u=!0,p=b}finally{try{d||null==g.return||g.return()}finally{if(u)throw p}}return!!(i&&n&&pt("Logarithmic"===i.valueType?ct(r,i.logBase):r,i.visibleRange)&&pt("Logarithmic"===n.valueType?ct(+s.y,n.logBase):+s.y,n.visibleRange))&&(t=qt(r,+s.y,i,n,h),e.x=t.x+(h?n.rect.x:i.rect.x),e.y=t.y+(h?i.rect.y:n.rect.y)+(c&&c.enablePeriodSelector?c.toolbarHeight+c.titleSize.height:0),!0)}return this.setAccumulationPointValue(e)}},{key:"processAnnotation",value:function(e,t,i){var n,r,o=this.control;r=new Wi(0,0),n=this.render(e,t),this["setAnnotation"+e.coordinateUnits+"Value"](r)?this.setElementStyle(r,n,i):this.control.redraw&&ht(n.id);var s=function(){n.style.transform="translate(-50%, -50%)"};s.bind(r,this),Object(c.rb)((this.control.element.id+"Annotation"+t).replace(/[^a-zA-Z0-9]/g,""),"ContentTemplate",o.stockChart?o.stockChart.annotations[t]:this.control.annotations[t],void 0,s)}},{key:"setAccumulationPointValue",value:function(e){var t,i=this.control,n=!0,r=!1,o=void 0;try{for(var s,a=i.visibleSeries[0].points[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;if("object"==typeof l.x){if(Date.parse(l.x)===Date.parse(this.annotation.x)&&l.y==this.annotation.y){t=l;break}}else if(l.x==this.annotation.x&&l.y==this.annotation.y){t=l;break}}}catch(h){r=!0,o=h}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!(!t||!t.visible||(e.x=t.symbolLocation.x,e.y=t.symbolLocation.y,0))}},{key:"setElementStyle",value:function(e,t,i){var n=Qt(t,this.control.redraw),r={cancel:!1,name:"annotationRender",content:t,location:e};this.control.trigger("annotationRender",r),r.cancel||(r.content.style.left=this.setAlignmentValue(this.annotation.horizontalAlignment,n.width,r.location.x)+"px",r.content.style.top=this.setAlignmentValue(this.annotation.verticalAlignment,n.height,r.location.y)+"px",r.content.setAttribute("aria-label",this.annotation.description||"Annotation"),Jt(r.content,i,this.control.redraw,!0,"left","top"))}},{key:"setAlignmentValue",value:function(e,t,i){switch(e){case"Top":case"Near":i-=t;break;case"Bottom":case"Far":i+=0;break;case"Middle":case"Center":i-=t/2}return i}}]),e}())},fa={provide:"ChartsHiloSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){var t,i,n=this.getSideBySideInfo(e),r=!0,o=!1,s=void 0;try{for(var a,l=e.points[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;h.symbolLocations=[],h.regions=[],h.visible&&gt(e.points[h.index-1],h,e.points[h.index+1],e)&&(t=this.getRectangle(h.xValue+n.median,h.high,h.xValue+n.median,h.low,e),(i=this.triggerPointRenderEvent(e,h)).cancel||(e.chart.requireInvertedAxis?(t.height=i.border.width,t.y=t.y-t.height/2):(t.width=i.border.width,t.x=t.x-t.width/2),i.border.width=0,this.updateSymbolLocation(h,t,e),this.drawRectangle(e,h,t,i)))}}catch(c){o=!0,s=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}},{key:"triggerPointRenderEvent",value:function(e,i){var n={color:e.fill,width:Math.max(e.border.width,2)};return _get(_getPrototypeOf(t.prototype),"triggerEvent",this).call(this,e,i,e.interior,n)}},{key:"getModuleName",value:function(){return"HiloSeries"}},{key:"doAnimation",value:function(e){this.animate(e)}},{key:"destroy",value:function(e){}}]),t}(kn)},ba={provide:"ChartsHiloOpenCloseSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){var t,i,n=this.getSideBySideInfo(e),r=Math.max(e.border.width,2),o=!0,s=!1,a=void 0;try{for(var l,h=e.points[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;c.symbolLocations=[],c.regions=[],c.visible&&gt(e.points[c.index-1],c,e.points[c.index+1],e)&&(t=this.getRectangle(c.xValue+n.start,Math.max(c.high,c.low),c.xValue+n.end,Math.min(c.high,c.low),e),c.regions.push(this.getRectangle(c.xValue+n.median,Math.max(c.high,c.low),c.xValue+n.median,Math.min(c.high,c.low),e)),this.updateTickRegion(!e.chart.requireInvertedAxis,c.regions[0],r),c.regions.push(this.getRectangle(c.xValue+n.start,Math.max(c.open,c.close),c.xValue+n.median,Math.max(c.open,c.close),e)),c.regions.push(this.getRectangle(c.xValue+n.median,Math.min(c.open,c.close),c.xValue+n.end,Math.min(c.open,c.close),e)),(i=this.triggerPointRenderEvent(e,c)).cancel||(this.updateSymbolLocation(c,c.regions[0],e),this.drawHiloOpenClosePath(e,c,{x:c.regions[1].x,y:c.regions[1].y},{x:c.regions[2].x,y:c.regions[2].y},t,i)),this.updateTickRegion(e.chart.requireInvertedAxis,c.regions[1],r),this.updateTickRegion(e.chart.requireInvertedAxis,c.regions[2],r))}}catch(d){s=!0,a=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}}},{key:"updateTickRegion",value:function(e,t,i){e?(t.x-=i/2,t.width=i):(t.y-=i/2,t.height=i)}},{key:"triggerPointRenderEvent",value:function(e,t){var i=t.open<=t.close?e.bearFillColor:e.bullFillColor,n={color:e.border.color,width:Math.max(e.border.width,1)};return this.triggerEvent(e,t,i,n)}},{key:"drawHiloOpenClosePath",value:function(e,t,i,n,r,o){var s,a;e.chart.requireInvertedAxis?(s="M "+r.x+" "+(r.y+r.height/2)+" L "+(r.x+r.width)+" "+(r.y+r.height/2)+" ",s+="M "+i.x+" "+(r.y+r.height/2)+" L "+i.x+" "+(r.y+r.height)+" ",s+="M "+n.x+" "+(r.y+r.height/2)+" L "+n.x+" "+r.y+" "):(s="M "+(r.x+r.width/2)+" "+(r.y+r.height)+" L "+(r.x+r.width/2)+" "+r.y+" ",s+="M "+r.x+" "+i.y+" L "+(r.x+r.width/2)+" "+i.y+" ",s+="M "+(r.x+r.width/2)+" "+n.y+" L "+(r.x+r.width)+" "+n.y+" "),Nt(Yt((a=new P(e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,o.fill,o.border.width,o.fill,e.opacity,e.dashArray,s)).id),s,e.chart.redraw);var l=e.chart.renderer.drawPath(a,new Int32Array([e.clipRect.x,e.clipRect.y]));l.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString()+":"+t.close.toString()+":"+t.open.toString()),e.chart.enableCanvas||e.seriesElement.appendChild(l)}},{key:"getModuleName",value:function(){return"HiloOpenCloseSeries"}},{key:"doAnimation",value:function(e){this.animate(e)}},{key:"destroy",value:function(e){}}]),t}(kn)},xa={provide:"ChartsWaterfallSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){var t,i,n,r,o=this.getSideBySideInfo(e),s=Math.max(e.yAxis.visibleRange.min,0),a=0,l="",h=0,c=null,d=e.chart.requireInvertedAxis,u=0,p=e.chart.redraw,m=!0,g=!1,v=void 0;try{for(var y,f=e.points[Symbol.iterator]();!(m=(y=f.next()).done);m=!0){var b=y.value;if(b.symbolLocations=[],b.regions=[],b.visible&&gt(e.points[b.index-1],b,e.points[b.index+1],e)){var x=this.isIntermediateSum(e,b.index),_=this.isSumIndex(e,b.index);h+=x||!0===_?0:b.yValue,n=!0===x?u:null===a||_?s:a,t=this.getRectangle(b.xValue+o.start,h,b.xValue+o.end,n,e),i=this.triggerPointRenderEvent(e,b),x&&(u=h),a=h,i.cancel||(this.updateSymbolLocation(b,t,e),this.drawRectangle(e,b,t,i));var w=b.regions[0];if(null!==c){var C=d?w.x:w.y,k=d?c.x+c.width:c.y+c.height,S=d?w.x+w.width:w.y+w.height;r=Math.round(d?c.x:c.y)===Math.round(C)||Math.round(k)===Math.round(C)?d?w.x:w.y:S,l=l.concat(d?"M "+r+" "+(c.y+c.height)+" L "+r+" "+w.y+" ":"M "+c.x+" "+r+" L "+(w.x+w.width)+" "+r+" ")}c=b.regions[0]}}}catch(L){g=!0,v=L}finally{try{m||null==f.return||f.return()}finally{if(g)throw v}}var M=new P(e.chart.element.id+"_Series_"+e.index+"_Connector_","none",e.connector.width,e.connector.color,e.opacity,e.connector.dashArray,l);p&&Yt(M.id)&&(l=Yt(M.id).getAttribute("d"));var O=pi(p,M.id,M,e.chart.renderer)||e.chart.renderer.drawPath(M,new Int32Array([e.clipRect.x,e.clipRect.y]));O.style.visibility=e.chart.enableCanvas?null:e.animation.enable&&e.chart.animateSeries?"hidden":"visible",Kt(e.chart.enableCanvas,e.seriesElement,O,p,!0,null,null,null,l),this.renderMarker(e)}},{key:"isIntermediateSum",value:function(e,t){return void 0!==e.intermediateSumIndexes&&-1!==e.intermediateSumIndexes.indexOf(t)}},{key:"isSumIndex",value:function(e,t){return void 0!==e.sumIndexes&&-1!==e.sumIndexes.indexOf(t)}},{key:"triggerPointRenderEvent",value:function(e,t){var i,n=this.isIntermediateSum(e,t.index),r=this.isSumIndex(e,t.index);return i=n||r?e.summaryFillColor:t.y<0?e.negativeFillColor:e.interior,this.triggerEvent(e,t,i,{color:e.border.color,width:e.border.width})}},{key:"processInternalData",value:function(e,t){var i,n=e,r=t.intermediateSumIndexes,o=t.sumIndexes;if(void 0!==r&&r.length>0)for(var s=0;s<r.length;s++)for(var a=0;a<n.length;a++)a===r[s]&&(i=yt(n,0===s?-1:r[s-1],r[s],null,t),n[a][t.yName]=i);if(void 0!==o&&o.length>0)for(var l=0;l<o.length;l++)for(var h=0;h<n.length;h++)h===o[l]&&(i=yt(n,-1,o[l],void 0!==r?o:null,t),n[h][t.yName]=i);return n}},{key:"doAnimation",value:function(e){this.animate(e)}},{key:"getModuleName",value:function(){return"WaterfallSeries"}},{key:"destroy",value:function(e){}}]),t}(kn)},_a={provide:"ChartsRangeAreaSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){for(var r,o="",s="M",a=void 0,l=this.enableComplexProperty(e),h=0,c=l.length;h<c;h++){(r=l[h]).symbolLocations=[],r.regions=[];var d=Math.min(r.low,r.high),u=Math.max(r.low,r.high);if(i.isInversed){var p=d;d=u,u=p}var m=qt(r.xValue,d,t,i,n),g=qt(r.xValue,u,t,i,n);r.symbolLocations.push(g),r.symbolLocations.push(m);var y=new v(Math.min(m.x,g.x),Math.min(m.y,g.y),Math.max(Math.abs(g.x-m.x),e.marker.width),Math.max(Math.abs(g.y-m.y),e.marker.width));n?y.y-=e.marker.width/2:y.x-=e.marker.width/2,r.regions.push(y),r.visible&&gt(l[r.index-1],r,l[r.index+1],e)?(o=o.concat(s+" "+m.x+" "+m.y+" "),a=!1,(h+1<l.length&&!l[h+1].visible||h===l.length-1)&&(s="M",o=(o=this.closeRangeAreaPath(l,r,e,o,h)).concat(" Z"),a=!0),s="L"):(!1===a&&0!==h&&(o=this.closeRangeAreaPath(l,r,e,o,h),a=!0),s="M",r.symbolLocations=[])}var f=new P("Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,o);this.appendLinePath(f,e,""),this.renderMarker(e)}},{key:"closeRangeAreaPath",value:function(e,t,i,n,r){for(var o=r;o>=0&&e[o].visible&&e[o].symbolLocations[0];o--)n+="L "+(t=e[o]).symbolLocations[0].x+" "+t.symbolLocations[0].y+" ";return n}},{key:"doAnimation",value:function(e){this.doLinearAnimation(e,e.animation)}},{key:"getModuleName",value:function(){return"RangeAreaSeries"}},{key:"destroy",value:function(e){}}]),t}(wn)},wa={provide:"ChartsCandleSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){var t,i=this.getSideBySideInfo(e),n=Math.max(e.border.width,1),r=!0,o=!1,s=void 0;try{for(var a,l=e.points[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value,c=void 0,d=void 0,u="";(i.start+i.end)/2,h.regions=[],h.symbolLocations=[],h.visible&&gt(e.points[h.index-1],h,e.points[h.index+1],e)&&(d=this.getRectangle(h.xValue+i.median,Math.max(h.high,h.low),h.xValue+i.median,Math.min(h.high,h.low),e),e.chart.requireInvertedAxis?(d.y-=n/2,d.height=n):(d.x-=n/2,d.width=n),c=this.getRectangle(h.xValue+i.start,Math.max(h.open,h.close),h.xValue+i.end,Math.min(h.open,h.close),e),u=this.getPathString(d,c,e),(t=this.triggerPointRenderEvent(e,h)).cancel||(this.drawCandle(e,h,c,t,u),this.updateSymbolLocation(h,d,e),this.updateSymbolLocation(h,c,e)))}}catch(p){o=!0,s=p}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}},{key:"triggerPointRenderEvent",value:function(e,t){var i;i=this.getCandleColor(t,e);var n={color:e.border.color,width:Math.max(e.border.width,1)};return this.triggerEvent(e,t,i,n)}},{key:"getCandleColor",value:function(e,t){var i=t.points[e.index-1];return!1===t.enableSolidCandles?i&&i.close>e.close?t.bullFillColor:t.bearFillColor:e.open>e.close?t.bullFillColor:t.bearFillColor}},{key:"getPathString",value:function(e,t,i){var n="",r=i.chart.requireInvertedAxis?e.y+e.height/2:e.x+e.width/2;return n=(n+=i.chart.requireInvertedAxis?"M "+e.x+" "+r+" L "+t.x+" "+r:"M "+r+" "+e.y+" L "+r+" "+t.y).concat(" M "+t.x+" "+t.y+" L "+(t.x+t.width)+" "+t.y+" L "+(t.x+t.width)+" "+(t.y+t.height)+" L "+t.x+" "+(t.y+t.height)+" Z"),n+=i.chart.requireInvertedAxis?" M "+(t.x+t.width)+" "+r+" L "+(e.x+e.width)+" "+r:" M "+r+" "+(t.y+t.height)+" L "+r+" "+(e.y+e.height)}},{key:"drawCandle",value:function(e,t,i,n,r){if((e.chart.requireInvertedAxis?i.height:i.width)<=0)return null;var o=e.enableSolidCandles?n.fill:t.open>t.close?n.fill:"transparent";n.border.color=n.fill;var s=new P(e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,o,n.border.width,n.border.color,e.opacity,e.dashArray,r),a=Yt(s.id),l=a?a.getAttribute("d"):null,h=e.chart.renderer.drawPath(s,new Int32Array([e.clipRect.x,e.clipRect.y]));h.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString()+":"+t.close.toString()+":"+t.open.toString()),e.chart.enableCanvas||e.seriesElement.appendChild(h),Nt(a,r,e.chart.redraw,l)}},{key:"doAnimation",value:function(e){this.animate(e)}},{key:"getModuleName",value:function(){return"CandleSeries"}},{key:"destroy",value:function(e){}}]),t}(kn)},Ca={provide:"ChartsPolarSeries",useValue:On},ka={provide:"ChartsRadarSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r=It(e.drawType),o=i.minimum,s=i.maximum,a=!0,l=!1,h=void 0;try{for(var d,u=e.points[Symbol.iterator]();!(a=(d=u.next()).done);a=!0){var p=d.value;p.visible=p.visible&&!(!Object(c.W)(o)&&p.yValue<o||!Object(c.W)(s)&&p.yValue>s)}}catch(m){l=!0,h=m}finally{try{a||null==u.return||u.return()}finally{if(l)throw h}}-1===e.drawType.indexOf("Column")?e.chart[r+"SeriesModule"].render(e,t,i,n):this.columnDrawTypeRender(e,t,i)}},{key:"getRadarIsInversedPath",value:function(e,t){var i,n,r=this.chart.radius,o=e.visibleLabels.length,s=t;n=Mt(Ot(e.visibleLabels[0].value,e),this.startAngle),i=this.centerY+r*n.y,s+=" L "+(this.centerX+r*n.x)+" "+i+" ";for(var a=o-1;a>=0;a--)n=Mt(Ot(e.visibleLabels[a].value,e),this.startAngle),i=this.centerY+r*n.y,s+="L "+(this.centerX+r*n.x)+" "+i+" ";return s}},{key:"getModuleName",value:function(){return"RadarSeries"}},{key:"destroy",value:function(e){}}]),t}(On)},Sa={provide:"ChartsSmaIndicator",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initDataSource",value:function(e,t){var i=[],n=e.points;if(n&&n.length){var r=n,o=It(e.field),s=e.targetSeries[0];if(r&&r.length&&r.length>=e.period){for(var a=0,l=0,h=0;h<e.period;h++)l+=r[h][o];a=l/e.period,i.push(this.getDataPoint(r[e.period-1].x,a,r[e.period-1],s,i.length));for(var c=e.period;c<r.length;)l-=r[c-e.period][o],a=(l+=r[c][o])/e.period,i.push(this.getDataPoint(r[c].x,a,r[c],s,i.length)),c++}this.setSeriesRange(i,e)}}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"SmaIndicator"}}]),t}(Pn)},Ma={provide:"ChartsTmaIndicator",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initDataSource",value:function(e,t){var i=[],n=It(e.field),r=e.points;if(r&&r.length&&r.length>=e.period){var o=e.targetSeries[0],s=e.points;if(s.length&&s.length>=e.period){for(var a=0,l=[],h=0,c=s.length,d=e.period;c>=d;){a=0;for(var u=h=s.length-c;u<h+d;u++)a+=s[u][n];a/=d,l.push(a),c--}for(var p=0;p<d-1;p++){a=0;for(var m=0;m<p+1;m++)a+=s[m][n];a/=p+1,l.splice(p,0,a)}for(h=e.period;h<=l.length;){a=0;for(var g=h-e.period;g<h;g++)a+=l[g];a/=e.period,i.push(this.getDataPoint(s[h-1].x,a,s[h-1],o,i.length)),h++}}}this.setSeriesRange(i,e)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"TmaIndicator"}}]),t}(Pn)},Oa={provide:"ChartsEmaIndicator",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initDataSource",value:function(e,t){var i=It(e.field),n=[],r=e.targetSeries[0],o=e.points;if(o&&o.length&&o.length>=e.period){for(var s,a=0,l=2/(e.period+1),h=0;h<e.period;h++)a+=o[h][i];s=a/e.period,n.push(this.getDataPoint(o[e.period-1].x,s,o[e.period-1],r,n.length));for(var c=e.period;c<o.length;){var d=n[c-e.period][r.yName];n.push(this.getDataPoint(o[c].x,(o[c][i]-d)*l+d,o[c],r,n.length)),c++}}this.setSeriesRange(n,e)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"EmaIndicator"}}]),t}(Pn)},La={provide:"ChartsAccumulationDistributionIndicator",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initDataSource",value:function(e,t){var i=[],n=e.points;n.length>0&&n.length>e.period&&(i=this.calculateADPoints(e,n)),this.setSeriesRange(i,e)}},{key:"calculateADPoints",value:function(e,t){var i=[],n=0,r=0,o=0,s=0,a=0,l=e.targetSeries[0];for(r=0;r<t.length;r++)o=Number(t[r].high),s=Number(t[r].low),n+=((a=Number(t[r].close))-s-(o-a))/(o-s)*Number(t[r].volume),i[r]=this.getDataPoint(t[r].x,n,t[r],l,i.length);return i}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"AccumulationDistributionIndicator"}}]),t}(Pn)},Pa={provide:"ChartsMacdIndicator",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initSeriesCollection",value:function(e,i){if(_get(_getPrototypeOf(t.prototype),"initSeriesCollection",this).call(this,e,i),"Line"===e.macdType||"Both"===e.macdType){var n=new on(e,"targetSeries",{},!0);this.setSeriesProperties(n,e,"MacdLine",e.macdLine.color,e.macdLine.width,i)}if("Histogram"===e.macdType||"Both"===e.macdType){var r=new on(e,"targetSeries",{},!0);r.type="Column",this.setSeriesProperties(r,e,"Histogram",e.macdPositiveColor,e.width,i)}}},{key:"initDataSource",value:function(e,t){var i,n,r=[],o=e.fastPeriod,s=e.slowPeriod,a=e.period,l=o+a,h=[],c=[],d=e.points,u=e.targetSeries[0];if("Histogram"===e.macdType?i=e.targetSeries[1]:(n=e.targetSeries[1],"Both"===e.macdType&&(i=e.targetSeries[2])),d&&l<d.length&&s<=o&&s>0&&l-2>=0){var p=this.calculateEMAValues(s,d,"close"),m=this.calculateEMAValues(o,d,"close"),g=this.getMACDVales(e,p,m);h=this.getMACDPoints(e,g,d,n||u);var v=this.calculateEMAValues(a,h,"y");r=this.getSignalPoints(e,v,d,u),i&&(c=this.getHistogramPoints(e,g,v,d,i))}this.setSeriesRange(r,e,e.targetSeries[0]),i&&this.setSeriesRange(c,e,i),n&&this.setSeriesRange(h,e,n)}},{key:"calculateEMAValues",value:function(e,t,i){for(var n,r=0,o=[],s=2/(e+1),a=0;a<e;a++)r+=Number(t[a][i]);n=r/e,o.push(n);for(var l=n,h=e;h<t.length;h++)l=(Number(t[h][i])-l)*s+l,o.push(l);return o}},{key:"getMACDPoints",value:function(e,t,i,n){for(var r=[],o=e.fastPeriod-1,s=0;o<i.length;)r.push(this.getDataPoint(i[o].x,t[s],i[o],n,r.length)),o++,s++;return r}},{key:"getSignalPoints",value:function(e,t,i,n){for(var r=e.fastPeriod+e.period-2,o=0,s=[];r<i.length;)s.push(this.getDataPoint(i[r].x,t[o],i[r],n,s.length)),r++,o++;return s}},{key:"getMACDVales",value:function(e,t,i){for(var n=[],r=e.fastPeriod-e.slowPeriod,o=0;o<i.length;o++)n.push(t[o+r]-i[o]);return n}},{key:"getHistogramPoints",value:function(e,t,i,n,r){for(var o=e.fastPeriod+e.period-2,s=0,a=[];o<n.length;)a.push(this.getDataPoint(n[o].x,t[s+(e.period-1)]-i[s],n[o],r,a.length,e)),o++,s++;return a}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"MacdIndicator"}}]),t}(Pn)},Aa={provide:"ChartsAtrIndicator",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initDataSource",value:function(e,t){var i=e.points;i.length>0&&i.length>e.period&&this.calculateATRPoints(e,i)}},{key:"calculateATRPoints",value:function(e,t){for(var i=0,n=0,r=0,o=0,s=0,a=[],l=[],h=e.period,c=0,d=e.targetSeries[0],u=0;u<t.length;u++)n=Number(t[u].high)-Number(t[u].low),u>0&&(r=Math.abs(Number(t[u].high)-Number(t[u-1].close)),o=Math.abs(Number(t[u].low)-Number(t[u-1].close))),c+=s=Math.max(n,r,o),u>=h?(i=(Number(l[u-1].y)*(h-1)+s)/h,a.push(this.getDataPoint(t[u].x,i,t[u],d,a.length))):(i=c/h,u===h-1&&a.push(this.getDataPoint(t[u].x,i,t[u],d,a.length))),l[u]={x:t[u].x,y:i};this.setSeriesRange(a,e)}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"AtrIndicator"}}]),t}(Pn)},Ra={provide:"ChartsRsiIndicator",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initSeriesCollection",value:function(e,i){if(_get(_getPrototypeOf(t.prototype),"initSeriesCollection",this).call(this,e,i),e.showZones){var n=new on(e,"targetSeries",{},!0);_get(_getPrototypeOf(t.prototype),"setSeriesProperties",this).call(this,n,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,i);var r=new on(e,"targetSeries",{},!0);_get(_getPrototypeOf(t.prototype),"setSeriesProperties",this).call(this,r,e,"UpperLine",e.upperLine.color,e.upperLine.width,i)}}},{key:"initDataSource",value:function(e,t){var i=[],n=[],r=[],o=e.targetSeries[0],s=e.points;if(s.length&&s.length>=e.period){if(e.showZones)for(var a=0;a<s.length;a++)r.push(this.getDataPoint(s[a].x,e.overBought,s[a],e.targetSeries[1],r.length)),n.push(this.getDataPoint(s[a].x,e.overSold,s[a],e.targetSeries[2],n.length));for(var l=Number(s[0].close),h=0,c=0,d=1;d<=e.period;d++){var u=Number(s[d].close);u>l?h+=u-l:c+=l-u,l=u}h/=e.period,c/=e.period,i.push(this.getDataPoint(s[e.period].x,100-100/(1+h/c),s[e.period],o,i.length));for(var p=e.period+1;p<s.length;p++){var m=Number(s[p].close);m>l?(h=(h*(e.period-1)+(m-l))/e.period,c=c*(e.period-1)/e.period):m<l&&(c=(c*(e.period-1)+(l-m))/e.period,h=h*(e.period-1)/e.period),l=m,i.push(this.getDataPoint(s[p].x,100-100/(1+h/c),s[p],o,i.length))}}this.setSeriesRange(i,e,e.targetSeries[0]),e.showZones&&(this.setSeriesRange(r,e,e.targetSeries[1]),this.setSeriesRange(n,e,e.targetSeries[2]))}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"RsiIndicator"}}]),t}(Pn)},Ta={provide:"ChartsMomentumIndicator",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initSeriesCollection",value:function(e,i){_get(_getPrototypeOf(t.prototype),"initSeriesCollection",this).call(this,e,i);var n=new on(e,"targetSeries",{},!0);_get(_getPrototypeOf(t.prototype),"setSeriesProperties",this).call(this,n,e,"UpperLine",e.upperLine.color,e.upperLine.width,i)}},{key:"initDataSource",value:function(e,t){var i=[],n=[],r=e.points;if(r&&r.length){var o=e.targetSeries[1],s=e.targetSeries[0],a=e.period;if(r.length>=e.period)for(var l=0;l<r.length;l++)i.push(this.getDataPoint(r[l].x,100,r[l],o,i.length)),l<a||n.push(this.getDataPoint(r[l].x,Number(r[l].close)/Number(r[l-a].close)*100,r[l],s,n.length));this.setSeriesRange(n,e,e.targetSeries[0]),this.setSeriesRange(i,e,e.targetSeries[1])}}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"MomentumIndicator"}}]),t}(Pn)},ja={provide:"ChartsStochasticIndicator",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initSeriesCollection",value:function(e,i){_get(_getPrototypeOf(t.prototype),"initSeriesCollection",this).call(this,e,i);var n=new on(e,"targetSeries",{},!0);if(this.setSeriesProperties(n,e,"PeriodLine",e.periodLine.color,e.periodLine.width,i),e.showZones){var r=new on(e,"targetSeries",{},!0);this.setSeriesProperties(r,e,"UpperLine",e.upperLine.color,e.upperLine.width,i);var o=new on(e,"targetSeries",{},!0);this.setSeriesProperties(o,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,i)}}},{key:"initDataSource",value:function(e,t){var i=[],n=[],r=[],o=[],s=[],a=e.points;if(a.length&&a.length>=e.period){if(e.showZones)for(var l=0;l<a.length;l++)n.push(this.getDataPoint(a[l].x,e.overBought,a[l],e.targetSeries[2],n.length)),r.push(this.getDataPoint(a[l].x,e.overSold,a[l],e.targetSeries[3],r.length));s=this.calculatePeriod(e.period,e.kPeriod,a,e.targetSeries[1]),o=this.smaCalculation(e.period,e.kPeriod,s,e.targetSeries[1]),i=this.smaCalculation(e.period+e.kPeriod-1,e.dPeriod,s,e.targetSeries[0])}this.setSeriesRange(i,e,e.targetSeries[0]),this.setSeriesRange(o,e,e.targetSeries[1]),e.showZones&&(this.setSeriesRange(n,e,e.targetSeries[2]),this.setSeriesRange(r,e,e.targetSeries[3]))}},{key:"smaCalculation",value:function(e,t,i,n){var r=[];if(i.length>=e+t){for(var o=e+(t-1),s=[],a=[],l=0;l<i.length;l++){var h=Number(i[l].y);s.push(h)}for(var c=s.length;c>=o;){for(var d=0,u=e-1;u<e+t-1;u++)d+=s[u];d/=t,a.push(d.toFixed(2)),s.splice(0,1),c=s.length}for(var p=o-1,m=0;m<i.length;m++)m<p||(r.push(this.getDataPoint(i[m].x,Number(a[m-p]),i[m],n,r.length)),i[m].y=Number(a[m-p]))}return r}},{key:"calculatePeriod",value:function(e,t,i,n){for(var r=[],o=[],s=[],a=[],l=0;l<i.length;l++)r[l]=i[l].low,o[l]=i[l].high,s[l]=i[l].close;if(i.length>e){for(var h=[],c=[],d=0;d<e-1;++d)c.push(0),h.push(0),a.push(this.getDataPoint(i[d].x,i[d].close,i[d],n,a.length));for(var u=e-1;u<i.length;++u){for(var p=Number.MAX_VALUE,m=Number.MIN_VALUE,g=0;g<e;++g)p=Math.min(p,r[u-g]),m=Math.max(m,o[u-g]);c.push(m),h.push(p)}for(var v=e-1;v<i.length;++v){var y=0,f=0;y+=s[v]-h[v],f+=c[v]-h[v],a.push(this.getDataPoint(i[v].x,y/f*100,i[v],n,a.length))}}return a}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"StochasticIndicator"}}]),t}(Pn)},Ia={provide:"ChartsBollingerBands",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initSeriesCollection",value:function(e,t){e.targetSeries=[];var i=new on(e,"targetSeries",{},!0);i.type="RangeArea","transparent"!==e.bandColor&&"none"!==e.bandColor&&this.setSeriesProperties(i,e,"BollingerBand",e.bandColor,0,t);var n=new on(e,"targetSeries",{},!0);this.setSeriesProperties(n,e,"BollingerBand",e.fill,e.width,t);var r=new on(e,"targetSeries",{},!0);this.setSeriesProperties(r,e,"UpperLine",e.upperLine.color,e.upperLine.width,t);var o=new on(e,"targetSeries",{},!0);this.setSeriesProperties(o,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t)}},{key:"initDataSource",value:function(e,t){var i="transparent"!==e.bandColor&&"none"!==e.bandColor,n=i?1:0,r=[],o=[],s=[],a=[],l=e.targetSeries[n+1],h=e.targetSeries[n+2],c=e.targetSeries[n],d=i?e.targetSeries[0]:null,u=e.points;if(u.length&&u.length>=e.period){for(var p=0,m=0,g=e.standardDeviation,v=u.length,y=Math.round(e.period),f=[],b=[],x=[],_=0;_<y;_++)p+=Number(u[_].close);for(var w=p/e.period,C=0;C<v;C++){var k=Number(u[C].close);if(C>=y-1&&C<v){C-e.period>=0?(w=(p+=k-Number(u[C-y].close))/e.period,f[C]=w,b[C]=Math.pow(k-w,2),m+=b[C]-b[C-y]):(f[C]=w,b[C]=Math.pow(k-w,2),m+=b[C]);var S=Math.sqrt(m/e.period),M=f[C]-g*S,O=f[C]+g*S;if(C+1===y)for(var L=0;L<y-1;L++)x[L]={X:u[L].x,mb:f[C],lb:M,ub:O,visible:!0};x[C]={X:u[C].x,mb:f[C],lb:M,ub:O,visible:!0}}else C<e.period-1&&(f[C]=w,b[C]=Math.pow(k-w,2),m+=b[C])}for(var P=-1,A=-1,R=0;R<v;R++)if(R>=y-1){o.push(this.getDataPoint(u[R].x,x[R].ub,u[R],l,o.length)),s.push(this.getDataPoint(u[R].x,x[R].lb,u[R],h,s.length)),r.push(this.getDataPoint(u[R].x,x[R].mb,u[R],c,r.length)),i&&a.push(this.getRangePoint(u[R].x,o[++P].y,s[++A].y,u[R],d,a.length))}}i&&this.setSeriesRange(a,e,e.targetSeries[0]),this.setSeriesRange(r,e,e.targetSeries[n]),this.setSeriesRange(o,e,e.targetSeries[n+1]),this.setSeriesRange(s,e,e.targetSeries[n+2])}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"BollingerBandsIndicator"}}]),t}(Pn)},za={provide:"ChartsBoxAndWhiskerSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r,o=this.getSideBySideInfo(e),s=!0,a=!1,l=void 0;try{for(var h,d=e.points[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var u=h.value,p=void 0;u.symbolLocations=[],u.regions=[],u.visible&&gt(e.points[u.index-1],u,e.points[u.index+1],e)&&(this.findBoxPlotValues(u.y,u,e.boxPlotMode),this.updateTipRegion(e,u,o),p=this.getRectangle(u.xValue+o.start,u.upperQuartile,u.xValue+o.end,u.lowerQuartile,e),u.regions.push(p),(r=this.triggerEvent(e,u,e.interior,{color:Object(c.W)(e.border.color)||"transparent"===e.border.color?hi(e.interior,-.6):e.border.color,width:e.border.width?e.border.width:1})).cancel||this.renderBoxAndWhisker(e,u,p,r,this.getPathString(u,e,qt(u.xValue,u.median,t,i,n),qt(u.xValue+o.median,u.average,t,i,n)),o.median))}}catch(m){a=!0,l=m}finally{try{s||null==d.return||d.return()}finally{if(a)throw l}}e.marker.visible&&e.chart.markerRender.render(e)}},{key:"updateTipRegion",value:function(e,t,i){var n=this.getRectangle(t.xValue+i.median,t.maximum,t.xValue+i.median,t.minimum,e);this.updateTipSize(e,t,n,e.chart.requireInvertedAxis)}},{key:"updateTipSize",value:function(e,t,i,n){var r=e.border.width||1;n?(i.y-=r/2,i.height=i.height||r):(i.x-=r/2,i.width=i.width||r),t.regions.push(i)}},{key:"getPathString",value:function(e,t,i,n){var r=e.regions[0],o=e.regions[1],s="",a=t.chart.requireInvertedAxis?r.y+r.height/2:r.x+r.width/2,l=o.x+o.width,h=o.y+o.height,c=r.x+r.width,d=r.y+r.height;return t.chart.requireInvertedAxis?(this.updateTipSize(t,e,{x:r.x,y:o.y,width:0,height:h-o.y},!1),this.updateTipSize(t,e,{x:c,y:o.y,width:0,height:h-o.y},!0),s+="M "+r.x+" "+o.y+" L "+r.x+" "+h,s+="M "+r.x+" "+a+"  L "+o.x+" "+a,s+=" M "+o.x+" "+o.y+"  L "+l+" "+o.y+" L "+l+" "+h+" L "+o.x+" "+h+" Z",s+=" M "+l+" "+a+" L "+c+" "+a,s+=" M "+c+" "+o.y+" L "+c+" "+h,s+=" M "+i.x+" "+o.y+"  L "+i.x+" "+h,s+=t.showMean?"M "+(n.x+5)+" "+(n.y-5)+" L "+(n.x-5)+" "+(n.y+5)+"M "+(n.x-5)+" "+(n.y-5)+" L "+(n.x+5)+" "+(n.y+5):""):(this.updateTipSize(t,e,{x:o.x,y:r.y,width:l-o.x,height:0},!0),this.updateTipSize(t,e,{x:o.x,y:d,width:l-o.x,height:0},!0),s+="M "+o.x+" "+r.y+"  L "+l+" "+r.y,s+=" M "+a+" "+r.y+"  L "+a+" "+o.y,s+=" M "+o.x+" "+o.y+"  L "+l+" "+o.y+" L "+l+" "+h+" L "+o.x+" "+h+" Z",s+=" M "+a+" "+h+" L "+a+" "+d,s+=" M "+o.x+" "+d+" L "+l+" "+d,s+=" M "+o.x+" "+i.y+" L "+l+" "+i.y,s+=t.showMean?" M "+(n.x-5)+" "+(n.y-5)+" L "+(n.x+5)+" "+(n.y+5)+" M "+(n.x+5)+" "+(n.y-5)+" L "+(n.x-5)+" "+(n.y+5):""),s}},{key:"renderBoxAndWhisker",value:function(e,t,i,n,r,o){var s,a,l=e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,h=e.chart.renderer.drawPath(new P(l+"_BoxPath",n.fill,n.border.width,n.border.color,e.opacity,e.dashArray,r));h.setAttribute("aria-label",t.x.toString()+":"+t.maximum.toString()+":"+t.minimum.toString()+":"+t.lowerQuartile.toString()+":"+t.upperQuartile.toString());var c=e.chart.renderer.createGroup({id:l});c.appendChild(h);for(var d=0;d<t.outliers.length;d++)s=qt(t.xValue+o,t.outliers[d],e.xAxis,e.yAxis,e.chart.requireInvertedAxis),a=new g(e.marker.width,e.marker.height),t.symbolLocations.push(s),this.updateTipSize(e,t,{x:s.x-a.width/2,y:s.y-a.height/2,width:a.width,height:a.height},!0);e.seriesElement.appendChild(c)}},{key:"findBoxPlotValues",value:function(e,t,i){var n=e.length,r={average:vt(e)/n,lowerQuartile:0,upperQuartile:0,maximum:0,minimum:0,median:0,outliers:[]};"Exclusive"===i?(r.lowerQuartile=this.getExclusiveQuartileValue(e,n,.25),r.upperQuartile=this.getExclusiveQuartileValue(e,n,.75),r.median=this.getExclusiveQuartileValue(e,n,.5)):"Inclusive"===i?(r.lowerQuartile=this.getInclusiveQuartileValue(e,n,.25),r.upperQuartile=this.getInclusiveQuartileValue(e,n,.75),r.median=this.getInclusiveQuartileValue(e,n,.5)):(r.median=ci(e),this.getQuartileValues(e,n,r)),this.getMinMaxOutlier(e,n,r),t.minimum=r.minimum,t.maximum=r.maximum,t.lowerQuartile=r.lowerQuartile,t.upperQuartile=r.upperQuartile,t.median=r.median,t.outliers=r.outliers,t.average=r.average}},{key:"getExclusiveQuartileValue",value:function(e,t,i){if(0===t)return 0;if(1===t)return e[0];var n=i*(t+1),r=Math.floor(Math.abs(n));return 0===r?e[0]:r>t-1?e[t-1]:(n-r)*(e[r]-e[r-1])+e[r-1]}},{key:"getInclusiveQuartileValue",value:function(e,t,i){if(0===t)return 0;if(1===t)return e[0];var n=i*(t-1),r=Math.floor(Math.abs(n));return(n-r)*(e[r+1]-e[r])+e[r]}},{key:"getQuartileValues",value:function(e,t,i){if(1===t)return i.lowerQuartile=e[0],i.upperQuartile=e[0],null;var n=t%2==0,r=t/2,o=e.slice(0,r),s=e.slice(n?r:r+1,t);i.lowerQuartile=ci(o),i.upperQuartile=ci(s)}},{key:"getMinMaxOutlier",value:function(e,t,i){for(var n=1.5*(i.upperQuartile-i.lowerQuartile),r=0;r<t;r++){if(!(e[r]<i.lowerQuartile-n)){i.minimum=e[r];break}i.outliers.push(e[r])}for(var o=t-1;o>=0;o--){if(!(e[o]>i.upperQuartile+n)){i.maximum=e[o];break}i.outliers.push(e[o])}}},{key:"doAnimation",value:function(e){this.animate(e)}},{key:"getModuleName",value:function(){return"BoxAndWhiskerSeries"}},{key:"destroy",value:function(e){}}]),t}(kn)},Ea={provide:"ChartsHistogramSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){_get(_getPrototypeOf(t.prototype),"render",this).call(this,e),e.showNormalDistribution&&this.renderNormalDistribution(e)}},{key:"calculateBinInterval",value:function(e,t){var i=vt(e)/e.length,n=0,r=!0,o=!1,s=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var h=a.value;n+=(h-i)*(h-i)}}catch(c){o=!0,s=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}t.histogramValues.mean=i,t.histogramValues.sDValue=Math.round(Math.sqrt(n/e.length-1)),t.histogramValues.binWidth=t.binInterval||Math.round(3.5*t.histogramValues.sDValue/Math.pow(e.length,1/3))}},{key:"processInternalData",value:function(e,t){for(var i,n=[],r=[],o=Object.keys(e),s=0;s<o.length;s++)r.push(e[o[s]][t.yName]);t.histogramValues={yValues:r};var a,l=Math.min.apply(Math,_toConsumableArray(t.histogramValues.yValues));this.calculateBinInterval(t.histogramValues.yValues,t),i=t.histogramValues.binWidth;for(var h=0;h<e.length;)a=r.filter((function(e){return e>=l&&e<l+i})).length,n.push(_defineProperty({x:l+i/2},t.yName,a)),l+=i,h+=a;return n}},{key:"renderNormalDistribution",value:function(e){for(var t,i,n,r=e.xAxis.actualRange.min,o="",s="M",a=e.histogramValues.yValues.length,l=e.histogramValues.binWidth,h=e.histogramValues.mean,c=e.histogramValues.sDValue,d=(e.xAxis.actualRange.max-r)/499,u=0;u<500;u++)o+=s+" "+(i=qt(t=r+u*d,Math.exp(-(t-h)*(t-h)/(2*c*c))/(c*Math.sqrt(2*Math.PI))*l*a,e.xAxis,e.yAxis,e.chart.requireInvertedAxis)).x+" "+i.y+" ",s="L";(n=e.chart.renderer.drawPath(new P(e.chart.element.id+"_Series_"+e.index+"_NDLine","transparent",2,e.chart.themeStyle.errorBar,e.opacity,e.dashArray,o),new Int32Array([e.clipRect.x,e.clipRect.y]))).style.visibility=e.chart.enableCanvas?null:e.animation.enable&&e.chart.animateSeries?"hidden":"visible",e.chart.enableCanvas||e.seriesElement.appendChild(n)}},{key:"doAnimation",value:function(e){_get(_getPrototypeOf(t.prototype),"doAnimation",this).call(this,e),e.showNormalDistribution&&Zt(e.seriesElement.lastElementChild,e.animation.duration,500,"FadeIn")}},{key:"getModuleName",value:function(){return"HistogramSeries"}},{key:"destroy",value:function(e){}}]),t}(Sn)},Da={provide:"ChartsErrorBar",useValue:function(){function e(t){_classCallCheck(this,e),this.chart=t}return _createClass(e,[{key:"render",value:function(e){if("PolarRadar"===this.chart.chartAreaType)return null;this.createElement(e,this.chart),this.renderErrorBar(e)}},{key:"renderErrorBar",value:function(e){var t,i,n=e.index,r=e.errorBar,o=e.errorBar.errorBarCap,s=["",""],a=e.chart.redraw,l=!0,h=!1,c=void 0;try{for(var d,u=e.points[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;if(p.visible&&p.symbolLocations[0]){var m=0,g=0;switch(r.mode){case"Vertical":g=r.verticalError;break;case"Horizontal":m=r.horizontalError;break;case"Both":m=r.horizontalError,g=r.verticalError}s=this["calculate"+r.type+"Value"](p,e,this.chart.requireInvertedAxis,m,g),t=this.chart.element.id+"_Series__ErrorBarGroup_"+n+"_Point_"+p.index,i=this.chart.element.id+"_Series__ErrorBarCap_"+n+"_Point_"+p.index;var v=new P(t,"",r.width,r.color||this.chart.themeStyle.errorBar,null,"",s[0]),y=Yt(v.id),f=y?y.getAttribute("d"):null;e.errorBarElement.appendChild(this.chart.renderer.drawPath(v)),Nt(y,s[0],a,f);var b=new P(i,"",o.width,o.color||this.chart.themeStyle.errorBar,null,"",s[1]);f=(y=Yt(b.id))?y.getAttribute("d"):null,Kt(this.chart.enableCanvas,e.errorBarElement,this.chart.renderer.drawPath(b),a),Nt(y,s[1],a,f)}}}catch(x){h=!0,c=x}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}}},{key:"findLocation",value:function(e,t,i,n,r){var o=t.errorBar,s=o.direction,a=[],l=t.type.indexOf("Stacking")>-1?t.stackedValues.endValues[e.index]:"HighLow"===t.seriesType||"HighLowOpenClose"===t.seriesType?t.points[e.index].high:e.yValue,h=qt(e.xValue+("Plus"===s||"Both"===s?"Custom"!==o.type||"Horizontal"!==o.mode&&"Both"!==o.mode?n:n=o.horizontalPositiveError:0),l+("Plus"===s||"Both"===s?"Custom"!==o.type||"Vertical"!==o.mode&&"Both"!==o.mode?r:r=o.verticalPositiveError:0),t.xAxis,t.yAxis,i);if(a.push(h),t.isRectSeries)a.push(e.symbolLocations[0]);else{var c=qt(e.xValue,e.yValue,t.xAxis,t.yAxis,i);a.push(c)}var d=qt(e.xValue-("Minus"===s||"Both"===s?"Custom"!==o.type||"Horizontal"!==o.mode&&"Both"!==o.mode?n:n=o.horizontalNegativeError:0),l-("Minus"===s||"Both"===s?"Custom"!==o.type||"Vertical"!==o.mode&&"Both"!==o.mode?r:r=o.verticalNegativeError:0),t.xAxis,t.yAxis,i);return a.push(d),e.error="Vertical"===o.mode?o.verticalError:o.horizontalError,this.negativeHeight="Vertical"===o.mode||"Both"===o.mode?i?a[1].x-a[2].x:a[2].y-a[1].y:0,this.positiveHeight="Vertical"===o.mode||"Both"===o.mode?i?a[0].x-a[1].x:a[1].y-a[0].y:0,this.getErrorDirection(a[0],a[1],a[2],t,i)}},{key:"calculateFixedValue",value:function(e,t,i,n,r,o,s){return this.findLocation(e,t,i,n,r)}},{key:"calculatePercentageValue",value:function(e,t,i,n,r,o,s){return this.findLocation(e,t,i,n=n/100*e.xValue,r=r/100*e.yValue)}},{key:"calculateStandardDeviationValue",value:function(e,t,i,n,r,o,s){var a=this.meanCalculation(t,t.errorBar.mode);return this.findLocation(e,t,i,n*=a.horizontalSquareRoot+a.horizontalMean,r*=a.verticalSquareRoot+a.verticalMean)}},{key:"calculateStandardErrorValue",value:function(e,t,i,n,r,o,s){var a=t.points.length,l=this.meanCalculation(t,t.errorBar.mode);return n=n*l.horizontalSquareRoot/Math.sqrt(a),r=r*l.verticalSquareRoot/Math.sqrt(a),this.findLocation(e,t,i,n,r)}},{key:"calculateCustomValue",value:function(e,t,i,n,r,o,s){return this.findLocation(e,t,i,n,r)}},{key:"getHorizontalDirection",value:function(e,t,i,n,r,o){var s="",a="";return s+="M "+e.x+" "+t.y+" L "+i.x+" "+t.y,a+="Plus"===n||"Both"===n?"M "+e.x+" "+(t.y-o)+" L "+e.x+" "+(t.y+o):"",[s,a+="Minus"===n||"Both"===n?"M "+i.x+" "+(t.y-o)+" L "+i.x+" "+(t.y+o):" "]}},{key:"getVerticalDirection",value:function(e,t,i,n,r,o){var s="",a="";return s+="M "+t.x+" "+e.y+" L "+t.x+" "+i.y,a+="Plus"===n||"Both"===n?"M "+(t.x-o)+" "+e.y+" L "+(t.x+o)+" "+e.y:"",[s,a+="Minus"===n||"Both"===n?"M "+(t.x-o)+" "+i.y+" L "+(t.x+o)+" "+i.y:""]}},{key:"getBothDirection",value:function(e,t,i,n,r,o){var s=this.getHorizontalDirection(e,t,i,n,r,o),a=this.getVerticalDirection(e,t,i,n,r,o);return[s[0].concat(a[0]),s[1].concat(a[1])]}},{key:"getErrorDirection",value:function(e,t,i,n,r){var o,s=n.errorBar.direction,a=n.errorBar.mode,l=n.errorBar.errorBarCap.length,h=a;switch(a){case"Both":h=a;break;case"Horizontal":h=r?"Vertical":a;break;case"Vertical":h=r?"Horizontal":a}switch(h){case"Horizontal":o=this.getHorizontalDirection(e,t,i,s,h,l);break;case"Vertical":o=this.getVerticalDirection(e,t,i,s,h,l);break;case"Both":o=this.getBothDirection(e,t,i,s,h,l)}return[o[0],o[1]]}},{key:"meanCalculation",value:function(e,t){var i,n,r,o,s=0,a=0,l=0,h=0,c=e.points.length;switch(t){case"Vertical":l=(a=vt(e.yData))/c;break;case"Horizontal":h=(s=vt(e.xData))/c;break;case"Both":l=(a=vt(e.yData))/c,h=(s=vt(e.xData))/c}var d=!0,u=!1,p=void 0;try{for(var m,g=e.points[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var v=m.value;"Vertical"===t?a+=Math.pow(v.yValue-l,2):"Horizontal"===t?s+=Math.pow(v.xValue-h,2):(a+=Math.pow(v.yValue-l,2),s+=Math.pow(v.xValue-h,2))}}catch(y){u=!0,p=y}finally{try{d||null==g.return||g.return()}finally{if(u)throw p}}return i=a/(c-1),r=Math.sqrt(a/(c-1)),n=s/(c-1),o=Math.sqrt(s/(c-1)),new Lt(i,r,n,o,l,h)}},{key:"createElement",value:function(e,t){var i="Cartesian"===t.chartAreaType?"translate("+e.clipRect.x+","+e.clipRect.y+")":"",n=(e.marker.height+5)/2,r=(e.marker.width+5)/2;if("Cartesian"===t.chartAreaType){var o=new Bi(t.element.id+"_ChartErrorBarClipRect_"+e.index,"transparent",{width:1,color:"Gray"},1,{x:-r,y:-n,width:e.clipRect.width+2*r,height:e.clipRect.height+2*n});e.errorBarElement=t.renderer.createGroup({id:t.element.id+"ErrorBarGroup"+e.index,transform:i,"clip-path":"url(#"+t.element.id+"_ChartErrorBarClipRect_"+e.index+")"}),e.errorBarElement.appendChild(Vt(t.redraw,o,t.renderer))}}},{key:"doErrorBarAnimation",value:function(e){var t=e.errorBarElement.childNodes;if(!t)return null;for(var i=e.animation.delay+e.animation.duration,n=1;n<t.length;){for(var r=0;r<e.points.length;r++)e.points[r].symbolLocations[0]&&(t[n].style.visibility="hidden",Zt(t[n],i,350,e.chart.requireInvertedAxis?"SlideLeftIn":"SlideBottomIn",!1));n++}}},{key:"getModuleName",value:function(){return"ErrorBar"}},{key:"destroy",value:function(e){}}]),e}()},Ba={provide:"ChartsTrendlines",useValue:function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initSeriesCollection",value:function(e,t){var i=new on(e,"targetSeries",{},!0);i.type="Linear"===e.type||"MovingAverage"===e.type?"Line":"Spline",this.setSeriesProperties(i,e,e.type,e.fill,e.width,t)}},{key:"setSeriesProperties",value:function(e,t,i,n,r,o){e.name=t.name,e.xName="x",e.yName="y",e.fill=n||"blue",e.width=r,e.dashArray=t.dashArray,e.clipRectElement=t.clipRectElement,e.points=[],e.enableTooltip=t.enableTooltip,e.index=t.index,e.sourceIndex=t.sourceIndex,e.interior=e.fill,e.animation=t.animation,e.legendShape="HorizontalLine",e.marker=t.marker,e.category="TrendLine",e.chart=o,e.xMin=1/0,e.xMax=-1/0,e.yMin=1/0,e.yMax=-1/0,e.xData=[],e.yData=[],t.targetSeries=e}},{key:"createTrendLineElements",value:function(e,t,i,n,r){t.trendLineElement=n,t.targetSeries.clipRectElement=r,t.targetSeries.seriesElement=n,e.trendLineElements&&e.trendLineElements.appendChild(t.trendLineElement)}},{key:"getDataPoint",value:function(e,t,i,n,r){var o=new Ki;return o.x="DateTime"===n.xAxis.valueType?new Date(Number(e)):e,o.y=t,o.xValue=Number(e),o.color=n.fill,o.index=r,o.yValue=Number(t),o.visible=!0,n.xMin=Math.min(n.xMin,o.xValue),n.yMin=Math.min(n.yMin,o.yValue),n.xMax=Math.max(n.xMax,o.xValue),n.yMax=Math.max(n.yMax,o.yValue),n.xData.push(o.xValue),o}},{key:"findSlopeIntercept",value:function(e,t,i,n){for(var r=0,o=0,s=0,a=0,l=0,h=0,c=0;l<n.length;)isNaN(t[l])&&(t[l]=(t[l-1]+t[l+1])/2),r+=e[l],o+=t[l],s+=e[l]*t[l],a+=e[l]*e[l],t[l]*t[l],l++;var d=i.type;if(!i.intercept||"Linear"!==d&&"Exponential"!==d)h=Math.abs((n.length*s-r*o)/(n.length*a-r*r)),c="Exponential"===d||"Power"===d?Math.exp((o-h*r)/n.length):(o-h*r)/n.length;else switch(c=i.intercept,d){case"Linear":h=(s-i.intercept*r)/a;break;case"Exponential":h=(s-Math.log(Math.abs(i.intercept))*r)/a}return{slope:h,intercept:c}}},{key:"initDataSource",value:function(e,t){var i=e.points;if(i&&i.length){var n=e.targetSeries;switch(e.type){case"Linear":this.setLinearRange(i,e,n);break;case"Exponential":this.setExponentialRange(i,e,n);break;case"MovingAverage":this.setMovingAverageRange(i,e,n);break;case"Polynomial":this.setPolynomialRange(i,e,n);break;case"Power":this.setPowerRange(i,e,n);break;case"Logarithmic":this.setLogarithmicRange(i,e,n)}"Linear"!==e.type&&"MovingAverage"!==e.type&&n.chart.splineSeriesModule.findSplinePoint(n)}}},{key:"setExponentialRange",value:function(e,t,i){for(var n,r=[],o=[],s=0;s<e.length;){var a=e[s],l=a.yValue?Math.log(a.yValue):0;r.push(a.xValue),o.push(l),s++}n=this.findSlopeIntercept(r,o,t,e),i.points=this.getExponentialPoints(t,e,r,o,i,n)}},{key:"setLogarithmicRange",value:function(e,t,i){for(var n,r=[],o=[],s=[],a=0;a<e.length;){var l=e[a],h=l.xValue?Math.log(l.xValue):0;s.push(l.xValue),r.push(h),o.push(l.yValue),a++}n=this.findSlopeIntercept(r,o,t,e),i.points=this.getLogarithmicPoints(t,e,s,o,i,n)}},{key:"setPolynomialRange",value:function(e,t,i){for(var n=[],r=[],o=0;o<e.length;){var s=e[o];n.push(s.xValue),r.push(s.yValue),o++}i.points=this.getPolynomialPoints(t,e,n,r,i)}},{key:"setPowerRange",value:function(e,t,i){for(var n,r=[],o=[],s=[],a=0;a<e.length;){var l=e[a],h=l.xValue?Math.log(l.xValue):0,c=l.yValue?Math.log(l.yValue):0;s.push(l.xValue),r.push(h),o.push(c),a++}n=this.findSlopeIntercept(r,o,t,e),i.points=this.getPowerPoints(t,e,s,o,i,n)}},{key:"setLinearRange",value:function(e,t,i){for(var n,r=[],o=[],s=0;s<e.length;){var a=e[s];r.push(a.xValue),o.push(a.yValue),s++}n=this.findSlopeIntercept(r,o,t,e),i.points=this.getLinearPoints(t,e,r,o,i,n)}},{key:"setMovingAverageRange",value:function(e,t,i){for(var n=[],r=[],o=[],s=0;s<e.length;){var a=e[s];o.push(a.xValue),n.push(s+1),r.push(a.yValue),s++}i.points=this.getMovingAveragePoints(t,e,o,r,i)}},{key:"getLogarithmicPoints",value:function(e,t,i,n,r,o){var s=Math.round(t.length/2),a=[],l=i[0]-e.backwardForecast,h=l?Math.log(l):0,c=o.intercept+o.slope*h,d=i[s-1],u=d?Math.log(d):0,p=o.intercept+o.slope*u,m=i[i.length-1]+e.forwardForecast,g=m?Math.log(m):0,v=o.intercept+o.slope*g;return a.push(this.getDataPoint(l,c,t[0],r,a.length)),a.push(this.getDataPoint(d,p,t[s-1],r,a.length)),a.push(this.getDataPoint(m,v,t[t.length-1],r,a.length)),a}},{key:"getPowerPoints",value:function(e,t,i,n,r,o){var s=Math.round(t.length/2),a=[],l=i[0]-e.backwardForecast;l=l>-1?l:0;var h=o.intercept*Math.pow(l,o.slope),c=i[s-1],d=o.intercept*Math.pow(c,o.slope),u=i[i.length-1]+e.forwardForecast,p=o.intercept*Math.pow(u,o.slope);return a.push(this.getDataPoint(l,h,t[0],r,a.length)),a.push(this.getDataPoint(c,d,t[s-1],r,a.length)),a.push(this.getDataPoint(u,p,t[t.length-1],r,a.length)),a}},{key:"getPolynomialPoints",value:function(e,t,i,n,r){Math.round(t.length/2);var o=t.length<=e.polynomialOrder?t.length:e.polynomialOrder;o=Math.max(2,o),o=Math.min(6,o),e.polynomialOrder=o,e.polynomialSlopes=[],e.polynomialSlopes.length=e.polynomialOrder+1;for(var s=0;s<i.length;){for(var a=i[s],l=n[s],h=0;h<=e.polynomialOrder;)e.polynomialSlopes[h]||(e.polynomialSlopes[h]=0),e.polynomialSlopes[h]+=Math.pow(a,h)*l,++h;s++}var c=[];c.length=1+2*e.polynomialOrder;var d=[];d.length=e.polynomialOrder+1;for(var u=0;u<e.polynomialOrder+1;)d[u]=[],d[u].length=3,u++;for(var p=0;p<i.length;){for(var m=i[p],g=1,v=0;v<c.length;)c[v]||(c[v]=0),c[v]+=g,g*=m,++v;++p}for(var y=0;y<=e.polynomialOrder;){for(var f=0;f<=e.polynomialOrder;)d[y][f]=c[y+f],++f;++y}return this.gaussJordanElimination(d,e.polynomialSlopes)||(e.polynomialSlopes=null),this.getPoints(e,t,i,n,r)}},{key:"getMovingAveragePoints",value:function(e,t,i,n,r){var o=[],s=e.period>=t.length?t.length-1:e.period;s=Math.max(2,s);for(var a,l,h,c,d=0;d<t.length-1;){a=h=c=0;for(var u=d;h<s;u++)h++,n[u]||c++,a+=n[u];(a=s-c<=0?null:a/(s-c))&&!isNaN(a)&&(l=i[s-1+d],o.push(this.getDataPoint(l,a,t[s-1+d],r,o.length))),d++}return o}},{key:"getLinearPoints",value:function(e,t,i,n,r,o){var s=[],a=i[0]-e.backwardForecast,l=i[i.length-1]+e.forwardForecast,h=o.slope*l+o.intercept;return s.push(this.getDataPoint(a,o.slope*a+o.intercept,t[0],r,s.length)),s.push(this.getDataPoint(l,h,t[t.length-1],r,s.length)),s}},{key:"getExponentialPoints",value:function(e,t,i,n,r,o){var s=Math.round(t.length/2),a=[],l=i[0]-e.backwardForecast,h=o.intercept*Math.exp(o.slope*l),c=i[s-1],d=o.intercept*Math.exp(o.slope*c),u=i[i.length-1]+e.forwardForecast,p=o.intercept*Math.exp(o.slope*u);return a.push(this.getDataPoint(l,h,t[0],r,a.length)),a.push(this.getDataPoint(c,d,t[s-1],r,a.length)),a.push(this.getDataPoint(u,p,t[t.length-1],r,a.length)),a}},{key:"getPoints",value:function(e,t,i,n,r){Math.round(t.length/2);for(var o,s,a=e.polynomialSlopes,l=[],h=1,c=1;c<=a.length;)1===c?(o=i[0]-e.backwardForecast,s=this.getPolynomialYValue(a,o),l.push(this.getDataPoint(o,s,t[0],r,l.length))):c===a.length?(o=i[t.length-1]+e.forwardForecast,s=this.getPolynomialYValue(a,o),l.push(this.getDataPoint(o,s,t[t.length-1],r,l.length))):(h+=(t.length+e.forwardForecast)/a.length,o=i[parseInt(h.toString(),10)-1],s=this.getPolynomialYValue(a,o),l.push(this.getDataPoint(o,s,t[parseInt(h.toString(),10)-1],r,l.length))),c++;return l}},{key:"getPolynomialYValue",value:function(e,t){for(var i=0,n=0;n<e.length;)i+=e[n]*Math.pow(t,n),n++;return i}},{key:"gaussJordanElimination",value:function(e,t){var i=e.length,n=[],r=[],o=[];n.length=i,r.length=i,o.length=i;for(var s=0;s<i;)o[s]=0,++s;for(var a=0;a<i;){for(var l=0,h=0,c=0,d=0;d<i;){if(1!==o[d])for(var u=0;u<i;)0===o[u]&&Math.abs(e[d][u])>=l&&(l=Math.abs(e[d][u]),h=d,c=u),++u;++d}if(++o[c],h!==c){for(var p=0;p<i;){var m=e[h][p];e[h][p]=e[c][p],e[c][p]=m,++p}var g=t[h];t[h]=t[c],t[c]=g}if(r[a]=h,n[a]=c,0===e[c][c])return!1;var v=1/e[c][c];e[c][c]=1;for(var y=0;y<i;)e[c][y]*=v,++y;t[c]*=v;for(var f=0;f<i;){if(f!==c){var b=e[f][c];e[f][c]=0;for(var x=0;x<i;)e[f][x]-=e[c][x]*b,++x;t[f]-=t[c]*b}++f}++a}for(var _=i-1;_>=0;){if(r[_]!==n[_])for(var w=0;w<i;){var C=e[w][r[_]];e[w][r[_]]=e[w][n[_]],e[w][n[_]]=C,++w}--_}return!0}},{key:"getTrendLineElements",value:function(e,t){jt(e);var i,n=e.clipRect,r=t.renderer.drawClipPath(new Bi(t.element.id+"_ChartTrendlineClipRect_"+e.index,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:n.width,height:n.height}));(i=t.renderer.createGroup({id:t.element.id+"TrendlineSeriesGroup"+e.index,transform:"translate("+n.x+","+n.y+")","clip-path":"url(#"+t.element.id+"_ChartTrendlineClipRect_"+e.index+")"}))&&i.appendChild(r);var o=!0,s=!1,a=void 0;try{for(var l,h=e.trendlines[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;this.createTrendLineElements(t,c,c.index,i,r)}}catch(d){s=!0,a=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw a}}}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"TrendLine"}}]),e}()},Na={provide:"ChartsDateTimeCategory",useValue:function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"calculateRangeAndInterval",value:function(e,t){this.axisSize=e,this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)}},{key:"calculateVisibleLabels",value:function(e){var t;e.visibleLabels=[];var i="BetweenTicks"===e.labelPlacement?.5:0;"Auto"===e.intervalType?this.calculateDateTimeNiceInterval(e,this.axisSize,parseInt(e.labels[0],10),parseInt(e.labels[e.labels.length-1],10)):e.actualIntervalType=e.intervalType,e.format=this.chart.intl.getDateFormat({format:e.labelFormat||this.blazorCustomFormat(e),type:It(e.skeletonType),skeleton:this.getSkeleton(e,null,null,this.chart.isBlazor)});for(var n=0;n<e.labels.length;n++)t=Object(c.J)({},Object(c.U)("properties",e.labelStyle),null,!0),this.sameInterval(e.labels.map(Number)[n],e.labels.map(Number)[n-1],e.actualIntervalType,n)&&!e.isIndexed||pt(n-i,e.visibleRange)&&Ft(this.chart,n,e.isIndexed?this.getIndexedAxisLabel(e.labels[n],e.format):e.format(new Date(e.labels.map(Number)[n])),t,e);e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}},{key:"blazorCustomFormat",value:function(e){return this.chart.isBlazor&&"Years"===e.actualIntervalType?"yyyy":""}},{key:"getIndexedAxisLabel",value:function(e,t){for(var i=e.split(","),n=0;n<i.length;n++)i[n]=t(new Date(parseInt(i[n],10)));return i.join(", ")}},{key:"sameInterval",value:function(e,t,i,n){var r;if(0===n)r=!1;else switch(i){case"Years":r=new Date(e).getFullYear()===new Date(t).getFullYear();break;case"Months":r=new Date(e).getFullYear()===new Date(t).getFullYear()&&new Date(e).getMonth()===new Date(t).getMonth();break;case"Days":r=Math.abs(e-t)<864e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Hours":r=Math.abs(e-t)<36e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Minutes":r=Math.abs(e-t)<6e4&&new Date(e).getMinutes()===new Date(t).getMinutes();break;case"Seconds":r=Math.abs(e-t)<1e3&&new Date(e).getDay()===new Date(t).getDay()}return r}},{key:"getModuleName",value:function(){return"DateTimeCategory"}},{key:"destroy",value:function(e){}}]),t}(_n)},Va={provide:"ChartsMultiColoredLineSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r=null,o="M",s=this.enableComplexProperty(e),a=[],l="",h=this.sortSegments(e,e.segments),c=!0,d=!1,u=void 0;try{for(var p,m=s[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var g=p.value;g.regions=[],g.visible&&gt(s[g.index-1],g,s[g.index+1],e)?(l+=this.getLineDirection(r,g,e,n,qt,o),null!=r?this.setPointColor(g,r,e,"X"===e.segmentAxis,h)?(a.push(new P(e.chart.element.id+"_Series_"+e.index+"_Point_"+r.index,"none",e.width,e.setPointColor(r,e.interior),e.opacity,e.dashArray,l)),o="M",l=""):o="L":this.setPointColor(g,null,e,"X"===e.segmentAxis,h),r=g,this.storePointLocation(g,e,n,qt)):(r="Drop"===e.emptyPointSettings.mode?r:null,o="Drop"===e.emptyPointSettings.mode?o:"M",g.symbolLocations=[])}}catch(v){d=!0,u=v}finally{try{c||null==m.return||m.return()}finally{if(d)throw u}}""!==l&&a.push(new P(e.chart.element.id+"_Series_"+e.index,"none",e.width,e.setPointColor(s[s.length-1],e.interior),e.opacity,e.dashArray,l)),this.applySegmentAxis(e,a,h),this.renderMarker(e)}},{key:"doAnimation",value:function(e){this.doLinearAnimation(e,e.animation)}},{key:"getModuleName",value:function(){return"MultiColoredLineSeries"}},{key:"destroy",value:function(e){}}]),t}(Mn)},Fa={provide:"ChartsMultiColoredAreaSeries",useValue:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e,t,i,n){var r,o,s,a,l=this,h=null,c="",d=Math.max(e.yAxis.visibleRange.min,0),u=[],p=this.sortSegments(e,e.segments);e.visiblePoints.map((function(m,g,v){m.symbolLocations=[],m.regions=[],a=!1,m.visible&&gt(v[g-1],m,v[g+1],e)&&(c+=l.getAreaPathDirection(m.xValue,d,e,n,qt,h,"M"),h=h||new Wi(m.xValue,d),r=qt(m.xValue,m.yValue,t,i,n),s&&l.setPointColor(m,s,e,"X"===e.segmentAxis,p)?(a=!0,o=qt(h.x,d,t,i,n),c+="L "+r.x+" "+r.y+" ",c+="L "+r.x+" "+o.y+" ",l.generatePathOption(u,e,s,c,"_Point_"+s.index),c="M "+r.x+" "+o.y+" L "+r.x+" "+r.y+" "):(c+="L "+r.x+" "+r.y+" ",l.setPointColor(m,null,e,"X"===e.segmentAxis,p)),v[g+1]&&!v[g+1].visible&&"Drop"!==e.emptyPointSettings.mode&&(c+=l.getAreaEmptyDirection({x:m.xValue,y:d},h,e,n,qt),h=null),s=m,l.storePointLocation(m,e,n,qt))})),a||(c=e.points.length>1?c+this.getAreaPathDirection(s.xValue,d,e,n,qt,null,"L"):"",this.generatePathOption(u,e,s,c,"")),this.applySegmentAxis(e,u,p),this.renderMarker(e)}},{key:"generatePathOption",value:function(e,t,i,n,r){e.push(new P(t.chart.element.id+"_Series_"+t.index+r,t.setPointColor(i,t.interior),t.border.width,t.border.color,t.opacity,t.dashArray,n))}},{key:"destroy",value:function(e){}},{key:"getModuleName",value:function(){return"MultiColoredAreaSeries"}},{key:"doAnimation",value:function(e){this.doLinearAnimation(e,e.animation)}}]),t}(Mn)},Wa={provide:"ChartsMultiLevelLabel",useValue:function(){function e(t){_classCallCheck(this,e),this.xAxisPrevHeight=[],this.xAxisMultiLabelHeight=[],this.yAxisPrevHeight=[],this.yAxisMultiLabelHeight=[],this.chart=t,this.addEventListener()}return _createClass(e,[{key:"addEventListener",value:function(){this.chart.isDestroyed||this.chart.on("click",this.click,this)}},{key:"getMultilevelLabelsHeight",value:function(e){var t,i,n,r=0,o=[],s=[],a="Vertical"===e.orientation,l=a?e.rect.height:e.rect.width;e.multiLevelLabels.map((function(h,c){h.categories.map((function(r){""!==r.text&&null!==r.start&&null!==r.end&&(t=p(r.text,h.textStyle),i=a?t.width:t.height,i+=2*h.border.width+("CurlyBrace"===h.border.type?10:0),n=null!==r.maximumTextWidth?r.maximumTextWidth:kt("string"==typeof r.end?Number(new Date(r.end)):r.end,e)*l-kt("string"==typeof r.start?Number(new Date(r.start)):r.start,e)*l,t.width>n-10&&n>0&&"Wrap"===h.overflow&&!a&&(i*=xi(r.text,n-10,h.textStyle).length),o[c]=o[c]?o[c]<i?i:o[c]:i)})),s[c]=r,r+=o[c]?o[c]+10:0})),e.multiLevelLabelHeight=r+(""!==e.title||this.chart.legendModule&&this.chart.legendSettings.visible?5:0),a?(this.yAxisMultiLabelHeight=o,this.yAxisPrevHeight=s):(this.xAxisMultiLabelHeight=o,this.xAxisPrevHeight=s)}},{key:"renderXAxisMultiLevelLabels",value:function(e,t,i,n){var r,o,s,a,l,h,d,u,m,g,v,y,f=this,x=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+e.maxLabelSize.height+10,_="",w="Outside"===e.labelPosition,C=e.isInversed,k=e.opposedPosition,S=e.scrollbarSettings.enable||w&&Object(c.W)(e.crossesAt)?e.scrollBarHeight:0;m=k&&!w||!k&&w?n.y+x-e.majorTickLines.width:n.y-x-e.multiLevelLabelHeight,this.createClipRect(n.x-e.majorTickLines.width,m+S,e.multiLevelLabelHeight+10,n.width+2*e.majorTickLines.width,this.chart.element.id+"_XAxis_Clippath_"+t,this.chart.element.id+"XAxisMultiLevelLabel"+t),e.multiLevelLabels.map((function(i,c){a=0,f.labelElement=f.chart.renderer.createGroup({id:f.chart.element.id+t+"_MultiLevelLabel"+c}),i.categories.map((function(m,M){if(_="",h="string"==typeof m.start?Number(new Date(m.start)):m.start,d="string"==typeof m.end?Number(new Date(m.end)):m.end,!(y=f.triggerMultiLabelRender(e,m.text,e.multiLevelLabels[c].textStyle,e.multiLevelLabels[c].alignment,m.customAttributes)).cancel){s=kt(h,e)*n.width,l=kt(d,e)*n.width,l=C?[s,s=l][0]:l,u=p(y.text,y.textStyle),g=(null===m.maximumTextWidth?l-s:m.maximumTextWidth)-10,r=s+n.x+10,o=(k&&!w||!k&&w?x+n.y+u.height/2+10+f.xAxisPrevHeight[c]:n.y-x+u.height/2-f.xAxisMultiLabelHeight[c]-f.xAxisPrevHeight[c])+S,"Center"===y.alignment?(r+=(l-s-10)/2,v="middle"):"Far"===y.alignment?(r=r+(l-s-10)-i.border.width/2,v="end"):(v="start",r+=i.border.width/2),o="CurlyBrace"===i.border.type?!k&&w||k&&!w?o+10:o-5:o;var O=new b(f.chart.element.id+t+"_Axis_MultiLevelLabel_Level_"+c+"_Text_"+M,r,o,v,y.text);"None"!==i.overflow&&(O.text="Wrap"===i.overflow?xi(y.text,g,y.textStyle):di(g,y.text,y.textStyle),O.x=O.x-5),gi(f.chart.renderer,O,y.textStyle,y.textStyle.color||f.chart.themeStyle.axisLabel,f.labelElement,!1,f.chart.redraw,!0,null,null,null,0,null,f.chart.enableCanvas),i.border.width>0&&"WithoutBorder"!==i.border.type&&(""!==(_=f.renderXAxisLabelBorder(c,l-s-10,e,s,x,u,O,n,y.alignment,_,w,k,a))&&(f.createBorderElement(c,t,e,_,a),a++)),f.chart.enableCanvas||f.multiElements.appendChild(f.labelElement)}}))})),this.chart.enableCanvas||i.appendChild(this.multiElements)}},{key:"renderXAxisLabelBorder",value:function(e,t,i,n,r,o,s,a,l,h,c,d,u){var p,m,g,v,y=10,f=i.multiLevelLabels[e],b=t+y,x=this.xAxisMultiLabelHeight[e]+y,_="Outside"===i.labelPosition?i.scrollBarHeight:0,w=n+a.x,C=!d&&c||d&&!c?r+a.y+this.xAxisPrevHeight[e]+_:a.y-r-this.xAxisPrevHeight[e]-_,k=f.categories[u].type||f.border.type;switch(k){case"WithoutTopandBottomBorder":case"Rectangle":case"WithoutTopBorder":h+="M "+w+" "+C+" L "+w+" "+(C+(x=!d&&c||d&&!c?x:-x))+" M "+(w+b)+" "+C+" L "+(w+b)+" "+(C+x),h+="WithoutTopandBottomBorder"!==k?" L "+w+" "+(C+x)+" ":" ",h+="Rectangle"===k?"M "+w+" "+C+" L "+(w+b)+" "+C:" ";break;case"Brace":"Near"===l?(g=s.x,v=s.x+o.width+2):"Center"===l?(g=s.x-o.width/2-2,v=s.x+o.width/2+2):(g=s.x-o.width-2,v=s.x),h+="M "+w+" "+C+" L "+w+" "+(C+(x=!d&&c||d&&!c?x:-x)/2)+" M "+w+" "+(C+x/2)+" L "+(g-2)+" "+(C+x/2)+" M "+v+" "+(C+x/2)+" L "+(w+b)+" "+(C+x/2)+" M "+(w+b)+" "+(C+x/2)+" L "+(w+b)+" "+C;break;case"CurlyBrace":!d&&c||d&&!c?(y=10,p=15,m=5):(y=-10,p=-15,m=-5),h+="Center"===l?"M "+w+" "+C+" C "+w+" "+C+" "+(w+5)+" "+(C+y)+" "+(w+10)+" "+(C+y)+" L "+(w+b/2-5)+" "+(C+y)+" L "+(w+b/2)+" "+(C+p)+" L "+(w+b/2+5)+" "+(C+y)+" L "+(w+b-10)+" "+(C+y)+" C "+(w+b-10)+" "+(C+y)+" "+(w+b)+" "+(C+m)+" "+(w+b)+" "+C:"Near"===l?"M "+w+" "+C+" C "+w+" "+C+" "+(w+5)+" "+(C+y)+" "+(w+10)+" "+(C+y)+" L "+(w+15)+" "+(C+p)+" L "+(w+20)+" "+(C+y)+" L "+(w+b-10)+" "+(C+y)+" C "+(w+b-10)+" "+(C+y)+" "+(w+b)+" "+(C+m)+" "+(w+b)+" "+C:"M "+w+" "+C+" C "+w+" "+C+" "+(w+5)+" "+(C+y)+" "+(w+10)+" "+(C+y)+" L "+(w+b-20)+" "+(C+y)+" L "+(w+b-15)+" "+(C+p)+" L "+(w+b-10)+" "+(C+y)+" L "+(w+b-10)+" "+(C+y)+" C "+(w+b-10)+" "+(C+y)+" "+(w+b)+" "+(C+m)+" "+(w+b)+" "+C}return h}},{key:"renderYAxisMultiLevelLabels",value:function(e,t,i,n){var r,o,s,a,l,h,d,u,m,g,v,y=this,f="Outside"===e.labelPosition,x=(e.tickPosition===e.labelPosition?e.majorTickLines.height:0)+e.maxLabelSize.width+10,_="",w=e.isInversed,C=e.opposedPosition,k=f&&Object(c.W)(e.crossesAt)?e.scrollBarHeight:0;k*=C?1:-1,o=C&&!f||!C&&f?n.x-e.multiLevelLabelHeight-x-10:n.x+x,this.createClipRect(o+k,n.y-e.majorTickLines.width,n.height+2*e.majorTickLines.width,e.multiLevelLabelHeight+10,this.chart.element.id+"_YAxis_Clippath_"+t,this.chart.element.id+"YAxisMultiLevelLabel"+t),e.multiLevelLabels.map((function(i,o){y.labelElement=y.chart.renderer.createGroup({id:y.chart.element.id+t+"_MultiLevelLabel"+o}),u=0,i.categories.map((function(c,S){if(_="",g="string"==typeof c.end?Number(new Date(c.end)):c.end,m="string"==typeof c.start?Number(new Date(c.start)):c.start,l=kt(m,e)*n.height,h=kt(g,e)*n.height,h=w?[l,l=h][0]:h,!(d=y.triggerMultiLabelRender(e,c.text,i.textStyle,i.alignment,c.customAttributes)).cancel){r=p(d.text,d.textStyle),v=h-l,s=n.x-x-y.yAxisPrevHeight[o]-y.yAxisMultiLabelHeight[o]/2-5,a=n.height+n.y-l-v/2,s=C?f?n.x+x+5+y.yAxisMultiLabelHeight[o]/2+y.yAxisPrevHeight[o]+k:n.x-x-y.yAxisMultiLabelHeight[o]/2-y.yAxisPrevHeight[o]-5:f?s+k:n.x+x+5+y.yAxisMultiLabelHeight[o]/2+y.yAxisPrevHeight[o],"Center"===d.alignment?a+=r.height/4:"Far"===d.alignment?a+=v/2-r.height/2:a=a-v/2+r.height,s="CurlyBrace"===i.border.type?!C&&f||C&&!f?s-10:s+10:s;var M=new b(y.chart.element.id+t+"_Axis_MultiLevelLabel_Level_"+o+"_Text_"+S,s,a,"middle",d.text);M.text="Trim"===i.overflow?di(null===c.maximumTextWidth?y.yAxisMultiLabelHeight[o]:c.maximumTextWidth,d.text,d.textStyle):M.text,gi(y.chart.renderer,M,d.textStyle,d.textStyle.color||y.chart.themeStyle.axisLabel,y.labelElement,y.chart.redraw,!0),i.border.width>0&&"WithoutBorder"!==i.border.type&&(""!==(_=y.renderYAxisLabelBorder(o,v,e,h,x,l,r,M,n,d.alignment,_,f,C,u))&&(y.createBorderElement(o,t,e,_,u),u++)),y.chart.enableCanvas||y.multiElements.appendChild(y.labelElement)}}))})),i.appendChild(this.multiElements)}},{key:"renderYAxisLabelBorder",value:function(e,t,i,n,r,o,s,a,l,h,d,u,p,m){var g,v,y=n-o,f=10,b=i.multiLevelLabels[e],x=b.categories[m].type,_=l.y+l.height-n,w=u&&Object(c.W)(i.crossesAt)?i.scrollBarHeight:0;w*=p?1:-1;var C=this.yAxisMultiLabelHeight[e]+f,k=(!p&&u||p&&!u?l.x-r-this.yAxisPrevHeight[e]:l.x+r+this.yAxisPrevHeight[e])+w,S=x||b.border.type;switch(S){case"WithoutTopandBottomBorder":case"Rectangle":case"WithoutTopBorder":d+="M "+k+" "+_+" L "+(k+(C=!p&&u||p&&!u?-C:C))+" "+_+" M "+k+" "+(_+y)+" L "+(k+C)+" "+(_+y),d+="WithoutTopandBottomBorder"!==S?" L "+(k+C)+" "+_+" ":" ",d+="Rectangle"===S?"M "+k+" "+(_+y)+"L "+k+" "+_+" ":" ";break;case"Brace":d+="M "+k+" "+_+" L "+(k-(C=!p&&u||p&&!u?C:-C)/2)+" "+_+" L "+(k-C/2)+" "+(a.y-s.height/2-4)+" M "+(k-C/2)+" "+(a.y+s.height/4+2)+" L "+(k-C/2)+" "+(_+y)+" L "+k+" "+(_+y);break;case"CurlyBrace":!p&&u||p&&!u?(f=-10,g=-15,v=-5):(f=10,g=15,v=5),d+="Center"===h?"M "+k+" "+_+" C "+k+" "+_+" "+(k+f)+" "+_+" "+(k+f)+" "+(_+10)+" L "+(k+f)+" "+(_+(y-10)/2)+" L "+(k+g)+" "+(_+(y-10)/2+5)+" L "+(k+f)+" "+(_+(y-10)/2+10)+" L "+(k+f)+" "+(_+(y-10))+" C "+(k+f)+" "+(_+(y-10))+" "+(k+v)+" "+(_+y)+" "+k+" "+(_+y):"Far"===h?"M "+k+" "+_+" C "+k+" "+_+" "+(k+f)+" "+_+" "+(k+f)+" "+(_+10)+" L "+(k+f)+" "+(_+y-20)+"  L "+(k+g)+" "+(_+(y-15))+" L "+(k+f)+" "+(_+(y-10))+" L "+(k+f)+" "+(_+(y-10))+" C "+(k+f)+" "+(_+(y-10))+" "+(k+f)+" "+(_+y)+" "+k+" "+(_+y):"M "+k+" "+_+" C "+k+" "+_+" "+(k+f)+" "+_+" "+(k+f)+" "+(_+10)+" L "+(k+g)+" "+(_+15)+" L "+(k+f)+" "+(_+20)+" L "+(k+f)+" "+(_+(y-10))+" C "+(k+f)+" "+(_+(y-10))+" "+(k+v)+" "+(_+y)+" "+k+" "+(_+y)}return d}},{key:"createClipRect",value:function(e,t,i,n,r,o){this.multiElements=this.chart.renderer.createGroup({id:o,"clip-path":"url(#"+r+")"}),this.chart.enableCanvas||this.multiElements.appendChild(Vt(this.chart.redraw,{id:r,x:e,y:t,width:n,height:i,fill:"white","stroke-width":1,stroke:"Gray"},this.chart.renderer))}},{key:"createBorderElement",value:function(e,t,i,n,r){var o=n,s=this.chart.renderer.drawPath(new P(this.chart.element.id+t+"_Axis_MultiLevelLabel_Rect_"+e+"_"+r,"Transparent",i.multiLevelLabels[e].border.width,i.multiLevelLabels[e].border.color||this.chart.themeStyle.axisLine,1,"",n));s.setAttribute("style","pointer-events: none"),Kt(this.chart.enableCanvas,this.labelElement,s,this.chart.redraw,!0,"x","y",null,o)}},{key:"triggerMultiLabelRender",value:function(e,t,i,n,r){var o;return o={cancel:!1,name:"axisMultiLabelRender",axis:e,text:t,textStyle:i,alignment:n,customAttributes:r},this.chart.trigger("axisMultiLabelRender",o),o}},{key:"MultiLevelLabelClick",value:function(e,t){var i,n=parseInt(e.substr(0,1),10),r=parseInt(e.substr(7),10),o=this.chart.axisCollections[t],s=o.multiLevelLabels[n].categories;return i={axis:o,level:n,text:s[r].text,customAttributes:s[r].customAttributes,start:s[r].start,end:s[r].end,name:"multiLevelLabelClick",cancel:!1},this.chart.trigger("multiLevelLabelClick",i),i}},{key:"click",value:function(e){var t,i,n,r=e.target.id,o="_Axis_MultiLevelLabel_Level_";r.indexOf(o)>-1&&(t=r.split(o)[1],i=r.split(o)[0],n=parseInt(i.charAt(i.length-1),10),this.MultiLevelLabelClick(t,n))}},{key:"getModuleName",value:function(){return"MultiLevelLabel"}},{key:"destroy",value:function(){}}]),e}()},Ha={provide:"ChartsParetoSeries",useValue:function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).paretoAxes=[],e}return _inherits(t,e),_createClass(t,[{key:"initSeries",value:function(e,t){var i=new on(t,"series",e.properties,!0);i.name="Pareto",i.yAxisName=e.yAxisName+"_CumulativeAxis",i.category="Pareto",e.category="Pareto",i.type="Line",i.interior=t.themeStyle.errorBar,t.visibleSeries.push(i),this.initAxis(e,i,t)}},{key:"initAxis",value:function(e,t,i){if(!this.paretoAxes.some((function(e){return e.name===t.yAxisName}))){var n=e.yAxisName?i.axes.filter((function(t){return t.name===e.yAxisName}))[0]:i.primaryYAxis,r=new rt(i,"axis",{name:t.yAxisName,majorGridLines:{width:0},majorTickLines:n.majorTickLines,lineStyle:n.lineStyle,minimum:0,maximum:100,rowIndex:n.rowIndex,opposedPosition:!0,labelFormat:"{value}%"});this.paretoAxes.push(r)}}},{key:"render",value:function(e){e.chart.columnSeriesModule.render(e)}},{key:"performCumulativeCalculation",value:function(e,t){for(var i=e,n=0,r=0,o=i.length,s=0;s<o;s++)n+=i[s][t.yName];for(var a=0;a<o;a++)r+=i[a][t.yName],i[a][t.yName]=Math.round(r/n*100);return i}},{key:"doAnimation",value:function(e){this.animate(e)}},{key:"getModuleName",value:function(){return"ParetoSeries"}},{key:"destroy",value:function(e){}}]),t}(kn)},Za={provide:"ChartsExport",useValue:function(){function e(t){_classCallCheck(this,e),this.chart=t}return _createClass(e,[{key:"export",value:function(e,t,i,n,r,o,s){var a=new mn(this.chart);n=n||[this.chart];var l={cancel:!1,name:"beforeExport",width:r,height:o};this.chart.trigger("beforeExport",l),l.cancel||a.export(e,t,i,n,r=l.width,o=l.height,s)}},{key:"getDataUrl",value:function(e){return new mn(e).getDataUrl(e)}},{key:"getModuleName",value:function(){return"Export"}},{key:"destroy",value:function(e){}}]),e}()},Xa={provide:"ChartsDataEditing",useValue:function(){function e(t){_classCallCheck(this,e),this.isPointDragging=!1,this.chart=t}return _createClass(e,[{key:"pointMouseDown",value:function(){var e=this.chart,t=new Ui(e),i=t.getData();!i.point||!t.insideRegion&&i.series.isRectSeries||(this.seriesIndex=i.series.index,this.pointIndex=i.point.index,e.series[this.seriesIndex].dragSettings.enable&&!e.zoomModule&&(e.trigger("dragStart",{series:i.series,seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,point:i.point,oldValue:e.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue}),e.isPointMouseDown=!0,e.zoomSettings.enableDeferredZooming=!1))}},{key:"pointMouseMove",value:function(e){var t,i=this.chart;"touchmove"===e.type&&e.preventDefault&&e.preventDefault();var n=new Ui(i),r=n.getData();r.series.dragSettings.enable&&r.point&&(n.insideRegion||!r.series.isRectSeries)?this.getCursorStyle(r):i.svgObject.setAttribute("style","cursor: null"),i.isPointMouseDown&&((t=i.series[this.seriesIndex]).type.indexOf("Spline")>-1&&i[It(t.type)+"SeriesModule"].findSplinePoint(t),this.pointDragging(this.seriesIndex,this.pointIndex))}},{key:"getCursorStyle",value:function(e){var t=this.chart;t.svgObject.setAttribute("style","Bar"===e.series.type&&t.isTransposed?"cursor:ns-resize":t.isTransposed||"Bar"===e.series.type?"cursor:ew-resize":"cursor:ns-resize")}},{key:"pointDragging",value:function(e,t){var i,n,r,o,s=this.chart,a=[],l=s.visibleSeries[e],h=l.dragSettings,d=l.yAxis,u=l.isRectSeries?1:0,p=function(e,t,i){var n,r,o,s;return i?(n=t.rect.x,r=e.rect.y,o=t.rect.width,s=e.rect.height):(n=e.rect.x,r=t.rect.y,o=e.rect.width,s=t.rect.height),new v(n,r,o,s)}(l.xAxis,d,s.requireInvertedAxis);if("Bar"===l.type?(i=s.isTransposed?p.y+p.height-s.mouseY:s.mouseX-p.x,n=s.isTransposed?p.height:p.width):(i=s.isTransposed?s.mouseX-p.x:p.y+p.height-s.mouseY,n=s.isTransposed?p.width:p.height),r=(r=d.isInversed?1-i/n:i/n)*d.visibleRange.delta+d.visibleRange.min,o=null!==d.minimum?d.visibleRange.min+u:Object(c.W)(h.minY)?r:h.minY,(null!==d.maximum?d.visibleRange.max+u:Object(c.W)(h.maxY)?r:h.maxY)>=r&&o<=r){l.points[t].yValue=l.points[t].y=s.dragY="Logarithmic"===d.valueType?Math.pow(d.logBase,r):parseFloat(r.toFixed(2)),l.points[t].interior=h.fill;for(var m=0;m<l.points.length;m++)a[m]=l.points[m].yValue;l.yMin=Math.min.apply(null,a),l.yMax=Math.max.apply(null,a),this.isPointDragging=!0,s.refreshBound(),s.trigger("drag",{seriesIndex:e,pointIndex:t,series:l,point:l.points[t],oldValue:s.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:l.points[t].yValue})}}},{key:"pointMouseUp",value:function(){var e=this.chart;e.isPointMouseDown&&e.series[this.seriesIndex].dragSettings.enable&&(e.trigger("dragEnd",{series:e.series[this.seriesIndex],point:e.visibleSeries[this.seriesIndex].points[this.pointIndex],seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,oldValue:e.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue}),e.visibleSeries[this.seriesIndex].points[this.pointIndex].y=e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue,e.isPointMouseDown=!1,this.isPointDragging=!1,this.seriesIndex=this.pointIndex=void 0)}},{key:"getModuleName",value:function(){return"DataEditing"}},{key:"destroy",value:function(e){}}]),e}()},Ga={provide:"ChartsHighlight",useValue:function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).chart=e,i.renderer=e.renderer,i.wireEvents(),i}return _inherits(t,e),_createClass(t,[{key:"wireEvents",value:function(){this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning||this.chart.on(c.d.touchMoveEvent,this.mouseMove,this)}},{key:"unWireEvents",value:function(){this.chart.isDestroyed||this.chart.off(c.d.touchMoveEvent,this.mouseMove)}},{key:"declarePrivateVariables",value:function(e){this.styleId=e.element.id+"_ej2_chart_highlight",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.highlightDataIndexes=[],this.isSeriesMode="Series"===e.highlightMode}},{key:"invokeHighlight",value:function(e){this.declarePrivateVariables(e),this.series=Object(c.J)({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.highlightMode}},{key:"getModuleName",value:function(){return"Highlight"}},{key:"destroy",value:function(e){this.unWireEvents()}}]),t}(Tn)},Ya=((Co=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:Co}),Co.\u0275inj=s.Nb({factory:function(e){return new(e||Co)},providers:[Xs,Gs,Ys,Us,Qs,qs,Js,Ks,$s,ea,ta,ia,na,ra,oa,sa,aa,la,ha,ca,da,ua,pa,ma,ga,va,ya,fa,ba,xa,_a,wa,Ca,ka,Sa,Ma,Oa,La,Pa,Aa,Ra,Ta,ja,Ia,za,Ea,Da,Ba,Na,Va,Fa,Wa,Ha,Za,Xa,Ga],imports:[[No.c,Zs],Zs]}),Co),Ua=["animation","backwardForecast","dashArray","enableTooltip","fill","forwardForecast","intercept","legendShape","marker","name","period","polynomialOrder","type","visible","width"],Qa=[],qa=((wo=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Qa),i.directivePropList=Ua,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||wo)(s.Qb(s.R))},wo.\u0275dir=s.Lb({type:wo,selectors:[["e-trendline"]],inputs:{animation:"animation",backwardForecast:"backwardForecast",dashArray:"dashArray",enableTooltip:"enableTooltip",fill:"fill",forwardForecast:"forwardForecast",intercept:"intercept",legendShape:"legendShape",marker:"marker",name:"name",period:"period",polynomialOrder:"polynomialOrder",type:"type",visible:"visible",width:"width"},features:[s.Bb]}),wo),Ja=((_o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"trendlines"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||_o)},_o.\u0275dir=s.Lb({type:_o,selectors:[["e-trendlines"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,qa,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),_o),Ka=["animation","bearFillColor","border","bullFillColor","cardinalSplineTension","close","columnSpacing","columnWidth","cornerRadius","dashArray","dataSource","emptyPointSettings","enableSolidCandles","enableTooltip","fill","high","low","marker","name","opacity","open","pointColorMapping","query","selectionStyle","tooltipMappingName","trendlines","type","visible","volume","width","xAxisName","xName","yAxisName","yName"],$a=[],el=((xo=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,i.tags=["trendlines"],Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents($a),i.directivePropList=Ka,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||xo)(s.Qb(s.R))},xo.\u0275dir=s.Lb({type:xo,selectors:[["e-stockchart-series"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,Ja,!0),2&e&&s.rc(n=s.fc())&&(t.childTrendlines=n.first)},inputs:{animation:"animation",bearFillColor:"bearFillColor",border:"border",bullFillColor:"bullFillColor",cardinalSplineTension:"cardinalSplineTension",close:"close",columnSpacing:"columnSpacing",columnWidth:"columnWidth",cornerRadius:"cornerRadius",dashArray:"dashArray",dataSource:"dataSource",emptyPointSettings:"emptyPointSettings",enableSolidCandles:"enableSolidCandles",enableTooltip:"enableTooltip",fill:"fill",high:"high",low:"low",marker:"marker",name:"name",opacity:"opacity",open:"open",pointColorMapping:"pointColorMapping",query:"query",selectionStyle:"selectionStyle",tooltipMappingName:"tooltipMappingName",trendlines:"trendlines",type:"type",visible:"visible",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName",yName:"yName"},features:[s.Bb]}),xo),tl=((bo=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"series"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||bo)},bo.\u0275dir=s.Lb({type:bo,selectors:[["e-stockchart-series-collection"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,el,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),bo),il=["coefficient","crossesAt","crossesInAxis","crosshairTooltip","description","desiredIntervals","edgeLabelPlacement","enableAutoIntervalOnZooming","enableTrim","interval","intervalType","isInversed","labelFormat","labelIntersectAction","labelPlacement","labelPosition","labelRotation","labelStyle","lineStyle","logBase","majorGridLines","majorTickLines","maximum","maximumLabelWidth","maximumLabels","minimum","minorGridLines","minorTickLines","minorTicksPerInterval","name","opposedPosition","placeNextToAxisLine","plotOffset","rangePadding","rowIndex","skeleton","skeletonType","span","startAngle","stripLines","tabIndex","tickPosition","title","titleStyle","valueType","visible","zoomFactor","zoomPosition"],nl=[],rl=((fo=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(nl),i.directivePropList=il,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||fo)(s.Qb(s.R))},fo.\u0275dir=s.Lb({type:fo,selectors:[["e-stockchart-axis"]],inputs:{coefficient:"coefficient",crossesAt:"crossesAt",crossesInAxis:"crossesInAxis",crosshairTooltip:"crosshairTooltip",description:"description",desiredIntervals:"desiredIntervals",edgeLabelPlacement:"edgeLabelPlacement",enableAutoIntervalOnZooming:"enableAutoIntervalOnZooming",enableTrim:"enableTrim",interval:"interval",intervalType:"intervalType",isInversed:"isInversed",labelFormat:"labelFormat",labelIntersectAction:"labelIntersectAction",labelPlacement:"labelPlacement",labelPosition:"labelPosition",labelRotation:"labelRotation",labelStyle:"labelStyle",lineStyle:"lineStyle",logBase:"logBase",majorGridLines:"majorGridLines",majorTickLines:"majorTickLines",maximum:"maximum",maximumLabelWidth:"maximumLabelWidth",maximumLabels:"maximumLabels",minimum:"minimum",minorGridLines:"minorGridLines",minorTickLines:"minorTickLines",minorTicksPerInterval:"minorTicksPerInterval",name:"name",opposedPosition:"opposedPosition",placeNextToAxisLine:"placeNextToAxisLine",plotOffset:"plotOffset",rangePadding:"rangePadding",rowIndex:"rowIndex",skeleton:"skeleton",skeletonType:"skeletonType",span:"span",startAngle:"startAngle",stripLines:"stripLines",tabIndex:"tabIndex",tickPosition:"tickPosition",title:"title",titleStyle:"titleStyle",valueType:"valueType",visible:"visible",zoomFactor:"zoomFactor",zoomPosition:"zoomPosition"},features:[s.Bb]}),fo),ol=((yo=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"axes"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||yo)},yo.\u0275dir=s.Lb({type:yo,selectors:[["e-stockchart-axes"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,rl,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),yo),sl=["border","height"],al=[],ll=((vo=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(al),i.directivePropList=sl,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||vo)(s.Qb(s.R))},vo.\u0275dir=s.Lb({type:vo,selectors:[["e-stockchart-row"]],inputs:{border:"border",height:"height"},features:[s.Bb]}),vo),hl=((go=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"rows"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||go)},go.\u0275dir=s.Lb({type:go,selectors:[["e-stockchart-rows"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,ll,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),go),cl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},dl=["content","coordinateUnits","description","horizontalAlignment","region","verticalAlignment","x","xAxisName","y","yAxisName"],ul=[],pl=((jo=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(ul),i.directivePropList=dl,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||jo)(s.Qb(s.R))},jo.\u0275dir=s.Lb({type:jo,selectors:[["e-stockchart-annotation"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,Fo,!0),2&e&&s.rc(n=s.fc())&&(t.content=n.first)},inputs:{content:"content",coordinateUnits:"coordinateUnits",description:"description",horizontalAlignment:"horizontalAlignment",region:"region",verticalAlignment:"verticalAlignment",x:"x",xAxisName:"xAxisName",y:"y",yAxisName:"yAxisName"},features:[s.Bb]}),function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);o>3&&s&&Object.defineProperty(t,i,s)}([Object(h.f)(),cl("design:type",Object)],jo.prototype,"content",void 0),jo),ml=((To=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"annotations"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||To)},To.\u0275dir=s.Lb({type:To,selectors:[["e-stockchart-annotations"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,pl,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),To),gl=["point","series"],vl=[],yl=((Ro=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(vl),i.directivePropList=gl,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||Ro)(s.Qb(s.R))},Ro.\u0275dir=s.Lb({type:Ro,selectors:[["e-stockchart-selectedDataIndex"]],inputs:{point:"point",series:"series"},features:[s.Bb]}),Ro),fl=((Ao=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"selecteddataindexes"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||Ao)},Ao.\u0275dir=s.Lb({type:Ao,selectors:[["e-stockchart-selectedDataIndexes"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,yl,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),Ao),bl=["interval","intervalType","selected","text"],xl=[],_l=((Po=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(xl),i.directivePropList=bl,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||Po)(s.Qb(s.R))},Po.\u0275dir=s.Lb({type:Po,selectors:[["e-stockchart-period"]],inputs:{interval:"interval",intervalType:"intervalType",selected:"selected",text:"text"},features:[s.Bb]}),Po),wl=((Lo=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"periods"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||Lo)},Lo.\u0275dir=s.Lb({type:Lo,selectors:[["e-stockchart-periods"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,_l,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),Lo),Cl=["background","border","date","description","placeAt","showOnSeries","text","textStyle","type"],kl=[],Sl=((Oo=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(kl),i.directivePropList=Cl,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||Oo)(s.Qb(s.R))},Oo.\u0275dir=s.Lb({type:Oo,selectors:[["e-stockchart-stockevent"]],inputs:{background:"background",border:"border",date:"date",description:"description",placeAt:"placeAt",showOnSeries:"showOnSeries",text:"text",textStyle:"textStyle",type:"type"},features:[s.Bb]}),Oo),Ml=((Mo=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"stockevents"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||Mo)},Mo.\u0275dir=s.Lb({type:Mo,selectors:[["e-stockchart-stockevents"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,Sl,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),Mo),Ol=["animation","bandColor","close","dPeriod","dashArray","dataSource","fastPeriod","field","fill","high","kPeriod","low","lowerLine","macdLine","macdNegativeColor","macdPositiveColor","macdType","open","overBought","overSold","period","periodLine","pointColorMapping","query","seriesName","showZones","slowPeriod","standardDeviation","type","upperLine","volume","width","xAxisName","xName","yAxisName"],Ll=[],Pl=((So=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Ll),i.directivePropList=Ol,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||So)(s.Qb(s.R))},So.\u0275dir=s.Lb({type:So,selectors:[["e-stockchart-indicator"]],inputs:{animation:"animation",bandColor:"bandColor",close:"close",dPeriod:"dPeriod",dashArray:"dashArray",dataSource:"dataSource",fastPeriod:"fastPeriod",field:"field",fill:"fill",high:"high",kPeriod:"kPeriod",low:"low",lowerLine:"lowerLine",macdLine:"macdLine",macdNegativeColor:"macdNegativeColor",macdPositiveColor:"macdPositiveColor",macdType:"macdType",open:"open",overBought:"overBought",overSold:"overSold",period:"period",periodLine:"periodLine",pointColorMapping:"pointColorMapping",query:"query",seriesName:"seriesName",showZones:"showZones",slowPeriod:"slowPeriod",standardDeviation:"standardDeviation",type:"type",upperLine:"upperLine",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName"},features:[s.Bb]}),So),Al=((ko=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"indicators"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||ko)},ko.\u0275dir=s.Lb({type:ko,selectors:[["e-stockchart-indicators"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,Pl,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),ko),Rl=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Tl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jl=["axisLabelRender","load","loaded","onZooming","pointClick","pointMove","rangeChange","selectorRender","seriesRender","stockChartMouseClick","stockChartMouseDown","stockChartMouseLeave","stockChartMouseMove","stockChartMouseUp","stockEventRender","tooltipRender","dataSourceChange"],Il=["dataSource"],zl=((Do=function(e){function t(e,i,n,r){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).ngEle=e,o.srenderer=i,o.viewContainerRef=n,o.injector=r,o.tags=["series","axes","rows","annotations","selectedDataIndexes","periods","stockEvents","indicators"],o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[];try{var s=o.injector.get("ChartsLineSeries");-1===o.injectedModules.indexOf(s)&&o.injectedModules.push(s)}catch(E){}try{var a=o.injector.get("ChartsColumnSeries");-1===o.injectedModules.indexOf(a)&&o.injectedModules.push(a)}catch(D){}try{var l=o.injector.get("ChartsSplineSeries");-1===o.injectedModules.indexOf(l)&&o.injectedModules.push(l)}catch(B){}try{var c=o.injector.get("ChartsSplineAreaSeries");-1===o.injectedModules.indexOf(c)&&o.injectedModules.push(c)}catch(N){}try{var d=o.injector.get("ChartsStripLine");-1===o.injectedModules.indexOf(d)&&o.injectedModules.push(d)}catch(V){}try{var u=o.injector.get("ChartsAreaSeries");-1===o.injectedModules.indexOf(u)&&o.injectedModules.push(u)}catch(F){}try{var p=o.injector.get("ChartsTooltip");-1===o.injectedModules.indexOf(p)&&o.injectedModules.push(p)}catch(W){}try{var m=o.injector.get("ChartsCrosshair");-1===o.injectedModules.indexOf(m)&&o.injectedModules.push(m)}catch(H){}try{var g=o.injector.get("ChartsDateTime");-1===o.injectedModules.indexOf(g)&&o.injectedModules.push(g)}catch(Z){}try{var v=o.injector.get("ChartsZoom");-1===o.injectedModules.indexOf(v)&&o.injectedModules.push(v)}catch(X){}try{var y=o.injector.get("ChartsDataLabel");-1===o.injectedModules.indexOf(y)&&o.injectedModules.push(y)}catch(G){}try{var f=o.injector.get("ChartsSelection");-1===o.injectedModules.indexOf(f)&&o.injectedModules.push(f)}catch(Y){}try{var b=o.injector.get("ChartsChartAnnotation");-1===o.injectedModules.indexOf(b)&&o.injectedModules.push(b)}catch(U){}try{var x=o.injector.get("ChartsHiloSeries");-1===o.injectedModules.indexOf(x)&&o.injectedModules.push(x)}catch(Q){}try{var _=o.injector.get("ChartsHiloOpenCloseSeries");-1===o.injectedModules.indexOf(_)&&o.injectedModules.push(_)}catch(q){}try{var w=o.injector.get("ChartsCandleSeries");-1===o.injectedModules.indexOf(w)&&o.injectedModules.push(w)}catch(J){}try{var C=o.injector.get("ChartsSmaIndicator");-1===o.injectedModules.indexOf(C)&&o.injectedModules.push(C)}catch(K){}try{var k=o.injector.get("ChartsTmaIndicator");-1===o.injectedModules.indexOf(k)&&o.injectedModules.push(k)}catch($){}try{var S=o.injector.get("ChartsEmaIndicator");-1===o.injectedModules.indexOf(S)&&o.injectedModules.push(S)}catch(ee){}try{var M=o.injector.get("ChartsAccumulationDistributionIndicator");-1===o.injectedModules.indexOf(M)&&o.injectedModules.push(M)}catch(te){}try{var O=o.injector.get("ChartsMacdIndicator");-1===o.injectedModules.indexOf(O)&&o.injectedModules.push(O)}catch(ie){}try{var L=o.injector.get("ChartsAtrIndicator");-1===o.injectedModules.indexOf(L)&&o.injectedModules.push(L)}catch(ne){}try{var P=o.injector.get("ChartsRsiIndicator");-1===o.injectedModules.indexOf(P)&&o.injectedModules.push(P)}catch(re){}try{var A=o.injector.get("ChartsMomentumIndicator");-1===o.injectedModules.indexOf(A)&&o.injectedModules.push(A)}catch(oe){}try{var R=o.injector.get("ChartsStochasticIndicator");-1===o.injectedModules.indexOf(R)&&o.injectedModules.push(R)}catch(se){}try{var T=o.injector.get("ChartsBollingerBands");-1===o.injectedModules.indexOf(T)&&o.injectedModules.push(T)}catch(ae){}try{var j=o.injector.get("ChartsTrendlines");-1===o.injectedModules.indexOf(j)&&o.injectedModules.push(j)}catch(le){}try{var I=o.injector.get("ChartsRangeTooltip");-1===o.injectedModules.indexOf(I)&&o.injectedModules.push(I)}catch(he){}try{var z=o.injector.get("ChartsExport");-1===o.injectedModules.indexOf(z)&&o.injectedModules.push(z)}catch(ce){}return o.registerEvents(jl),o.addTwoWay.call(_assertThisInitialized(o),Il),Object(h.g)("currentInstance",_assertThisInitialized(o),o.viewContainerRef),o.context=new h.c,o}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.context.ngOnInit(this)}},{key:"ngAfterViewInit",value:function(){this.context.ngAfterViewInit(this)}},{key:"ngOnDestroy",value:function(){this.context.ngOnDestroy(this)}},{key:"ngAfterContentChecked",value:function(){this.tagObjects[0].instance=this.childSeries,this.childAxes&&(this.tagObjects[1].instance=this.childAxes),this.childRows&&(this.tagObjects[2].instance=this.childRows),this.childAnnotations&&(this.tagObjects[3].instance=this.childAnnotations),this.childSelectedDataIndexes&&(this.tagObjects[4].instance=this.childSelectedDataIndexes),this.childPeriods&&(this.tagObjects[5].instance=this.childPeriods),this.childStockEvents&&(this.tagObjects[6].instance=this.childStockEvents),this.childIndicators&&(this.tagObjects[7].instance=this.childIndicators),this.context.ngAfterContentChecked(this)}}]),t}(Fr)).\u0275fac=function(e){return new(e||Do)(s.Qb(s.l),s.Qb(s.F),s.Qb(s.R),s.Qb(s.s))},Do.\u0275cmp=s.Kb({type:Do,selectors:[["ejs-stockchart"]],contentQueries:function(e,t,i){var n;1&e&&(s.Ib(i,Wo,!0),s.Ib(i,tl,!0),s.Ib(i,ol,!0),s.Ib(i,hl,!0),s.Ib(i,ml,!0),s.Ib(i,fl,!0),s.Ib(i,wl,!0),s.Ib(i,Ml,!0),s.Ib(i,Al,!0)),2&e&&(s.rc(n=s.fc())&&(t.tooltip_template=n.first),s.rc(n=s.fc())&&(t.childSeries=n.first),s.rc(n=s.fc())&&(t.childAxes=n.first),s.rc(n=s.fc())&&(t.childRows=n.first),s.rc(n=s.fc())&&(t.childAnnotations=n.first),s.rc(n=s.fc())&&(t.childSelectedDataIndexes=n.first),s.rc(n=s.fc())&&(t.childPeriods=n.first),s.rc(n=s.fc())&&(t.childStockEvents=n.first),s.rc(n=s.fc())&&(t.childIndicators=n.first))},inputs:{annotations:"annotations",axes:"axes",background:"background",border:"border",chartArea:"chartArea",crosshair:"crosshair",dataSource:"dataSource",enableCustomRange:"enableCustomRange",enablePeriodSelector:"enablePeriodSelector",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableSelector:"enableSelector",exportType:"exportType",height:"height",indicatorType:"indicatorType",indicators:"indicators",isMultiSelect:"isMultiSelect",isSelect:"isSelect",isTransposed:"isTransposed",locale:"locale",margin:"margin",periods:"periods",primaryXAxis:"primaryXAxis",primaryYAxis:"primaryYAxis",rows:"rows",selectedDataIndexes:"selectedDataIndexes",selectionMode:"selectionMode",series:"series",seriesType:"seriesType",stockEvents:"stockEvents",theme:"theme",title:"title",titleStyle:"titleStyle",tooltip:"tooltip",trendlineType:"trendlineType",width:"width",zoomSettings:"zoomSettings"},outputs:{axisLabelRender:"axisLabelRender",load:"load",loaded:"loaded",onZooming:"onZooming",pointClick:"pointClick",pointMove:"pointMove",rangeChange:"rangeChange",selectorRender:"selectorRender",seriesRender:"seriesRender",stockChartMouseClick:"stockChartMouseClick",stockChartMouseDown:"stockChartMouseDown",stockChartMouseLeave:"stockChartMouseLeave",stockChartMouseMove:"stockChartMouseMove",stockChartMouseUp:"stockChartMouseUp",stockEventRender:"stockEventRender",tooltipRender:"tooltipRender",dataSourceChange:"dataSourceChange"},features:[s.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Rl([Object(h.f)(),Tl("design:type",Object)],Do.prototype,"tooltip_template",void 0),Do=Rl([Object(h.d)([h.c]),Tl("design:paramtypes",[s.l,s.F,s.R,s.s])],Do)),El=((Eo=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:Eo}),Eo.\u0275inj=s.Nb({factory:function(e){return new(e||Eo)},imports:[[No.c]]}),Eo),Dl=((zo=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:zo}),zo.\u0275inj=s.Nb({factory:function(e){return new(e||zo)},providers:[],imports:[[No.c,El],El]}),zo),Bl=((Io=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:Io}),Io.\u0275inj=s.Nb({factory:function(e){return new(e||Io)},providers:[ca,Xs],imports:[[r.j,r.v,Ya,Dl]]}),Io),Nl=i("tyNb"),Vl=[{title:"STOCK-HSD",group:!0},{title:"Dashboard",icon:"activity-outline",link:"/users/dashboard"},{title:"IPO",icon:"pie-chart-outline",link:"/users/ipo"},{title:"Company",icon:"list-outline",link:"/users/company"},{title:"Sector",icon:"grid-outline",link:"/users/sector"},{title:"Comparison",icon:"bar-chart-outline",link:"/users/comparison"},{title:"Profile",icon:"person-outline",link:"/users/profile"}],Fl=i("mgFL"),Wl=((Bo=function e(){_classCallCheck(this,e),this.menu=Vl}).\u0275fac=function(e){return new(e||Bo)},Bo.\u0275cmp=s.Kb({type:Bo,selectors:[["ngx-users"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,t){1&e&&(s.Wb(0,"ngx-one-column-layout"),s.Rb(1,"nb-menu",0),s.Rb(2,"router-outlet"),s.Vb()),2&e&&(s.Eb(1),s.mc("items",t.menu))},directives:[Fl.a,r.S,Nl.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),Bo);function Hl(e,t){1&e&&s.Rb(0,"tr",9)}function Zl(e,t){1&e&&s.Rb(0,"tr",10)}function Xl(e,t){if(1&e&&(s.Wb(0,"th",11),s.Cc(1),s.Vb()),2&e){var i=s.gc();s.mc("nbSortHeader",i.getSortDirection(i.customColumn)),s.Eb(1),s.Ec(" ",i.customColumn," ")}}function Gl(e,t){if(1&e&&(s.Wb(0,"td",12),s.Wb(1,"a",13),s.Cc(2),s.Vb(),s.Vb()),2&e){var i=t.$implicit,n=s.gc();s.Eb(1),s.oc("href","/users/company-details?stock=",i.data[n.customColumn],"",s.wc),s.Eb(1),s.Ec(" ",i.data[n.customColumn]," ")}}function Yl(e,t){if(1&e&&(s.Wb(0,"th",11),s.Cc(1),s.Vb()),2&e){var i=s.gc().$implicit,n=s.gc();s.mc("nbSortHeader",n.getSortDirection(i)),s.Eb(1),s.Ec(" ",i," ")}}function Ul(e,t){if(1&e&&(s.Wb(0,"td",12),s.Cc(1),s.Vb()),2&e){var i=t.$implicit,n=s.gc().$implicit;s.Eb(1),s.Dc(i.data[n]||"-")}}function Ql(e,t){if(1&e&&(s.Ub(0,14),s.Ac(1,Yl,2,2,"th",6),s.Ac(2,Ul,2,1,"td",7),s.Tb()),2&e){var i=t.$implicit,n=t.index,r=s.gc();s.mc("nbTreeGridColumnDef",i)("showOn",r.getShowOn(n))}}var ql,Jl,Kl,$l,eh,th,ih,nh,rh,oh,sh,ah,lh,hh,ch,dh,uh=((Jl=function(){function e(t){_classCallCheck(this,e),this.dataSourceBuilder=t,this.customColumn="Name",this.defaultColumns=["Code","Sector","Exchange","CEO","Turnover","About"],this.allColumns=[this.customColumn].concat(_toConsumableArray(this.defaultColumns)),this.sortDirection=r.eb.NONE,this.data=[{data:{Name:"Facebook(FB)",Code:"002831",Sector:"Tech",Exchange:"US",CEO:"Zuckerberg",Turnover:2367.63,About:"XXXXXXXXX"}},{data:{Name:"Amazon(AMZN)",Code:"422133",Sector:"Tech",Exchange:"US",CEO:"Jeff Bezos",Turnover:512.26,About:"AAAAAAAAA"}},{data:{Name:"Apple(AAPL)",Code:"100122",Sector:"Tech",Exchange:"US",CEO:"Tim Cook",Turnover:4925.63,About:"CCCCCCCCCC"}}],this.dataSource=this.dataSourceBuilder.create(this.data)}return _createClass(e,[{key:"updateSort",value:function(e){this.sortColumn=e.column,this.sortDirection=e.direction}},{key:"getSortDirection",value:function(e){return this.sortColumn===e?this.sortDirection:r.eb.NONE}},{key:"getShowOn",value:function(e){return 400+100*e}}]),e}()).\u0275fac=function(e){return new(e||Jl)(s.Qb(r.qb))},Jl.\u0275cmp=s.Kb({type:Jl,selectors:[["ngx-company-list"]],decls:12,vars:7,consts:[["for","search",1,"search-label"],["nbInput","","id","search",1,"search-input",3,"nbFilterInput"],[3,"nbTreeGrid","nbSort","sort"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],[3,"nbTreeGridColumnDef"],["nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],[3,"nbTreeGridColumnDef","showOn",4,"ngFor","ngForOf"],["nbTreeGridHeaderRow",""],["nbTreeGridRow",""],["nbTreeGridHeaderCell","",3,"nbSortHeader"],["nbTreeGridCell",""],[3,"href"],[3,"nbTreeGridColumnDef","showOn"]],template:function(e,t){1&e&&(s.Wb(0,"nb-card"),s.Wb(1,"nb-card-body"),s.Wb(2,"label",0),s.Cc(3,"Search:"),s.Vb(),s.Rb(4,"input",1),s.Wb(5,"table",2),s.ec("sort",(function(e){return t.updateSort(e)})),s.Ac(6,Hl,1,0,"tr",3),s.Ac(7,Zl,1,0,"tr",4),s.Ub(8,5),s.Ac(9,Xl,2,2,"th",6),s.Ac(10,Gl,3,2,"td",7),s.Tb(),s.Ac(11,Ql,3,2,"ng-container",8),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Eb(4),s.mc("nbFilterInput",t.dataSource),s.Eb(1),s.mc("nbTreeGrid",t.dataSource)("nbSort",t.dataSource),s.Eb(1),s.mc("nbTreeGridHeaderRowDef",t.allColumns),s.Eb(1),s.mc("nbTreeGridRowDefColumns",t.allColumns),s.Eb(1),s.mc("nbTreeGridColumnDef",t.customColumn),s.Eb(3),s.mc("ngForOf",t.defaultColumns))},directives:[r.s,r.r,r.J,r.F,r.pb,r.fb,r.ub,r.xb,r.ob,r.rb,r.mb,No.l,r.tb,r.wb,r.sb,r.gb,r.nb],styles:[".nb-theme-default   [_nghost-%COMP%]   button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.nb-theme-default   [_nghost-%COMP%]   .search-label[_ngcontent-%COMP%]{display:block}.nb-theme-default   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-theme-default   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:100%}.nb-theme-default   [_nghost-%COMP%]     .row-toggle-button{color:#222b45}.nb-theme-default   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize}@media screen and (min-width:400px){.nb-theme-default   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-theme-default   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-theme-default   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-theme-default   [_nghost-%COMP%]   .nb-column-items[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:23%}}.nb-theme-dark   [_nghost-%COMP%]   button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.nb-theme-dark   [_nghost-%COMP%]   .search-label[_ngcontent-%COMP%]{display:block}.nb-theme-dark   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-theme-dark   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:100%}.nb-theme-dark   [_nghost-%COMP%]     .row-toggle-button{color:#fff}.nb-theme-dark   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize}@media screen and (min-width:400px){.nb-theme-dark   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-theme-dark   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-theme-dark   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-theme-dark   [_nghost-%COMP%]   .nb-column-items[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:23%}}.nb-theme-cosmic   [_nghost-%COMP%]   button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.nb-theme-cosmic   [_nghost-%COMP%]   .search-label[_ngcontent-%COMP%]{display:block}.nb-theme-cosmic   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:100%}.nb-theme-cosmic   [_nghost-%COMP%]     .row-toggle-button{color:#fff}.nb-theme-cosmic   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize}@media screen and (min-width:400px){.nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-items[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:23%}}.nb-theme-corporate   [_nghost-%COMP%]   button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.nb-theme-corporate   [_nghost-%COMP%]   .search-label[_ngcontent-%COMP%]{display:block}.nb-theme-corporate   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-theme-corporate   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:100%}.nb-theme-corporate   [_nghost-%COMP%]     .row-toggle-button{color:#222b45}.nb-theme-corporate   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize}@media screen and (min-width:400px){.nb-theme-corporate   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-theme-corporate   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-theme-corporate   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-theme-corporate   [_nghost-%COMP%]   .nb-column-items[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:23%}}"]}),Jl),ph=((ql=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ql)},ql.\u0275cmp=s.Kb({type:ql,selectors:[["ngx-dashboard"]],decls:3,vars:0,consts:[[1,"row"],[1,"col-xxl-5"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Rb(2,"ngx-company-list"),s.Vb(),s.Vb())},directives:[uh],encapsulation:2}),ql),mh=i("GJ+o"),gh=i("wH5/"),vh=["grid"],yh=function(){var e=function(){function e(t,i){_classCallCheck(this,e),this.router=t,this.service=i}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.service.getCompanyListData().subscribe((function(t){e.data=t.companyListDto,console.log("======result: "+JSON.stringify(t))})),this.pageSettings={pageCount:5},this.toolbar=["Search"]}},{key:"rowSelected",value:function(e){var t=this.grid.getSelectedRecords();this.router.navigate(["/users/company-details"],{queryParams:t[0]})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Qb(Nl.c),s.Qb(gh.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["fsd-company-list"]],viewQuery:function(e,t){var i;1&e&&s.Hc(vh,!0),2&e&&s.rc(i=s.fc())&&(t.grid=i.first)},features:[s.Db([mh.i,mh.k,mh.f,mh.h,mh.j,mh.l])],decls:11,vars:3,consts:[[1,"control-section"],["allowSorting","true","allowPaging","true","allowSearching","true","allowSelection","true","allowFiltering","true",3,"dataSource","pageSettings","toolbar","rowSelected"],["grid",""],["field","companyName","headerText","Company Name","width","120","textAlign","Center"],["field","companyCode","headerText","Company Code","width","120","textAlign","Center"],["field","sectorName","headerText","Sector","width","120","textAlign","Center"],["field","exchangeName","headerText","Exchange","width","120","textAlign","Center"],["field","ceoName","headerText","CEO","width","120","textAlign","Center"],["field","turnOver","headerText","Turnover","width","120","textAlign","Center"],["field","brief","headerText","Brief","width","120","textAlign","Center"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"ejs-grid",1,2),s.ec("rowSelected",(function(e){return t.rowSelected(e)})),s.Wb(3,"e-columns"),s.Rb(4,"e-column",3),s.Rb(5,"e-column",4),s.Rb(6,"e-column",5),s.Rb(7,"e-column",6),s.Rb(8,"e-column",7),s.Rb(9,"e-column",8),s.Rb(10,"e-column",9),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Eb(1),s.mc("dataSource",t.data)("pageSettings",t.pageSettings)("toolbar",t.toolbar))},directives:[mh.g,mh.d,mh.b,mh.c,mh.a],styles:[""]}),e}(),fh=((Kl=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Kl)},Kl.\u0275cmp=s.Kb({type:Kl,selectors:[["fsd-company"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-xxl-5"],["status","primary"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"nb-card",2),s.Wb(3,"nb-card-header"),s.Cc(4," Companies "),s.Vb(),s.Wb(5,"nb-card-body"),s.Rb(6,"fsd-company-list"),s.Vb(),s.Vb(),s.Vb(),s.Vb())},directives:[r.s,r.u,r.r,yh],encapsulation:2}),Kl),bh=i("JeY3"),xh=["item"],_h=(($l=function(){function e(t,i,n,r){_classCallCheck(this,e),this.stockService=t,this.companyService=i,this.activateInfo=n,this.router=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.activateInfo.queryParams.subscribe((function(t){e.companyCode=t.companyCode})),this.stockService.getCompanyStockPriceListData(this.companyCode).subscribe((function(t){e.stockchartData=t,console.log("service: "+JSON.stringify(t))}),(function(e){return console.error(e)}),(function(){return console.log("done stock")})),this.companyService.getCompanyDetailsData(this.companyCode).subscribe((function(t){e.companyDetailsData=t.companyDto}),(function(e){return console.error(e)}),(function(){return console.log("done")})),this.title="APPLE",this.primaryXAxis={valueType:"DateTime"}}},{key:"ngAfterContentInit",value:function(){this.toggle()}},{key:"toggle",value:function(){this.accordion.toggle()}}]),e}()).\u0275fac=function(e){return new(e||$l)(s.Qb(bh.a),s.Qb(gh.a),s.Qb(Nl.a),s.Qb(Nl.c))},$l.\u0275cmp=s.Kb({type:$l,selectors:[["fsd-company-details"]],viewQuery:function(e,t){var i;1&e&&s.yc(xh,!0),2&e&&s.rc(i=s.fc())&&(t.accordion=i.first)},decls:43,vars:10,consts:[[1,"accordions-container","row"],[1,"accordion-container","col-md-12","col-lg-12","col-xxxl-12"],[1,"row"],[1,"col-md-4"],["status","primary"],["status","danger"],["status","info"],["multi",""],["item",""],["id","chart-container",3,"primaryXAxis","primaryYAxis","title"],["type","Candle","xName","date","High","high","Low","low","Open","open","Close","close","Name","Apple",3,"dataSource"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"nb-card"),s.Wb(3,"nb-card-header"),s.Cc(4,"Company Stock Information"),s.Vb(),s.Wb(5,"nb-card-body"),s.Wb(6,"div",2),s.Wb(7,"div",3),s.Wb(8,"nb-card",4),s.Wb(9,"nb-card-header"),s.Cc(10),s.Vb(),s.Vb(),s.Vb(),s.Wb(11,"div",3),s.Wb(12,"nb-card",5),s.Wb(13,"nb-card-header"),s.Cc(14),s.Vb(),s.Vb(),s.Vb(),s.Wb(15,"div",3),s.Wb(16,"nb-card",6),s.Wb(17,"nb-card-header"),s.Cc(18),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(19,"nb-accordion",7),s.Wb(20,"nb-accordion-item",null,8),s.Wb(22,"nb-accordion-item-header"),s.Cc(23," Stock Price Chart "),s.Vb(),s.Wb(24,"nb-accordion-item-body"),s.Wb(25,"ejs-stockchart",9),s.Wb(26,"e-stockchart-series-collection"),s.Rb(27,"e-stockchart-series",10),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(28,"nb-accordion-item"),s.Wb(29,"nb-accordion-item-header"),s.Cc(30," Turnover "),s.Vb(),s.Wb(31,"nb-accordion-item-body"),s.Cc(32),s.Vb(),s.Vb(),s.Wb(33,"nb-accordion-item"),s.Wb(34,"nb-accordion-item-header"),s.Cc(35," CEO "),s.Vb(),s.Wb(36,"nb-accordion-item-body"),s.Cc(37),s.Vb(),s.Vb(),s.Wb(38,"nb-accordion-item"),s.Wb(39,"nb-accordion-item-header"),s.Cc(40," About "),s.Vb(),s.Wb(41,"nb-accordion-item-body"),s.Cc(42),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Eb(10),s.Ec(" Company code: ",t.companyDetailsData.companyCode," "),s.Eb(4),s.Ec(" Exchange: ",null==t.companyDetailsData?null:t.companyDetailsData.exchangeName," "),s.Eb(4),s.Ec(" Sector: ",null==t.companyDetailsData?null:t.companyDetailsData.sectorName," "),s.Eb(7),s.mc("primaryXAxis",t.primaryXAxis)("primaryYAxis",t.primaryYAxis)("title",t.title),s.Eb(2),s.mc("dataSource",t.stockchartData),s.Eb(5),s.Ec(" ",null==t.companyDetailsData?null:t.companyDetailsData.turnOver," "),s.Eb(5),s.Ec(" ",null==t.companyDetailsData?null:t.companyDetailsData.ceoName," "),s.Eb(5),s.Ec(" ",null==t.companyDetailsData?null:t.companyDetailsData.brief," "))},directives:[r.s,r.u,r.r,r.f,r.h,r.i,r.g,zl,tl,el],styles:[".nb-theme-corporate   [_nghost-%COMP%]   .accordion-container[_ngcontent-%COMP%]:first-child, .nb-theme-cosmic   [_nghost-%COMP%]   .accordion-container[_ngcontent-%COMP%]:first-child, .nb-theme-dark   [_nghost-%COMP%]   .accordion-container[_ngcontent-%COMP%]:first-child, .nb-theme-default   [_nghost-%COMP%]   .accordion-container[_ngcontent-%COMP%]:first-child{margin-bottom:1.875rem}"]}),$l),wh=i("jcQU"),Ch=i("3Pt+"),kh=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Sh=["blur","change","cleared","close","created","destroyed","focus","navigated","open","renderDayCell","valueChange"],Mh=["value"],Oh=((eh=th=function(e){function t(e,i,n,r){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).ngEle=e,o.srenderer=i,o.viewContainerRef=n,o.injector=r,o.skipFromEvent=!0,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[];try{var s=o.injector.get("CalendarsIslamic");-1===o.injectedModules.indexOf(s)&&o.injectedModules.push(s)}catch(a){}return o.registerEvents(Sh),o.addTwoWay.call(_assertThisInitialized(o),Mh),Object(h.g)("currentInstance",_assertThisInitialized(o),o.viewContainerRef),o.formContext=new h.e,o.formCompContext=new h.c,o}return _inherits(t,e),_createClass(t,[{key:"registerOnChange",value:function(e){}},{key:"registerOnTouched",value:function(e){}},{key:"writeValue",value:function(e){}},{key:"setDisabledState",value:function(e){}},{key:"ngOnInit",value:function(){this.formCompContext.ngOnInit(this)}},{key:"ngAfterViewInit",value:function(){this.formContext.ngAfterViewInit(this)}},{key:"ngOnDestroy",value:function(){this.formCompContext.ngOnDestroy(this)}},{key:"ngAfterContentChecked",value:function(){this.formCompContext.ngAfterContentChecked(this)}}]),t}(V.b)).\u0275fac=function(e){return new(e||eh)(s.Qb(s.l),s.Qb(s.F),s.Qb(s.R),s.Qb(s.s))},eh.\u0275cmp=s.Kb({type:eh,selectors:[["ejs-datepicker"]],inputs:{allowEdit:"allowEdit",calendarMode:"calendarMode",cssClass:"cssClass",dayHeaderFormat:"dayHeaderFormat",depth:"depth",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",firstDayOfWeek:"firstDayOfWeek",floatLabelType:"floatLabelType",format:"format",htmlAttributes:"htmlAttributes",isMultiSelection:"isMultiSelection",keyConfigs:"keyConfigs",locale:"locale",max:"max",min:"min",placeholder:"placeholder",readonly:"readonly",serverTimezoneOffset:"serverTimezoneOffset",showClearButton:"showClearButton",showTodayButton:"showTodayButton",start:"start",strictMode:"strictMode",value:"value",values:"values",weekNumber:"weekNumber",width:"width",zIndex:"zIndex"},outputs:{blur:"blur",change:"change",cleared:"cleared",close:"close",created:"created",destroyed:"destroyed",focus:"focus",navigated:"navigated",open:"open",renderDayCell:"renderDayCell",valueChange:"valueChange"},features:[s.Db([{provide:Ch.f,useExisting:Object(s.W)((function(){return th})),multi:!0}]),s.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),eh=th=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}([Object(h.d)([h.c,h.e]),kh("design:paramtypes",[s.l,s.F,s.R,s.s])],eh)),Lh=i("xw5X"),Ph=((ih=function(){function e(t){_classCallCheck(this,e),this.service=t,this.fields={text:"sectorName",value:"id"},this.waterMark="Sectors",this.default="Box"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.service.getSectorListData().subscribe((function(t){e.sectorName=t.sectorListDto}))}}]),e}()).\u0275fac=function(e){return new(e||ih)(s.Qb(Lh.a))},ih.\u0275cmp=s.Kb({type:ih,selectors:[["fsd-different-sector"]],decls:1,vars:4,consts:[["id","sector-select",3,"dataSource","mode","fields","placeholder"]],template:function(e,t){1&e&&s.Rb(0,"ejs-multiselect",0),2&e&&s.mc("dataSource",t.sectorName)("mode",t.default)("fields",t.fields)("placeholder",t.waterMark)},directives:[wh.a],styles:[".control-styles{margin:0 auto;width:300px;padding-top:25px}"],encapsulation:2}),ih),Ah=["company"],Rh=["companyDate"],Th=((rh=function(){function e(t,i){var n=this;_classCallCheck(this,e),this.router=t,this.service=i,this.date=new Date,this.fields={text:"companyName",value:"companyCode"},this.waterMark="Companies",this.default="Box",this.service.getCompanyListData().subscribe((function(e){n.companyName=e.companyListDto}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"gotoComparisonChart",value:function(){console.log(this.companyObject.value[0]),console.log(this.companyObject.value[1]),console.log(this.companyDateObject.value.toDateString());var e={queryParams:{company1Code:this.companyObject.value[0],company2Code:this.companyObject.value[1],pickedDate1:this.companyDateObject.value.toLocaleDateString(),pickedDate2:this.companyDateObject.value.toLocaleDateString()}};this.router.navigate(["/users/comparison-charts"],e)}}]),e}()).\u0275fac=function(e){return new(e||rh)(s.Qb(Nl.c),s.Qb(gh.a))},rh.\u0275cmp=s.Kb({type:rh,selectors:[["fsd-comparison"]],viewQuery:function(e,t){var i;1&e&&(s.Hc(Ah,!0),s.Hc(Rh,!0)),2&e&&(s.rc(i=s.fc())&&(t.companyObject=i.first),s.rc(i=s.fc())&&(t.companyDateObject=i.first))},decls:43,vars:4,consts:[[1,"row"],[1,"col-md-12"],["status","primary"],[1,"col-md-6"],["status","control","accent","danger"],[1,"comparison-header"],["accent","info"],[1,"companycomparison-header"],["id","company-select",3,"dataSource","mode","fields","placeholder"],["company",""],["id","datepicker"],["companyDate",""],["nbButton","","fullWidth","","size","large","status","primary",3,"click"],["status","control","accent","success"],["nbButton","","fullWidth","","size","large","status","primary"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"nb-card",2),s.Wb(3,"nb-card-header"),s.Cc(4," Comparison "),s.Vb(),s.Wb(5,"nb-card-body"),s.Wb(6,"div",0),s.Wb(7,"div",3),s.Wb(8,"nb-card",4),s.Wb(9,"nb-card-header",5),s.Cc(10,"Compare Company Stock Price"),s.Vb(),s.Wb(11,"nb-card-body"),s.Wb(12,"nb-card",6),s.Wb(13,"nb-card-header",7),s.Cc(14,"Select one or two companies:"),s.Vb(),s.Wb(15,"nb-card-body"),s.Rb(16,"ejs-multiselect",8,9),s.Vb(),s.Vb(),s.Wb(18,"nb-card",6),s.Wb(19,"nb-card-header",7),s.Cc(20,"Select date:"),s.Vb(),s.Wb(21,"nb-card-body"),s.Rb(22,"ejs-datepicker",10,11),s.Vb(),s.Vb(),s.Wb(24,"button",12),s.ec("click",(function(){return t.gotoComparisonChart()})),s.Cc(25," Generate Chart"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(26,"div",3),s.Wb(27,"nb-card",13),s.Wb(28,"nb-card-header",5),s.Cc(29,"Compare Sector Stock Price"),s.Vb(),s.Wb(30,"nb-card-body"),s.Wb(31,"nb-card",6),s.Wb(32,"nb-card-header",7),s.Cc(33,"Select one or two Sectors:"),s.Vb(),s.Wb(34,"nb-card-body"),s.Rb(35,"fsd-different-sector"),s.Vb(),s.Vb(),s.Wb(36,"nb-card",6),s.Wb(37,"nb-card-header",7),s.Cc(38,"Select date:"),s.Vb(),s.Wb(39,"nb-card-body"),s.Rb(40,"ejs-datepicker",10),s.Vb(),s.Vb(),s.Wb(41,"button",14),s.Cc(42," Generate Chart"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Eb(16),s.mc("dataSource",t.companyName)("mode",t.default)("fields",t.fields)("placeholder",t.waterMark))},directives:[r.s,r.u,r.r,wh.a,Oh,r.p,Ph],styles:[".comparison-header[_ngcontent-%COMP%]{font-size:16px;font-style:italic}.companycomparison-header[_ngcontent-%COMP%]{font-size:14px}"]}),rh),jh=((nh=function(){function e(t,i,n,r){var o=this;_classCallCheck(this,e),this.companyservice=t,this.stockPriceService=i,this.activateInfo=n,this.router=r,this.chartArea={border:{width:0}},this.width="100%",this.primaryXAxis={valueType:"Category",majorGridLines:{width:0}},this.primaryYAxis={labelFormat:"{value}%",maximum:20,edgeLabelPlacement:"Shift",lineStyle:{width:0},majorTickLines:{width:0}},this.tooltip={enable:!0},this.activateInfo.queryParams.subscribe((function(e){o.company1Code=e.company1Code,o.company2Code=e.company2Code,o.pickedDate1=new Date(e.pickedDate1),o.pickedDate2=new Date(e.pickedDate2)})),console.log("pickedDate1: "+this.convertToDate(this.pickedDate1)),this.stockPriceService.getTwoCompanyStock(this.company1Code,this.company2Code,this.convertToDate(this.pickedDate1),this.convertToDate(this.pickedDate2)).subscribe((function(e){console.log("stockPriceService: "+JSON.stringify(e)),o.company1=e.company1,console.log("company1: "+JSON.stringify(o.company1)),o.company2=e.company2,console.log("company2: "+JSON.stringify(o.company2))}),(function(e){return console.error(e)}),(function(){return console.log("stockPriceService done")}))}return _createClass(e,[{key:"convertToDate",value:function(e){var t,i,n=e.getFullYear(),r=e.getUTCMonth()+1;r<10&&(t="0"+r);var o=e.getDate();return o<10&&(i="0"+o),n+"-"+t+"-"+i}},{key:"ngOnInit",value:function(){var e=this;this.companyservice.getCompanyDetailsData(this.company1Code).subscribe((function(t){console.log("service1=====: "+JSON.stringify(t)),e.company1DetailsData=t.companyDto}),(function(e){return console.error(e)}),(function(){return console.log("done")})),this.companyservice.getCompanyDetailsData(this.company2Code).subscribe((function(t){console.log("service2=====: "+JSON.stringify(t)),e.company2DetailsData=t.companyDto}),(function(e){return console.error(e)}),(function(){return console.log("done")})),this.title="Price change in weekly"}},{key:"load",value:function(e){var t=location.hash.split("/")[1];t=t||"Material",e.chart.theme=(t.charAt(0).toUpperCase()+t.slice(1)).replace(/-dark/i,"Dark")}}]),e}()).\u0275fac=function(e){return new(e||nh)(s.Qb(gh.a),s.Qb(bh.a),s.Qb(Nl.a),s.Qb(Nl.c))},nh.\u0275cmp=s.Kb({type:nh,selectors:[["fsd-comparison-charts"]],decls:13,vars:10,consts:[["status","primary"],["align","center"],["id","chartcontainer","align","center",2,"display","block",3,"chartArea","width","title","primaryXAxis","primaryYAxis","tooltip","load"],["type","RangeColumn","xName","x","high","high","low","low","name","APPLE","width","2",3,"dataSource"],["type","RangeColumn","xName","x","high","high","low","low","name","FACEBOOK","width","2",3,"dataSource"]],template:function(e,t){1&e&&(s.Wb(0,"nb-card"),s.Wb(1,"nb-card-header"),s.Cc(2),s.Vb(),s.Wb(3,"nb-card-body"),s.Wb(4,"nb-card",0),s.Wb(5,"nb-card-header"),s.Cc(6," Company comparison "),s.Vb(),s.Wb(7,"nb-card-body"),s.Wb(8,"div",1),s.Wb(9,"ejs-chart",2),s.ec("load",(function(e){return t.load(e)})),s.Wb(10,"e-series-collection"),s.Rb(11,"e-series",3),s.Rb(12,"e-series",4),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Eb(2),s.Fc(" ",t.company1DetailsData.companyName," vs ",t.company2DetailsData.companyName," "),s.Eb(7),s.mc("chartArea",t.chartArea)("width",t.width)("title",t.title)("primaryXAxis",t.primaryXAxis)("primaryYAxis",t.primaryYAxis)("tooltip",t.tooltip),s.Eb(2),s.mc("dataSource",t.company1),s.Eb(1),s.mc("dataSource",t.company2))},directives:[r.s,r.u,r.r,Hs,ts,es],encapsulation:2}),nh),Ih=i("4FYC"),zh=i("Naoh"),Eh=["footerTemplate"],Dh=["header"],Bh=["content"],Nh=["*"],Vh=["buttonModel","type"],Fh=["click"],Wh=((sh=function(e){function t(e){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).viewContainerRef=e,Object(h.g)("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Fh),i.directivePropList=Vh,i}return _inherits(t,e),t}(h.b)).\u0275fac=function(e){return new(e||sh)(s.Qb(s.R))},sh.\u0275dir=s.Lb({type:sh,selectors:[["e-dialogbutton"]],inputs:{buttonModel:"buttonModel",type:"type"},outputs:{click:"click"},features:[s.Bb]}),sh),Hh=((oh=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"buttons"))}return _inherits(t,e),t}(h.a)).\u0275fac=function(e){return new(e||oh)},oh.\u0275dir=s.Lb({type:oh,selectors:[["e-buttons"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,Wh,!1),2&e&&s.rc(n=s.fc())&&(t.children=n)},features:[s.Bb]}),oh),Zh=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Xh=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gh=["beforeClose","beforeOpen","beforeSanitizeHtml","close","created","destroyed","drag","dragStart","dragStop","open","overlayClick","resizeStart","resizeStop","resizing","visibleChange"],Yh=["visible"],Uh=((ah=function(e){function t(e,i,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).ngEle=e,o.srenderer=i,o.viewContainerRef=n,o.injector=r,o.tags=["buttons"],o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[],o.registerEvents(Gh),o.addTwoWay.call(_assertThisInitialized(o),Yh),Object(h.g)("currentInstance",_assertThisInitialized(o),o.viewContainerRef),o.containerContext=new h.c,o}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.containerContext.ngOnInit(this)}},{key:"ngAfterViewInit",value:function(){this.containerContext.ngAfterViewInit(this)}},{key:"ngOnDestroy",value:function(){this.containerContext.ngOnDestroy(this)}},{key:"ngAfterContentChecked",value:function(){this.tagObjects[0].instance=this.childButtons,this.containerContext.ngAfterContentChecked(this)}}]),t}(zh.a)).\u0275fac=function(e){return new(e||ah)(s.Qb(s.l),s.Qb(s.F),s.Qb(s.R),s.Qb(s.s))},ah.\u0275cmp=s.Kb({type:ah,selectors:[["ejs-dialog"]],contentQueries:function(e,t,i){var n;1&e&&(s.Ib(i,Eh,!0),s.Ib(i,Dh,!0),s.Ib(i,Bh,!0),s.Ib(i,Hh,!0)),2&e&&(s.rc(n=s.fc())&&(t.footerTemplate=n.first),s.rc(n=s.fc())&&(t.header=n.first),s.rc(n=s.fc())&&(t.content=n.first),s.rc(n=s.fc())&&(t.childButtons=n.first))},inputs:{allowDragging:"allowDragging",animationSettings:"animationSettings",buttons:"buttons",closeOnEscape:"closeOnEscape",content:"content",cssClass:"cssClass",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableResize:"enableResize",enableRtl:"enableRtl",footerTemplate:"footerTemplate",header:"header",height:"height",isModal:"isModal",locale:"locale",minHeight:"minHeight",position:"position",showCloseIcon:"showCloseIcon",target:"target",visible:"visible",width:"width",zIndex:"zIndex"},outputs:{beforeClose:"beforeClose",beforeOpen:"beforeOpen",beforeSanitizeHtml:"beforeSanitizeHtml",close:"close",created:"created",destroyed:"destroyed",drag:"drag",dragStart:"dragStart",dragStop:"dragStop",open:"open",overlayClick:"overlayClick",resizeStart:"resizeStart",resizeStop:"resizeStop",resizing:"resizing",visibleChange:"visibleChange"},features:[s.Bb],ngContentSelectors:Nh,decls:1,vars:0,template:function(e,t){1&e&&(s.lc(),s.kc(0))},encapsulation:2,changeDetection:0}),Zh([Object(h.f)(),Xh("design:type",Object)],ah.prototype,"footerTemplate",void 0),Zh([Object(h.f)(),Xh("design:type",Object)],ah.prototype,"header",void 0),Zh([Object(h.f)(),Xh("design:type",Object)],ah.prototype,"content",void 0),ah=Zh([Object(h.d)([h.c])],ah)),Qh=["grid"],qh=((dh=function(){function e(t,i){var n=this;_classCallCheck(this,e),this.router=t,this.service=i,this.alertHeader="Grouping",this.hidden=!1,this.target=".control-section",this.alertWidth="300px",this.alertContent="Grouping is disabled for this column",this.showCloseIcon=!1,this.animationSettings={effect:"None"},this.alertDlgBtnClick=function(){n.alertDialog.hide()},this.alertDlgButtons=[{click:this.alertDlgBtnClick.bind(this),buttonModel:{content:"OK",isPrimary:!0}}]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.service.getIPOListData().subscribe((function(t){e.data=t})),this.pageSettings={pageCount:5},this.toolbar=["Search"],this.groupOptions={showGroupedColumn:!1,columns:["Sector"]}}},{key:"dataBound",value:function(){this.refresh&&(this.grid.groupColumn("Country"),this.refresh=!1)}},{key:"load",value:function(){this.refresh=this.grid.refreshing}},{key:"created",value:function(){this.grid.on("columnDragStart",this.columnDragStart,this)}},{key:"columnDragStart",value:function(e){"Mainfieldsofinvention"===e.column.field&&this.alertDialog.show()}},{key:"rowSelected",value:function(e){var t=this.grid.getSelectedRecords();this.router.navigate(["/users/ipo-details"],t[0])}}]),e}()).\u0275fac=function(e){return new(e||dh)(s.Qb(Nl.c),s.Qb(Ih.a))},dh.\u0275cmp=s.Kb({type:dh,selectors:[["fsd-ipo-list"]],viewQuery:function(e,t){var i;1&e&&s.Hc(Qh,!0),2&e&&s.rc(i=s.fc())&&(t.grid=i.first)},features:[s.Db([mh.i,mh.k,mh.f,mh.h,mh.j,mh.l])],decls:16,vars:11,consts:[["id","action-description"],[1,"control-section"],["allowSorting","true","allowGrouping","true","allowPaging","true","allowSearching","true","allowSelection","true","allowFiltering","true",3,"dataSource","pageSettings","toolbar","rowSelected","dataBound","created","load"],["grid",""],["field","companyName","headerText","Company Name","width","140","textAlign","Center"],["field","sectorId","headerText","Sector","width","100","textAlign","Center"],["field","exchangeId","headerText","Exchange","width","120","textAlign","Center"],["field","pricePerShare","headerText","Price Per Share","width","140","textAlign","Center"],["field","totalNumberShare","headerText","Total Number of Shares","width","160","textAlign","Center"],["field","openDateTime","headerText","Open Date","width","120","textAlign","Center"],["field","remarks","headerText","Remarks","width","100","textAlign","Center"],[3,"buttons","visible","header","animationSettings","content","showCloseIcon","target","width"],["alertDialog",""]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"p"),s.Cc(2,"IPO table list shows the recently IPOs with the details"),s.Vb(),s.Vb(),s.Wb(3,"div",1),s.Wb(4,"ejs-grid",2,3),s.ec("rowSelected",(function(e){return t.rowSelected(e)}))("dataBound",(function(){return t.dataBound()}))("created",(function(){return t.created()}))("load",(function(){return t.load()})),s.Wb(6,"e-columns"),s.Rb(7,"e-column",4),s.Rb(8,"e-column",5),s.Rb(9,"e-column",6),s.Rb(10,"e-column",7),s.Rb(11,"e-column",8),s.Rb(12,"e-column",9),s.Rb(13,"e-column",10),s.Vb(),s.Vb(),s.Rb(14,"ejs-dialog",11,12),s.Vb()),2&e&&(s.Eb(4),s.mc("dataSource",t.data)("pageSettings",t.pageSettings)("toolbar",t.toolbar),s.Eb(10),s.mc("buttons",t.alertDlgButtons)("visible",t.hidden)("header",t.alertHeader)("animationSettings",t.animationSettings)("content",t.alertContent)("showCloseIcon",t.showCloseIcon)("target",t.target)("width",t.alertWidth))},directives:[mh.g,mh.d,mh.b,mh.c,mh.a,Uh],styles:[""]}),dh),Jh=((ch=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ch)},ch.\u0275cmp=s.Kb({type:ch,selectors:[["fsd-ipo"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-xxl-5"],["status","primary"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"nb-card",2),s.Wb(3,"nb-card-header"),s.Cc(4," IPO List "),s.Vb(),s.Wb(5,"nb-card-body"),s.Rb(6,"fsd-ipo-list"),s.Vb(),s.Vb(),s.Vb(),s.Vb())},directives:[r.s,r.u,r.r,qh],encapsulation:2}),ch),Kh=((hh=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||hh)},hh.\u0275cmp=s.Kb({type:hh,selectors:[["ngx-ipo-details"]],decls:4,vars:0,consts:[[1,"row"],[1,"col-xxl-5"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"h1"),s.Cc(3,"Here is ipo details page"),s.Vb(),s.Vb(),s.Vb())},encapsulation:2}),hh),$h=((lh=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||lh)},lh.\u0275cmp=s.Kb({type:lh,selectors:[["ngx-profile"]],decls:4,vars:0,consts:[[1,"row"],[1,"col-xxl-5"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"h1"),s.Cc(3,"Here is profile page"),s.Vb(),s.Vb(),s.Vb())},encapsulation:2}),lh);function ec(e,t){if(1&e&&(s.Wb(0,"nb-card-body",4),s.Wb(1,"div",0),s.Wb(2,"div",5),s.Wb(3,"div",6),s.Cc(4),s.Vb(),s.Vb(),s.Wb(5,"div",5),s.Wb(6,"div",7),s.Rb(7,"nb-icon",8),s.Cc(8),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e){var i=t.$implicit;s.Eb(4),s.Ec(" ",i.SectorName," "),s.Eb(2),s.Hb("up",i.DeltDaUp)("down",!i.DeltDaUp),s.Eb(1),s.mc("icon",i.DeltDaUp?"arrow-up":"arrow-down"),s.Eb(1),s.Ec(" ",i.Change,"% ")}}var tc,ic,nc,rc,oc=((tc=function e(t){var i=this;_classCallCheck(this,e),this.service=t,this.sectorChangeData=[],this.service.getSectorChangeData().subscribe((function(e){console.log("sector: "+JSON.stringify(e)),i.sectorChangeData=e}))}).\u0275fac=function(e){return new(e||tc)(s.Qb(Lh.a))},tc.\u0275cmp=s.Kb({type:tc,selectors:[["fsd-sector-change"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-md-12"],["status","success"],["status","control",4,"ngFor","ngForOf"],["status","control"],[1,"col-md-6"],[1,"visited-date"],[1,"delta","value"],["pack","eva",3,"icon"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"nb-card",2),s.Wb(3,"nb-card-header"),s.Wb(4,"span"),s.Cc(5,"sector changes today"),s.Vb(),s.Vb(),s.Ac(6,ec,9,7,"nb-card-body",3),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Eb(6),s.mc("ngForOf",t.sectorChangeData))},directives:[r.s,r.u,No.l,r.r,r.G],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-default   [_nghost-%COMP%]   nb-list[_ngcontent-%COMP%]{overflow-x:hidden}.nb-theme-default   [_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:justify;justify-content:space-between;margin:0 -.25rem}.nb-theme-default   [_nghost-%COMP%]   .visited-date[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .visited-pages-count[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .visited-percentages[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 0 auto;margin:0 .25rem}.nb-theme-default   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.25rem;color:#00d68f}.nb-theme-default   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;position:relative}.nb-theme-default   [_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]{color:#ff3d71}.nb-theme-default   [_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]{color:#00d68f}.nb-theme-default   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.nb-theme-dark   [_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-dark   [_nghost-%COMP%]   nb-list[_ngcontent-%COMP%]{overflow-x:hidden}.nb-theme-dark   [_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:justify;justify-content:space-between;margin:0 -.25rem}.nb-theme-dark   [_nghost-%COMP%]   .visited-date[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .visited-pages-count[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .visited-percentages[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 0 auto;margin:0 .25rem}.nb-theme-dark   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.25rem;color:#00d68f}.nb-theme-dark   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;position:relative}.nb-theme-dark   [_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]{color:#ff3d71}.nb-theme-dark   [_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]{color:#00d68f}.nb-theme-dark   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   nb-list[_ngcontent-%COMP%]{overflow-x:hidden}.nb-theme-cosmic   [_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:justify;justify-content:space-between;margin:0 -.25rem}.nb-theme-cosmic   [_nghost-%COMP%]   .visited-date[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .visited-pages-count[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .visited-percentages[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 0 auto;margin:0 .25rem}.nb-theme-cosmic   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.25rem;color:#00d68f}.nb-theme-cosmic   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;position:relative}.nb-theme-cosmic   [_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]{color:#ff3d71}.nb-theme-cosmic   [_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]{color:#00d68f}.nb-theme-cosmic   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-corporate   [_nghost-%COMP%]   nb-list[_ngcontent-%COMP%]{overflow-x:hidden}.nb-theme-corporate   [_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:justify;justify-content:space-between;margin:0 -.25rem}.nb-theme-corporate   [_nghost-%COMP%]   .visited-date[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .visited-pages-count[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .visited-percentages[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 0 auto;margin:0 .25rem}.nb-theme-corporate   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.25rem;color:#00d68f}.nb-theme-corporate   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;position:relative}.nb-theme-corporate   [_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]{color:#ff3d71}.nb-theme-corporate   [_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]{color:#00d68f}.nb-theme-corporate   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}"]}),tc),sc=[{path:"",component:Wl,children:[{path:"dashboard",component:ph},{path:"company",component:fh},{path:"company-details",component:_h},{path:"comparison-charts",component:jh},{path:"comparison",component:Th},{path:"ipo",component:Jh},{path:"ipo-details",component:Kh},{path:"sector",component:(nc=function e(){_classCallCheck(this,e)},nc.\u0275fac=function(e){return new(e||nc)},nc.\u0275cmp=s.Kb({type:nc,selectors:[["fsd-sector"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-xxl-5"],["status","primary"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"nb-card",2),s.Wb(3,"nb-card-header"),s.Cc(4," Sectors "),s.Vb(),s.Wb(5,"nb-card-body"),s.Rb(6,"fsd-sector-change"),s.Vb(),s.Vb(),s.Vb(),s.Vb())},directives:[r.s,r.u,r.r,oc],encapsulation:2}),nc)},{path:"sector-details",component:(ic=function e(){_classCallCheck(this,e)},ic.\u0275fac=function(e){return new(e||ic)},ic.\u0275cmp=s.Kb({type:ic,selectors:[["ngx-sector-details"]],decls:4,vars:0,consts:[[1,"row"],[1,"col-xxl-5"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"h1"),s.Cc(3,"Here is sector details page"),s.Vb(),s.Vb(),s.Vb())},encapsulation:2}),ic)},{path:"profile",component:$h},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}],ac=((rc=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:rc}),rc.\u0275inj=s.Nb({factory:function(e){return new(e||rc)},imports:[[Nl.g.forChild(sc)],Nl.g]}),rc);i.d(t,"UsersModule",(function(){return hc}));var lc,hc=((lc=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:lc}),lc.\u0275inj=s.Nb({factory:function(e){return new(e||lc)},imports:[[ac,o.a,r.T,l,Bl]]}),lc)},"4R65":function(e,t,i){!function(e){"use strict";var t=Object.freeze;function i(e){var t,i,n,r;for(i=1,n=arguments.length;i<n;i++)for(t in r=arguments[i])e[t]=r[t];return e}Object.freeze=function(e){return e};var n=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function r(e,t){var i=Array.prototype.slice;if(e.bind)return e.bind.apply(e,i.call(arguments,1));var n=i.call(arguments,2);return function(){return e.apply(t,n.length?n.concat(i.call(arguments)):arguments)}}var o=0;function s(e){return e._leaflet_id=e._leaflet_id||++o,e._leaflet_id}function a(e,t,i){var n,r,o,s;return s=function(){n=!1,r&&(o.apply(i,r),r=!1)},o=function(){n?r=arguments:(e.apply(i,arguments),setTimeout(s,t),n=!0)}}function l(e,t,i){var n=t[1],r=t[0],o=n-r;return e===n&&i?e:((e-r)%o+o)%o+r}function h(){return!1}function c(e,t){var i=Math.pow(10,t||5);return Math.round(e*i)/i}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function u(e){return d(e).split(/\s+/)}function p(e,t){for(var i in e.hasOwnProperty("options")||(e.options=e.options?n(e.options):{}),t)e.options[i]=t[i];return e.options}function m(e,t,i){var n=[];for(var r in e)n.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+n.join("&")}var g=/\{ *([\w_\-]+) *\}/g;function v(e,t){return e.replace(g,(function(e,i){var n=t[i];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(t)),n}))}var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function f(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var _=0;function w(e){var t=+new Date,i=Math.max(0,16-(t-_));return _=t+i,window.setTimeout(e,i)}var C=window.requestAnimationFrame||x("RequestAnimationFrame")||w,k=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function S(e,t,i){if(!i||C!==w)return C.call(window,r(e,t));e.call(t)}function M(e){e&&k.call(window,e)}var O=(Object.freeze||Object)({freeze:t,extend:i,create:n,bind:r,lastId:o,stamp:s,throttle:a,wrapNum:l,falseFn:h,formatNum:c,trim:d,splitWords:u,setOptions:p,getParamString:m,template:v,isArray:y,indexOf:f,emptyImageUrl:b,requestFn:C,cancelFn:k,requestAnimFrame:S,cancelAnimFrame:M});function P(){}P.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=t.__super__=this.prototype,o=n(r);for(var s in o.constructor=t,t.prototype=o,this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(t[s]=this[s]);return e.statics&&(i(t,e.statics),delete e.statics),e.includes&&(function(e){if(L&&L.Mixin){e=y(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),i.apply(null,[o].concat(e.includes)),delete e.includes),o.options&&(e.options=i(n(o.options),e.options)),i(o,e),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},P.include=function(e){return i(this.prototype,e),this},P.mergeOptions=function(e){return i(this.prototype.options,e),this},P.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),i="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var A={on:function(e,t,i){if("object"==typeof e)for(var n in e)this._on(n,e[n],t);else for(var r=0,o=(e=u(e)).length;r<o;r++)this._on(e[r],t,i);return this},off:function(e,t,i){if(e)if("object"==typeof e)for(var n in e)this._off(n,e[n],t);else for(var r=0,o=(e=u(e)).length;r<o;r++)this._off(e[r],t,i);else delete this._events;return this},_on:function(e,t,i){this._events=this._events||{};var n=this._events[e];n||(this._events[e]=n=[]),i===this&&(i=void 0);for(var r={fn:t,ctx:i},o=n,s=0,a=o.length;s<a;s++)if(o[s].fn===t&&o[s].ctx===i)return;o.push(r)},_off:function(e,t,i){var n,r,o;if(this._events&&(n=this._events[e]))if(t){if(i===this&&(i=void 0),n)for(r=0,o=n.length;r<o;r++){var s=n[r];if(s.ctx===i&&s.fn===t)return s.fn=h,this._firingCount&&(this._events[e]=n=n.slice()),void n.splice(r,1)}}else{for(r=0,o=n.length;r<o;r++)n[r].fn=h;delete this._events[e]}},fire:function(e,t,n){if(!this.listens(e,n))return this;var r=i({},t,{type:e,target:this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s];l.fn.call(l.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this},listens:function(e,t){var i=this._events&&this._events[e];if(i&&i.length)return!0;if(t)for(var n in this._eventParents)if(this._eventParents[n].listens(e,t))return!0;return!1},once:function(e,t,i){if("object"==typeof e){for(var n in e)this.once(n,e[n],t);return this}var o=r((function(){this.off(e,t,i).off(e,o,i)}),this);return this.on(e,t,i).on(e,o,i)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[s(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[s(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,i({layer:e.target},e),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var R=P.extend(A);function T(e,t,i){this.x=i?Math.round(e):e,this.y=i?Math.round(t):t}function j(e,t,i){return e instanceof T?e:y(e)?new T(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new T(e.x,e.y):new T(e,t,i)}function I(e,t){if(e)for(var i=t?[e,t]:e,n=0,r=i.length;n<r;n++)this.extend(i[n])}function z(e,t){return!e||e instanceof I?e:new I(e,t)}function E(e,t){if(e)for(var i=t?[e,t]:e,n=0,r=i.length;n<r;n++)this.extend(i[n])}function D(e,t){return e instanceof E?e:new E(e,t)}function B(e,t,i){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==i&&(this.alt=+i)}function N(e,t,i){return e instanceof B?e:y(e)&&"object"!=typeof e[0]?3===e.length?new B(e[0],e[1],e[2]):2===e.length?new B(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new B(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new B(e,t,i)}T.prototype={clone:function(){return new T(this.x,this.y)},add:function(e){return this.clone()._add(j(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(j(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new T(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new T(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(e){var t=(e=j(e)).x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(e){return(e=j(e)).x===this.x&&e.y===this.y},contains:function(e){return e=j(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},I.prototype={extend:function(e){return e=j(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new T((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new T(this.min.x,this.max.y)},getTopRight:function(){return new T(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,i;return(e="number"==typeof e[0]||e instanceof T?j(e):z(e))instanceof I?(t=e.min,i=e.max):t=i=e,t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(e){e=z(e);var t=this.min,i=this.max,n=e.min,r=e.max;return r.x>=t.x&&n.x<=i.x&&r.y>=t.y&&n.y<=i.y},overlaps:function(e){e=z(e);var t=this.min,i=this.max,n=e.min,r=e.max;return r.x>t.x&&n.x<i.x&&r.y>t.y&&n.y<i.y},isValid:function(){return!(!this.min||!this.max)}},E.prototype={extend:function(e){var t,i,n=this._southWest,r=this._northEast;if(e instanceof B)t=e,i=e;else{if(!(e instanceof E))return e?this.extend(N(e)||D(e)):this;if(i=e._northEast,!(t=e._southWest)||!i)return this}return n||r?(n.lat=Math.min(t.lat,n.lat),n.lng=Math.min(t.lng,n.lng),r.lat=Math.max(i.lat,r.lat),r.lng=Math.max(i.lng,r.lng)):(this._southWest=new B(t.lat,t.lng),this._northEast=new B(i.lat,i.lng)),this},pad:function(e){var t=this._southWest,i=this._northEast,n=Math.abs(t.lat-i.lat)*e,r=Math.abs(t.lng-i.lng)*e;return new E(new B(t.lat-n,t.lng-r),new B(i.lat+n,i.lng+r))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof B||"lat"in e?N(e):D(e);var t,i,n=this._southWest,r=this._northEast;return e instanceof E?(t=e.getSouthWest(),i=e.getNorthEast()):t=i=e,t.lat>=n.lat&&i.lat<=r.lat&&t.lng>=n.lng&&i.lng<=r.lng},intersects:function(e){e=D(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),r=e.getNorthEast();return r.lat>=t.lat&&n.lat<=i.lat&&r.lng>=t.lng&&n.lng<=i.lng},overlaps:function(e){e=D(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),r=e.getNorthEast();return r.lat>t.lat&&n.lat<i.lat&&r.lng>t.lng&&n.lng<i.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=D(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(e,t){return!!e&&(e=N(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+c(this.lat,e)+", "+c(this.lng,e)+")"},distanceTo:function(e){return W.distance(this,N(e))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,i=t/Math.cos(Math.PI/180*this.lat);return D([this.lat-t,this.lng-i],[this.lat+t,this.lng+i])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var V,F={latLngToPoint:function(e,t){var i=this.projection.project(e),n=this.scale(t);return this.transformation._transform(i,n)},pointToLatLng:function(e,t){var i=this.scale(t),n=this.transformation.untransform(e,i);return this.projection.unproject(n)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,i=this.scale(e);return new I(this.transformation.transform(t.min,i),this.transformation.transform(t.max,i))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new B(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),i=this.wrapLatLng(t),n=t.lat-i.lat,r=t.lng-i.lng;if(0===n&&0===r)return e;var o=e.getSouthWest(),s=e.getNorthEast();return new E(new B(o.lat-n,o.lng-r),new B(s.lat-n,s.lng-r))}},W=i({},F,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var i=Math.PI/180,n=e.lat*i,r=t.lat*i,o=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((t.lng-e.lng)*i);return this.R*Math.acos(Math.min(o,1))}}),H={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,e.lat),-i),r=Math.sin(n*t);return new T(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new B((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(V=6378137*Math.PI,new I([-V,-V],[V,V]))};function Z(e,t,i,n){if(y(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=i,this._d=n}function X(e,t,i,n){return new Z(e,t,i,n)}Z.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return e.x=(t=t||1)*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return new T((e.x/(t=t||1)-this._b)/this._a,(e.y/t-this._d)/this._c)}};var G,Y=i({},W,{code:"EPSG:3857",projection:H,transformation:(G=.5/(Math.PI*H.R),X(G,.5,-G,.5))}),U=i({},Y,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function q(e,t){var i,n,r,o,s,a,l="";for(i=0,r=e.length;i<r;i++){for(n=0,o=(s=e[i]).length;n<o;n++)l+=(n?"L":"M")+(a=s[n]).x+" "+a.y;l+=t?Se?"z":"x":""}return l||"M0 0"}var J=document.documentElement.style,K="ActiveXObject"in window,$=K&&!document.addEventListener,ee="msLaunchUri"in navigator&&!("documentMode"in document),te=Oe("webkit"),ie=Oe("android"),ne=Oe("android 2")||Oe("android 3"),re=!!window.opera,oe=Oe("chrome"),se=Oe("gecko")&&!te&&!re&&!K,ae=!oe&&Oe("safari"),le=Oe("phantom"),he="OTransition"in J,ce=0===navigator.platform.indexOf("Win"),de=K&&"transition"in J,ue="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ne,pe="MozPerspective"in J,me=!window.L_DISABLE_3D&&(de||ue||pe)&&!he&&!le,ge="undefined"!=typeof orientation||Oe("mobile"),ve=ge&&te,ye=ge&&ue,fe=!window.PointerEvent&&window.MSPointerEvent,be=!(!window.PointerEvent&&!fe),xe=!window.L_NO_TOUCH&&(be||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),_e=ge&&re,we=ge&&se,Ce=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ke=!!document.createElement("canvas").getContext,Se=!(!document.createElementNS||!Q("svg").createSVGRect),Me=!Se&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(i){return!1}}();function Oe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Le=(Object.freeze||Object)({ie:K,ielt9:$,edge:ee,webkit:te,android:ie,android23:ne,opera:re,chrome:oe,gecko:se,safari:ae,phantom:le,opera12:he,win:ce,ie3d:de,webkit3d:ue,gecko3d:pe,any3d:me,mobile:ge,mobileWebkit:ve,mobileWebkit3d:ye,msPointer:fe,pointer:be,touch:xe,mobileOpera:_e,mobileGecko:we,retina:Ce,canvas:ke,svg:Se,vml:Me}),Pe=fe?"MSPointerDown":"pointerdown",Ae=fe?"MSPointerMove":"pointermove",Re=fe?"MSPointerUp":"pointerup",Te=fe?"MSPointerCancel":"pointercancel",je=["INPUT","SELECT","OPTION"],Ie={},ze=!1,Ee=0;function De(e){Ie[e.pointerId]=e,Ee++}function Be(e){Ie[e.pointerId]&&(Ie[e.pointerId]=e)}function Ne(e){delete Ie[e.pointerId],Ee--}function Ve(e,t){for(var i in e.touches=[],Ie)e.touches.push(Ie[i]);e.changedTouches=[e],t(e)}var Fe=fe?"MSPointerDown":be?"pointerdown":"touchstart",We=fe?"MSPointerUp":be?"pointerup":"touchend",He="_leaflet_";function Ze(e,t,i){var n,r,o=!1;function s(e){var t;if(be){if(!ee||"mouse"===e.pointerType)return;t=Ee}else t=e.touches.length;if(!(t>1)){var i=Date.now(),s=i-(n||i);r=e.touches?e.touches[0]:e,o=s>0&&s<=250,n=i}}function a(e){if(o&&!r.cancelBubble){if(be){if(!ee||"mouse"===e.pointerType)return;var i,s,a={};for(s in r)a[s]=(i=r[s])&&i.bind?i.bind(r):i;r=a}r.type="dblclick",t(r),n=null}}return e[He+Fe+i]=s,e[He+We+i]=a,e[He+"dblclick"+i]=t,e.addEventListener(Fe,s,!1),e.addEventListener(We,a,!1),e.addEventListener("dblclick",t,!1),this}function Xe(e,t){var i=e[He+We+t],n=e[He+"dblclick"+t];return e.removeEventListener(Fe,e[He+Fe+t],!1),e.removeEventListener(We,i,!1),ee||e.removeEventListener("dblclick",n,!1),this}function Ge(e,t,i,n){if("object"==typeof t)for(var r in t)Qe(e,r,t[r],i);else for(var o=0,s=(t=u(t)).length;o<s;o++)Qe(e,t[o],i,n);return this}var Ye="_leaflet_events";function Ue(e,t,i,n){if("object"==typeof t)for(var r in t)qe(e,r,t[r],i);else if(t)for(var o=0,s=(t=u(t)).length;o<s;o++)qe(e,t[o],i,n);else{for(var a in e[Ye])qe(e,a,e[Ye][a]);delete e[Ye]}return this}function Qe(e,t,i,n){var o=t+s(i)+(n?"_"+s(n):"");if(e[Ye]&&e[Ye][o])return this;var a=function(t){return i.call(n||e,t||window.event)},l=a;be&&0===t.indexOf("touch")?function(e,t,i,n){"touchstart"===t?function(e,t,i){var n=r((function(e){if("mouse"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(je.indexOf(e.target.tagName)<0))return;et(e)}Ve(e,t)}));e["_leaflet_touchstart"+i]=n,e.addEventListener(Pe,n,!1),ze||(document.documentElement.addEventListener(Pe,De,!0),document.documentElement.addEventListener(Ae,Be,!0),document.documentElement.addEventListener(Re,Ne,!0),document.documentElement.addEventListener(Te,Ne,!0),ze=!0)}(e,i,n):"touchmove"===t?function(e,t,i){var n=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&Ve(e,t)};e["_leaflet_touchmove"+i]=n,e.addEventListener(Ae,n,!1)}(e,i,n):"touchend"===t&&function(e,t,i){var n=function(e){Ve(e,t)};e["_leaflet_touchend"+i]=n,e.addEventListener(Re,n,!1),e.addEventListener(Te,n,!1)}(e,i,n)}(e,t,a,o):!xe||"dblclick"!==t||!Ze||be&&oe?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",a,!1):"mouseenter"===t||"mouseleave"===t?e.addEventListener("mouseenter"===t?"mouseover":"mouseout",a=function(t){t=t||window.event,ht(e,t)&&l(t)},!1):("click"===t&&ie&&(a=function(e){!function(e,t){var i=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,n=ot&&i-ot;n&&n>100&&n<500||e.target._simulatedClick&&!e._simulated?tt(e):(ot=i,t(e))}(e,l)}),e.addEventListener(t,a,!1)):"attachEvent"in e&&e.attachEvent("on"+t,a):Ze(e,a,o),e[Ye]=e[Ye]||{},e[Ye][o]=a}function qe(e,t,i,n){var r=t+s(i)+(n?"_"+s(n):""),o=e[Ye]&&e[Ye][r];if(!o)return this;be&&0===t.indexOf("touch")?function(e,t,i){var n=e["_leaflet_"+t+i];"touchstart"===t?e.removeEventListener(Pe,n,!1):"touchmove"===t?e.removeEventListener(Ae,n,!1):"touchend"===t&&(e.removeEventListener(Re,n,!1),e.removeEventListener(Te,n,!1))}(e,t,r):xe&&"dblclick"===t&&Xe?Xe(e,r):"removeEventListener"in e?e.removeEventListener("mousewheel"===t?"onwheel"in e?"wheel":"mousewheel":"mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,o,!1):"detachEvent"in e&&e.detachEvent("on"+t,o),e[Ye][r]=null}function Je(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,lt(e),this}function Ke(e){return Qe(e,"mousewheel",Je),this}function $e(e){return Ge(e,"mousedown touchstart dblclick",Je),Qe(e,"click",at),this}function et(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function tt(e){return et(e),Je(e),this}function it(e,t){if(!t)return new T(e.clientX,e.clientY);var i=t.getBoundingClientRect();return new T(e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop)}var nt=ce&&oe?2*window.devicePixelRatio:se?window.devicePixelRatio:1;function rt(e){return ee?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/nt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var ot,st={};function at(e){st[e.type]=!0}function lt(e){var t=st[e.type];return st[e.type]=!1,t}function ht(e,t){var i=t.relatedTarget;if(!i)return!0;try{for(;i&&i!==e;)i=i.parentNode}catch(n){return!1}return i!==e}var ct,dt,ut,pt,mt,gt=(Object.freeze||Object)({on:Ge,off:Ue,stopPropagation:Je,disableScrollPropagation:Ke,disableClickPropagation:$e,preventDefault:et,stop:tt,getMousePosition:it,getWheelDelta:rt,fakeStop:at,skipped:lt,isExternalTarget:ht,addListener:Ge,removeListener:Ue}),vt=Tt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),yt=Tt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ft="webkitTransition"===yt||"OTransition"===yt?yt+"End":"transitionend";function bt(e){return"string"==typeof e?document.getElementById(e):e}function xt(e,t){var i=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(e,null);i=n?n[t]:null}return"auto"===i?null:i}function _t(e,t,i){var n=document.createElement(e);return n.className=t||"",i&&i.appendChild(n),n}function wt(e){var t=e.parentNode;t&&t.removeChild(e)}function Ct(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function kt(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function St(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Mt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var i=At(e);return i.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(i)}function Ot(e,t){if(void 0!==e.classList)for(var i=u(t),n=0,r=i.length;n<r;n++)e.classList.add(i[n]);else if(!Mt(e,t)){var o=At(e);Pt(e,(o?o+" ":"")+t)}}function Lt(e,t){void 0!==e.classList?e.classList.remove(t):Pt(e,d((" "+At(e)+" ").replace(" "+t+" "," ")))}function Pt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function At(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function Rt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(n)}catch(r){if(1===t)return}t=Math.round(100*t),i?(i.Enabled=100!==t,i.Opacity=t):e.style.filter+=" progid:"+n+"(opacity="+t+")"}(e,t)}function Tt(e){for(var t=document.documentElement.style,i=0;i<e.length;i++)if(e[i]in t)return e[i];return!1}function jt(e,t,i){var n=t||new T(0,0);e.style[vt]=(de?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function It(e,t){e._leaflet_pos=t,me?jt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function zt(e){return e._leaflet_pos||new T(0,0)}if("onselectstart"in document)ct=function(){Ge(window,"selectstart",et)},dt=function(){Ue(window,"selectstart",et)};else{var Et=Tt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ct=function(){if(Et){var e=document.documentElement.style;ut=e[Et],e[Et]="none"}},dt=function(){Et&&(document.documentElement.style[Et]=ut,ut=void 0)}}function Dt(){Ge(window,"dragstart",et)}function Bt(){Ue(window,"dragstart",et)}function Nt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Vt(),pt=e,mt=e.style.outline,e.style.outline="none",Ge(window,"keydown",Vt))}function Vt(){pt&&(pt.style.outline=mt,pt=void 0,mt=void 0,Ue(window,"keydown",Vt))}var Ft=(Object.freeze||Object)({TRANSFORM:vt,TRANSITION:yt,TRANSITION_END:ft,get:bt,getStyle:xt,create:_t,remove:wt,empty:Ct,toFront:kt,toBack:St,hasClass:Mt,addClass:Ot,removeClass:Lt,setClass:Pt,getClass:At,setOpacity:Rt,testProp:Tt,setTransform:jt,setPosition:It,getPosition:zt,disableTextSelection:ct,enableTextSelection:dt,disableImageDrag:Dt,enableImageDrag:Bt,preventOutline:Nt,restoreOutline:Vt}),Wt=R.extend({run:function(e,t,i,n){this.stop(),this._el=e,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=zt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,i=1e3*this._duration;t<i?this._runFrame(this._easeOut(t/i),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var i=this._startPos.add(this._offset.multiplyBy(e));t&&i._round(),It(this._el,i),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Ht=R.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._initContainer(e),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(N(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=yt&&me&&!_e&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ge(this._proxy,ft,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,n){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(N(e),t,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return this.setZoom(this._zoom+(e=e||(me?this.options.zoomDelta:1)),t)},zoomOut:function(e,t){return this.setZoom(this._zoom-(e=e||(me?this.options.zoomDelta:1)),t)},setZoomAround:function(e,t,i){var n=this.getZoomScale(t),r=this.getSize().divideBy(2),o=(e instanceof T?e:this.latLngToContainerPoint(e)).subtract(r).multiplyBy(1-1/n),s=this.containerPointToLatLng(r.add(o));return this.setView(s,t,{zoom:i})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():D(e);var i=j(t.paddingTopLeft||t.padding||[0,0]),n=j(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,i.add(n));if((r="number"==typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};var o=n.subtract(i).divideBy(2),s=this.project(e.getSouthWest(),r),a=this.project(e.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(e,t){if(!(e=D(e)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(e,t);return this.setView(i.center,i.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=j(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){Ot(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,i){if(!1===(i=i||{}).animate||!me)return this.setView(e,t,i);this._stop();var n=this.project(this.getCenter()),r=this.project(e),o=this.getSize(),s=this._zoom;e=N(e),t=void 0===t?s:t;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(s,t),h=r.distanceTo(n)||1;function c(e){var t=(l*l-a*a+2.0164*(e?-1:1)*2.0164*h*h)/(2*(e?l:a)*2.0164*h),i=Math.sqrt(t*t+1)-t;return i<1e-9?-18:Math.log(i)}function d(e){return(Math.exp(e)-Math.exp(-e))/2}function u(e){return(Math.exp(e)+Math.exp(-e))/2}var p=c(0),m=Date.now(),g=(c(1)-p)/1.42,v=i.duration?1e3*i.duration:1e3*g*.8;return this._moveStart(!0),(function i(){var o=(Date.now()-m)/v,l=function(e){return 1-Math.pow(1-e,1.5)}(o)*g;o<=1?(this._flyToFrame=S(i,this),this._move(this.unproject(n.add(r.subtract(n).multiplyBy(function(e){return a*(u(p)*(d(t=p+1.42*e)/u(t))-d(p))/2.0164;var t}(l)/h)),s),this.getScaleZoom(a/function(e){return a*(u(p)/u(p+1.42*e))}(l),s),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}).call(this),this},flyToBounds:function(e,t){var i=this._getBoundsCenterZoom(e,t);return this.flyTo(i.center,i.zoom,t)},setMaxBounds:function(e){return(e=D(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){return this.options.minZoom=e,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(e):this},setMaxZoom:function(e){return this.options.maxZoom=e,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,D(e));return i.equals(n)||this.panTo(n,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=i({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),o=t.divideBy(2).round(),s=n.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=i({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=r(this._handleGeolocationResponse,this),n=r(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,i=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(e){var t=new B(e.coords.latitude,e.coords.longitude),i=t.toBounds(e.coords.accuracy),n=this._locateOptions;if(n.setView){var r=this.getBoundsZoom(i);this.setView(t,n.maxZoom?Math.min(r,n.maxZoom):r)}var o={latlng:t,bounds:i,timestamp:e.timestamp};for(var s in e.coords)"number"==typeof e.coords[s]&&(o[s]=e.coords[s]);this.fire("locationfound",o)},addHandler:function(e,t){if(!t)return this;var i=this[e]=new t(this);return this._handlers.push(i),this.options[e]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)wt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var i=_t("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new E(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,i){e=D(e),i=j(i||[0,0]);var n=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(i),h=z(this.project(a,n),this.project(s,n)).getSize(),c=me?this.options.zoomSnap:1,d=l.x/h.x,u=l.y/h.y,p=t?Math.max(d,u):Math.min(d,u);return n=this.getScaleZoom(p,n),c&&(n=Math.round(n/(c/100))*(c/100),n=t?Math.ceil(n/c)*c:Math.floor(n/c)*c),Math.max(r,Math.min(o,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new T(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var i=this._getTopLeftPoint(e,t);return new I(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var i=this.options.crs;return t=void 0===t?this._zoom:t,i.scale(e)/i.scale(t)},getScaleZoom:function(e,t){var i=this.options.crs,n=i.zoom(e*i.scale(t=void 0===t?this._zoom:t));return isNaN(n)?1/0:n},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(N(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(j(e),t)},layerPointToLatLng:function(e){var t=j(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(N(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(N(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(D(e))},distance:function(e,t){return this.options.crs.distance(N(e),N(t))},containerPointToLayerPoint:function(e){return j(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return j(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(j(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(e)))},mouseEventToContainerPoint:function(e){return it(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=bt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Ge(t,"scroll",this._onScroll,this),this._containerId=s(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&me,Ot(e,"leaflet-container"+(xe?" leaflet-touch":"")+(Ce?" leaflet-retina":"")+($?" leaflet-oldie":"")+(ae?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=xt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new T(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ot(e.markerPane,"leaflet-zoom-hide"),Ot(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){It(this._mapPane,new T(0,0));var i=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var n=this._zoom!==t;this._moveStart(n)._move(e,t)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(e){return e&&this.fire("zoomstart"),this.fire("movestart")},_move:function(e,t,i){void 0===t&&(t=this._zoom);var n=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){It(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[s(this._container)]=this;var t=e?Ue:Ge;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),me&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var i,n=[],r="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,a=!1;o;){if((i=this._targets[s(o)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(t,!0)){if(r&&!ht(o,e))break;if(n.push(i),r)break}if(o===this._container)break;o=o.parentNode}return n.length||a||r||!ht(o,e)||(n=[this]),n},_handleDOMEvent:function(e){if(this._loaded&&!lt(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||Nt(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,n){if("click"===e.type){var r=i({},e);r.type="preclick",this._fireDOMEvent(r,r.type,n)}if(!e._stopped&&(n=(n||[]).concat(this._findEventTargets(e,t))).length){var o=n[0];"contextmenu"===t&&o.listens(t,!0)&&et(e);var s={originalEvent:e};if("keypress"!==e.type){var a=o.options&&"icon"in o.options;s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(e),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(t,s,!0),s.originalEvent._stopped||!1===n[l].options.bubblingMouseEvents&&-1!==f(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return zt(this._mapPane)||new T(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var i=this.getSize()._divideBy(2);return this.project(e,t)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return this.project(e,t)._subtract(n)},_latLngBoundsToNewLayerBounds:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return z([this.project(e.getSouthWest(),t)._subtract(n),this.project(e.getNorthWest(),t)._subtract(n),this.project(e.getSouthEast(),t)._subtract(n),this.project(e.getNorthEast(),t)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,i){if(!i)return e;var n=this.project(e,t),r=this.getSize().divideBy(2),o=new I(n.subtract(r),n.add(r)),s=this._getBoundsOffset(o,i,t);return s.round().equals([0,0])?e:this.unproject(n.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var i=this.getPixelBounds(),n=new I(i.min.add(e),i.max.add(e));return e.add(this._getBoundsOffset(n,t))},_getBoundsOffset:function(e,t,i){var n=z(this.project(t.getNorthEast(),i),this.project(t.getSouthWest(),i)),r=n.min.subtract(e.min),o=n.max.subtract(e.max);return new T(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),i=this.getMaxZoom(),n=me?this.options.zoomSnap:1;return n&&(e=Math.round(e/n)*n),Math.max(t,Math.min(i,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var i=this._getCenterOffset(e)._floor();return!(!0!==(t&&t.animate)&&!this.getSize().contains(i)||(this.panBy(i,t),0))},_createAnimProxy:function(){var e=this._proxy=_t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=vt,i=this._proxy.style[t];jt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",(function(){var e=this.getCenter(),t=this.getZoom();jt(this._proxy,this.project(e,t),this.getZoomScale(t,1))}),this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wt(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(r)||(S((function(){this._moveStart(!0)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,i,n){i&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,Ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:n}),setTimeout(r(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(Lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),S((function(){this._moveEnd(!0)}),this))}}),Zt=P.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),i=this.getPosition(),n=e._controlCorners[i];return Ot(t,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(t,n.firstChild):n.appendChild(t),this},remove:function(){return this._map?(wt(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Xt=function(e){return new Zt(e)};Ht.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",i=this._controlContainer=_t("div",t+"control-container",this._container);function n(n,r){e[n+r]=_t("div",t+n+" "+t+r,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)wt(this._controlCorners[e]);wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gt=Zt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,i,n){return i<n?-1:n<i?1:0}},initialize:function(e,t,i){for(var n in p(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[n],n);for(n in t)this._addLayer(t[n],n,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Zt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(s(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){Ot(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(Ot(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):Lt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=_t("div",e),i=this.options.collapsed;t.setAttribute("aria-haspopup",!0),$e(t),Ke(t);var n=this._form=_t("form",e+"-list");i&&(this._map.on("click",this.collapse,this),ie||Ge(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=_t("a",e+"-toggle",t);r.href="#",r.title="Layers",xe?(Ge(r,"click",tt),Ge(r,"click",this.expand,this)):Ge(r,"focus",this.expand,this),i||this.expand(),this._baseLayersList=_t("div",e+"-base",n),this._separator=_t("div",e+"-separator",n),this._overlaysList=_t("div",e+"-overlays",n),t.appendChild(n)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&s(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,i){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:i}),this.options.sortLayers&&this._layers.sort(r((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ct(this._baseLayersList),Ct(this._overlaysList),this._layerControlInputs=[];var e,t,i,n,r=0;for(i=0;i<this._layers.length;i++)this._addItem(n=this._layers[i]),t=t||n.overlay,e=e||!n.overlay,r+=n.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(e=e&&r>1)?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(s(e.target)),i=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;i&&this._map.fire(i,t)},_createRadioElement:function(e,t){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(e){var t,i=document.createElement("label"),n=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=n):t=this._createRadioElement("leaflet-base-layers",n),this._layerControlInputs.push(t),t.layerId=s(e.layer),Ge(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var o=document.createElement("div");return i.appendChild(o),o.appendChild(t),o.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var e,t,i=this._layerControlInputs,n=[],r=[];this._handlingClick=!0;for(var o=i.length-1;o>=0;o--)t=this._getLayer((e=i[o]).layerId).layer,e.checked?n.push(t):e.checked||r.push(t);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<n.length;o++)this._map.hasLayer(n[o])||this._map.addLayer(n[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,i=this._layerControlInputs,n=this._map.getZoom(),r=i.length-1;r>=0;r--)t=this._getLayer((e=i[r]).layerId).layer,e.disabled=void 0!==t.options.minZoom&&n<t.options.minZoom||void 0!==t.options.maxZoom&&n>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Yt=Zt.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",i=_t("div",t+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,t+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,t+"-out",i,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,i,n,r){var o=_t("a",i,n);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),$e(o),Ge(o,"click",tt),Ge(o,"click",r,this),Ge(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";Lt(this._zoomInButton,t),Lt(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&Ot(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&Ot(this._zoomInButton,t)}});Ht.mergeOptions({zoomControl:!0}),Ht.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Yt,this.addControl(this.zoomControl))}));var Ut=Zt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=_t("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",t),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,i){e.metric&&(this._mScale=_t("div",t,i)),e.imperial&&(this._iScale=_t("div",t,i))},_update:function(){var e=this._map,t=e.getSize().y/2,i=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(i)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e);this._updateScale(this._mScale,t<1e3?t+" m":t/1e3+" km",t/e)},_updateImperial:function(e){var t,i,n,r=3.2808399*e;r>5280?(i=this._getRoundNum(t=r/5280),this._updateScale(this._iScale,i+" mi",i/t)):(n=this._getRoundNum(r),this._updateScale(this._iScale,n+" ft",n/r))},_updateScale:function(e,t,i){e.style.width=Math.round(this.options.maxWidth*i)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),i=e/t;return t*(i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),Qt=Zt.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=_t("div","leaflet-control-attribution"),$e(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(" | ")}}});Ht.mergeOptions({attributionControl:!0}),Ht.addInitHook((function(){this.options.attributionControl&&(new Qt).addTo(this)})),Zt.Layers=Gt,Zt.Zoom=Yt,Zt.Scale=Ut,Zt.Attribution=Qt,Xt.layers=function(e,t,i){return new Gt(e,t,i)},Xt.zoom=function(e){return new Yt(e)},Xt.scale=function(e){return new Ut(e)},Xt.attribution=function(e){return new Qt(e)};var qt,Jt=P.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Kt={Events:A},$t=xe?"touchstart mousedown":"mousedown",ei={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},ti={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ii=R.extend({options:{clickTolerance:3},initialize:function(e,t,i,n){p(this,n),this._element=e,this._dragStartTarget=t||e,this._preventOutline=i},enable:function(){this._enabled||(Ge(this._dragStartTarget,$t,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ii._dragging===this&&this.finishDrag(),Ue(this._dragStartTarget,$t,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!Mt(this._element,"leaflet-zoom-anim")&&!(ii._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(ii._dragging=this,this._preventOutline&&Nt(this._element),Dt(),ct(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e;this._startPoint=new T(t.clientX,t.clientY),Ge(document,ti[e.type],this._onMove,this),Ge(document,ei[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,i=new T(t.clientX,t.clientY).subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(et(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=zt(this._element).subtract(i),Ot(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,M(this._animRequest),this._lastEvent=e,this._animRequest=S(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),It(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in Lt(document.body,"leaflet-dragging"),this._lastTarget&&(Lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ti)Ue(document,ti[e],this._onMove,this),Ue(document,ei[e],this._onUp,this);Bt(),dt(),this._moved&&this._moving&&(M(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ii._dragging=!1}});function ni(e,t){if(!t||!e.length)return e.slice();var i=t*t;return function(e,t){var i=e.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,function e(t,i,n,r,o){var s,a,l,h=0;for(a=r+1;a<=o-1;a++)(l=li(t[a],t[r],t[o],!0))>h&&(s=a,h=l);h>n&&(i[s]=1,e(t,i,n,r,s),e(t,i,n,s,o))}(e,n,t,0,i-1);var r,o=[];for(r=0;r<i;r++)n[r]&&o.push(e[r]);return o}(e=function(e,t){for(var i=[e[0]],n=1,r=0,o=e.length;n<o;n++)(l=(a=e[r]).x-(s=e[n]).x)*l+(h=a.y-s.y)*h>t&&(i.push(e[n]),r=n);var s,a,l,h;return r<o-1&&i.push(e[o-1]),i}(e,i),i)}function ri(e,t,i){return Math.sqrt(li(e,t,i,!0))}function oi(e,t,i,n,r){var o,s,a,l=n?qt:ai(e,i),h=ai(t,i);for(qt=h;;){if(!(l|h))return[e,t];if(l&h)return!1;a=ai(s=si(e,t,o=l||h,i,r),i),o===l?(e=s,l=a):(t=s,h=a)}}function si(e,t,i,n,r){var o,s,a=t.x-e.x,l=t.y-e.y,h=n.min,c=n.max;return 8&i?(o=e.x+a*(c.y-e.y)/l,s=c.y):4&i?(o=e.x+a*(h.y-e.y)/l,s=h.y):2&i?(o=c.x,s=e.y+l*(c.x-e.x)/a):1&i&&(o=h.x,s=e.y+l*(h.x-e.x)/a),new T(o,s,r)}function ai(e,t){var i=0;return e.x<t.min.x?i|=1:e.x>t.max.x&&(i|=2),e.y<t.min.y?i|=4:e.y>t.max.y&&(i|=8),i}function li(e,t,i,n){var r,o=t.x,s=t.y,a=i.x-o,l=i.y-s,h=a*a+l*l;return h>0&&((r=((e.x-o)*a+(e.y-s)*l)/h)>1?(o=i.x,s=i.y):r>0&&(o+=a*r,s+=l*r)),a=e.x-o,l=e.y-s,n?a*a+l*l:new T(o,s)}function hi(e){return!y(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function ci(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hi(e)}var di=(Object.freeze||Object)({simplify:ni,pointToSegmentDistance:ri,closestPointOnSegment:function(e,t,i){return li(e,t,i)},clipSegment:oi,_getEdgeIntersection:si,_getBitCode:ai,_sqClosestPointOnSegment:li,isFlat:hi,_flat:ci});function ui(e,t,i){var n,r,o,s,a,l,h,c,d,u=[1,4,2,8];for(r=0,h=e.length;r<h;r++)e[r]._code=ai(e[r],t);for(s=0;s<4;s++){for(c=u[s],n=[],r=0,o=(h=e.length)-1;r<h;o=r++)l=e[o],(a=e[r])._code&c?l._code&c||((d=si(l,a,c,t,i))._code=ai(d,t),n.push(d)):(l._code&c&&((d=si(l,a,c,t,i))._code=ai(d,t),n.push(d)),n.push(a));e=n}return e}var pi=(Object.freeze||Object)({clipPolygon:ui}),mi={project:function(e){return new T(e.lng,e.lat)},unproject:function(e){return new B(e.y,e.x)},bounds:new I([-180,-90],[180,90])},gi={R:6378137,R_MINOR:6356752.314245179,bounds:new I([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,i=this.R,n=e.lat*t,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=o*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),o/2);return n=-i*Math.log(Math.max(a,1e-10)),new T(e.lng*t*i,n)},unproject:function(e){for(var t,i=180/Math.PI,n=this.R,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=Math.exp(-e.y/n),a=Math.PI/2-2*Math.atan(s),l=0,h=.1;l<15&&Math.abs(h)>1e-7;l++)t=o*Math.sin(a),t=Math.pow((1-t)/(1+t),o/2),a+=h=Math.PI/2-2*Math.atan(s*t)-a;return new B(a*i,e.x*i/n)}},vi=(Object.freeze||Object)({LonLat:mi,Mercator:gi,SphericalMercator:H}),yi=i({},W,{code:"EPSG:3395",projection:gi,transformation:function(){var e=.5/(Math.PI*gi.R);return X(e,.5,-e,.5)}()}),fi=i({},W,{code:"EPSG:4326",projection:mi,transformation:X(1/180,1,-1/180,.5)}),bi=i({},F,{projection:mi,transformation:X(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var i=t.lng-e.lng,n=t.lat-e.lat;return Math.sqrt(i*i+n*n)},infinite:!0});F.Earth=W,F.EPSG3395=yi,F.EPSG3857=Y,F.EPSG900913=U,F.EPSG4326=fi,F.Simple=bi;var xi=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[s(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[s(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var i=this.getEvents();t.on(i,this),this.once("remove",(function(){t.off(i,this)}),this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});Ht.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=s(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=s(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&s(e)in this._layers},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},_addLayers:function(e){for(var t=0,i=(e=e?y(e)?e:[e]:[]).length;t<i;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[s(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=s(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var r=this._zoomBoundLayers[n].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom),t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _i=xi.extend({initialize:function(e){var t,i;if(this._layers={},e)for(t=0,i=e.length;t<i;t++)this.addLayer(e[t])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){for(var e in this._layers)this.removeLayer(this._layers[e]);return this},invoke:function(e){var t,i,n=Array.prototype.slice.call(arguments,1);for(t in this._layers)(i=this._layers[t])[e]&&i[e].apply(i,n);return this},onAdd:function(e){for(var t in this._layers)e.addLayer(this._layers[t])},onRemove:function(e){for(var t in this._layers)e.removeLayer(this._layers[t])},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];for(var t in this._layers)e.push(this._layers[t]);return e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return s(e)}}),wi=_i.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),_i.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),_i.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new E;for(var t in this._layers){var i=this._layers[t];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}}),Ci=P.extend({initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var i=this._getIconUrl(e);if(!i){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(n,e),n},_setIconStyles:function(e,t){var i=this.options,n=i[t+"Size"];"number"==typeof n&&(n=[n,n]);var r=j(n),o=j("shadow"===t&&i.shadowAnchor||i.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(i.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Ce&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),ki=Ci.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return ki.imagePath||(ki.imagePath=this._detectIconPath()),(this.options.imagePath||ki.imagePath)+Ci.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=_t("div","leaflet-default-icon-path",document.body),t=xt(e,"background-image")||xt(e,"backgroundImage");return document.body.removeChild(e),null===t||0!==t.indexOf("url")?"":t.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),Si=Jt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ii(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ot(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(e){var t=this._marker,i=t._shadow,n=zt(t._icon),r=t._map.layerPointToLatLng(n);i&&It(i,n),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Mi=xi.extend({options:{icon:new ki,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(e,t){p(this,t),this._latlng=N(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=N(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=e.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,e.title&&(i.title=e.title),e.alt&&(i.alt=e.alt)),Ot(i,t),e.keyboard&&(i.tabIndex="0"),this._icon=i,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=e.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(Ot(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wt(this._shadow),this._shadow=null},_setPos:function(e){It(this._icon,e),this._shadow&&It(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(Ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Si)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Si(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;Rt(this._icon,e),this._shadow&&Rt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),Oi=xi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(xe?10:0)}}),Li=Oi.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=N(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=N(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Oi.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,i=this._clickTolerance(),n=[e+i,t+i];this._pxBounds=new I(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Pi=Li.extend({initialize:function(e,t,n){if("number"==typeof t&&(t=i({},n,{radius:t})),p(this,t),this._latlng=N(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new E(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Oi.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===W.distance){var r=Math.PI/180,o=this._mRadius/W.R/r,s=i.project([t+o,e]),a=i.project([t-o,e]),l=s.add(a).divideBy(2),h=i.unproject(l).lat,c=Math.acos((Math.cos(o*r)-Math.sin(t*r)*Math.sin(h*r))/(Math.cos(t*r)*Math.cos(h*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(l.x-i.project([h,e-c]).x),1),this._radiusY=Math.max(Math.round(l.y-s.y),1)}else{var d=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(d).x}this._updateBounds()}}),Ai=Oi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,i,n=1/0,r=null,o=li,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],h=1,c=l.length;h<c;h++){var d=o(e,t=l[h-1],i=l[h],!0);d<n&&(n=d,r=o(e,t,i))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,i,n,r,o,s,a=this._rings[0],l=a.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=a[e].distanceTo(a[e+1])/2;if(0===t)return this._map.layerPointToLatLng(a[0]);for(e=0,n=0;e<l-1;e++)if((n+=i=(r=a[e]).distanceTo(o=a[e+1]))>t)return this._map.layerPointToLatLng([o.x-(s=(n-t)/i)*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=N(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new E,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return hi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],i=hi(e),n=0,r=e.length;n<r;n++)i?(t[n]=N(e[n]),this._bounds.extend(t[n])):t[n]=this._convertLatLngs(e[n]);return t},_project:function(){var e=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),i=new T(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(i),e.max._add(i),this._pxBounds=e)},_projectLatlngs:function(e,t,i){var n,r,o=e.length;if(e[0]instanceof B){for(r=[],n=0;n<o;n++)r[n]=this._map.latLngToLayerPoint(e[n]),i.extend(r[n]);t.push(r)}else for(n=0;n<o;n++)this._projectLatlngs(e[n],t,i)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,i,n,r,o,s,a,l=this._parts;for(t=0,n=0,r=this._rings.length;t<r;t++)for(i=0,o=(a=this._rings[t]).length;i<o-1;i++)(s=oi(a[i],a[i+1],e,i,!0))&&(l[n]=l[n]||[],l[n].push(s[0]),s[1]===a[i+1]&&i!==o-2||(l[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,i=0,n=e.length;i<n;i++)e[i]=ni(e[i],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var i,n,r,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,o=this._parts.length;i<o;i++)for(n=0,r=(s=(a=this._parts[i]).length)-1;n<s;r=n++)if((t||0!==n)&&ri(e,a[r],a[n])<=l)return!0;return!1}});Ai._flat=ci;var Ri=Ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,i,n,r,o,s,a,l=this._rings[0],h=l.length;if(!h)return null;for(o=s=a=0,e=0,t=h-1;e<h;t=e++)s+=((i=l[e]).x+(n=l[t]).x)*(r=i.y*n.x-n.y*i.x),a+=(i.y+n.y)*r,o+=3*r;return this._map.layerPointToLatLng(0===o?l[0]:[s/o,a/o])},_convertLatLngs:function(e){var t=Ai.prototype._convertLatLngs.call(this,e),i=t.length;return i>=2&&t[0]instanceof B&&t[0].equals(t[i-1])&&t.pop(),t},_setLatLngs:function(e){Ai.prototype._setLatLngs.call(this,e),hi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,i=new T(t,t);if(e=new I(e.min.subtract(i),e.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var n,r=0,o=this._rings.length;r<o;r++)(n=ui(this._rings[r],e,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,i,n,r,o,s,a,l,h=!1;if(!this._pxBounds.contains(e))return!1;for(r=0,a=this._parts.length;r<a;r++)for(o=0,s=(l=(t=this._parts[r]).length)-1;o<l;s=o++)(i=t[o]).y>e.y!=(n=t[s]).y>e.y&&e.x<(n.x-i.x)*(e.y-i.y)/(n.y-i.y)+i.x&&(h=!h);return h||Ai.prototype._containsPoint.call(this,e,!0)}}),Ti=wi.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,i,n,r=y(e)?e:e.features;if(r){for(t=0,i=r.length;t<i;t++)((n=r[t]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var s=ji(e,o);return s?(s.feature=Ni(e),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(e,s),this.addLayer(s)):this},resetStyle:function(e){return e.options=i({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}});function ji(e,t){var i,n,r,o,s="Feature"===e.type?e.geometry:e,a=s?s.coordinates:null,l=[],h=t&&t.pointToLayer,c=t&&t.coordsToLatLng||Ii;if(!a&&!s)return null;switch(s.type){case"Point":return i=c(a),h?h(e,i):new Mi(i);case"MultiPoint":for(r=0,o=a.length;r<o;r++)i=c(a[r]),l.push(h?h(e,i):new Mi(i));return new wi(l);case"LineString":case"MultiLineString":return n=zi(a,"LineString"===s.type?0:1,c),new Ai(n,t);case"Polygon":case"MultiPolygon":return n=zi(a,"Polygon"===s.type?1:2,c),new Ri(n,t);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var d=ji({geometry:s.geometries[r],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new wi(l);default:throw new Error("Invalid GeoJSON object.")}}function Ii(e){return new B(e[1],e[0],e[2])}function zi(e,t,i){for(var n,r=[],o=0,s=e.length;o<s;o++)n=t?zi(e[o],t-1,i):(i||Ii)(e[o]),r.push(n);return r}function Ei(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[c(e.lng,t),c(e.lat,t),c(e.alt,t)]:[c(e.lng,t),c(e.lat,t)]}function Di(e,t,i,n){for(var r=[],o=0,s=e.length;o<s;o++)r.push(t?Di(e[o],t-1,i,n):Ei(e[o],n));return!t&&i&&r.push(r[0]),r}function Bi(e,t){return e.feature?i({},e.feature,{geometry:t}):Ni(t)}function Ni(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Vi={toGeoJSON:function(e){return Bi(this,{type:"Point",coordinates:Ei(this.getLatLng(),e)})}};function Fi(e,t){return new Ti(e,t)}Mi.include(Vi),Pi.include(Vi),Li.include(Vi),Ai.include({toGeoJSON:function(e){var t=!hi(this._latlngs);return Bi(this,{type:(t?"Multi":"")+"LineString",coordinates:Di(this._latlngs,t?1:0,!1,e)})}}),Ri.include({toGeoJSON:function(e){var t=!hi(this._latlngs),i=t&&!hi(this._latlngs[0]),n=Di(this._latlngs,i?2:t?1:0,!0,e);return t||(n=[n]),Bi(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),_i.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(i){t.push(i.toGeoJSON(e).geometry.coordinates)})),Bi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var i="GeometryCollection"===t,n=[];return this.eachLayer((function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(i)n.push(r.geometry);else{var o=Ni(r);"FeatureCollection"===o.type?n.push.apply(n,o.features):n.push(o)}}})),i?Bi(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Wi=Fi,Hi=xi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,i){this._url=e,this._bounds=D(t),p(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&kt(this._image),this},bringToBack:function(){return this._map&&St(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=D(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._image=_t("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));e.onselectstart=h,e.onmousemove=h,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),this.options.crossOrigin&&(e.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),e.src=this._url,e.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;jt(this._image,i,t)},_reset:function(){var e=this._image,t=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=t.getSize();It(e,t.min),e.style.width=i.x+"px",e.style.height=i.y+"px"},_updateOpacity:function(){Rt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Zi=Hi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:_t("video");if(t.class=t.class||"",t.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),t.onselectstart=h,t.onmousemove=h,t.onloadeddata=r(this.fire,this,"load"),!e){y(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var i=0;i<this._url.length;i++){var n=_t("source");n.src=this._url[i],t.appendChild(n)}}}}),Xi=xi.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){p(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Rt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Rt(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(Rt(this._container,0),this._removeTimeout=setTimeout(r(wt,void 0,this._container),200)):wt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=N(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&kt(this._container),this},bringToBack:function(){return this._map&&St(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=j(this.options.offset),i=this._getAnchor();this._zoomAnimated?It(this._container,e.add(i)):t=t.add(e).add(i);var n=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=n+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Gi=Xi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Xi.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Oi||this._source.on("preclick",Je))},onRemove:function(e){Xi.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Oi||this._source.off("preclick",Je))},getEvents:function(){var e=Xi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=_t("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=_t("div",e+"-content-wrapper",t);if(this._contentNode=_t("div",e+"-content",i),$e(i),Ke(this._contentNode),Ge(i,"contextmenu",Je),this._tipContainer=_t("div",e+"-tip-container",t),this._tip=_t("div",e+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=_t("a",e+"-close-button",t);n.href="#close",n.innerHTML="&#215;",Ge(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var i=e.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),t.width=i+1+"px",t.whiteSpace="",t.height="";var n=this.options.maxHeight;n&&e.offsetHeight>n?(t.height=n+"px",Ot(e,"leaflet-popup-scrolled")):Lt(e,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),i=this._getAnchor();It(this._container,t.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var e=this._map,t=parseInt(xt(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+t,n=this._containerWidth,r=new T(this._containerLeft,-i-this._containerBottom);r._add(zt(this._container));var o=e.layerPointToContainerPoint(r),s=j(this.options.autoPanPadding),a=j(this.options.autoPanPaddingTopLeft||s),l=j(this.options.autoPanPaddingBottomRight||s),h=e.getSize(),c=0,d=0;o.x+n+l.x>h.x&&(c=o.x+n-h.x+l.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+i+l.y>h.y&&(d=o.y+i-h.y+l.y),o.y-d-a.y<0&&(d=o.y-a.y),(c||d)&&e.fire("autopanstart").panBy([c,d])}},_onCloseButtonClick:function(e){this._close(),tt(e)},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ht.mergeOptions({closePopupOnClick:!0}),Ht.include({openPopup:function(e,t,i){return e instanceof Gi||(e=new Gi(i).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),xi.include({bindPopup:function(e,t){return e instanceof Gi?(p(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Gi(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof xi||(t=e,e=this),e instanceof wi)for(var i in this._layers){e=this._layers[i];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(tt(e),t instanceof Oi?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Yi=Xi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Xi.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Xi.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Xi.prototype.getEvents.call(this);return xe&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=_t("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,i=this._container,n=t.latLngToContainerPoint(t.getCenter()),r=t.layerPointToContainerPoint(e),o=this.options.direction,s=i.offsetWidth,a=i.offsetHeight,l=j(this.options.offset),h=this._getAnchor();"top"===o?e=e.add(j(-s/2+l.x,-a+l.y+h.y,!0)):"bottom"===o?e=e.subtract(j(s/2-l.x,-l.y,!0)):"center"===o?e=e.subtract(j(s/2+l.x,a/2-h.y+l.y,!0)):"right"===o||"auto"===o&&r.x<n.x?(o="right",e=e.add(j(l.x+h.x,h.y-a/2+l.y,!0))):(o="left",e=e.subtract(j(s+h.x-l.x,a/2-h.y-l.y,!0))),Lt(i,"leaflet-tooltip-right"),Lt(i,"leaflet-tooltip-left"),Lt(i,"leaflet-tooltip-top"),Lt(i,"leaflet-tooltip-bottom"),Ot(i,"leaflet-tooltip-"+o),It(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Rt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ht.include({openTooltip:function(e,t,i){return e instanceof Yi||(e=new Yi(i).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),xi.include({bindTooltip:function(e,t){return e instanceof Yi?(p(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Yi(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),xe&&(i.click=this._openTooltip)),this[t](i),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(e instanceof xi||(t=e,e=this),e instanceof wi)for(var i in this._layers){e=this._layers[i];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(Ot(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Lt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){this._tooltip&&this._map&&this.openTooltip(e.layer||e.target,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,i,n=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),i=this._map.containerPointToLayerPoint(t),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var Ui=Ci.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),i=this.options;if(t.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=j(i.bgPos);t.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Ci.Default=ki;var Qi=xi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ge,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),wt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(kt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(St(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof T?e:new T(e,e)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,i=this.getPane().children,n=-e(-1/0,1/0),r=0,o=i.length;r<o;r++)t=i[r].style.zIndex,i[r]!==this._container&&t&&(n=e(n,+t));isFinite(n)&&(this.options.zIndex=n+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$){Rt(this._container,this.options.opacity);var e=+new Date,t=!1,i=!1;for(var n in this._tiles){var r=this._tiles[n];if(r.current&&r.loaded){var o=Math.min(1,(e-r.loaded)/200);Rt(r.el,o),o<1?t=!0:(r.active?i=!0:this._onOpaqueTile(r),r.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),t&&(M(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=_t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var i in this._levels)this._levels[i].el.children.length||i===e?(this._levels[i].el.style.zIndex=t-Math.abs(e-i),this._onUpdateLevel(i)):(wt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[e],r=this._map;return n||((n=this._levels[e]={}).el=_t("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=t,n.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),n.zoom=e,this._setZoomTransform(n,r.getCenter(),r.getZoom()),this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var e,t,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var n=t.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)wt(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(e,t,i,n){var r=Math.floor(e/2),o=Math.floor(t/2),s=i-1,a=new T(+r,+o);a.z=+s;var l=this._tileCoordsToKey(a),h=this._tiles[l];return h&&h.active?(h.retain=!0,!0):(h&&h.loaded&&(h.retain=!0),s>n&&this._retainParent(r,o,s,n))},_retainChildren:function(e,t,i,n){for(var r=2*e;r<2*e+2;r++)for(var o=2*t;o<2*t+2;o++){var s=new T(r,o);s.z=i+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(r,o,i+1,n))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,i,n){var r=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0),n&&!(this.options.updateWhenZooming&&r!==this._tileZoom)||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var i in this._levels)this._setZoomTransform(this._levels[i],e,t)},_setZoomTransform:function(e,t,i){var n=this._map.getZoomScale(i,e.zoom),r=e.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(t,i)).round();me?jt(e.el,r,n):It(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],n).x/i.x),Math.ceil(e.project([0,t.wrapLng[1]],n).x/i.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],n).y/i.x),Math.ceil(e.project([t.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,i=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),n=t.getZoomScale(i,this._tileZoom),r=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*n);return new I(r.subtract(o),r.add(o))},_update:function(e){var t=this._map;if(t){var i=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(n),o=r.getCenter(),s=[],a=this.options.keepBuffer,l=new I(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var h in this._tiles){var c=this._tiles[h].coords;c.z===this._tileZoom&&l.contains(new T(c.x,c.y))||(this._tiles[h].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(e,i);else{for(var d=r.min.y;d<=r.max.y;d++)for(var u=r.min.x;u<=r.max.x;u++){var p=new T(u,d);p.z=this._tileZoom,this._isValidTile(p)&&(this._tiles[this._tileCoordsToKey(p)]||s.push(p))}if(s.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(u=0;u<s.length;u++)this._addTile(s[u],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var i=this._globalTileRange;if(!t.wrapLng&&(e.x<i.min.x||e.x>i.max.x)||!t.wrapLat&&(e.y<i.min.y||e.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(e);return D(this.options.bounds).overlaps(n)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToBounds:function(e){var t=this._map,i=this.getTileSize(),n=e.scaleBy(i),r=n.add(i),o=new E(t.unproject(n,e.z),t.unproject(r,e.z));return this.options.noWrap||t.wrapLatLngBounds(o),o},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),i=new T(+t[0],+t[1]);return i.z=+t[2],i},_removeTile:function(e){var t=this._tiles[e];t&&(wt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Ot(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=h,e.onmousemove=h,$&&this.options.opacity<1&&Rt(e,this.options.opacity),ie&&!ne&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var i=this._getTilePos(e),n=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),r(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&S(r(this._tileReady,this,e,null,o)),It(o,i),this._tiles[n]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,i){if(this._map){t&&this.fire("tileerror",{error:t,tile:i,coords:e});var n=this._tileCoordsToKey(e);(i=this._tiles[n])&&(i.loaded=+new Date,this._map._fadeAnimated?(Rt(i.el,0),M(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),t||(Ot(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new T(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new I(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),qi=Qi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Ce&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),ie||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,t){var i=document.createElement("img");return Ge(i,"load",r(this._tileOnLoad,this,t,i)),Ge(i,"error",r(this._tileOnError,this,t,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(e),i},getTileUrl:function(e){var t={r:Ce?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=n),t["-y"]=n}return v(this._url,i(t,this.options))},_tileOnLoad:function(e,t){$?setTimeout(r(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,i){var n=this.options.errorTileUrl;n&&t.src!==n&&(t.src=n),e(i,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom;return this.options.zoomReverse&&(e=this.options.maxZoom-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=h,t.onerror=h,t.complete||(t.src=b,wt(t)))}});function Ji(e,t){return new qi(e,t)}var Ki=qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var n=i({},this.defaultWmsParams);for(var r in t)r in this.options||(n[r]=t[r]);t=p(this,t),n.width=n.height=t.tileSize*(t.detectRetina&&Ce?2:1),this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,qi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToBounds(e),i=this._crs.project(t.getNorthWest()),n=this._crs.project(t.getSouthEast()),r=(this._wmsVersion>=1.3&&this._crs===fi?[n.y,i.x,i.y,n.x]:[i.x,n.y,n.x,i.y]).join(","),o=qi.prototype.getTileUrl.call(this,e);return o+m(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(e,t){return i(this.wmsParams,e),t||this.redraw(),this}});qi.WMS=Ki,Ji.wms=function(e,t){return new Ki(e,t)};var $i=xi.extend({options:{padding:.1},initialize:function(e){p(this,e),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var i=this._map.getZoomScale(t,this._zoom),n=zt(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),s=this._map.project(e,t).subtract(o),a=r.multiplyBy(-i).add(n).add(r).subtract(s);me?jt(this._container,a,i):It(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),i=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new I(i,i.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),en=$i.extend({getEvents:function(){var e=$i.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Ge(e,"mousemove",a(this._onMouseMove,32,this),this),Ge(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ge(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){delete this._ctx,wt(this._container),Ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},$i.prototype._update.call(this);var e=this._bounds,t=this._container,i=e.getSize(),n=Ce?2:1;It(t,e.min),t.width=n*i.x,t.height=n*i.y,t.style.width=i.x+"px",t.style.height=i.y+"px",Ce&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){$i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[s(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,i=t.next,n=t.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete e._order,delete this._layers[L.stamp(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(e.options.dashArray){var t,i=e.options.dashArray.split(","),n=[];for(t=0;t<i.length;t++)n.push(Number(i[t]));e.options._dashArray=n}},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var i=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)e=n.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var i,n,r,o,s=e._parts,a=s.length,l=this._ctx;if(a){for(this._drawnLayers[e._leaflet_id]=e,l.beginPath(),i=0;i<a;i++){for(n=0,r=s[i].length;n<r;n++)l[n?"lineTo":"moveTo"]((o=s[i][n]).x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,i=this._ctx,n=e._radius,r=(e._radiusY||n)/n;this._drawnLayers[e._leaflet_id]=e,1!==r&&(i.save(),i.scale(1,r)),i.beginPath(),i.arc(t.x,t.y/r,n,0,2*Math.PI,!1),1!==r&&i.restore(),this._fillStroke(i,e)}},_fillStroke:function(e,t){var i=t.options;i.fill&&(e.globalAlpha=i.fillOpacity,e.fillStyle=i.fillColor||i.color,e.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=i.opacity,e.lineWidth=i.weight,e.strokeStyle=i.color,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.stroke())},_onClick:function(e){for(var t,i,n=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)(t=r.layer).options.interactive&&t._containsPoint(n)&&!this._map._draggableMoved(t)&&(i=t);i&&(at(e),this._fireEvent([i],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(Lt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){for(var i,n,r=this._drawFirst;r;r=r.next)(i=r.layer).options.interactive&&i._containsPoint(t)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(e),n&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,i){this._map._fireDOMEvent(t,i||t.type,e)},_bringToFront:function(e){var t=e._order,i=t.next,n=t.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))},_bringToBack:function(e){var t=e._order,i=t.next,n=t.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}});function tn(e){return ke?new en(e):null}var nn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),rn={_initContainer:function(){this._container=_t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($i.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=nn("shape");Ot(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=nn("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;wt(t),e.removeInteractiveTarget(t),delete this._layers[s(e)]},_updateStyle:function(e){var t=e._stroke,i=e._fill,n=e.options,r=e._container;r.stroked=!!n.stroke,r.filled=!!n.fill,n.stroke?(t||(t=e._stroke=nn("stroke")),r.appendChild(t),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,t.dashStyle=n.dashArray?y(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):"",t.endcap=n.lineCap.replace("butt","flat"),t.joinstyle=n.lineJoin):t&&(r.removeChild(t),e._stroke=null),n.fill?(i||(i=e._fill=nn("fill")),r.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(r.removeChild(i),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),i=Math.round(e._radius),n=Math.round(e._radiusY||i);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+i+","+n+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){kt(e._container)},_bringToBack:function(e){St(e._container)}},on=Me?nn:Q,sn=$i.extend({getEvents:function(){var e=$i.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=on("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=on("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wt(this._container),Ue(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){$i.prototype._update.call(this);var e=this._bounds,t=e.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,i.setAttribute("width",t.x),i.setAttribute("height",t.y)),It(i,e.min),i.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=on("path");e.options.className&&Ot(t,e.options.className),e.options.interactive&&Ot(t,"leaflet-interactive"),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){wt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[s(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,i=e.options;t&&(i.stroke?(t.setAttribute("stroke",i.color),t.setAttribute("stroke-opacity",i.opacity),t.setAttribute("stroke-width",i.weight),t.setAttribute("stroke-linecap",i.lineCap),t.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?t.setAttribute("stroke-dasharray",i.dashArray):t.removeAttribute("stroke-dasharray"),i.dashOffset?t.setAttribute("stroke-dashoffset",i.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),i.fill?(t.setAttribute("fill",i.fillColor||i.color),t.setAttribute("fill-opacity",i.fillOpacity),t.setAttribute("fill-rule",i.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,q(e._parts,t))},_updateCircle:function(e){var t=e._point,i=e._radius,n="a"+i+","+(e._radiusY||i)+" 0 1,0 ",r=e._empty()?"M0 0":"M"+(t.x-i)+","+t.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(e,r)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){kt(e._path)},_bringToBack:function(e){St(e._path)}});function an(e){return Se||Me?new sn(e):null}Me&&sn.include(rn),Ht.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this.options.preferCanvas&&tn()||an()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=sn&&an({pane:e})||en&&tn({pane:e}),this._paneRenderers[e]=t),t}});var ln=Ri.extend({initialize:function(e,t){Ri.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=D(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});sn.create=on,sn.pointsToPath=q,Ti.geometryToLayer=ji,Ti.coordsToLatLng=Ii,Ti.coordsToLatLngs=zi,Ti.latLngToCoords=Ei,Ti.latLngsToCoords=Di,Ti.getFeature=Bi,Ti.asFeature=Ni,Ht.mergeOptions({boxZoom:!0});var hn=Jt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),ct(),Dt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Ge(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=_t("div","leaflet-zoom-box",this._container),Ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new I(this._point,this._startPoint),i=t.getSize();It(this._box,t.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(wt(this._box),Lt(this._container,"leaflet-crosshair")),dt(),Bt(),Ue(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var t=new E(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});Ht.addInitHook("addHandler","boxZoom",hn),Ht.mergeOptions({doubleClickZoom:!0});var cn=Jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,i=t.getZoom(),n=t.options.zoomDelta,r=e.originalEvent.shiftKey?i-n:i+n;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});Ht.addInitHook("addHandler","doubleClickZoom",cn),Ht.mergeOptions({dragging:!0,inertia:!ne,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var dn=Jt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ii(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Lt(this._map._container,"leaflet-grab"),Lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=D(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(t),t-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",e).fire("drag",e)},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,r=(n-t+i)%e+t-i,o=(n+t+i)%e-t-i,s=Math.abs(r+i)<Math.abs(o+i)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,i=t.options,n=!i.inertia||this._times.length<2;if(t.fire("dragend",e),n)t.fire("moveend");else{var r=this._lastPos.subtract(this._positions[0]),o=i.easeLinearity,s=r.multiplyBy(o/((this._lastTime-this._times[0])/1e3)),a=s.distanceTo([0,0]),l=Math.min(i.inertiaMaxSpeed,a),h=s.multiplyBy(l/a),c=l/(i.inertiaDeceleration*o),d=h.multiplyBy(-c/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),S((function(){t.panBy(d,{duration:c,easeLinearity:o,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});Ht.addInitHook("addHandler","dragging",dn),Ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var un=Jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Ge(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,i=e.scrollTop||t.scrollTop,n=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,i,n=this._panKeys={},r=this.keyCodes;for(t=0,i=r.left.length;t<i;t++)n[r.left[t]]=[-1*e,0];for(t=0,i=r.right.length;t<i;t++)n[r.right[t]]=[e,0];for(t=0,i=r.down.length;t<i;t++)n[r.down[t]]=[0,e];for(t=0,i=r.up.length;t<i;t++)n[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,i,n=this._zoomKeys={},r=this.keyCodes;for(t=0,i=r.zoomIn.length;t<i;t++)n[r.zoomIn[t]]=e;for(t=0,i=r.zoomOut.length;t<i;t++)n[r.zoomOut[t]]=-e},_addHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,i=e.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;t=this._panKeys[i],e.shiftKey&&(t=j(t).multiplyBy(3)),n.panBy(t),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup)return;n.closePopup()}tt(e)}}});Ht.addInitHook("addHandler","keyboard",un),Ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var pn=Jt.extend({addHooks:function(){Ge(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ue(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=rt(e),i=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),n),tt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),i=this._map.options.zoomSnap||0;e._stop();var n=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,r=i?Math.ceil(n/i)*i:n,o=e._limitZoom(t+(this._delta>0?r:-r))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});Ht.addInitHook("addHandler","scrollWheelZoom",pn),Ht.mergeOptions({tap:!0,tapTolerance:15});var mn=Jt.extend({addHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(et(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],i=t.target;this._startPos=this._newPos=new T(t.clientX,t.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&Ot(i,"leaflet-active"),this._holdTimeout=setTimeout(r((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))}),this),1e3),this._simulateEvent("mousedown",t),Ge(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),Ue(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],i=t.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&Lt(i,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new T(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var i=document.createEvent("MouseEvents");i._simulated=!0,t.target._simulatedClick=!0,i.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}});xe&&!be&&Ht.addInitHook("addHandler","tap",mn),Ht.mergeOptions({touchZoom:xe&&!ne,bounceAtZoomLimits:!0});var gn=Jt.extend({addHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Lt(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var i=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend",this._onTouchEnd,this),et(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,i=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]),o=i.distanceTo(n)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(t._moveStart(!0),this._moved=!0),M(this._animRequest);var a=r(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=S(a,this,!0),et(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,M(this._animRequest),Ue(document,"touchmove",this._onTouchMove),Ue(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ht.addInitHook("addHandler","touchZoom",gn),Ht.BoxZoom=hn,Ht.DoubleClickZoom=cn,Ht.Drag=dn,Ht.Keyboard=un,Ht.ScrollWheelZoom=pn,Ht.Tap=mn,Ht.TouchZoom=gn;var vn=window.L;window.L=e,Object.freeze=t,e.version="1.2.0",e.noConflict=function(){return window.L=vn,this},e.Control=Zt,e.control=Xt,e.Browser=Le,e.Evented=R,e.Mixin=Kt,e.Util=O,e.Class=P,e.Handler=Jt,e.extend=i,e.bind=r,e.stamp=s,e.setOptions=p,e.DomEvent=gt,e.DomUtil=Ft,e.PosAnimation=Wt,e.Draggable=ii,e.LineUtil=di,e.PolyUtil=pi,e.Point=T,e.point=j,e.Bounds=I,e.bounds=z,e.Transformation=Z,e.transformation=X,e.Projection=vi,e.LatLng=B,e.latLng=N,e.LatLngBounds=E,e.latLngBounds=D,e.CRS=F,e.GeoJSON=Ti,e.geoJSON=Fi,e.geoJson=Wi,e.Layer=xi,e.LayerGroup=_i,e.layerGroup=function(e){return new _i(e)},e.FeatureGroup=wi,e.featureGroup=function(e){return new wi(e)},e.ImageOverlay=Hi,e.imageOverlay=function(e,t,i){return new Hi(e,t,i)},e.VideoOverlay=Zi,e.videoOverlay=function(e,t,i){return new Zi(e,t,i)},e.DivOverlay=Xi,e.Popup=Gi,e.popup=function(e,t){return new Gi(e,t)},e.Tooltip=Yi,e.tooltip=function(e,t){return new Yi(e,t)},e.Icon=Ci,e.icon=function(e){return new Ci(e)},e.DivIcon=Ui,e.divIcon=function(e){return new Ui(e)},e.Marker=Mi,e.marker=function(e,t){return new Mi(e,t)},e.TileLayer=qi,e.tileLayer=Ji,e.GridLayer=Qi,e.gridLayer=function(e){return new Qi(e)},e.SVG=sn,e.svg=an,e.Renderer=$i,e.Canvas=en,e.canvas=tn,e.Path=Oi,e.CircleMarker=Li,e.circleMarker=function(e,t){return new Li(e,t)},e.Circle=Pi,e.circle=function(e,t,i){return new Pi(e,t,i)},e.Polyline=Ai,e.polyline=function(e,t){return new Ai(e,t)},e.Polygon=Ri,e.polygon=function(e,t){return new Ri(e,t)},e.Rectangle=ln,e.rectangle=function(e,t){return new ln(e,t)},e.Map=Ht,e.map=function(e,t){return new Ht(e,t)}}(t)}}]);