(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+P1L":function(e,t,i){"use strict";i.r(t);var s=i("aceb"),o=i("vTDv"),n=i("fXoL"),r=(i("4R65"),function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)}}),e}());let a=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},imports:[[o.a,s.v,s.K,s.zb,s.q,s.I,s.ib,s.ab,s.Q,s.W,r,s.vb]]}),e})();var l=i("k5hD"),h=i("4SUy");class c{constructor(e){this.svgLink="http://www.w3.org/2000/svg",this.rootId=e}getOptionValue(e,t){return e[t]}createSvg(e){return Object(h.W)(e.id)&&(e.id=this.rootId+"_svg"),this.svgObj=document.getElementById(e.id),Object(h.W)(document.getElementById(e.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(e,this.svgObj),this.setSVGSize(e.width,e.height),this.svgObj}setSVGSize(e,t){let i=document.getElementById(this.rootId),s=Object(h.W)(i)?null:i.getBoundingClientRect();Object(h.W)(this.width)||this.width<=0?this.svgObj.setAttribute("width",e?e.toString():s.width.toString()):this.svgObj.setAttribute("width",this.width.toString()),Object(h.W)(this.height)||this.height<=0?this.svgObj.setAttribute("height",t?t.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())}drawPath(e,t){let i=document.getElementById(e.id);return null===i&&(i=document.createElementNS(this.svgLink,"path")),i=this.setElementAttributes(e,i),i}drawLine(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"line")),t=this.setElementAttributes(e,t),t}drawRectangle(e,t){let i=document.getElementById(e.id);return null===i&&(i=document.createElementNS(this.svgLink,"rect")),i=this.setElementAttributes(e,i),i}drawCircle(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"circle")),t=this.setElementAttributes(e,t),t}drawPolyline(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"polyline")),t=this.setElementAttributes(e,t),t}drawEllipse(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"ellipse")),t=this.setElementAttributes(e,t),t}drawPolygon(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"polygon")),t=this.setElementAttributes(e,t),t}drawImage(e){let t=document.createElementNS(this.svgLink,"image");return t.setAttributeNS(null,"height",e.height.toString()),t.setAttributeNS(null,"width",e.width.toString()),t.setAttributeNS("http://www.w3.org/1999/xlink","href",e.href),t.setAttributeNS(null,"x",e.x.toString()),t.setAttributeNS(null,"y",e.y.toString()),t.setAttributeNS(null,"id",e.id),t.setAttributeNS(null,"visibility",e.visibility),Object(h.W)(this.getOptionValue(e,"clip-path"))||t.setAttributeNS(null,"clip-path",this.getOptionValue(e,"clip-path")),Object(h.W)(e.preserveAspectRatio)||t.setAttributeNS(null,"preserveAspectRatio",e.preserveAspectRatio),t}createText(e,t,i,s){let o=document.createElementNS(this.svgLink,"text");return o=this.setElementAttributes(e,o),Object(h.W)(t)||(o.textContent=t),o}createTSpan(e,t){let i=document.createElementNS(this.svgLink,"tspan");return i=this.setElementAttributes(e,i),Object(h.W)(t)||(i.textContent=t),i}createTitle(e){let t=document.createElementNS(this.svgLink,"title");return t.textContent=e,t}createDefs(){return document.createElementNS(this.svgLink,"defs")}createClipPath(e){let t=document.createElementNS(this.svgLink,"clipPath");return t=this.setElementAttributes(e,t),t}createForeignObject(e){let t=document.createElementNS(this.svgLink,"foreignObject");return t=this.setElementAttributes(e,t),t}createGroup(e){let t=document.createElementNS(this.svgLink,"g");return t=this.setElementAttributes(e,t),t}createPattern(e,t){let i=document.createElementNS(this.svgLink,t);return i=this.setElementAttributes(e,i),i}createRadialGradient(e,t,i){let s;return Object(h.W)(e[0].colorStop)?s=e[0].color.toString():(this.drawGradient("radialGradient",{id:this.rootId+"_"+t+"radialGradient",cx:i.cx+"%",cy:i.cy+"%",r:i.r+"%",fx:i.fx+"%",fy:i.fy+"%"},e),s="url(#"+this.rootId+"_"+t+"radialGradient)"),s}createLinearGradient(e,t,i){let s;return Object(h.W)(e[0].colorStop)?s=e[0].color.toString():(this.drawGradient("linearGradient",{id:this.rootId+"_"+t+"linearGradient",x1:i.x1+"%",y1:i.y1+"%",x2:i.x2+"%",y2:i.y2+"%"},e),s="url(#"+this.rootId+"_"+t+"linearGradient)"),s}drawGradient(e,t,i){let s=this.createDefs(),o=document.createElementNS(this.svgLink,e);o=this.setElementAttributes(t,o);for(let n=0;n<i.length;n++){let e=document.createElementNS(this.svgLink,"stop");e.setAttribute("offset",i[n].colorStop),e.setAttribute("stop-color",i[n].color),e.setAttribute("stop-opacity","1"),o.appendChild(e)}return s.appendChild(o),s}drawClipPath(e){let t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Rect";let s=this.drawRectangle(e);return i.appendChild(s),t.appendChild(i),t}drawCircularClipPath(e){let t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Circle";let s=this.drawCircle(e);return i.appendChild(s),t.appendChild(i),t}setElementAttributes(e,t){let i=Object.keys(e);for(let s=0;s<i.length;s++)t.setAttribute(i[s],e[i[s]]);return t}createCanvas(e){return null}}class d{constructor(e){this.rootId=e}getOptionValue(e,t){return e[t]}createCanvas(e){let t=document.createElement("canvas");return t.setAttribute("id",this.rootId+"_canvas"),this.ctx=t.getContext("2d"),this.canvasObj=t,this.setCanvasSize(e.width,e.height),this.canvasObj}setCanvasSize(e,t){let i=document.getElementById(this.rootId),s=Object(h.W)(i)?null:i.getBoundingClientRect();Object(h.W)(this.width)?this.canvasObj.setAttribute("width",e?e.toString():s.width.toString()):this.canvasObj.setAttribute("width",this.width.toString()),Object(h.W)(this.height)?this.canvasObj.setAttribute("height",t?t.toString():"450"):this.canvasObj.setAttribute("height",this.height.toString())}setAttributes(e){this.ctx.lineWidth=this.getOptionValue(e,"stroke-width");let t=this.getOptionValue(e,"stroke-dasharray");if(!Object(h.W)(t)){let e=t.split(",");this.ctx.setLineDash([parseInt(e[0],10),parseInt(e[1],10)])}this.ctx.strokeStyle=this.getOptionValue(e,"stroke")}drawLine(e){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.moveTo(e.x1,e.y1),this.ctx.lineTo(e.x2,e.y2),this.ctx.stroke(),this.ctx.restore()}drawRectangle(e,t){let i=this.ctx,s=e.rx;return this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=this.getOptionValue(e,"opacity"),this.setAttributes(e),this.ctx.rect(e.x,e.y,e.width,e.height),null!==s&&s>=0?this.drawCornerRadius(e):("none"===e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,this.ctx.fillRect(e.x,e.y,e.width,e.height),this.ctx.stroke()),this.ctx.restore(),this.ctx=i,this.canvasObj}drawCornerRadius(e){let t=e.rx,i=e.x,s=e.y,o=e.width,n=e.height;"none"===e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,o<2*t&&(t=o/2),n<2*t&&(t=n/2),this.ctx.beginPath(),this.ctx.moveTo(i+o-t,s),this.ctx.arcTo(i+o,s,i+o,s+n,t),this.ctx.arcTo(i+o,s+n,i,s+n,t),this.ctx.arcTo(i,s+n,i,s,t),this.ctx.arcTo(i,s,i+o,s,t),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()}drawPath(e,t){let i=e.d.split(" "),s=this.getOptionValue(e,"stroke-width"),o=this.ctx,n=!0;this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=e.opacity?e.opacity:this.getOptionValue(e,"fill-opacity"),this.setAttributes(e);for(let r=0;r<i.length;r+=3){let t=parseFloat(i[r+1]),s=parseFloat(i[r+2]);switch(i[r]){case"M":e.innerR||e.cx||this.ctx.moveTo(t,s);break;case"L":e.innerR||this.ctx.lineTo(t,s);break;case"Q":let o=parseFloat(i[r+3]),a=parseFloat(i[r+4]);this.ctx.quadraticCurveTo(t,s,o,a),r+=2;break;case"C":let l=parseFloat(i[r+3]),h=parseFloat(i[r+4]),c=parseFloat(i[r+5]),d=parseFloat(i[r+6]);this.ctx.bezierCurveTo(t,s,l,h,c,d),r+=4;break;case"A":e.innerR?n&&(this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.arc(e.x,e.y,e.innerR,e.end,e.start,!e.counterClockWise),n=!1):e.cx?this.ctx.arc(e.cx,e.cy,e.radius,0,2*Math.PI,e.counterClockWise):(this.ctx.moveTo(e.x,e.y),this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.lineTo(e.x,e.y)),r+=5;break;case"z":case"Z":this.ctx.closePath(),r-=2}}return"none"!==e.fill&&void 0!==e.fill&&(this.ctx.fillStyle=e.fill,this.ctx.fill()),s>0&&this.ctx.stroke(),this.ctx.restore(),this.ctx=o,this.canvasObj}createText(e,t,i,s){let o=this.getOptionValue(e,"font-weight");Object(h.W)(o)||"regular"!==o.toLowerCase()||(o="normal");let n=this.getOptionValue(e,"font-size"),r=this.getOptionValue(e,"font-family"),a=this.getOptionValue(e,"font-style").toLowerCase()+" "+o+" "+n+" "+r,l=this.getOptionValue(e,"text-anchor"),c=void 0!==e.opacity?e.opacity:1;return"middle"===l&&(l="center"),this.ctx.save(),this.ctx.fillStyle=e.fill,this.ctx.font=a,this.ctx.textAlign=l,this.ctx.globalAlpha=c,e.baseline&&(this.ctx.textBaseline=e.baseline),this.ctx.translate(e.x+0+(i||0),e.y+(s||0)),this.ctx.rotate(e.labelRotation*Math.PI/180),this.ctx.fillText(t,0,0),this.ctx.restore(),this.canvasObj}drawCircle(e,t){let i=this.ctx;return this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.cx,e.cy,e.r,0,2*Math.PI),this.ctx.fillStyle=e.fill,this.ctx.globalAlpha=e.opacity,this.ctx.fill(),t&&this.ctx.translate(t[0],t[1]),this.setAttributes(e),this.ctx.stroke(),this.ctx.restore(),this.ctx=i,this.canvasObj}drawPolyline(e){this.ctx.save(),this.ctx.beginPath();let t=e.points.split(" ");for(let i=0;i<t.length-1;i++){let e=t[i].split(","),s=parseFloat(e[0]),o=parseFloat(e[1]);0===i?this.ctx.moveTo(s,o):this.ctx.lineTo(s,o)}this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore()}drawEllipse(e,t){let i=this.ctx,s=Math.max(e.rx,e.ry),o=e.rx/s,n=e.ry/s;this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(e.cx,e.cy),t&&this.ctx.translate(t[0],t[1]),this.ctx.save(),this.ctx.scale(o,n),this.ctx.arc(0,0,s,0,2*Math.PI,!1),this.ctx.fillStyle=e.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i}drawImage(e){this.ctx.save();let t=new Image;Object(h.W)(e.href)||(t.src=e.href,this.ctx.drawImage(t,e.x,e.y,e.width,e.height)),this.ctx.restore()}createLinearGradient(e){let t;return Object(h.W)(e[0].colorStop)||(t=this.ctx.createLinearGradient(0,0,0,this.canvasObj.height)),this.setGradientValues(e,t)}createRadialGradient(e){let t;return Object(h.W)(e[0].colorStop)||(t=this.ctx.createRadialGradient(0,0,0,0,0,this.canvasObj.height)),this.setGradientValues(e,t)}setGradientValues(e,t){let i;if(Object(h.W)(e[0].colorStop))i=e[0].color.toString();else{for(let i=0;i<=e.length-1;i++){let s=e[i].color,o=e[i].colorStop.slice(0,-1),n=parseInt(o,10)/100;t.addColorStop(n,s)}i=t.toString()}return i}setElementAttributes(e,t){let i=Object.keys(e),s=Object.keys(e).map(t=>e[t]);for(let o=0;o<i.length;o++)t.setAttribute(i[o],s[o]);return null}updateCanvasAttributes(e){this.setElementAttributes(e,this.canvasObj);let t=this.ctx;if(!Object(h.W)(this.dataUrl)){let e=new Image;e.onload=()=>{t.drawImage(e,0,0)},e.src=this.dataUrl}}clearRect(e){this.ctx.restore(),this.ctx.clearRect(e.x,e.y,e.width,e.height)}createGroup(e){return null}drawClipPath(e){return null}canvasClip(e){this.ctx.save(),this.ctx.fillStyle="transparent",this.ctx.rect(e.x,e.y,e.width,e.height),this.ctx.fill(),this.ctx.clip()}canvasRestore(){this.ctx.restore()}drawPolygon(e){return null}createDefs(){return null}createClipPath(e){return null}createSvg(e){return null}}function u(e,t){let i=e||"",s=document.getElementById("chartmeasuretext");if(null===s&&(s=Object(h.F)("text",{id:"chartmeasuretext"}),document.body.appendChild(s)),"string"==typeof e&&(e.indexOf("<")>-1||e.indexOf(">")>-1)){let t=e.split(" ");for(let e=0;e<t.length;e++)-1===t[e].indexOf("<br/>")&&(t[e]=t[e].replace(/[<>]/g,"&"));e=t.join(" ")}return s.innerHTML=i.indexOf("<br>")>-1||i.indexOf("<br/>")>-1?i:e,s.style.position="fixed",s.style.fontSize=t.size,s.style.fontWeight=t.fontWeight,s.style.fontStyle=t.fontStyle,s.style.fontFamily=t.fontFamily,s.style.visibility="hidden",s.style.top="-100",s.style.left="0",s.style.whiteSpace="nowrap",s.style.lineHeight="normal",new m(s.clientWidth,s.clientHeight)}function p(e,t,i,s,o,n,r,a,l,h,c){let d="",u=i.x,p=i.y,m=i.x+i.width,g=i.y+i.height;return c=c||0,n?(d=d.concat("M "+u+" "+(p+t)+" Q "+u+" "+p+" "+(u+e)+" "+p+"  L "+(m-e)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+t)),d=d.concat(" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g),0!==o&&(d=d.concat(" L "+(s.x+o/2)+" "+g),d=d.concat(" L "+(l+c)+" "+(g+o-c)),d+=" Q "+l+" "+(g+o)+" "+(l-c)+" "+(g+o-c)),d=d.concat(s.x-o/2>u?" L "+(s.x-o/2)+" "+g+" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z":0===o?" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z":" L "+u+" "+(g+t)+" z")):r?(d=d.concat("M "+u+" "+(p+t)+" Q "+u+" "+p+" "+(u+e)+" "+p+" L "+(s.x-o/2)+" "+p),d=d.concat(" L "+(l-c)+" "+(s.y+c)),d+=" Q "+l+" "+s.y+" "+(l+c)+" "+(s.y+c),d=d.concat(" L "+(s.x+o/2)+" "+p+" L "+(m-e)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+t)),d=d.concat(" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g+" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z")):a?(d=d.concat("M "+u+" "+(p+t)+" Q "+u+" "+p+" "+(u+e)+" "+p),d=d.concat(" L "+(m-e)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+t)+" L "+m+" "+(s.y-o/2)),d=d.concat(" L "+(m+o-c)+" "+(h-c)),d+=" Q "+(m+o)+" "+h+" "+(m+o-c)+" "+(h+c),d=d.concat(" L "+m+" "+(s.y+o/2)+" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g),d=d.concat(" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z")):(d=d.concat("M "+(u+e)+" "+p+" Q "+u+" "+p+" "+u+" "+(p+t)+" L "+u+" "+(s.y-o/2)),d=d.concat(" L "+(u-o+c)+" "+(h-c)),d+=" Q "+(u-o)+" "+h+" "+(u-o+c)+" "+(h+c),d=d.concat(" L "+u+" "+(s.y+o/2)+" L "+u+" "+(g-t)+" Q "+u+" "+g+" "+(u+e)+" "+g),d=d.concat(" L "+(m-e)+" "+g+" Q "+m+" "+g+" "+m+" "+(g-t)+" L "+m+" "+(p+t)+" Q "+m+" "+p+" "+(m-e)+" "+p+" z")),d}class m{constructor(e,t){this.width=e,this.height=t}}class g{constructor(e,t,i,s){this.x=e,this.y=t,this.width=i,this.height=s}}class b{constructor(e,t){this.isRight=t,this.isBottom=e}}class y{constructor(e){this.id=e}}class f extends y{constructor(e,t,i,s,o,n="",r,a){super(e),this.transform="",this.baseLine="auto",this.labelRotation=0,this.x=t,this.y=i,this.anchor=s,this.text=o,this.transform=n,this.baseLine=r,this.labelRotation=a}}function x(e){return document.getElementById(e)}function v(e){let t=x(e);t&&Object(h.gb)(t)}function w(e,t,i,s,o,n){let r=new c(""),a=function(e,t,i,s,o){let n,r="Path",a=t.width,l=t.height,c=e.x,d=e.y,u=e.x+-a/2,p=e.y+-l/2;switch(i){case"Circle":case"Bubble":r="Ellipse",Object(h.cb)(s,{rx:a/2,ry:l/2,cx:c,cy:d});break;case"Cross":n="M "+u+" "+d+" L "+(c+a/2)+" "+d+" M "+c+" "+(d+l/2)+" L "+c+" "+(d+-l/2),Object(h.cb)(s,{d:n});break;case"HorizontalLine":n="M "+u+" "+d+" L "+(c+a/2)+" "+d,Object(h.cb)(s,{d:n});break;case"VerticalLine":n="M "+c+" "+(d+l/2)+" L "+c+" "+(d+-l/2),Object(h.cb)(s,{d:n});break;case"Diamond":n="M "+u+" "+d+" L "+c+" "+(d+-l/2)+" L "+(c+a/2)+" "+d+" L "+c+" "+(d+l/2)+" L "+u+" "+d+" z",Object(h.cb)(s,{d:n});break;case"Rectangle":n="M "+u+" "+(d+-l/2)+" L "+(c+a/2)+" "+(d+-l/2)+" L "+(c+a/2)+" "+(d+l/2)+" L "+u+" "+(d+l/2)+" L "+u+" "+(d+-l/2)+" z",Object(h.cb)(s,{d:n});break;case"Triangle":n="M "+u+" "+(d+l/2)+" L "+c+" "+(d+-l/2)+" L "+(c+a/2)+" "+(d+l/2)+" L "+u+" "+(d+l/2)+" z",Object(h.cb)(s,{d:n});break;case"InvertedTriangle":n="M "+(c+a/2)+" "+(d-l/2)+" L "+c+" "+(d+l/2)+" L "+(c-a/2)+" "+(d-l/2)+" L "+(c+a/2)+" "+(d-l/2)+" z",Object(h.cb)(s,{d:n});break;case"Pentagon":let e,t,i=72;for(let s=0;s<=5;s++)e=a/2*Math.cos(Math.PI/180*(s*i)),t=l/2*Math.sin(Math.PI/180*(s*i)),n=0===s?"M "+(c+e)+" "+(d+t)+" ":n.concat("L "+(c+e)+" "+(d+t)+" ");n=n.concat("Z"),Object(h.cb)(s,{d:n});break;case"Image":r="Image",Object(h.cb)(s,{href:o,height:l,width:a,x:u,y:p})}return{renderOption:s,functionName:r}}(e,i,t,o,s),l=r["draw"+a.functionName](a.renderOption);return l.setAttribute("aria-label",n),l}class _ extends y{constructor(e,t,i,s,o,n,r){super(e),this.opacity=o,this.fill=t,this.stroke=s,this["stroke-width"]=i,this["stroke-dasharray"]=n,this.d=r}}class S{constructor(e,t){this.x=e,this.y=t}}var C=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let M=(()=>{class e extends h.e{}return C([Object(h.s)(null)],e.prototype,"size",void 0),C([Object(h.s)("")],e.prototype,"color",void 0),C([Object(h.s)("Segoe UI")],e.prototype,"fontFamily",void 0),C([Object(h.s)("Normal")],e.prototype,"fontWeight",void 0),C([Object(h.s)("Normal")],e.prototype,"fontStyle",void 0),C([Object(h.s)(1)],e.prototype,"opacity",void 0),e})(),L=(()=>{class e extends h.e{}return C([Object(h.s)("")],e.prototype,"color",void 0),C([Object(h.s)(1)],e.prototype,"width",void 0),e})(),O=(()=>{class e extends h.e{}return C([Object(h.s)(0)],e.prototype,"x",void 0),C([Object(h.s)(0)],e.prototype,"y",void 0),C([Object(h.s)(0)],e.prototype,"width",void 0),C([Object(h.s)(0)],e.prototype,"height",void 0),e})(),A=(()=>{class e extends h.e{}return C([Object(h.s)(0)],e.prototype,"x",void 0),C([Object(h.s)(0)],e.prototype,"y",void 0),e})(),P=(()=>{let e=class extends h.h{constructor(e,t){super(e,t)}preRender(){this.allowServerDataBinding=!1,this.initPrivateVariable(),this.isCanvas||this.removeSVG(),this.createTooltipElement()}initPrivateVariable(){this.renderer=new c(this.element.id),this.themeStyle=function(e){let t;switch(e){case"Highcontrast":case"HighContrast":t={tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A"};break;case"Bootstrap4":t={tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255, 255, 255)",tooltipLightLabel:"rgba(255, 255, 255, 0.9)",tooltipHeaderLine:"rgba(255, 255, 255, 0.2)"};break;default:t={tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff"}}return t}(this.theme),this.formattedText=[],this.padding=5,this.isFirst=!0,this.markerPoint=[]}removeSVG(){let e=document.getElementById(this.element.id+"_svg"),t=document.getElementById(this.element.id+"parent_template");this.blazorTemplate&&Object(h.ib)(this.element.id+"parent_template_blazorTemplate"),e&&e.parentNode&&Object(h.gb)(e),t&&t.parentNode&&Object(h.gb)(t)}render(){if(this.fadeOuted=!1,this.template)this.updateTemplateFn(),this.createTemplate(this.areaBounds,this.location);else{this.renderText(this.isFirst),this.trigger("tooltipRender",{cancel:!1,name:"tooltipRender",tooltip:this});let e=this.renderTooltipElement(this.areaBounds,this.location);this.drawMarker(e.isBottom,e.isRight,this.markerSize)}this.trigger("loaded",{tooltip:this});let e=document.getElementById("chartmeasuretext");e&&Object(h.gb)(e),this.allowServerDataBinding=!0}createTooltipElement(){if(this.textElements=[],!this.template||this.shared){let e=this.renderer.createSvg({id:this.element.id+"_svg"});this.element.appendChild(e);let t=document.getElementById(this.element.id+"_group");t||(t=this.renderer.createGroup({id:this.element.id+"_group"}),t.setAttribute("transform","translate(0,0)")),e.appendChild(t);let i=this.renderer.drawPath({id:this.element.id+"_path","stroke-width":"Bootstrap4"===this.theme?0:this.border.width,fill:this.fill||this.themeStyle.tooltipFill,opacity:"Bootstrap4"===this.theme?.9:this.opacity,stroke:this.border.color});t.appendChild(i)}}drawMarker(e,t,i){if(this.shapes.length<=0)return null;let s,o=0,n=this.renderer.createGroup({id:this.element.id+"_trackball_group"}),r=x(this.element.id+"_group"),a=2*this.marginX+i/2+(t?this.arrowPadding:0);for(let l of this.shapes)s=new _(this.element.id+"_Trackball_"+o,this.palette[o],1,"#cccccc",1,null),this.markerPoint[o]&&n.appendChild(w(new S(a,this.markerPoint[o]-this.padding+(e?this.arrowPadding:0)),l,new m(i,i),"",s,null)),o++;r.appendChild(n)}renderTooltipElement(e,t){let i,s=x(this.element.id),o=new S(0,0),n=new S(0,0),r=x(this.element.id+"_svg"),a=x(this.element.id+"_group"),l=x(this.element.id+"_path"),c=!1,d=!1,m=!1,y=0,f=0;if(this.tipRadius=1,""!==this.header&&(this.elementSize.height+=this.marginY),this.content.length>1?(i=this.sharedTooltipLocation(e,this.location.x,this.location.y),c=!0):(i=this.tooltipLocation(e,t,o,n),this.inverted?(d=i.x<t.x+this.clipBounds.x,y=d?0:this.arrowPadding):(c=i.y<t.y+this.clipBounds.y,m=!c,f=c?0:this.arrowPadding)),""!==this.header){let e=u(this.isWrap?this.wrappedText:this.header,this.textStyle).height+2*this.marginY+(m?this.arrowPadding:0)+(this.isWrap?5:0),t=this.renderer.drawPath({id:this.element.id+"_header_path","stroke-width":1,fill:null,opacity:.8,stroke:this.themeStyle.tooltipHeaderLine,d:"M "+(3*this.marginX+(d||c||m?0:this.arrowPadding))+" "+e+"L "+(i.width+(d||c||m?0:this.arrowPadding)-2*this.marginX)+" "+e});a.appendChild(t)}let v=this.border.width/2,w=new g(v+y,v+f,i.width-v,i.height-v);if(a.setAttribute("opacity","1"),!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(s,i.x,i.y):this.animateTooltipDiv(s,i),r.setAttribute("height",(i.height+this.border.width+(this.inverted?0:this.arrowPadding)+5).toString()),r.setAttribute("width",(i.width+this.border.width+(this.inverted?this.arrowPadding:0)+5).toString()),r.setAttribute("opacity","1"),Object(h.W)(this.tooltipPlacement)||(c=this.tooltipPlacement.indexOf("Top")>-1,m=this.tooltipPlacement.indexOf("Bottom")>-1,d=this.tooltipPlacement.indexOf("Left")>-1),l.setAttribute("d",p(this.rx,this.ry,w,o,this.arrowPadding,c,m,d,n.x,n.y,this.tipRadius)),this.enableShadow&&"Bootstrap4"!==this.theme){let e=this.element.id+"_shadow";l.setAttribute("filter",h.d.isIE?"":"url(#"+e+")");let t='<filter id="'+e+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';t+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>',t+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';let i=this.renderer.createDefs();i.setAttribute("id",this.element.id+"SVG_tooltip_definition"),a.appendChild(i),i.innerHTML=t}return l.setAttribute("stroke",this.border.color),this.changeText(new S(y,f),m,!d&&!c&&!m,i),new b(m,!d&&!c&&!m)}changeText(e,t,i,s){let o=document.getElementById(this.element.id+"_text");t&&o.setAttribute("transform","translate(0,"+this.arrowPadding+")"),i&&o.setAttribute("transform","translate("+this.arrowPadding+" 0)")}findFormattedText(){this.formattedText=[],""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()&&(this.formattedText=this.formattedText.concat(this.header)),this.formattedText=this.formattedText.concat(this.content)}renderText(e){let t,i,s,o,n,r,a,l=0,d=0,p=0,g=Object(h.J)({},this.textStyle,null,!0).properties,b=x(this.element.id+"_group"),y="";this.findFormattedText(),this.leftSpace=this.areaBounds.x+this.location.x,this.rightSpace=this.areaBounds.x+this.areaBounds.width-this.leftSpace;let w,_=this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim(),S=this.header.indexOf("<b>")>-1&&this.header.indexOf("</b>")>-1,C=u(this.formattedText[0],g).width+2*this.marginX+this.arrowPadding,M=this.location.x-C<this.location.x,L=this.areaBounds.x+this.areaBounds.width<this.location.x+C,O=""!==_?this.marginY:0,A=!0,P=!0;this.markerPoint=[];let k,T=this.shapes.length>0?10:0,R=this.shapes.length>0?5:0,j="Normal",I=this.themeStyle.tooltipLightLabel,z=22/parseFloat("13px")*parseFloat(g.size);e&&!this.isCanvas||(v(this.element.id+"_text"),v(this.element.id+"_header_path"),v(this.element.id+"_trackball_group"),v(this.element.id+"SVG_tooltip_definition"));let E=new f(this.element.id+"_text",2*this.marginX,2*this.marginY+2*this.padding+(2===this.marginY?3:0),"start",""),D=function(e,t,i,s){let o,n,r={},a=new c("");return r={id:e.id,x:e.x,y:e.y,fill:null,"font-size":t.size,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":e.anchor,transform:e.transform,opacity:t.opacity,"dominant-baseline":e.baseLine},n="string"==typeof e.text?e.text:e.text[0],o=a.createText(r,n),s.appendChild(o),o}(E,g,0,b),B=1===this.formattedText.length&&this.formattedText[0].indexOf(" : <b>")>-1;a=""!==this.header,i=a&&S?16:13;for(let h=0,c=this.formattedText.length;h<c;h++)if(o=this.formattedText[h].replace(/<(b|strong)>/g,"<b>").replace(/<\/(b|strong)>/g,"</b>").split(/<br.*?>/g),0===h&&!B&&this.isTextWrap&&(this.leftSpace<C||M)&&(this.rightSpace<C||L)&&(k=Math.round(this.leftSpace>this.rightSpace?this.leftSpace/i:this.rightSpace/i),w=""!==_?_:this.formattedText[h],o=w.match(new RegExp(".{1,"+k+"}","g")),this.wrappedText=S?"<b>"+o.join("<br>")+"</b>":o.join("<br>"),this.isWrap=o.length>1),""!==o[0]){0===h&&""!==_||this.markerPoint.push((""!==_?this.marginY:0)+E.y+l);for(let e=0,i=o.length;e<i;e++){t=o[e].replace(/<b>/g,"<br><b>").replace(/<\/b>/g,"</b><br>").replace(/:/g,"<br>\u200e:<br>").split("<br>"),p=0,P=!0,l+=z;for(let e=0,i=t.length;e<i;e++)n=t[e],/\S/.test(n)||""===n||(n=" "),(!P&&" "===n||""!==n.replace(/<b>/g,"").replace(/<\/b>/g,"").trim())&&(p+=" "!==n?4:0,P&&!A?(r={x:2*this.marginX+(T+R),dy:z+(P?O:0),fill:""},O=null):r=A&&P?{x:""===_?2*this.marginX+(T+R):2*this.marginX+(this.isWrap?T+R:0)}:{},P=!1,s=this.renderer.createTSpan(r,""),D.appendChild(s),n.indexOf("<b>")>-1||S&&0===e&&0===h&&(a||this.isWrap)?(j="bold",I=this.themeStyle.tooltipBoldLabel,y="font-weight:"+j,g.fontWeight=j,s.setAttribute("fill",this.textStyle.color||I)):(y="bold"===j?"font-weight:"+j:"",g.fontWeight=j,s.setAttribute("fill",this.textStyle.color||I)),(n.indexOf("</b>")>-1||S&&e===i-1&&0===h&&(a||this.isWrap))&&(j="Normal",I=this.themeStyle.tooltipLightLabel),s.textContent=n=n.replace(/<[a-zA-Z\/](.|\n)*?>/g,""),p+=u(n,g).width,""!==y&&s.setAttribute("style",y),A=!1);p-=4,d=Math.max(d,p)}}this.elementSize=new m(d+(d>0?2*this.marginX:0),l),this.elementSize.width+=T+R;let N=D.childNodes[0];if(""!==_&&N&&!this.isWrap){g.fontWeight="bold";let e=(this.elementSize.width+2*this.padding)/2-u(_,g).width/2;N.setAttribute("x",e.toString())}}createTemplate(e,t){let i={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",i);let s=document.getElementById(this.element.id);this.isCanvas&&this.removeSVG();let o=s.firstElementChild;if(o&&Object(h.gb)(o),i.cancel)Object(h.gb)(x(this.element.id+"_tooltip"));else{let i=Object(h.F)("div",{id:this.element.id+"parent_template"}),o=this.templateFn(this.data,null,null,i.id+"_blazorTemplate","");for(;o&&o.length>0;)Object(h.V)()?(i.appendChild(o[0]),o=null):i.appendChild(o[0]);s.appendChild(i);let n=this.isCanvas?i:this.element,r=n.getBoundingClientRect();this.padding=0,this.elementSize=new m(r.width,r.height);let a=this.tooltipLocation(e,t,new S(0,0),new S(0,0));if(!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(n,a.x,a.y):this.animateTooltipDiv(this.element,a),this.blazorTemplate){let i=()=>{let i=x(s.element.id).getBoundingClientRect();s.elementSize=new m(i.width,i.height);let o=s.tooltipLocation(e,t,new S(0,0),new S(0,0));s.updateDiv(x(s.element.id),o.x,o.y)},s=this;i.bind(s,e,t),Object(h.rb)(this.element.id+"parent_template_blazorTemplate",this.blazorTemplate.name,this.blazorTemplate.parent,void 0,i)}}}sharedTooltipLocation(e,t,i){let s=this.elementSize.height+2*this.marginY,o=new g(t+2*this.padding,i-s-this.padding,this.elementSize.width+2*this.marginX,s);return o.y<e.y&&(o.y+=o.height+2*this.padding),o.x+o.width>e.x+e.width&&(o.x-=o.width+4*this.padding),o}getCurrentPosition(e,t,i,s){let o=this.tooltipPlacement,n=this.clipBounds.x,r=this.clipBounds.y,a=this.offset,l=this.elementSize.width+2*this.marginX,h=this.elementSize.height+2*this.marginY,c=new S(t.x,t.y);return"Top"===o||"Bottom"===o?(c=new S(c.x+n-this.elementSize.width/2-this.padding,c.y+r-this.elementSize.height-2*this.padding-this.arrowPadding-a),i.x=s.x=l/2,"Bottom"===o&&(c.y=t.y+r+a),e.x+e.width<c.x+l?(c.x=e.width>l?e.x+e.width-l+6:e.x,i.x=s.x=e.width>l?e.x+t.x-c.x:t.x):e.x>c.x&&(c.x=e.x,i.x=s.x=t.x)):(c=new S(c.x+n+a,c.y+r-this.elementSize.height/2-this.padding),i.y=s.y=h/2,"Left"===o&&(c.x=t.x+n-a-(l+this.arrowPadding)),e.y+e.height<c.y+h?(c.y=e.height>h?e.y+e.height-h+6:e.y,i.y=s.y=e.height>h?e.y+t.y-c.y:t.y):e.y>c.y&&(c.y=e.y,i.y=s.y=t.y)),new g(c.x,c.y,l,h)}tooltipLocation(e,t,i,s){if(!Object(h.W)(this.tooltipPlacement))return this.getCurrentPosition(e,t,i,s);let o=new S(t.x,t.y),n=this.elementSize.width+2*this.marginX,r=this.elementSize.height+2*this.marginY,a=this.offset,l=this.clipBounds.x,c=this.clipBounds.y,d=e.x,u=e.y;return this.inverted?(o=new S(o.x+l+a,o.y+c-this.elementSize.height/2-this.padding),i.y=s.y=r/2,(o.x+n+this.arrowPadding>d+e.width||this.isNegative)&&(o.x=(t.x>e.width?e.width:t.x)+l-a-(n+this.arrowPadding)),o.x<d&&(o.x=(t.x<0?0:t.x)+l+a),o.y<=u&&(i.y-=u-o.y,s.y-=u-o.y,o.y=u),o.y+r>=u+e.height&&(i.y+=o.y+r-(u+e.height),s.y+=o.y+r-(u+e.height),o.y-=o.y+r-(u+e.height)),i.y+this.arrowPadding/2>r-this.ry&&(i.y=r-this.ry-this.arrowPadding/2,s.y=r,this.tipRadius=0),i.y-this.arrowPadding/2<this.ry&&(i.y=this.ry+this.arrowPadding/2,s.y=0,this.tipRadius=0)):(o=new S(o.x+l-this.elementSize.width/2-this.padding,o.y+c-this.elementSize.height-2*this.padding-this.arrowPadding-a),i.x=s.x=n/2,(o.y<u||this.isNegative)&&(o.y=(t.y<0?0:t.y)+c+a),o.y+r+this.arrowPadding>u+e.height&&(o.y=(t.y>e.height?e.height:t.y)+c-this.elementSize.height-2*this.padding-this.arrowPadding-a),s.x=n/2,o.x<d&&(i.x-=d-o.x,s.x-=d-o.x,o.x=d),o.x+n>d+e.width&&(i.x+=o.x+n-(d+e.width),s.x+=o.x+n-(d+e.width),o.x-=o.x+n-(d+e.width)),i.x+this.arrowPadding/2>n-this.rx&&(i.x=n-this.rx-this.arrowPadding/2,s.x=n,this.tipRadius=0),i.x-this.arrowPadding/2<this.rx&&(i.x=this.rx+this.arrowPadding/2,s.x=0,this.tipRadius=0)),new g(o.x,o.y,n,r)}animateTooltipDiv(e,t){let i,s=parseFloat(e.style.left),o=parseFloat(e.style.top);new h.b({}).animate(e,{duration:this.duration,progress:n=>{i=n.timeStamp/n.duration,e.style.animation=null,e.style.left=s+i*(t.x-s)+"px",e.style.top=o+i*(t.y-o)+"px"},end:i=>{this.updateDiv(e,t.x,t.y),this.trigger("animationComplete",{tooltip:this})}})}updateDiv(e,t,i){e.style.left=t+"px",e.style.top=i+"px"}updateTemplateFn(){if(this.template)try{document.querySelectorAll(this.template).length&&(this.templateFn=Object(h.E)(document.querySelector(this.template).innerHTML.trim()))}catch(e){this.templateFn=Object(h.E)(this.template)}}fadeOut(){let e=x(this.isCanvas&&!this.template?this.element.id+"_svg":this.element.id);if(e){let t,i=e.firstChild;this.isCanvas&&!this.template&&(i=document.getElementById(this.element.id+"_group")?document.getElementById(this.element.id+"_group"):i),i&&(t=parseFloat(i.getAttribute("opacity"))||1),new h.b({}).animate(i,{duration:200,progress:e=>{this.progressAnimation(i,t,e.timeStamp/e.duration)},end:e=>{this.fadeOuted=!0,this.endAnimation(i)}})}}progressAnimation(e,t,i){e.style.animation="",e.setAttribute("opacity",(t-i).toString())}endAnimation(e){e.setAttribute("opacity","0"),this.template&&!this.shared&&(e.style.display="none"),this.trigger("animationComplete",{tooltip:this})}getPersistData(){return this.addOnPersist([])}getModuleName(){return"tooltip"}destroy(){super.destroy(),this.element.classList.remove("e-tooltip")}onPropertyChanged(e,t){this.blazorTemplate&&Object(h.ib)(this.element.id+"parent_template_blazorTemplate"),this.isFirst=!1,this.render()}};return C([Object(h.s)(!1)],e.prototype,"enable",void 0),C([Object(h.s)(!1)],e.prototype,"shared",void 0),C([Object(h.s)(!0)],e.prototype,"enableShadow",void 0),C([Object(h.s)(null)],e.prototype,"fill",void 0),C([Object(h.s)("")],e.prototype,"header",void 0),C([Object(h.s)(.75)],e.prototype,"opacity",void 0),C([Object(h.g)({size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},M)],e.prototype,"textStyle",void 0),C([Object(h.s)(null)],e.prototype,"template",void 0),C([Object(h.s)(!0)],e.prototype,"enableAnimation",void 0),C([Object(h.s)(300)],e.prototype,"duration",void 0),C([Object(h.s)(!1)],e.prototype,"inverted",void 0),C([Object(h.s)(!1)],e.prototype,"isNegative",void 0),C([Object(h.g)({color:"#cccccc",width:.5},L)],e.prototype,"border",void 0),C([Object(h.s)([])],e.prototype,"content",void 0),C([Object(h.s)(10)],e.prototype,"markerSize",void 0),C([Object(h.g)({x:0,y:0},A)],e.prototype,"clipBounds",void 0),C([Object(h.s)([])],e.prototype,"palette",void 0),C([Object(h.s)([])],e.prototype,"shapes",void 0),C([Object(h.g)({x:0,y:0},A)],e.prototype,"location",void 0),C([Object(h.s)(0)],e.prototype,"offset",void 0),C([Object(h.s)(2)],e.prototype,"rx",void 0),C([Object(h.s)(2)],e.prototype,"ry",void 0),C([Object(h.s)(5)],e.prototype,"marginX",void 0),C([Object(h.s)(5)],e.prototype,"marginY",void 0),C([Object(h.s)(12)],e.prototype,"arrowPadding",void 0),C([Object(h.s)(null)],e.prototype,"data",void 0),C([Object(h.s)("Material")],e.prototype,"theme",void 0),C([Object(h.g)({x:0,y:0,width:0,height:0},O)],e.prototype,"areaBounds",void 0),C([Object(h.s)(null)],e.prototype,"availableSize",void 0),C([Object(h.s)()],e.prototype,"blazorTemplate",void 0),C([Object(h.s)(!1)],e.prototype,"isCanvas",void 0),C([Object(h.s)(!1)],e.prototype,"isTextWrap",void 0),C([Object(h.s)(null)],e.prototype,"tooltipPlacement",void 0),C([Object(h.k)()],e.prototype,"tooltipRender",void 0),C([Object(h.k)()],e.prototype,"loaded",void 0),C([Object(h.k)()],e.prototype,"animationComplete",void 0),e=C([h.q],e),e})();var k,T=i("H552"),R=i("eNK/"),j=i("5YkT"),I=i("gnsf"),z=i("n6zm"),E=i("TF3C");function D(e){let t;switch(e){case"Fabric":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":case"Bootstrap":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"Highcontrast":case"HighContrast":t=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"];break;case"FabricDark":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"BootstrapDark":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;default:t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return t}function B(e){let t,i="MaterialDark"===e?"#303030":"FabricDark"===e?"#201F1F":"1A1A1A";switch(e){case"HighContrastLight":case"Highcontrast":case"HighContrast":t={axisLabel:"#ffffff",axisTitle:"#ffffff",axisLine:"#ffffff",majorGridLine:"#BFBFBF",minorGridLine:"#969696",majorTickLine:"#BFBFBF",minorTickLine:"#969696",chartTitle:"#ffffff",legendLabel:"#ffffff",background:"#000000",areaBorder:"#ffffff",errorBar:"#ffffff",crosshairLine:"#ffffff",crosshairFill:"#ffffff",crosshairLabel:"#000000",tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",markerShadow:"#BFBFBF",selectionRectFill:"rgba(255, 217, 57, 0.3)",selectionRectStroke:"#ffffff",selectionCircleStroke:"#FFD939"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={axisLabel:"#DADADA",axisTitle:"#ffffff",axisLine:" #6F6C6C",majorGridLine:"#414040",minorGridLine:"#514F4F",majorTickLine:"#414040",minorTickLine:" #4A4848",chartTitle:"#ffffff",legendLabel:"#DADADA",background:i,areaBorder:" #9A9A9A",errorBar:"#ffffff",crosshairLine:"#F4F4F4",crosshairFill:"#F4F4F4",crosshairLabel:"#282727",tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A",markerShadow:null,selectionRectFill:"rgba(56,169,255, 0.1)",selectionRectStroke:"#38A9FF",selectionCircleStroke:"#282727"};break;case"Bootstrap4":t={axisLabel:"#212529",axisTitle:"#ffffff",axisLine:"#CED4DA",majorGridLine:"#CED4DA",minorGridLine:"#DEE2E6",majorTickLine:"#ADB5BD",minorTickLine:"#CED4DA",chartTitle:"#212529",legendLabel:"#212529",background:"#FFFFFF",areaBorder:"#DEE2E6",errorBar:"#000000",crosshairLine:"#6C757D",crosshairFill:"#495057",crosshairLabel:"#FFFFFF",tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255,255,255)",tooltipLightLabel:"rgba(255,255,255, 0.9)",tooltipHeaderLine:"rgba(255,255,255, 0.2)",markerShadow:null,selectionRectFill:"rgba(255,255,255, 0.1)",selectionRectStroke:"rgba(0, 123, 255)",selectionCircleStroke:"#495057"};break;default:t={axisLabel:"#686868",axisTitle:"#424242",axisLine:"#b5b5b5",majorGridLine:"#dbdbdb",minorGridLine:"#eaeaea",majorTickLine:"#b5b5b5",minorTickLine:"#d6d6d6",chartTitle:"#424242",legendLabel:"#353535",background:"#FFFFFF",areaBorder:"Gray",errorBar:"#000000",crosshairLine:"#4f4f4f",crosshairFill:"#4f4f4f",crosshairLabel:"#e5e5e5",tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff",markerShadow:null,selectionRectFill:"rgba(41, 171, 226, 0.1)",selectionRectStroke:"#29abe2",selectionCircleStroke:"#29abe2"}}return t}!function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.axisTitleFont={size:"14px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.chartTitleFont={size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.chartSubTitleFont={size:"11px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.crosshairLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.tooltipLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.stripLineLabelFont={size:"12px",fontWeight:"Regular",color:"#353535",fontStyle:"Normal",fontFamily:"Segoe UI"},e.stockEventFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(k||(k={}));var N=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let V=(()=>{class e extends h.e{}return N([Object(h.s)("Line")],e.prototype,"type",void 0),N([Object(h.s)(null)],e.prototype,"color",void 0),N([Object(h.s)(1)],e.prototype,"width",void 0),N([Object(h.s)(null)],e.prototype,"length",void 0),N([Object(h.s)("")],e.prototype,"dashArray",void 0),e})(),F=(()=>{class e extends h.e{}return N([Object(h.s)("Normal")],e.prototype,"fontStyle",void 0),N([Object(h.s)("16px")],e.prototype,"size",void 0),N([Object(h.s)("Normal")],e.prototype,"fontWeight",void 0),N([Object(h.s)("")],e.prototype,"color",void 0),N([Object(h.s)("Center")],e.prototype,"textAlignment",void 0),N([Object(h.s)("Segoe UI")],e.prototype,"fontFamily",void 0),N([Object(h.s)(1)],e.prototype,"opacity",void 0),N([Object(h.s)("Trim")],e.prototype,"textOverflow",void 0),e})(),H=(()=>{class e extends h.e{}return N([Object(h.s)("")],e.prototype,"color",void 0),N([Object(h.s)(1)],e.prototype,"width",void 0),e})(),W=(()=>{class e extends h.e{}return N([Object(h.s)(0)],e.prototype,"x",void 0),N([Object(h.s)(0)],e.prototype,"y",void 0),e})(),Z=(()=>{class e extends h.e{}return N([Object(h.g)({},H)],e.prototype,"border",void 0),N([Object(h.s)("transparent")],e.prototype,"background",void 0),N([Object(h.s)(1)],e.prototype,"opacity",void 0),N([Object(h.s)(null)],e.prototype,"backgroundImage",void 0),e})(),X=(()=>{class e extends h.e{}return N([Object(h.s)(10)],e.prototype,"left",void 0),N([Object(h.s)(10)],e.prototype,"right",void 0),N([Object(h.s)(10)],e.prototype,"top",void 0),N([Object(h.s)(10)],e.prototype,"bottom",void 0),e})(),G=(()=>{class e extends h.e{}return N([Object(h.s)(!0)],e.prototype,"enable",void 0),N([Object(h.s)(1e3)],e.prototype,"duration",void 0),N([Object(h.s)(0)],e.prototype,"delay",void 0),e})(),Y=(()=>{class e extends h.e{}return N([Object(h.s)(0)],e.prototype,"series",void 0),N([Object(h.s)(0)],e.prototype,"point",void 0),e})(),U=(()=>{class e extends h.e{}return N([Object(h.s)(0)],e.prototype,"topLeft",void 0),N([Object(h.s)(0)],e.prototype,"topRight",void 0),N([Object(h.s)(0)],e.prototype,"bottomLeft",void 0),N([Object(h.s)(0)],e.prototype,"bottomRight",void 0),e})();class Q{constructor(e,t){this.series=e,this.point=t}}let q=(()=>{class e extends h.e{}return N([Object(h.s)(null)],e.prototype,"fill",void 0),N([Object(h.g)({color:"transparent",width:0},H)],e.prototype,"border",void 0),N([Object(h.s)("Gap")],e.prototype,"mode",void 0),e})(),J=(()=>{class e extends h.e{}return N([Object(h.s)(!1)],e.prototype,"enable",void 0),N([Object(h.s)(null)],e.prototype,"minY",void 0),N([Object(h.s)(null)],e.prototype,"maxY",void 0),N([Object(h.s)(null)],e.prototype,"fill",void 0),e})(),K=(()=>{class e extends h.e{}return N([Object(h.s)(!1)],e.prototype,"enable",void 0),N([Object(h.s)(!0)],e.prototype,"enableMarker",void 0),N([Object(h.s)(!1)],e.prototype,"shared",void 0),N([Object(h.s)(null)],e.prototype,"fill",void 0),N([Object(h.s)(null)],e.prototype,"header",void 0),N([Object(h.s)(.75)],e.prototype,"opacity",void 0),N([Object(h.g)(k.tooltipLabelFont,F)],e.prototype,"textStyle",void 0),N([Object(h.s)(null)],e.prototype,"format",void 0),N([Object(h.s)(null)],e.prototype,"template",void 0),N([Object(h.s)(!0)],e.prototype,"enableAnimation",void 0),N([Object(h.s)(300)],e.prototype,"duration",void 0),N([Object(h.s)(1e3)],e.prototype,"fadeOutDuration",void 0),N([Object(h.s)(!1)],e.prototype,"enableTextWrap",void 0),N([Object(h.g)({color:"#cccccc",width:.5},H)],e.prototype,"border",void 0),e})(),$=(()=>{class e extends h.e{}return N([Object(h.s)("Years")],e.prototype,"intervalType",void 0),N([Object(h.s)(1)],e.prototype,"interval",void 0),N([Object(h.s)(null)],e.prototype,"text",void 0),N([Object(h.s)(!1)],e.prototype,"selected",void 0),e})(),ee=(()=>{class e extends h.e{}return N([Object(h.s)(43)],e.prototype,"height",void 0),N([Object(h.s)("Bottom")],e.prototype,"position",void 0),N([Object(h.f)([],$)],e.prototype,"periods",void 0),e})();class te{get start(){return this.mStart}get end(){return this.mEnd}get delta(){return this.mEnd-this.mStart}get median(){return this.mStart+(this.mEnd-this.mStart)/2}constructor(e,t){e<t?(this.mStart=e,this.mEnd=t):(this.mStart=t,this.mEnd=e)}}class ie{constructor(e){this.isColumn=0,this.chart=e}calculateNumericNiceInterval(e,t,i){let s=at(i,e),o=t/s;if(!Object(h.W)(e.desiredIntervals))return o;let n=Math.pow(10,Math.floor(Ae(o,10)));for(let r of e.intervalDivs){let e=n*r;if(s<t/e)break;o=e}return o}getActualRange(e,t){this.initializeDoubleRange(e),!e.startFromZero&&this.isColumn>0?(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.max=e.doubleRange.end+e.actualRange.interval,e.actualRange.min=e.doubleRange.start-e.actualRange.interval<0&&e.doubleRange.start>0?0:e.doubleRange.start-e.actualRange.interval):(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end)}initializeDoubleRange(e){null!==e.minimum?this.min=e.minimum:null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=0),null!==e.maximum?this.max=e.maximum:null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=5),this.min===this.max&&(this.max=e.valueType.indexOf("Category")>-1?this.max:this.min+1),e.doubleRange=new te(this.min,this.max),e.actualRange={}}calculateRangeAndInterval(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)}calculateRange(e,t){if(this.min=null,this.max=null,!rt(e))for(let i of e.series)i.visible&&(this.paddingInterval=0,e.maxPointLength=i.points.length,((i.type.indexOf("Column")>-1||i.type.indexOf("Histogram")>-1)&&"Horizontal"===e.orientation||i.type.indexOf("Bar")>-1&&"Vertical"===e.orientation)&&("Double"!==i.xAxis.valueType&&"DateTime"!==i.xAxis.valueType||"Auto"!==i.xAxis.rangePadding||(this.paddingInterval=.5*$e(i.xAxis,e.series))),"Horizontal"===e.orientation&&(this.chart.requireInvertedAxis?this.yAxisRange(e,i):this.findMinMax(i.xMin-this.paddingInterval,i.xMax+this.paddingInterval)),"Vertical"===e.orientation&&(this.isColumn+="Column"===i.type||"Bar"===i.type||"Column"===i.drawType?1:0,this.chart.requireInvertedAxis?this.findMinMax(i.xMin-this.paddingInterval,i.xMax+this.paddingInterval):this.yAxisRange(e,i)))}yAxisRange(e,t){t.dragSettings.enable&&this.chart.dragY&&(this.chart.dragY>=e.visibleRange.max&&(t.yMax=this.chart.dragY+e.visibleRange.interval),this.chart.dragY<=e.visibleRange.min&&(t.yMin=this.chart.dragY-e.visibleRange.interval)),this.findMinMax(t.yMin,t.yMax)}findMinMax(e,t){(null===this.min||this.min>e)&&(this.min=e),(null===this.max||this.max<t)&&(this.max=t)}applyRangePadding(e,t){let i=e.actualRange.min,s=e.actualRange.max;if(!rt(e)){let o=e.actualRange.interval,n=e.getRangePadding(this.chart);"Additional"===n||"Round"===n?this.findAdditional(e,i,s,o):"Normal"===n?this.findNormal(e,i,s,o,t):this.updateActualRange(e,i,s,o)}e.actualRange.delta=e.actualRange.max-e.actualRange.min,this.calculateVisibleRange(t,e)}updateActualRange(e,t,i,s){e.actualRange={min:null!=e.minimum?e.minimum:t,max:null!=e.maximum?e.maximum:i,interval:null!=e.interval?e.interval:s,delta:e.actualRange.delta}}findAdditional(e,t,i,s){let o,n;o=Math.floor(t/s)*s,n=Math.ceil(i/s)*s,"Additional"===e.rangePadding&&(o-=s,n+=s),this.updateActualRange(e,o,n,s)}findNormal(e,t,i,s,o){let n,r,a,l=t;t<0?(l=0,r=t+.05*t,n=s+r%s,.365*s>=n&&(r-=s),r%s<0&&(r=r-s-r%s)):(r=t<5/6*i?0:t-.5*(i-t),r%s>0&&(r-=r%s)),a=i>0?i+.05*(i-l):i-.05*(i-l),n=s-a%s,.365*s>=n&&(a+=s),a%s>0&&(a=a+s-a%s),e.doubleRange=new te(r,a),0===r&&(s=this.calculateNumericNiceInterval(e,e.doubleRange.delta,o),a=Math.ceil(a/s)*s),this.updateActualRange(e,r,a,s)}calculateVisibleRange(e,t){t.visibleRange={max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta,interval:t.actualRange.interval};let i=!Object(h.W)(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRange(e),t.visibleRange.interval=t.enableAutoIntervalOnZooming&&"Category"!==t.valueType?this.calculateNumericNiceInterval(t,t.doubleRange.delta,e):t.visibleRange.interval),t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)}calculateVisibleLabels(e,t){e.visibleLabels=[];let i,s=e.visibleRange.min;(e.zoomFactor<1||e.zoomPosition>0||this.paddingInterval)&&(s=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval);let o=this.getFormat(e),n=null!==o.match("{value}"),r=0,a=0;for(e.labelFormat&&e.labelFormat.indexOf("n")>-1&&(a=parseInt(e.labelFormat.substring(1,e.labelFormat.length),10)),e.format=t.intl.getNumberFormat({format:n?"":o,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(e.visibleRange.min),e.endLabel=e.format(e.visibleRange.max),e.visibleRange.interval&&(e.visibleRange.interval+"").indexOf(".")>=0&&(r=(e.visibleRange.interval+"").split(".")[1].length),i=Object(h.J)({},Object(h.U)("properties",e.labelStyle),null,!0);s<=e.visibleRange.max;s+=e.visibleRange.interval)Te(s,e.visibleRange)&&nt(t,s,this.formatValue(e,n,o,s),i,e);s&&(s+"").indexOf(".")>=0&&(s+"").split(".")[1].length>10&&(s=(s+"").split(".")[1].length>(a||r)?+s.toFixed(a||r):s,s<=e.visibleRange.max&&nt(t,s,this.formatValue(e,n,o,s),i,e)),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}getFormat(e){return e.labelFormat?0===e.labelFormat.indexOf("p")&&-1===e.labelFormat.indexOf("{value}")&&e.isStack100?"{value}%":e.labelFormat:e.isStack100?"{value}%":""}formatValue(e,t,i,s){return t?i.replace("{value}",e.format(s)):e.format(s)}}const se=/~\d+~/g,oe=/\^\d+\^/g;var ne=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let re=(()=>{class e extends h.e{}return ne([Object(h.s)("0")],e.prototype,"x",void 0),ne([Object(h.s)("0")],e.prototype,"y",void 0),ne([Object(h.s)(null)],e.prototype,"content",void 0),ne([Object(h.s)("Center")],e.prototype,"horizontalAlignment",void 0),ne([Object(h.s)("Pixel")],e.prototype,"coordinateUnits",void 0),ne([Object(h.s)("Chart")],e.prototype,"region",void 0),ne([Object(h.s)("Middle")],e.prototype,"verticalAlignment",void 0),ne([Object(h.s)(null)],e.prototype,"xAxisName",void 0),ne([Object(h.s)(null)],e.prototype,"yAxisName",void 0),ne([Object(h.s)(null)],e.prototype,"description",void 0),e})(),ae=(()=>{class e extends h.e{}return ne([Object(h.s)("")],e.prototype,"color",void 0),ne([Object(h.s)(1)],e.prototype,"width",void 0),ne([Object(h.s)("Rectangle")],e.prototype,"type",void 0),e})(),le=(()=>{class e extends h.e{}return ne([Object(h.s)(null)],e.prototype,"start",void 0),ne([Object(h.s)(null)],e.prototype,"end",void 0),ne([Object(h.s)("")],e.prototype,"text",void 0),ne([Object(h.s)(null)],e.prototype,"maximumTextWidth",void 0),ne([Object(h.s)(null)],e.prototype,"customAttributes",void 0),ne([Object(h.s)("")],e.prototype,"type",void 0),e})(),he=(()=>{class e extends h.e{}return ne([Object(h.s)(!0)],e.prototype,"visible",void 0),ne([Object(h.s)(!1)],e.prototype,"startFromAxis",void 0),ne([Object(h.s)(null)],e.prototype,"start",void 0),ne([Object(h.s)(null)],e.prototype,"end",void 0),ne([Object(h.s)(null)],e.prototype,"size",void 0),ne([Object(h.s)("#808080")],e.prototype,"color",void 0),ne([Object(h.s)(null)],e.prototype,"dashArray",void 0),ne([Object(h.s)("Auto")],e.prototype,"sizeType",void 0),ne([Object(h.s)(!1)],e.prototype,"isRepeat",void 0),ne([Object(h.s)(null)],e.prototype,"repeatEvery",void 0),ne([Object(h.s)(null)],e.prototype,"repeatUntil",void 0),ne([Object(h.s)(!1)],e.prototype,"isSegmented",void 0),ne([Object(h.s)(null)],e.prototype,"segmentStart",void 0),ne([Object(h.s)(null)],e.prototype,"segmentEnd",void 0),ne([Object(h.s)(null)],e.prototype,"segmentAxisName",void 0),ne([Object(h.g)({color:"transparent",width:1},H)],e.prototype,"border",void 0),ne([Object(h.s)("")],e.prototype,"text",void 0),ne([Object(h.s)(null)],e.prototype,"rotation",void 0),ne([Object(h.s)("Middle")],e.prototype,"horizontalAlignment",void 0),ne([Object(h.s)("Middle")],e.prototype,"verticalAlignment",void 0),ne([Object(h.g)(k.stripLineLabelFont,F)],e.prototype,"textStyle",void 0),ne([Object(h.s)("Behind")],e.prototype,"zIndex",void 0),ne([Object(h.s)(1)],e.prototype,"opacity",void 0),e})(),ce=(()=>{class e extends h.e{}return ne([Object(h.s)("Center")],e.prototype,"alignment",void 0),ne([Object(h.s)("Wrap")],e.prototype,"overflow",void 0),ne([Object(h.g)(k.axisLabelFont,F)],e.prototype,"textStyle",void 0),ne([Object(h.g)({color:null,width:1,type:"Rectangle"},ae)],e.prototype,"border",void 0),ne([Object(h.f)([],le)],e.prototype,"categories",void 0),e})(),de=(()=>{class e extends h.e{}return ne([Object(h.s)(null)],e.prototype,"minimum",void 0),ne([Object(h.s)(null)],e.prototype,"maximum",void 0),e})(),ue=(()=>{class e extends h.e{}return ne([Object(h.s)(!1)],e.prototype,"enable",void 0),ne([Object(h.s)(null)],e.prototype,"pointsLength",void 0),ne([Object(h.g)({},de)],e.prototype,"range",void 0),e})();var pe=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let me=(()=>{class e extends h.e{constructor(){super(...arguments),this.axes=[],this.nearSizes=[],this.farSizes=[]}computeSize(e,t,i){let s=0;e.visible&&e.internalVisibility&&(s+=e.findTickSize(e.crossInAxis)+i+e.findLabelSize(e.crossInAxis,5)+.5*e.lineStyle.width),e.opposedPosition?this.farSizes.push(s):this.nearSizes.push(s)}}return pe([Object(h.s)("100%")],e.prototype,"height",void 0),pe([Object(h.g)({},H)],e.prototype,"border",void 0),e})(),ge=(()=>{class e extends h.e{constructor(){super(...arguments),this.axes=[],this.nearSizes=[],this.farSizes=[],this.padding=0}computeSize(e,t,i){let s=0;e.visible&&e.internalVisibility&&(s+=e.findTickSize(e.crossInAxis)+i+e.findLabelSize(e.crossInAxis,5)+.5*e.lineStyle.width),e.opposedPosition?this.farSizes.push(s):this.nearSizes.push(s)}}return pe([Object(h.s)("100%")],e.prototype,"width",void 0),pe([Object(h.g)({},H)],e.prototype,"border",void 0),e})(),be=(()=>{class e extends h.e{}return pe([Object(h.s)(1)],e.prototype,"width",void 0),pe([Object(h.s)("")],e.prototype,"dashArray",void 0),pe([Object(h.s)(null)],e.prototype,"color",void 0),e})(),ye=(()=>{class e extends h.e{}return pe([Object(h.s)(.7)],e.prototype,"width",void 0),pe([Object(h.s)("")],e.prototype,"dashArray",void 0),pe([Object(h.s)(null)],e.prototype,"color",void 0),e})(),fe=(()=>{class e extends h.e{}return pe([Object(h.s)(1)],e.prototype,"width",void 0),pe([Object(h.s)("")],e.prototype,"dashArray",void 0),pe([Object(h.s)(null)],e.prototype,"color",void 0),e})(),xe=(()=>{class e extends h.e{}return pe([Object(h.s)(1)],e.prototype,"width",void 0),pe([Object(h.s)(5)],e.prototype,"height",void 0),pe([Object(h.s)(null)],e.prototype,"color",void 0),e})(),ve=(()=>{class e extends h.e{}return pe([Object(h.s)(.7)],e.prototype,"width",void 0),pe([Object(h.s)(5)],e.prototype,"height",void 0),pe([Object(h.s)(null)],e.prototype,"color",void 0),e})(),we=(()=>{class e extends h.e{}return pe([Object(h.s)(!1)],e.prototype,"enable",void 0),pe([Object(h.s)(null)],e.prototype,"fill",void 0),pe([Object(h.g)(k.crosshairLabelFont,F)],e.prototype,"textStyle",void 0),e})(),_e=(()=>{class e extends h.e{constructor(e,t,i,s){super(e,t,i,s),this.visibleLabels=[],this.series=[],this.rect=new g(void 0,void 0,0,0),this.axisBottomLine=null,this.intervalDivs=[10,5,2,1],this.angle=this.labelRotation,this.isStack100=!1,this.crossAt=null,this.updatedRect=null,this.multiLevelLabelHeight=0,this.isChart=!0,this.internalVisibility=!0}findTickSize(e){return"Inside"===this.tickPosition?0:!e||e.visibleRange&&!this.isInside(e.visibleRange)?this.majorTickLines.height:0}isInside(e){return ke(this.crossAt,e)||!this.opposedPosition&&this.crossAt>=e.max||this.opposedPosition&&this.crossAt<=e.min}findLabelSize(e,t){let i,s,o=0;if(this.title&&(o=u(this.title,this.titleStyle).height+t),"Inside"===this.labelPosition)return o+t;let n=o+t+10+("Vertical"===this.orientation?this.maxLabelSize.width:this.maxLabelSize.height)+this.multiLevelLabelHeight;if(e&&this.placeNextToAxisLine){let t=e.visibleRange,o="Horizontal"===e.orientation?e.rect.width:e.rect.height;if(!t||!o)return 0;this.isInside(t)&&(s=this.findDifference(e),i=s*(o/t.delta),i=s*((o-(i<n?n-i:0))/t.delta),n=i<n?n-i:0)}return n}updateCrossValue(e){let t=this.crossAt;if(null===t||!this.isInside(this.crossInAxis.visibleRange))return this.updatedRect=this.rect,null;let i=this.crossInAxis.visibleRange;this.opposedPosition?this.crossAt<i.min&&(t=i.min):this.crossAt>i.max&&(t=i.max),this.updatedRect=Object(h.J)({},this.rect,null,!0),"Horizontal"===this.orientation?(t=this.crossInAxis.rect.height-He(t,this.crossInAxis)*this.crossInAxis.rect.height,this.updatedRect.y=this.crossInAxis.rect.y+t):(t=He(t,this.crossInAxis)*this.crossInAxis.rect.width,this.updatedRect.x=this.crossInAxis.rect.x+t)}findDifference(e){let t=0;return t=this.opposedPosition?e.isInversed?e.visibleRange.min:e.visibleRange.max:e.isInversed?e.visibleRange.max:e.visibleRange.min,Math.abs(this.crossAt-t)}calculateVisibleRange(e){if(this.zoomFactor<1||this.zoomPosition>0){let e,t,i=this.actualRange;this.isInversed?(e=this.actualRange.max-this.zoomPosition*this.actualRange.delta,t=e-this.zoomFactor*this.actualRange.delta):(e=this.actualRange.min+this.zoomPosition*this.actualRange.delta,t=e+this.zoomFactor*this.actualRange.delta),e<i.min&&(t+=i.min-e,e=i.min),t>i.max&&(e-=t-i.max,t=i.max),this.doubleRange=new te(e,t),this.visibleRange={min:this.doubleRange.start,max:this.doubleRange.end,delta:this.doubleRange.delta,interval:this.visibleRange.interval}}}triggerRangeRender(e,t,i,s){let o;o={cancel:!1,name:"axisRangeCalculated",axis:this,minimum:t,maximum:i,interval:s},e.trigger("axisRangeCalculated",o),o.cancel||(this.visibleRange={min:o.minimum,max:o.maximum,interval:o.interval,delta:o.maximum-o.minimum})}getRangePadding(e){let t=this.rangePadding;if("Auto"!==t)return t;switch(this.orientation){case"Horizontal":t=e.requireInvertedAxis?this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal":"None";break;case"Vertical":t=e.requireInvertedAxis?"None":this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal"}return t}getMaxLabelWidth(e){let t,i,s=0,o=!1;this.angle=this.labelRotation,this.maxLabelSize=new m(0,0);let n,r=this.labelIntersectAction;for(let a=0,l=this.visibleLabels.length;a<l;a++){n=this.visibleLabels[a],i=Ce(n.originalText),i?(n.size=u(n.originalText.replace(/<br>/g," "),this.labelStyle),n.breakLabelSize=u(this.enableTrim?n.text.join("<br>"):n.originalText,this.labelStyle)):n.size=u(n.text,this.labelStyle);let e=i?n.breakLabelSize.width:n.size.width;e>this.maxLabelSize.width&&(this.maxLabelSize.width=e,this.rotatedLabel=n.text);let l=i?n.breakLabelSize.height:n.size.height;if(l>this.maxLabelSize.height&&(this.maxLabelSize.height=l),i&&(n.text=this.enableTrim?n.text:n.originalText.split("<br>")),"None"!==r&&"Hide"!==r&&"Trim"!==r&&("None"!==r||this.angle%360==0)&&"Horizontal"===this.orientation&&this.rect.width>0&&!o){let e=i?n.breakLabelSize.width:n.size.width,l=i?n.breakLabelSize.height:n.size.height;switch(t=He(n.value,this)*this.rect.width+this.rect.x,t-=e/2,"Shift"===this.edgeLabelPlacement&&(0===a&&t<this.rect.x&&(t=this.rect.x),a===this.visibleLabels.length-1&&t+e>this.rect.x+this.rect.width&&(t=this.rect.x+this.rect.width-e)),r){case"MultipleRows":a>0&&this.findMultiRows(a,t,n,i);break;case"Rotate45":case"Rotate90":a>0&&(this.isInversed?t+e>=s:t<=s)&&(this.angle="Rotate45"===r?45:90,o=!0);break;default:if(i){let e,t,i=[];for(let s=0;s<n.text.length;s++)if(e=Nt(n.text[s],this.rect.width/this.visibleLabels.length,this.labelStyle),e.length>1)for(let o=0;o<e.length;o++)t=e[o],i.push(t);else i.push(e[0]);n.text=i}else n.text=Nt(n.text,this.rect.width/this.visibleLabels.length,this.labelStyle);let h=l*n.text.length;h>this.maxLabelSize.height&&(this.maxLabelSize.height=h)}s=this.isInversed?t:t+e}}0!==this.angle&&"Horizontal"===this.orientation&&(this.rotatedLabel=Object(h.W)(this.rotatedLabel)?"":this.rotatedLabel,this.maxLabelSize=Ce(this.rotatedLabel)?u(this.rotatedLabel,this.labelStyle):Le(this.labelStyle,this.rotatedLabel,this.angle,e)),e.multiLevelLabelModule&&this.multiLevelLabels.length>0&&e.multiLevelLabelModule.getMultilevelLabelsHeight(this)}findMultiRows(e,t,i,s){let o,n,r,a,l=[];for(let c=e-1;c>=0;c--)o=this.visibleLabels[c],r=s?o.breakLabelSize.width:o.size.width,n=He(o.value,this)*this.rect.width+this.rect.x,a=this.isInversed?t+i.size.width>n-.5*r:t<n+.5*r,a?(l.push(o.index),i.index=i.index>o.index?i.index:o.index+1):i.index=l.indexOf(o.index)>-1?i.index:o.index;let h=(s?i.breakLabelSize.height:i.size.height)*i.index+5*(i.index-1);h>this.maxLabelSize.height&&(this.maxLabelSize.height=h)}getModule(e){this.baseModule="Double"===this.valueType?new ie(e):e[Ke(this.valueType)+"Module"]}}return pe([Object(h.g)(k.axisLabelFont,F)],e.prototype,"labelStyle",void 0),pe([Object(h.g)({},we)],e.prototype,"crosshairTooltip",void 0),pe([Object(h.s)("")],e.prototype,"title",void 0),pe([Object(h.g)(k.axisTitleFont,F)],e.prototype,"titleStyle",void 0),pe([Object(h.s)("")],e.prototype,"labelFormat",void 0),pe([Object(h.s)("")],e.prototype,"skeleton",void 0),pe([Object(h.s)("DateTime")],e.prototype,"skeletonType",void 0),pe([Object(h.s)(0)],e.prototype,"plotOffset",void 0),pe([Object(h.s)(null)],e.prototype,"plotOffsetLeft",void 0),pe([Object(h.s)(null)],e.prototype,"plotOffsetTop",void 0),pe([Object(h.s)(null)],e.prototype,"plotOffsetRight",void 0),pe([Object(h.s)(null)],e.prototype,"plotOffsetBottom",void 0),pe([Object(h.s)(!1)],e.prototype,"isIndexed",void 0),pe([Object(h.s)(10)],e.prototype,"logBase",void 0),pe([Object(h.s)(0)],e.prototype,"columnIndex",void 0),pe([Object(h.s)(0)],e.prototype,"rowIndex",void 0),pe([Object(h.s)(1)],e.prototype,"span",void 0),pe([Object(h.s)(null)],e.prototype,"desiredIntervals",void 0),pe([Object(h.s)(3)],e.prototype,"maximumLabels",void 0),pe([Object(h.s)(1)],e.prototype,"zoomFactor",void 0),pe([Object(h.s)(0)],e.prototype,"zoomPosition",void 0),pe([Object(h.s)(!1)],e.prototype,"opposedPosition",void 0),pe([Object(h.s)(!0)],e.prototype,"enableAutoIntervalOnZooming",void 0),pe([Object(h.s)("Auto")],e.prototype,"rangePadding",void 0),pe([Object(h.s)("Double")],e.prototype,"valueType",void 0),pe([Object(h.s)("None")],e.prototype,"edgeLabelPlacement",void 0),pe([Object(h.s)("Auto")],e.prototype,"intervalType",void 0),pe([Object(h.s)("BetweenTicks")],e.prototype,"labelPlacement",void 0),pe([Object(h.s)("Outside")],e.prototype,"tickPosition",void 0),pe([Object(h.s)("Outside")],e.prototype,"labelPosition",void 0),pe([Object(h.s)("")],e.prototype,"name",void 0),pe([Object(h.s)(!0)],e.prototype,"visible",void 0),pe([Object(h.s)(0)],e.prototype,"minorTicksPerInterval",void 0),pe([Object(h.s)(0)],e.prototype,"labelRotation",void 0),pe([Object(h.s)(null)],e.prototype,"crossesAt",void 0),pe([Object(h.s)(!0)],e.prototype,"placeNextToAxisLine",void 0),pe([Object(h.s)(null)],e.prototype,"crossesInAxis",void 0),pe([Object(h.s)(null)],e.prototype,"minimum",void 0),pe([Object(h.s)(null)],e.prototype,"maximum",void 0),pe([Object(h.s)(null)],e.prototype,"interval",void 0),pe([Object(h.s)(34)],e.prototype,"maximumLabelWidth",void 0),pe([Object(h.s)(!1)],e.prototype,"enableTrim",void 0),pe([Object(h.g)({},xe)],e.prototype,"majorTickLines",void 0),pe([Object(h.g)({},ve)],e.prototype,"minorTickLines",void 0),pe([Object(h.g)({},be)],e.prototype,"majorGridLines",void 0),pe([Object(h.g)({},ye)],e.prototype,"minorGridLines",void 0),pe([Object(h.g)({},fe)],e.prototype,"lineStyle",void 0),pe([Object(h.s)("Trim")],e.prototype,"labelIntersectAction",void 0),pe([Object(h.s)(!1)],e.prototype,"isInversed",void 0),pe([Object(h.s)(100)],e.prototype,"coefficient",void 0),pe([Object(h.s)(0)],e.prototype,"startAngle",void 0),pe([Object(h.s)(!0)],e.prototype,"startFromZero",void 0),pe([Object(h.s)(null)],e.prototype,"description",void 0),pe([Object(h.s)(2)],e.prototype,"tabIndex",void 0),pe([Object(h.f)([],he)],e.prototype,"stripLines",void 0),pe([Object(h.f)([],ce)],e.prototype,"multiLevelLabels",void 0),pe([Object(h.g)({color:null,width:0,type:"Rectangle"},ae)],e.prototype,"border",void 0),pe([Object(h.g)({},ue)],e.prototype,"scrollbarSettings",void 0),e})();class Se{constructor(e,t,i,s,o=new m(0,0),n=new m(0,0),r=1){this.text=e,this.originalText=s,this.value=t,this.labelStyle=i,this.size=o,this.breakLabelSize=n,this.index=1}}function Ce(e){return-1!==e.indexOf("<br>")}function Me(e){let t,i=Object(h.J)([],e.points,null,!0),s=[],o=0;for(let n=0;n<i.length;n++)t=i[n],Object(h.W)(t.x)||""===t.x||(t.index=o++,s.push(t));return s}function Le(e,t,i,s){let o,n,r,a=new c(s.element.id);return n={"font-size":e.size,"font-style":e.fontStyle,"font-family":e.fontFamily,"font-weight":e.fontWeight,transform:"rotate("+i+", 0, 0)","text-anchor":"middle"},r=a.createText(n,t),s.delayRedraw||s.redraw||s.element.appendChild(s.svgObject),s.svgObject.appendChild(r),o=r.getBoundingClientRect(),Object(h.gb)(r),s.delayRedraw||s.redraw||Object(h.gb)(s.svgObject),new m(o.right-o.left,o.bottom-o.top)}function Oe(e){if(!e)return null;let t="string"==typeof e?dt(e):e;t&&Object(h.gb)(t)}function Ae(e,t){return Math.log(e)/Math.log(t)}function Pe(e,t,i,s,o,n,r){let a=document.getElementById(o),l=u(e,{fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"Regular"}).width+5;t=t+l>s?t-(l+15):t,a?(a.innerHTML=e,a.style.top=(i+15).toString()+"px",a.style.left=(t+15).toString()+"px"):(a=Object(h.F)("div",{innerHTML:e,id:o,styles:"top:"+(i+15).toString()+"px;left:"+(t+15).toString()+'px;background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: "Segoe UI"'}),n.appendChild(a),parseInt(a.style.left.replace("px",""),10)<0&&(a.style.left="0px")),r&&setTimeout(()=>{Oe(o)},1500)}function ke(e,t){return e<t.max&&e>t.min}function Te(e,t){return e<=t.max&&e>=t.min}function Re(e,t){return"Logarithmic"===t.valueType?Ae(e,t.logBase):e}function je(e,t,i,s){let o=Re(t.xValue,s.xAxis),n=e?Re(e.xValue,s.xAxis):o,r=i?Re(i.xValue,s.xAxis):o,a=Math.floor(s.xAxis.visibleRange.min),l=Math.ceil(s.xAxis.visibleRange.max);return n>=a&&n<=l||o>=a&&o<=l||r>=a&&r<=l||a>=n&&a<=r}function Ie(e){let t=0;for(let i of e)t+=i;return t}function ze(e,t,i,s,o){let n=0;if(null!==s)for(let r=t+1;r<i;r++)-1===s.indexOf(r)&&(n+=e[r][o.yName]);else for(let r=t+1;r<i;r++)Object(h.W)(e[r][o.yName])||(n+=e[r][o.yName]);return n}function Ee(e,t){return e.x+=t.left,e.y+=t.top,e.width-=t.left+t.right,e.height-=t.top+t.bottom,e}function De(e,t,i){let s=e*Math.PI/180;return new Yt(Math.cos(s)*t+i.x,Math.sin(s)*t+i.y)}function Be(e){return e*(Math.PI/180)}function Ne(e,t,i,s){let o=[];for(let n=0;n<4;n++){let r=e[n],a=r.x-t,l=r.y-i,h=a*Math.cos(Be(s))-l*Math.sin(Be(s)),c=a*Math.sin(Be(s))+l*Math.cos(Be(s));r.x=h+t,r.y=c+i,o.push(new Yt(r.x,r.y))}return o}function Ve(e,t){let i,s,o,n,r,a,l,c,d=[e,t];for(n=0;n<d.length;n++){let u=d[n];for(r=0;r<u.length;r++){let n=u[r],d=u[(r+1)%u.length],p=new Yt(d.y-n.y,n.x-d.x);for(i=s=void 0,a=0;a<e.length;a++)o=p.x*e[a].x+p.y*e[a].y,(Object(h.W)(i)||o<i)&&(i=o),(Object(h.W)(s)||o>s)&&(s=o);for(l=c=void 0,a=0;a<t.length;a++)o=p.x*t[a].x+p.y*t[a].y,(Object(h.W)(l)||o<l)&&(l=o),(Object(h.W)(c)||o>c)&&(c=o);if(s<l||c<i)return!1}}return!0}function Fe(e,t){let i=[];for(let s=0;s<=t-1;s++)i.push(e[s]);return i}function He(e,t){let i=t.visibleRange,s=(e-i.min)/i.delta;return t.isInversed?1-s:s}function We(e,t,i,s,o,n){e="Logarithmic"===i.valueType?Ae(e>1?e:1,i.logBase):e,t="Logarithmic"===s.valueType?Ae(t>1?t:1,s.logBase):t,e+="Category"===i.valueType&&"BetweenTicks"===i.labelPlacement&&"Radar"!==n.type?.5:0;let r=n.chart.radius*He(t,s),a=Ze(Xe(e,i),n.chart.primaryXAxis.startAngle);return{x:n.clipRect.width/2+n.clipRect.x+r*a.x,y:n.clipRect.height/2+n.clipRect.y+r*a.y}}function Ze(e,t){t=t<0?t+360:t;let i=Math.PI*(1.5-2*e);return i+=t*Math.PI/180,{x:Math.cos(i),y:Math.sin(i)}}function Xe(e,t){let i,s,o=t.visibleRange;return"Category"!==t.valueType?(i=o.max-("DateTime"===t.valueType?t.dateTimeInterval:o.interval)-o.min,s=t.visibleLabels.length-1,i=0===i?1:i):(i=1===t.visibleLabels.length?1:t.visibleLabels[t.visibleLabels.length-1].value-t.visibleLabels[0].value,s=t.visibleLabels.length),t.isInversed?(e-o.min)/i*(1-1/s):1-(e-o.min)/i*(1-1/s)}class Ge{constructor(e,t,i,s,o,n){this.verticalStandardMean=e,this.horizontalStandardMean=i,this.verticalSquareRoot=t,this.horizontalSquareRoot=s,this.verticalMean=o,this.horizontalMean=n}}class Ye{constructor(e,t,i,s,o){this.startAngle=e,this.endAngle=t,this.innerRadius=i,this.radius=s,this.currentXPosition=o}}function Ue(e,t,i,s=0,o=0){return e>=i.x-s&&e<=i.x+i.width+s&&t>=i.y-o&&t<=i.y+i.height+o}function Qe(e,t,i){return(i.isInversed?1-e/t:e/t)*i.visibleRange.delta+i.visibleRange.min}function qe(e,t,i){return(i.isInversed?e/t:1-e/t)*i.visibleRange.delta+i.visibleRange.min}function Je(e){let t=e.clipRect;e.chart.requireInvertedAxis?(t.x=e.yAxis.rect.x,t.y=e.xAxis.rect.y,t.width=e.yAxis.rect.width,t.height=e.xAxis.rect.height):(t.x=e.xAxis.rect.x,t.y=e.yAxis.rect.y,t.width=e.xAxis.rect.width,t.height=e.yAxis.rect.height)}function Ke(e){return e.substr(0,1).toLowerCase()+e.substr(1)}function $e(e,t){let i,s,o,n=Number.MAX_VALUE;for(let r=0;r<t.length;r++){let a=t[r];if(i=[],a.visible&&(e.name===a.xAxisName||"primaryXAxis"===e.name&&null===a.xAxisName||e.name===a.chart.primaryXAxis.name&&!a.xAxisName))if(i=a.points.map((e,t)=>e.xValue),i.sort((e,t)=>e-t),1===i.length)o="DateTime"===e.valueType&&a.xMin===a.xMax?a.xMin-2592e6:a.xMin,s=i[0]-(Object(h.W)(o)?e.visibleRange.min:o),0!==s&&(n=Math.min(n,s));else for(let e=0;e<i.length;e++){let t=i[e];e>0&&t&&(s=t-i[e-1],0!==s&&(n=Math.min(n,s)))}}return n===Number.MAX_VALUE&&(n=1),n}function et(e){let t;switch(e){case"Linear":t=tt}return t}function tt(e,t,i,s){return-i*Math.cos(e/s*(Math.PI/2))+i+t}function it(e,t,i,s,o,n,r){let a=n.x,l=n.y,c=0;e.style.visibility="hidden",new h.b({}).animate(e,{duration:i,delay:t,progress:t=>{t.timeStamp>t.delay&&(t.element.style.visibility="visible",c=(t.timeStamp-t.delay)/t.duration,e.setAttribute("transform","translate("+a+" "+l+") scale("+c+") translate("+-a+" "+-l+")"))},end:t=>{e.style.visibility="","Scatter"!==s.type&&"Bubble"!==s.type||r||o!==s.points.length-1||s.chart.trigger("animationComplete",{series:s.chart.isBlazor?{}:s})}})}function st(e,t,i,s,o){if(!i||!s&&!e)return null;let n=300;o&&(n=o);let r,a,l,c=s||e.getAttribute("d"),d=c.split(/(?=[LMCZAQ])/),u=t.split(/(?=[LMCZAQ])/),p=[],m=[];e.setAttribute("d",c),new h.b({}).animate(Object(h.F)("div"),{duration:n,progress:t=>{r="",d.map((e,i)=>{if(p=e.split(" "),m=u[i]?u[i].split(" "):p,r+="Z"===p[0]?"Z ":p[0]+" "+tt(t.timeStamp,+p[1],+m[1]-+p[1],t.duration)+" "+tt(t.timeStamp,+p[2],+m[2]-+p[2],t.duration)+" ","C"===p[0]||"Q"===p[0])for(a=3,l="Q"===p[0]?4:6;a<l;)r+=tt(t.timeStamp,+p[a],+m[a]-+p[a],t.duration)+" "+tt(t.timeStamp,+p[++a],+m[a]-+p[a],t.duration)+" ",++a;"A"===p[0]&&(r+="0 0 1 "+tt(t.timeStamp,+p[6],+m[6]-+p[6],t.duration)+" "+tt(t.timeStamp,+p[7],+m[7]-+p[7],t.duration)+" ")}),e.setAttribute("d",r)},end:()=>{e.setAttribute("d",t)}})}function ot(e,t,i,s="drawClipPath"){let o=Rt(e,t.id,t,i);if(o){let e=i.createDefs();return e.appendChild(o),e}return i[s](t)}function nt(e,t,i,s,o){let n;if(n={cancel:!1,name:"axisLabelRender",axis:o,text:i,value:t,labelStyle:s},e.trigger("axisLabelRender",n),!n.cancel){let e=-1!==n.text.indexOf("<br>"),t=o.enableTrim?e?function(e,t,i){let s=[],o=t.split("<br>");for(let n=0;n<o.length;n++){let r=u(t=o[n],i).width;if(r>e){for(let o=t.length-1;o>=0;--o)if(r=u(t=t.substring(0,o)+"...",i).width,r<=e){s.push(t);break}}else s.push(t)}return s}(o.maximumLabelWidth,n.text,o.labelStyle):kt(o.maximumLabelWidth,n.text,o.labelStyle):n.text;o.visibleLabels.push(new Se(t,n.value,n.labelStyle,n.text))}}function rt(e){return null!=e.minimum&&null!=e.maximum}function at(e,t){let i="Horizontal"===t.orientation?e.width:e.height;if(Object(h.W)(t.desiredIntervals)){let e=("Horizontal"===t.orientation?.533:1)*t.maximumLabels;return e=Math.max(i*(e/100),1),e}return t.desiredIntervals}function lt(e,t,i,s,o){new h.b({}).animate(e,{duration:i,delay:t,name:s,progress:e=>{e.element.style.visibility="visible"},end:e=>{o?Object(h.gb)(e.element):e.element.style.visibility="visible"}})}function ht(e,t,i,s,o,n,r,a,l,d){let u=r||new c(""),p=function(e,t,i,s,o,n,r){let a,l="Path",c=n&&"Circle"===i?t.width-2:t.width,d=n&&"Circle"===i?t.height-2:t.height,u=n?r.targetWidth:0,p=e.x,g=e.y,b=e.y+-d/2,y=e.x+-c/2;switch(i){case"Bubble":case"Circle":l="Ellipse",Object(h.cb)(s,{rx:c/2,ry:d/2,cx:p,cy:g});break;case"Cross":a="M "+y+" "+g+" L "+(p+c/2)+" "+g+" M "+p+" "+(g+d/2)+" L "+p+" "+(g+-d/2),Object(h.cb)(s,{d:a,stroke:s.fill});break;case"Multiply":a="M "+(p-u)+" "+(g-u)+" L "+(p+u)+" "+(g+u)+" M "+(p-u)+" "+(g+u)+" L "+(p+u)+" "+(g-u),Object(h.cb)(s,{d:a,stroke:s.fill});break;case"HorizontalLine":a="M "+y+" "+g+" L "+(p+c/2)+" "+g,Object(h.cb)(s,{d:a});break;case"VerticalLine":a="M "+p+" "+(g+d/2)+" L "+p+" "+(g+-d/2),Object(h.cb)(s,{d:a});break;case"Diamond":a="M "+y+" "+g+" L "+p+" "+(g+-d/2)+" L "+(p+c/2)+" "+g+" L "+p+" "+(g+d/2)+" L "+y+" "+g+" z",Object(h.cb)(s,{d:a});break;case"ActualRect":a="M "+y+" "+(g+-d/8)+" L "+(p+u)+" "+(g+-d/8)+" L "+(p+u)+" "+(g+d/8)+" L "+y+" "+(g+d/8)+" L "+y+" "+(g+-d/8)+" z",Object(h.cb)(s,{d:a});break;case"TargetRect":a="M "+(y+u)+" "+(g+-d/2)+" L "+(p+u/2)+" "+(g+-d/2)+" L "+(p+u/2)+" "+(g+d/2)+" L "+(y+u)+" "+(g+d/2)+" L "+(y+u)+" "+(g+-d/2)+" z",Object(h.cb)(s,{d:a});break;case"Rectangle":case"Hilo":case"HiloOpenClose":case"Candle":case"Waterfall":case"BoxAndWhisker":case"StepArea":case"Square":case"Flag":a="M "+y+" "+(g+-d/2)+" L "+(p+c/2)+" "+(g+-d/2)+" L "+(p+c/2)+" "+(g+d/2)+" L "+y+" "+(g+d/2)+" L "+y+" "+(g+-d/2)+" z",Object(h.cb)(s,{d:a});break;case"Pyramid":case"Triangle":a="M "+y+" "+(g+d/2)+" L "+p+" "+(g+-d/2)+" L "+(p+c/2)+" "+(g+d/2)+" L "+y+" "+(g+d/2)+" z",Object(h.cb)(s,{d:a});break;case"Funnel":case"InvertedTriangle":a="M "+(p+c/2)+" "+(g-d/2)+" L "+p+" "+(g+d/2)+" L "+(p-c/2)+" "+(g-d/2)+" L "+(p+c/2)+" "+(g-d/2)+" z",Object(h.cb)(s,{d:a});break;case"Pentagon":let e,t,i=72;for(let s=0;s<=5;s++)e=c/2*Math.cos(Math.PI/180*(s*i)),t=d/2*Math.sin(Math.PI/180*(s*i)),a=0===s?"M "+(p+e)+" "+(g+t)+" ":a.concat("L "+(p+e)+" "+(g+t)+" ");a=a.concat("Z"),Object(h.cb)(s,{d:a});break;case"Image":l="Image",Object(h.cb)(s,{href:o,height:d,width:c,x:y,y:b})}return{renderOption:s=function(e,t,i,s){let o="",n=t.height,r=t.width,a=e.x,l=e.y;switch(i){case"MultiColoredLine":case"Line":case"StackingLine":case"StackingLine100":o="M "+(a+-r/2)+" "+l+" L "+(a+r/2)+" "+l,Object(h.cb)(s,{d:o});break;case"StepLine":s.fill="transparent",o="M "+(a+-r/2-2.5)+" "+(l+n/2)+" L "+(a+-r/2+r/10)+" "+(l+n/2)+" L "+(a+-r/2+r/10)+" "+l+" L "+(a+-r/10)+" "+l+" L "+(a+-r/10)+" "+(l+n/2)+" L "+(a+r/5)+" "+(l+n/2)+" L "+(a+r/5)+" "+(l+-n/2)+" L "+(a+r/2)+" "+(l+-n/2)+"L "+(a+r/2)+" "+(l+n/2)+" L"+(a+r/2+2.5)+" "+(l+n/2),Object(h.cb)(s,{d:o});break;case"RightArrow":o="M "+(a+-r/2)+" "+(l-n/2)+" L "+(a+r/2)+" "+l+" L "+(a+-r/2)+" "+(l+n/2)+" L "+(a+-r/2)+" "+(l+n/2-2)+" L "+(a+r/2-4)+" "+l+" L"+(a+-r/2)+" "+(l-n/2+2)+" Z",Object(h.cb)(s,{d:o});break;case"LeftArrow":s.fill=s.stroke,s.stroke="transparent",o="M "+(a+r/2)+" "+(l-n/2)+" L "+(a+-r/2)+" "+l+" L "+(a+r/2)+" "+(l+n/2)+" L "+(a+r/2)+" "+(l+n/2-2)+" L "+(a+-r/2+4)+" "+l+" L"+(a+r/2)+" "+(l-n/2+2)+" Z",Object(h.cb)(s,{d:o});break;case"Column":case"Pareto":case"StackingColumn":case"StackingColumn100":case"RangeColumn":case"Histogram":o="M "+(a-r/5*3)+" "+(l-n/5)+" L "+(a+-r/10*3)+" "+(l-n/5)+" L "+(a+-r/10*3)+" "+(l+n/2)+" L "+(a-r/5*3)+" "+(l+n/2)+" Z M "+(a+-r/10-r/20)+" "+(l-n/4-5)+" L "+(a+r/10+r/20)+" "+(l-n/4-5)+" L "+(a+r/10+r/20)+" "+(l+n/2)+" L "+(a+-r/10-r/20)+" "+(l+n/2)+" Z M "+(a+r/10*3)+" "+l+" L "+(a+r/5*3)+" "+l+" L "+(a+r/5*3)+" "+(l+n/2)+" L "+(a+r/10*3)+" "+(l+n/2)+" Z",Object(h.cb)(s,{d:o});break;case"Bar":case"StackingBar":case"StackingBar100":o="M "+(a+-r/2+-2.5)+" "+(l-n/5*3)+" L "+(a+r/10*3)+" "+(l-n/5*3)+" L "+(a+r/10*3)+" "+(l-n/10*3)+" L "+(a-r/2-2.5)+" "+(l-n/10*3)+" Z M "+(a+-r/2+-2.5)+" "+(l-n/5+.5)+" L "+(a+r/2+2.5)+" "+(l-n/5+.5)+" L "+(a+r/2+2.5)+" "+(l+n/10+.5)+" L "+(a-r/2-2.5)+" "+(l+n/10+.5)+" Z M "+(a-r/2-2.5)+" "+(l+n/5+1)+" L "+(a+-r/4)+" "+(l+n/5+1)+" L "+(a+-r/4)+" "+(l+n/2+1)+" L "+(a-r/2-2.5)+" "+(l+n/2+1)+" Z",Object(h.cb)(s,{d:o});break;case"Spline":s.fill="transparent",o="M "+(a-r/2)+" "+(l+n/5)+" Q "+a+" "+(l-n)+" "+a+" "+(l+n/5)+" M "+a+" "+(l+n/5)+" Q "+(a+r/2)+" "+(l+n/2)+" "+(a+r/2)+" "+(l-n/2),Object(h.cb)(s,{d:o});break;case"Area":case"MultiColoredArea":case"RangeArea":case"StackingArea":case"StackingArea100":o="M "+(a-r/2-2.5)+" "+(l+n/2)+" L "+(a+-r/4+-1.25)+" "+(l-n/2)+" L "+a+" "+(l+n/4)+" L "+(a+r/4+1.25)+" "+(l+-n/2+n/4)+" L "+(a+n/2+2.5)+" "+(l+n/2)+" Z",Object(h.cb)(s,{d:o});break;case"SplineArea":o="M "+(a-r/2)+" "+(l+n/5)+" Q "+a+" "+(l-n)+" "+a+" "+(l+n/5)+" Z M "+a+" "+(l+n/5)+" Q "+(a+r/2)+" "+(l+n/2)+" "+(a+r/2)+" "+(l-n/2)+"  Z",Object(h.cb)(s,{d:o});break;case"Pie":case"Doughnut":s.stroke="transparent",o=function(e,t,i,s,o,n){let r=De(270,i,new Yt(e,t)),a=De(270,i,new Yt(e+o/10,t));return"M "+e+" "+t+" L "+(e+i)+" "+t+" A "+i+" "+i+" 0 1 1 "+r.x+" "+r.y+" Z M "+(e+o/10)+" "+(t-s/10)+" L"+(e+i)+" "+(t-s/10)+" A "+i+" "+i+" 0 0 0 "+a.x+" "+a.y+" Z"}(a,l,Math.min(n,r)/2,n,r),Object(h.cb)(s,{d:o})}return{renderOption:s}}(e,new m(c,d),i,s).renderOption,functionName:l}}(e,i,t,o,s,l,d);return u["draw"+p.functionName](p.renderOption,a?new Int32Array([a.x,a.y]):null)}function ct(e,t,i){return e>i?i:e<t?t:e}function dt(e){return document.getElementById(e)}function ut(e,t,i,s,o,n,r){let a,l;a=function(e){let t=null;try{document.querySelectorAll(e).length&&(t=Object(h.E)(document.querySelector(e).innerHTML.trim()))}catch(i){t=Object(h.E)(e)}return t}(i);try{let t=window.Blazor?r?o:{point:o}:{chart:s,series:n,point:o},i=a?a(t,null,null,r||e.id.replace(/[^a-zA-Z0-9]/g,"")):[];if(i.length){l=Array.prototype.slice.call(i);let t=l.length;for(let i=0;i<t;i++)e.appendChild(l[i])}}catch(c){return e}return e}function pt(e){let t="";return t="font-size:"+e.size+"; font-style:"+e.fontStyle+"; font-weight:"+e.fontWeight+"; font-family:"+e.fontFamily+";opacity:"+e.opacity+"; color:"+e.color+";",t}function mt(e,t=!1){let i;return document.body.appendChild(e),i=e.getBoundingClientRect(),t?Object(h.gb)(e):Oe(e.id),i}function gt(e,t,i,s,o,n){e="Logarithmic"===i.valueType?Ae(e>0?e:1,i.logBase):e,t="Logarithmic"===s.valueType?Ae(t>0?t:1,s.logBase):t,e=He(e,i),t=He(t,s);let r=o?i.rect.height:i.rect.width,a=o?s.rect.width:s.rect.height;return new Yt(o?t*a:e*r,o?(1-e)*r:(1-t)*a)}function bt(e,t,i=!1,s=!1,o="x",n="y"){if(!(e&&e.hasChildNodes()&&t))return null;yt(!1,t,e,i,s,o,n)}function yt(e,t,i,s,o=!1,n="x",r="y",a,l,c=!1,d=!1,u=null,p){if(e)return null;let m=t.querySelector("#"+i.id),b=m||dt(i.id),y=i,f=p||300;if(s&&o&&b)if(a=a||("DIV"===b.tagName?new Yt(+b.style[n].split("px")[0],+b.style[r].split("px")[0]):new Yt(+b.getAttribute(n),+b.getAttribute(r))),l&&"undefined"!==l)st(i,i.getAttribute("d"),s,l,f);else if(d&&u)!function(e,t,i,s,o){let n=t=>{e.setAttribute("x",t.x+""),e.setAttribute("y",t.y+""),e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")};new h.b({}).animate(Object(h.F)("div"),{duration:i,delay:0,name,progress:e=>{n(new g(tt(e.timeStamp,o.x,s.x-o.x,e.duration),tt(e.timeStamp,o.y,s.y-o.y,e.duration),tt(e.timeStamp,o.width,s.width-o.width,e.duration),tt(e.timeStamp,o.height,s.height-o.height,e.duration)))},end:()=>{n(s)}})}(y,0,f,new g(+b.getAttribute("x"),+b.getAttribute("y"),+b.getAttribute("width"),+b.getAttribute("height")),u);else{let e="DIV"===y.tagName?new Yt(+y.style[n].split("px")[0],+y.style[r].split("px")[0]):new Yt(+y.getAttribute(n),+y.getAttribute(r));jt(y,f,a,e,n,r)}else s&&o&&!b&&c&&lt(y,0,600,"FadeIn");m?t.replaceChild(y,b):t.appendChild(y)}function ft(e,t,i,s,o){let n=Math.abs(e-i),r=Math.abs(t-s),a=Math.max(xt(Math.min(e,i),n,o.x,o.width),o.x),l=Math.max(xt(Math.min(t,s),r,o.y,o.height),o.y);return new g(a,l,Math.min(n,o.width),Math.min(r,o.height))}function xt(e,t,i,s){return e<i?e=i:e+t>s+i&&(e=s+i-t),e}function vt(e,t,i){let s=t.yAxis.labelFormat,o=[],n=null!==s.match("{value}");switch(t.seriesType){case"XY":"PolarRadar"===t.chart.chartAreaType?-1!==t.drawType.indexOf("Stacking")?("Logarithmic"===t.yAxis.valueType&&Re(t.stackedValues.endValues[e.index],t.yAxis)||Te(t.stackedValues.endValues[e.index],t.yAxis.visibleRange))&&o.push(e.text||e.yValue.toString()):("Logarithmic"===t.yAxis.valueType&&Re(e.yValue,t.yAxis)||Te(e.yValue,t.yAxis.visibleRange))&&o.push(e.text||e.yValue.toString()):o.push(e.text||e.yValue.toString());break;case"HighLow":o.push(e.text||Math.max(e.high,e.low).toString()),o.push(e.text||Math.min(e.high,e.low).toString());break;case"HighLowOpenClose":o.push(e.text||Math.max(e.high,e.low).toString()),o.push(e.text||Math.min(e.high,e.low).toString()),o.push(e.text||Math.max(e.open,e.close).toString()),o.push(e.text||Math.min(e.open,e.close).toString());break;case"BoxPlot":o.push(e.text||e.median.toString()),o.push(e.text||e.maximum.toString()),o.push(e.text||e.minimum.toString()),o.push(e.text||e.upperQuartile.toString()),o.push(e.text||e.lowerQuartile.toString());for(let t of e.outliers)o.push(e.text||t.toString())}if(s&&!e.text){t.yAxis.format=i.intl.getNumberFormat({format:n?"":s,useGrouping:i.useGroupingSeparator});for(let e=0;e<o.length;e++)o[e]=n?s.replace("{value}",t.yAxis.format(parseFloat(o[e]))):t.yAxis.format(parseFloat(o[e]))}return o}function wt(e){window.clearInterval(e)}function _t(e,t,i){let s,o=new g(e.x+i.x,e.y+i.y,e.width,e.height);return s=t.some(e=>o.x<e.x+e.width&&o.x+o.width>e.x&&o.y<e.y+e.height&&o.height+o.y>e.y),s}function St(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.height+e.y>t.y}function Ct(e,t,i){return new g(e.x-t.width/2-i.left,e.y-t.height/2-i.top,t.width+i.left+i.right,t.height+i.top+i.bottom)}function Mt(e){let t=e.toString(16);return 1===t.length?"0"+t:t}function Lt(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?new Qt(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)):new Qt(255,255,255)}function Ot(e){let t;e="transparent"===e?"white":e,document.body.appendChild(Object(h.F)("text",{id:"chartmeasuretext"})),t=document.getElementById("chartmeasuretext"),t.style.color=e,e=window.getComputedStyle(t).color,Object(h.gb)(t);let i=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/.exec(e);return"#"+Mt((s=new Qt(parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10))).r)+Mt(s.g)+Mt(s.b);var s}function At(e,t){(e=(e=Ot(e)).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;let i,s="#";for(let o=0;o<3;o++)i=parseInt(e.substr(2*o,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)),s+=("00"+i.toString(16)).substr(i.toString(16).length);return s}function Pt(e){let t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2}function kt(e,t,i){let s=t,o=u(t,i).width;if(o>e)for(let n=t.length-1;n>=0;--n)if(s=t.substring(0,n)+"...",o=u(s,i).width,o<=e)return s;return s}function Tt(e,t){return null!=e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}function Rt(e,t,i,s){if(!e)return null;let o=dt(t);return o&&i&&s.setElementAttributes(i,"clipPath"===o.tagName?o.childNodes[0]:o),o}function jt(e,t,i,s,o="x",n="y"){let r="DIV"===e.tagName,a=(t,i)=>{r?(e.style[o]=t+"px",e.style[n]=i+"px"):(e.setAttribute(o,t+""),e.setAttribute(n,i+""))};a(i.x,i.y),new h.b({}).animate(Object(h.F)("div"),{duration:t,progress:e=>{a(tt(e.timeStamp,i.x,s.x-i.x,e.duration),tt(e.timeStamp,i.y,s.y-i.y,e.duration))},end:()=>{a(s.x,s.y)}})}function It(e,t,i,s,o,n=!1,r,a,l=!1,h,c,p,m,g){let b,y,f,x,v,w,_={};if(_={id:t.id,x:t.x,y:t.y,fill:s||"black","font-size":i.size,"font-style":i.fontStyle,"font-family":i.fontFamily,"font-weight":i.fontWeight,"text-anchor":t.anchor,labelRotation:t.labelRotation,transform:t.transform,opacity:i.opacity,"dominant-baseline":t.baseLine},f="string"==typeof t.text?t.text:n?t.text[t.text.length-1]:t.text[0],b=e.createText(_,f,c?c.x:0,c?c.y:0),"string"!=typeof t.text&&t.text.length>1)for(let d=1,S=t.text.length;d<S;d++)x=u(t.text[d],i).height,v=t.y+(n?-d*x:d*x),w=n?t.text[t.text.length-(d+1)]:t.text[d],g?y=e.createText(_,w,null,null,v,!0):(y=e.createTSpan({x:t.x,id:t.id,y:v},w),b.appendChild(y));return m||yt(e instanceof d,o,b,r,a,"x","y",null,null,l,!1,null,h),b}function zt(e){let t=e.element.clientWidth||e.element.offsetWidth,i=e.element.clientHeight;e.stockChart&&(t=e.stockChart.element.clientWidth);let s,o=450;if("rangeNavigator"===e.getModuleName()){let t=e,i=t.periodSelectorSettings.periods.length?t.periodSelectorSettings.height:0;s=t.margin.top+t.margin.bottom+(t.tooltip.enable?35:0);let n=u("tempString",t.labelStyle).height,r=15;o=(e.series.length?h.d.isDevice?80:120:(t.enableGrouping?40+r+n:40)+s)+i,t.disableRangeSelector&&(o=i)}e.availableSize=new m(Tt(e.width,t)||t||600,Tt(e.height,i)||i||o)}function Et(e){e.canvasRender=new d(e.element.id),e.renderer=e.enableCanvas?e.canvasRender:new c(e.element.id),zt(e),e.svgObject=e.stockChart&&"chart"===e.getModuleName()?e.stockChart.chartObject:e.stockChart&&"rangeNavigator"===e.getModuleName()?e.stockChart.selectorObject:e.enableCanvas?e.renderer.createCanvas({id:e.element.id+"_canvas",width:e.availableSize.width,height:e.availableSize.height}):e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height})}function Dt(e,t,i){let s=[];switch(t.textOverflow){case"Wrap":s=Nt(e,i,t);break;case"Trim":s.push(kt(i,e,t));break;default:s.push(e)}return s}function Bt(e,t){let i;return i="Near"===t.textAlignment?e.x:"Center"===t.textAlignment?e.x+e.width/2:e.x+e.width,i}function Nt(e,t,i){let s,o=e.split(" "),n="",r=[];for(let a=0,l=o.length;a<l;a++)s=o[a],u(n.concat(s),i).width<t?n=n.concat((""===n?"":" ")+s):""!==n?(r.push(kt(t,n,i)),n=s):(r.push(kt(t,s,i)),s=""),n&&a===l-1&&r.push(kt(t,n,i));return r}function Vt(e,t){let i=e.replace(t," "),s=e.match(t),o=" ",n=" ",r=0,a={0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089"},l={0:"\u2070",1:"\xb9",2:"\xb2",3:"\xb3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079"};for(let h=0;h<=i.length-1;h++)if(" "===i[h]){o=s[r].replace(t===se?/~/g:/\^/g,"");for(let e=0;e<o.length;e++)n+=t===se?a[o[e]]:l[o[e]];r++}else n+=i[h];return n.trim()}function Ft(e){for(let t=0;t<e.annotations.length;t++)Object(h.ib)((e.element.id+"_Annotation_"+t).replace(/[^a-zA-Z0-9]/g,""),"ContentTemplate");Object(h.ib)(e.element.id+"_tooltipparent_template_blazorTemplate","Template"),Object(h.ib)(e.element.id+"_DataLabel")}class Ht{constructor(e,t){this.startValues=e,this.endValues=t}}class Wt extends _{constructor(e,t,i,s,o,n,r,a,l){super(e,t,i.width,i.color,s,l),this.y=o.y,this.x=o.x,this.height=o.height,this.width=o.width,this.rx=n||0,this.ry=r||0,this.transform=a||"",this.stroke=0!==i.width&&""!==this.stroke?i.color:"transparent"}}class Zt{constructor(e,t,i,s,o,n,r,a){this.height=e,this.width=t,this.href=i,this.x=s,this.y=o,this.id=n,this.visibility=r,this.preserveAspectRatio=a}}class Xt extends _{constructor(e,t,i,s,o,n,r){super(e,t,i.width,i.color,s),this.cy=n,this.cx=o,this.r=r}}class Gt{constructor(e,t,i){this.id=e,this.points=t,this.fill=i}}class Yt{constructor(e,t){this.x=e,this.y=t}}class Ut{constructor(e,t,i,s){this.left=e,this.right=t,this.top=i,this.bottom=s}}class Qt{constructor(e,t,i){this.r=e,this.g=t,this.b=i}}class qt{constructor(e,t,i=0){this.point=e,this.series=t,this.lierIndex=i}}class Jt{constructor(e,t){this.controlPoint1=e,this.controlPoint2=t}}class Kt{constructor(e){this.chart=e,this.padding=5}measureAxis(e){let t=this.chart;this.crossAt(t),this.seriesClipRect=new g(e.x,e.y,e.width,e.height),this.initialClipRect=e,this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.initialClipRect=Ee(this.initialClipRect,new Ut(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.initialClipRect=Ee(this.initialClipRect,new Ut(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||this.calculateAxisSize(this.initialClipRect),this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.seriesClipRect=Ee(this.seriesClipRect,new Ut(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.seriesClipRect=Ee(this.seriesClipRect,new Ut(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||(t.refreshAxis(),this.calculateAxisSize(this.seriesClipRect))}measureRowAxis(e,t){let i;this.calculateRowSize(t);for(let s of e.rows)i=s,i.nearSizes=[],i.farSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new m(e.availableSize.width,i.computedHeight),t),this.leftSize<Ie(i.nearSizes)&&(this.leftSize=Ie(i.nearSizes)),this.rightSize<Ie(i.farSizes)&&(this.rightSize=Ie(i.farSizes))}measureColumnAxis(e,t){let i;this.calculateColumnSize(t);for(let s of e.columns)i=s,i.farSizes=[],i.nearSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new m(i.computedWidth,e.availableSize.height),t),this.bottomSize<Ie(i.nearSizes)&&(this.bottomSize=Ie(i.nearSizes)),this.topSize<Ie(i.farSizes)&&(this.topSize=Ie(i.farSizes))}measureDefinition(e,t,i,s){for(let o of e.axes)o.scrollBarHeight=t.scrollBarModule&&t.zoomSettings.enableScrollbar&&t.zoomModule.isZoomed&&(o.zoomFactor<1||o.zoomPosition>0)?16:0,o.scrollBarHeight=t.scrollBarModule&&(t.zoomModule&&t.zoomSettings.enableScrollbar&&t.zoomModule.isZoomed&&(o.zoomFactor<1||o.zoomPosition>0)||o.scrollbarSettings.enable)?16:0,o.getModule(t),o.baseModule.calculateRangeAndInterval(i,o),e.computeSize(o,s,o.scrollBarHeight);e.farSizes.length>0&&(e.farSizes[e.farSizes.length-1]-=10),e.nearSizes.length>0&&(e.nearSizes[e.nearSizes.length-1]-=10)}calculateAxisSize(e){let t,i,s,o,n,r,a,l=this.chart,h=0,c=0,d=0;this.calculateRowSize(e);for(let u=0,p=l.rows.length;u<p;u++){t=l.rows[u],h=0,c=0;for(let i=0,r=t.axes.length;i<r;i++){if(o=t.axes[i],a=o.plotOffset,0===o.rect.height){o.rect.height=t.computedHeight,d=0;for(let e=u+1,t=u+o.span;e<t;e++)s=l.rows[e],d+=s.computedHeight;o.rect.y=t.computedTop-d+(o.plotOffsetTop?o.plotOffsetTop:a),o.rect.height=o.rect.height+d-this.getAxisOffsetValue(o.plotOffsetTop,o.plotOffsetBottom,o.plotOffset),o.rect.width=0}o.opposedPosition?(n=e.x+e.width+Ie(Fe(t.farSizes,c)),o.rect.x=o.rect.x>=n?o.rect.x:n,c++):(n=e.x-Ie(Fe(t.nearSizes,h)),o.rect.x=o.rect.x<=n?o.rect.x:n,h++)}}this.calculateColumnSize(e);for(let u=0,p=l.columns.length;u<p;u++){i=l.columns[u],h=0,c=0;for(let t=0,n=i.axes.length;t<n;t++){if(o=i.axes[t],a=o.plotOffset,0===o.rect.width){for(let e=u,t=u+o.span;e<t;e++)s=l.columns[e],o.rect.width+=s.computedWidth;o.rect.x=i.computedLeft+(o.plotOffsetLeft?o.plotOffsetLeft:a),o.rect.width-=this.getAxisOffsetValue(o.plotOffsetLeft,o.plotOffsetRight,o.plotOffset),o.rect.height=0}o.opposedPosition?(r=e.y-Ie(Fe(i.farSizes,c)),o.rect.y=o.rect.y<=r?o.rect.y:r,c++):(r=e.y+e.height+Ie(Fe(i.nearSizes,h)),o.rect.y=o.rect.y>=r?o.rect.y:r,h++)}}}measure(){let e,t,i,s,o,n=this.chart;for(let r of n.axisCollections)if("Vertical"===r.orientation){n.verticalAxes.push(r),s=this.getActualRow(r),e=n.rows[s],this.pushAxis(e,r),o=s+r.span>n.rows.length?n.rows.length:s+r.span;for(let t=s+1;t<o;t++)i=n.rows[t],i.axes[e.axes.length-1]=r,n.rows[t]=i;n.rows[s]=e}else{n.horizontalAxes.push(r),s=this.getActualColumn(r),t=n.columns[s],this.pushAxis(t,r),o=s+r.span>n.columns.length?n.columns.length:s+r.span;for(let e=s+1;e<o;e++)i=n.columns[e],i.axes[t.axes.length-1]=r,n.columns[e]=i;n.columns[s]=t}}getAxisOffsetValue(e,t,i){return e?e+(t||i):t?t+i:2*i}crossAt(e){for(let t of e.axisCollections)if(null!==t.crossesAt)if(t.crossesInAxis)for(let i=2,s=e.axisCollections.length;i<s;i++)t.crossesInAxis!==e.axisCollections[i].name||(t.crossInAxis=e.axisCollections[i],t.crossAt=this.updateCrossAt(t.crossInAxis,t.crossesAt));else t.crossInAxis=e.requireInvertedAxis?"Horizontal"===t.orientation?e.primaryXAxis:e.primaryYAxis:"Horizontal"===t.orientation?e.primaryYAxis:e.primaryXAxis,t.crossAt=this.updateCrossAt(t.crossInAxis,t.crossesAt)}updateCrossAt(e,t){switch(e.valueType){case"DateTime":let i={skeleton:"full",type:"dateTime"},s=this.chart.intl.getDateParser(i),o=this.chart.intl.getDateFormat(i);return Date.parse(s(o(new Date(T.b.parse.parseJson({val:t}).val))));case"Category":return parseFloat(t)?parseFloat(t):e.labels.indexOf(t);case"Logarithmic":return Ae(t,e.logBase);default:return t}}pushAxis(e,t){for(let i=0,s=e.axes.length;i<=s;i++)if(!e.axes[i]){e.axes[i]=t;break}}arrangeAxis(e){let t=[];for(let i=0,s=e.axes.length;i<=s;i++)e.axes[i]&&t.push(e.axes[i]);e.axes=t}getActualColumn(e){let t=this.chart.columns.length,i=e.columnIndex;return i>=t?t-1:i<0?0:i}getActualRow(e){let t=this.chart.rows.length,i=e.rowIndex;return i>=t?t-1:i<0?0:i}calculateRowSize(e){let t,i=this.chart,s=e.y+e.height,o=0,n=Math.max(0,e.height);for(let r=0,a=i.rows.length;r<a;r++)t=i.rows[r],o=-1!==t.height.indexOf("%")?Math.min(n,e.height*parseInt(t.height,10)/100):Math.min(n,parseInt(t.height,10)),o=r!==a-1?o:n,t.computedHeight=o,s-=o,t.computedTop=s,n-=o}calculateColumnSize(e){let t,i=this.chart,s=e.x,o=0,n=Math.max(0,e.width);for(let r=0,a=i.columns.length;r<a;r++)t=i.columns[r],o=-1!==t.width.indexOf("%")?Math.min(n,e.width*parseInt(t.width,10)/100):Math.min(n,parseInt(t.width,10)),o=r!==a-1?o:n,t.computedWidth=o,t.computedLeft=s,s+=o,n-=o}renderAxes(){let e,t,i,s=this.chart,o=s.renderer.createGroup({id:s.element.id+"AxisInsideCollection"}),n=s.renderer.createGroup({id:s.element.id+"AxisOutsideCollection"});for(let r=0,a=s.axisCollections.length;r<a;r++)e=s.axisCollections[r],this.element=s.renderer.createGroup({id:s.element.id+"AxisGroup"+r+"Inside"}),t=s.renderer.createGroup({id:s.element.id+"AxisGroup"+r+"Outside"}),i=this.findAxisPosition(e),"Horizontal"===e.orientation?(e.updateCrossValue(s),e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,r,e.plotOffset,0,i?t:this.element,e.updatedRect),(e.majorGridLines.width>0||e.majorTickLines.width>0)&&this.drawXAxisGridLine(e,r,i||"Inside"===e.tickPosition?t:this.element,e.updatedRect),e.visible&&e.internalVisibility&&(this.drawXAxisLabels(e,r,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawXAxisBorder(e,r,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawXAxisTitle(e,r,i?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect))):(e.updateCrossValue(s),e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,r,0,e.plotOffset,i?t:this.element,e.updatedRect),(e.majorGridLines.width>0||e.majorTickLines.width>0)&&this.drawYAxisGridLine(e,r,i||"Inside"===e.tickPosition?t:this.element,e.updatedRect),e.visible&&e.internalVisibility&&(this.drawYAxisLabels(e,r,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawYAxisBorder(e,r,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawYAxisTitle(e,r,i?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect))),this.chart.enableCanvas||(o.appendChild(this.element),t&&t.childNodes.length>0&&n.appendChild(t)),s.scrollBarModule&&(s.zoomSettings.enableScrollbar||e.scrollbarSettings.enable)&&this.renderScrollbar(s,e);this.element=s.renderer.createGroup({id:s.element.id+"DefinitionLine"});for(let r=0,a=s.rows.length;r<a;r++){let e=s.rows[r];e.border.color&&this.drawBottomLine(e,r,!0)}for(let r=0,a=s.columns.length;r<a;r++){let e=s.columns[r];e.border.color&&this.drawBottomLine(e,r,!1)}return this.chart.enableCanvas||o.appendChild(this.element),yt(s.enableCanvas,s.svgObject,o,s.redraw),n}renderScrollbar(e,t){(!Object(h.W)(e.zoomModule)&&e.zoomModule.isZoomed&&(t.zoomFactor<1||t.zoomPosition>0)||t.scrollbarSettings.enable&&(t.zoomFactor<=1||t.zoomPosition>=0))&&!t.zoomingScrollBar.isScrollUI?(e.scrollElement||(e.scrollElement=Rt(e.redraw,e.element.id+"_scrollElement")||Object(h.F)("div",{id:e.element.id+"_scrollElement"})),yt(!1,e.scrollElement,t.zoomingScrollBar.render(!0),!0)):1===t.zoomFactor&&0===t.zoomPosition&&t.zoomingScrollBar.svgObject&&!t.scrollbarSettings.enable&&t.zoomingScrollBar.destroy(),t.zoomingScrollBar.isScrollUI&&(t.zoomingScrollBar.isScrollUI=!1)}findAxisPosition(e){return null!==e.crossAt&&e.isInside(e.crossInAxis.visibleRange)}drawBottomLine(e,t,i){let s,o,n,r,a,l=this.chart,h={};i?(n=r=(e=e).computedTop+e.computedHeight,s=this.seriesClipRect.x,o=s+this.seriesClipRect.width,a="Row"):(s=o=(e=e).computedLeft,n=this.seriesClipRect.y,r=n+this.seriesClipRect.height,a="Column"),h={id:l.element.id+"_AxisBottom_"+a+t,x1:s,y1:n,x2:o,y2:r,"stroke-width":e.border.width,stroke:e.border.color},this.htmlObject=l.renderer.drawLine(h),this.element.appendChild(this.htmlObject)}drawAxisLine(e,t,i,s,o,n){let r=this.chart,a={},l=dt(r.element.id+"AxisLine_"+t),h=l?l.getAttribute("d"):"";l=null,a={id:r.element.id+"AxisLine_"+t,d:"M "+(n.x-i)+" "+(n.y-s)+" L "+(n.x+n.width+i)+" "+(n.y+n.height+s),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||r.themeStyle.axisLine},this.htmlObject=r.renderer.drawPath(a),yt(r.enableCanvas,o,this.htmlObject,r.redraw,!0,"x","y",null,h)}drawYAxisGridLine(e,t,i,s){let o,n,r=0,a="",l="",c=e.opposedPosition?e.majorTickLines.height:-e.majorTickLines.height,d=e.opposedPosition?.5*e.lineStyle.width:.5*-e.lineStyle.width,u="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,p=Object(h.W)(e.crossesAt)?e.opposedPosition?e.scrollBarHeight:-e.scrollBarHeight:0,m="Inside"===e.tickPosition,g=m?s.x-c-d:s.x+c+d+p,b=e.visibleLabels.length,y=this.chart.themeStyle;e.valueType.indexOf("Category")&&"BetweenTicks"===e.labelPlacement&&b>0&&(b+=1);let f=e.minorGridLines,x=e.minorTickLines;for(let h=0;h<b;h++)o=e.visibleLabels[h]?e.visibleLabels[h].value-u:e.visibleLabels[h-1].value+e.visibleRange.interval-u,r=He(o,e)*s.height,r=-1*r+(s.y+s.height),r>=s.y&&s.y+s.height>=r&&((ke(o,e.visibleRange)||this.isBorder(e,h,r))&&(a="M "+this.seriesClipRect.x+" "+r+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+r,this.renderGridLine(e,t,a,e.majorGridLines,"_MajorGridLine_",h,this.element,y.majorGridLine,e.majorGridLines.dashArray)),l="M "+(s.x+d+(m?p:0))+" "+r+" L "+g+" "+r,this.renderGridLine(e,t,l,e.majorTickLines,"_MajorTickLine_",h,i,y.majorTickLine),(f.width>0||x.width>0)&&e.minorTicksPerInterval>0&&(n=this.drawAxisMinorLine(e,o,s,h),this.renderGridLine(e,t,n[0],f,"_MinorGridLine_",h,this.element,y.minorGridLine,f.dashArray),this.renderGridLine(e,t,n[1],x,"_MinorTickLine_",h,i,y.minorTickLine)))}isBorder(e,t,i){let s=this.chart.chartArea.border,o=this.seriesClipRect,n=e.orientation,r="Horizontal"===n?o.x:o.y,a="Horizontal"===n?o.width:o.height;return e.plotOffset>0||(i===r||i===r+a)&&(s.width<=0||"transparent"===s.color)||i!==r&&t===("Horizontal"===n?0:e.visibleLabels.length-1)||i!==r+a&&t===("Horizontal"===n?e.visibleLabels.length-1:0)}drawYAxisLabels(e,t,i,s){let o,n,r,a=this.chart,l=0,c=0,d="Inside"===e.labelPosition,u=e.opposedPosition,p=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+this.padding+.5*e.lineStyle.width;p=e.opposedPosition?p:-p;let m,g,b=u&&d||!u&&!d?"end":"start",y=a.renderer.createGroup({id:a.element.id+"AxisLabels"+t}),x=Object(h.W)(e.crossesAt)?e.scrollBarHeight*(u?1:-1):0;for(let h=0,v=e.visibleLabels.length;h<v;h++){if(r=Ce(e.visibleLabels[h].originalText),l=d?s.x-p:s.x+p+x,o=r?e.visibleLabels[h].breakLabelSize:e.visibleLabels[h].size,c=He(e.visibleLabels[h].value,e)*s.height+(a.stockChart?7:0),c=Math.floor(-1*c+(s.y+s.height)),m=o.height/8*e.visibleLabels[h].text.length/2,g=o.height/4*3+3,c=r?"Inside"===e.labelPosition?c-o.height/2-m+g:c-m:"Inside"===e.labelPosition?c+g:c+o.height/4,n=new f(a.element.id+t+"_AxisLabel_"+h,l,c,b,e.visibleLabels[h].text),e.edgeLabelPlacement)switch(e.edgeLabelPlacement){case"None":break;case"Hide":((0===h||e.isInversed&&h===v-1)&&n.y>s.y+s.height||(h===v-1||e.isInversed&&0===h)&&n.y-.5*o.height<s.y)&&(n.text="");break;case"Shift":(0===h||e.isInversed&&h===v-1)&&n.y>s.y+s.height?n.y=c=s.y+s.height:(h===v-1||e.isInversed&&0===h)&&n.y-.5*o.height<s.y&&(n.y=c=s.y+.5*o.height)}It(a.renderer,n,e.labelStyle,e.labelStyle.color||a.themeStyle.axisLabel,y,!1,a.redraw,!0,!0)}this.chart.enableCanvas||(a.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,y,e,t,s):yt(a.enableCanvas,i,y,a.redraw))}drawYAxisBorder(e,t,i,s){if(e.border.width>0){let o,n,r="Outside"===e.labelPosition?e.scrollBarHeight:0;r*=e.opposedPosition?1:-1;let a,l=s.height/e.visibleRange.delta*("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval),h=e.maxLabelSize.width+10+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),c="",d="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?-.5:0,u=e.opposedPosition&&"Inside"===e.labelPosition||!e.opposedPosition&&"Outside"===e.labelPosition?s.x-h+r:s.x+h+r;for(let t=0,i=e.visibleLabels.length;t<i;t++)switch(n=He(e.visibleLabels[t].value+d,e),n=(e.isInversed?1-n:n)*s.height,"Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?(o=-1*n+(s.y+s.height),a=-1*n-l+(s.y+s.height)):(o=-1*n+l/2+(s.y+s.height),a=-1*n-l/2+(s.y+s.height)),e.border.type){case"Rectangle":case"WithoutTopBorder":o>s.y+s.height?c+="M "+u+" "+(s.y+s.height)+" L "+u+" "+a+" ":Math.floor(s.y)>a?c+="M "+(s.x+r)+" "+o+" L "+u+" "+o+" L "+u+" "+s.y+" ":(c+="M "+(s.x+r)+" "+o+" L "+u+" "+o+" L "+u+" "+a+" ",t===e.visibleLabels.length-1&&(c+="M "+(s.x+r)+" "+a+" L "+u+" "+a+" "));break;case"WithoutTopandBottomBorder":o>s.y+s.height||a<Math.floor(s.y)||(c+="M "+(s.x+r)+" "+o+" L "+u+" "+o+" M "+u+" "+a+" L "+(s.x+r)+" "+a)}c+="Rectangle"===e.border.type?"M "+(s.x+r)+" "+s.y+" L "+(s.x+r)+" "+(s.y+s.height)+" ":"",""!==c&&this.createAxisBorderElement(e,t,c,i)}e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule&&this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(e,t,i,s)}drawYAxisTitle(e,t,i,s){let o=this.chart,n=e.opposedPosition?90:-90,r=("Inside"===e.tickPosition?0:e.majorTickLines.height+this.padding)+("Inside"===e.labelPosition?0:e.maxLabelSize.width+e.multiLevelLabelHeight+this.padding);r=e.opposedPosition?r+e.scrollBarHeight:-r-e.scrollBarHeight;let a=s.x+r,l=s.y+.5*s.height,h=new f(o.element.id+"_AxisTitle_"+t,a,l-this.padding,"middle",e.title,"rotate("+n+","+a+","+l+")",null,n);h.text=kt(e.updatedRect.height,h.text,e.titleStyle);let c=It(o.renderer,h,e.titleStyle,e.titleStyle.color||o.themeStyle.axisTitle,i);c.setAttribute("tabindex",e.tabIndex.toString()),c.setAttribute("aria-label",e.description||e.title)}drawXAxisGridLine(e,t,i,s){let o,n,r=0,a="",l="",c=e.opposedPosition?-e.majorTickLines.height:e.majorTickLines.height,d=e.opposedPosition?.5*-e.lineStyle.width:.5*e.lineStyle.width,u=Object(h.W)(e.crossesAt)?e.opposedPosition?-e.scrollBarHeight:e.scrollBarHeight:0,p=e.valueType.indexOf("Category")>-1&&"BetweenTicks"===e.labelPlacement?.5:0,m=e.visibleLabels.length,g="Inside"===e.tickPosition,b=g?s.y-c-d:s.y+c+d+u,y=this.chart.themeStyle;e.valueType.indexOf("Category")>-1&&m>0&&"BetweenTicks"===e.labelPlacement&&(m+=1);for(let h=0;h<m;h++)o="DateTimeCategory"!==e.valueType?e.visibleLabels[h]?e.visibleLabels[h].value-p:e.visibleLabels[h-1].value+e.visibleRange.interval-p:e.visibleLabels[h]?e.visibleLabels[h].value-p:e.visibleRange.max,r=He(o,e)*s.width+s.x,r>=s.x&&s.x+s.width>=r&&((ke(o,e.visibleRange)||this.isBorder(e,h,r))&&(a="M "+r+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+r+" "+this.seriesClipRect.y,this.renderGridLine(e,t,a,e.majorGridLines,"_MajorGridLine_",h,this.element,y.majorGridLine,e.majorGridLines.dashArray)),l="M "+r+" "+(s.y+d+(g?u:0))+" L "+r+" "+b,this.renderGridLine(e,t,l,e.majorTickLines,"_MajorTickLine_",h,i,y.majorTickLine),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&(n=this.drawAxisMinorLine(e,o,s,h),this.renderGridLine(e,t,n[0],e.minorGridLines,"_MinorGridLine_",h,this.element,y.minorGridLine,e.minorGridLines.dashArray),this.renderGridLine(e,t,n[1],e.minorTickLines,"_MinorTickLine_",h,i,y.minorTickLine)))}drawAxisMinorLine(e,t,i,s){let o,n,r=t,a=0,l=0,h=e.visibleRange,c="Inside"===e.tickPosition,d=[],u=e.opposedPosition?-e.minorTickLines.height:e.minorTickLines.height,p=1,m=1,g=c?i.y-u:i.y+u,b=c?i.x+u:i.x-u,y="",f="";if("Logarithmic"===e.valueType&&(o=Math.pow(e.logBase,r-h.interval),n=Math.pow(e.logBase,r),p=(n-o)/(e.minorTicksPerInterval+1),m=o+p),"Horizontal"===e.orientation)for(let x=0;x<e.minorTicksPerInterval;x++)r=this.findLogNumeric(e,m,p,r,s),m+=p,ke(r,h)&&(l=(r-h.min)/(h.max-h.min),l=Math.ceil((e.isInversed?1-l:l)*i.width),a=Math.floor(l+i.x),y=y.concat("M "+a+" "+this.seriesClipRect.y+"L "+a+" "+(this.seriesClipRect.y+this.seriesClipRect.height)),a=Math.floor(l+i.x),f=f.concat("M "+a+" "+i.y+"L "+a+" "+(g+e.scrollBarHeight)));else{u=e.opposedPosition?e.minorTickLines.height:-e.minorTickLines.height;for(let t=0;t<e.minorTicksPerInterval;t++)r=this.findLogNumeric(e,m,p,r,s),ke(r,h)&&(l=-1*Math.ceil((r-h.min)/(h.max-h.min)*i.height),a=Math.floor(l+i.y+i.height),y=y.concat("M "+this.seriesClipRect.x+" "+a+"L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+a+" "),a=Math.floor(l+i.y+i.height),f=f.concat("M "+i.x+" "+a+"L "+(b-e.scrollBarHeight)+" "+a+" ")),m+=p}return d.push(y),d.push(f),d}findLogNumeric(e,t,i,s,o){let n=e.visibleRange;if("Logarithmic"===e.valueType)s=Ae(t,e.logBase);else if("DateTime"===e.valueType)s+=e.dateTimeInterval/(e.minorTicksPerInterval+1);else if("DateTimeCategory"===e.valueType){let t="BetweenTicks"===e.labelPlacement?.5:0;s+=((e.visibleLabels[o+1]?e.visibleLabels[o+1].value-t:e.visibleRange.max)-(e.visibleLabels[o]?e.visibleLabels[o].value-t:e.visibleRange.min))/(e.minorTicksPerInterval+1)}else s+=n.interval/(e.minorTicksPerInterval+1);return s}drawXAxisLabels(e,t,i,s){let o,n,r,a,l,c,d,u,p,m,b=this.chart,y=0,x=0,v=b.renderer.createGroup({id:b.element.id+"AxisLabels"+t}),w="Inside"===e.labelPosition,_=e.opposedPosition,S=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+this.padding+.5*e.lineStyle.width,C=e.angle%360,M=90===C||-270===C?-4:-90===C||270===C?4:0,L=e.isInversed?s.x+s.width:s.x,O=0,A=e.visibleLabels.length,P=e.scrollbarSettings.enable||!w&&Object(h.W)(e.crossesAt)&&(e.zoomFactor<1||e.zoomPosition>0)?e.scrollBarHeight:0,k=[],T=!1;S+=90===C||270===C||-90===C||-270===C?w?5:-5:0;for(let h=0,R=A;h<R;h++){if(p=e.visibleLabels[h],m=Ce(p.originalText),y=He(p.value,e)*s.width+s.x,o=p.size,u=s.width/A,d=m?p.breakLabelSize.width:o.width,O=("Trim"===e.labelIntersectAction||"Wrap"===e.labelIntersectAction)&&0===C&&d>u?u:d,y-=O/2,w&&C?x=_?s.y+S:s.y-S:(n=_&&!w||!_&&w?-(S+P+(C?.5*o.height+2*e.maxLabelSize.height/5:p.index>1?o.height/4*2:0)):S+P+(C?.5*e.maxLabelSize.height:o.height/4*3),x=s.y+n*p.index),l=new f(b.element.id+t+"_AxisLabel_"+h,y,x,""),e.edgeLabelPlacement)switch(e.edgeLabelPlacement){case"None":break;case"Hide":if((0===h||e.isInversed&&h===R-1)&&l.x<s.x||(h===R-1||e.isInversed&&0===h)&&l.x+O>s.x+s.width)continue;break;case"Shift":(0===h||e.isInversed&&h===R-1)&&l.x<s.x?(u-=s.x-l.x,l.x=y=s.x):(h===R-1||e.isInversed&&0===h)&&l.x+O>s.x+s.width&&(o.width>u&&"Trim"===e.labelIntersectAction?u-=l.x+O-(s.x+s.width):u=O,l.x=y=s.x+s.width-u)}if(l.text=this.getLabelText(p,e,u),0!==C||"Hide"!==e.labelIntersectAction||0===h||!(e.isInversed?l.x+O>=L:l.x<=L)){if(L=e.isInversed?l.x:l.x+O,0!==C){r=this.getRotateText(m,e,p,C,b),a=w?r.height:e.maxLabelSize.height-Math.ceil(r.height),c=e.opposedPosition?.5*a:.5*-a,l.transform="rotate("+C+","+(y+.5*O+M)+","+(x+c)+")",l.y=m?l.y+(_?4*p.text.length:-4*p.text.length):l.y+c;let t=x+c-(l.y-(p.size.height/2+10)),i=new g(l.x,l.y-(p.size.height/2-5),p.size.width,t),s=this.getRectanglePoints(i);k.push(Ne(s,y+.5*O+M,x+c-t/2,C)),T=!1;for(let e=h;e>0;e--)if(k[h]&&k[e-1]&&Ve(k[h],k[e-1])){T=!0,k[h]=null;break}}It(b.renderer,l,p.labelStyle,p.labelStyle.color||b.themeStyle.axisLabel,v,e.opposedPosition!==("Inside"===e.labelPosition),b.redraw,!0,null,null,null,0,T)}}this.chart.enableCanvas||(b.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,v,e,t,s):i.appendChild(v))}getRectanglePoints(e){return[new Yt(e.x,e.y),new Yt(e.x+e.width,e.y),new Yt(e.x+e.width,e.y+e.height),new Yt(e.x,e.y+e.height)]}getLabelText(e,t,i){if(Ce(e.originalText)){let s,o=[];for(let n=0;n<e.text.length;n++)s=this.findAxisLabel(t,e.text[n],i),o.push(s);return o}return this.findAxisLabel(t,e.text,i)}drawXAxisBorder(e,t,i,s){if(e.border.width>0){let o,n,r,a="Outside"===e.labelPosition?e.scrollBarHeight:0,l=s.y+(e.opposedPosition?-1:1)*a,h=10,c=s.width/e.visibleRange.delta*("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval),d=e.maxLabelSize.height+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),u="",p="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?-.5:0,m=e.opposedPosition&&"Inside"===e.labelPosition||!e.opposedPosition&&"Outside"===e.labelPosition?s.y+d+h+a:s.y-d-h-a;for(let t=0,i=e.visibleLabels.length;t<i;t++)switch(n=He(e.visibleLabels[t].value+p,e),n=(e.isInversed?1-n:n)*s.width,"Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?(o=n+s.x,r=n+c+s.x):(o=n-.5*c+s.x,r=n+.5*c+s.x),e.border.type){case"Rectangle":case"WithoutTopBorder":o<s.x?u+="M "+s.x+" "+m+" L "+r+" "+m+" ":Math.floor(r)>s.width+s.x&&1!==e.visibleLabels.length?u+="M "+o+" "+l+" L "+o+" "+m+" L "+(s.width+s.x)+" "+m+" ":(u+="M "+o+" "+l+" L "+o+" "+m+" L "+r+" "+m+" ",0===t&&(u+="M "+o+" "+l+" L "+o+" "+m+" M "+o+" "+m+" L "+s.x+" "+m),t===e.visibleLabels.length-1&&(u+="M "+r+" "+l+" L "+r+" "+m+" M "+r+" "+m+" L "+(s.width+s.x)+" "+m));break;case"WithoutTopandBottomBorder":o<s.x||Math.floor(r)>s.width+s.x||(u+="M "+o+" "+l+" L "+o+" "+m+" M "+r+" "+l+" L "+r+" "+m)}u+="Rectangle"===e.border.type?"M  "+s.x+" "+l+"L "+(s.x+s.width)+" "+l:"",""!==u&&this.createAxisBorderElement(e,t,u,i)}this.chart.multiLevelLabelModule&&e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(e,t,i,s)}createAxisBorderElement(e,t,i,s){let o=dt(this.chart.element.id+"_BorderLine_"+t),n=o?o.getAttribute("d"):"",r=this.chart.renderer.drawPath(new _(this.chart.element.id+"_BorderLine_"+t,"transparent",e.border.width,e.border.color||this.chart.themeStyle.axisLine,1,"",i));r.setAttribute("style","pointer-events: none"),yt(this.chart.enableCanvas,s,r,this.chart.redraw,!0,"x","y",null,n,!0)}findAxisLabel(e,t,i){return"Trim"===e.labelIntersectAction?0!==e.angle||e.enableTrim?t:kt(i,t,e.labelStyle):t}drawXAxisTitle(e,t,i,s){let o=this.chart,n=u(e.title,e.titleStyle),r=Object(h.W)(e.crossesAt)?e.scrollBarHeight:0,a=("Inside"===e.tickPosition?0:e.majorTickLines.height+this.padding)+("Inside"===e.labelPosition?0:e.maxLabelSize.height+e.multiLevelLabelHeight+this.padding);a=e.opposedPosition?-(a+n.height/4+r):a+3*n.height/4+r;let l=new f(o.element.id+"_AxisTitle_"+t,s.x+.5*s.width,s.y+a,"middle",e.title);l.text=kt(e.updatedRect.width,l.text,e.titleStyle);let c=It(o.renderer,l,e.titleStyle,e.titleStyle.color||o.themeStyle.axisTitle,i);c.setAttribute("aria-label",e.description||e.title),c.setAttribute("tabindex",e.tabIndex.toString())}renderGridLine(e,t,i,s,o,n,r,a,l=null){let h,c,d=this.chart;s.width>0&&e.visible&&e.internalVisibility&&i&&(c=dt(d.element.id+o+t+"_"+n),h=c?c.getAttribute("d"):null,c=null,this.htmlObject=d.renderer.drawPath(new _(d.element.id+o+t+"_"+n,"transparent",s.width,s.color||a,null,l,i)),yt(d.enableCanvas,r,this.htmlObject,d.redraw,!0,"x","y",null,h,!0))}findParentNode(e,t,i,s){return null===i.crossAt?document.getElementById(e+"AxisGroup"+s+"Inside"):document.getElementById(e+"AxisGroup"+s+"Inside").contains(document.getElementById(t.id))?document.getElementById(e+"AxisGroup"+s+"Inside"):document.getElementById(e+"AxisGroup"+s+"Outside")}createZoomingLabel(e,t,i,s,o){let n=this.findParentNode(e.element.id,t,i,s);t.setAttribute("opacity","0.3");let r=e.renderer.createGroup({id:e.element.id+"AxisLabels_Zoom"+s});r=function(e,t,i,s,o,n){let r,a,l,h,c,d=t.opposedPosition,m=o?"start":"auto",b=e.availableSize.width,y=t.scrollbarSettings.enable||t.zoomingScrollBar&&t.zoomingScrollBar.svgObject?t.scrollBarHeight:0;for(let x=0;x<2;x++)r=u(x?t.endLabel:t.startLabel,t.labelStyle),o?(h=x?new Yt(n.x-y,n.y+3):new Yt(t.rect.x-y,n.y+n.height-3),a=n.x+(d?n.width+5+y:-(r.width+5+5+y)),l=n.y+(x?0:n.height-r.height-5),a+=a<0||b<a+r.width+5?d?-r.width/2:r.width/2:0,c=p(3,3,new g(a,l,r.width+5,r.height+5),h,5,!1,!1,!d,h.x,h.y+(x?-3:3))):(h=new Yt(x?n.x+n.width-3:n.x+3,n.y+n.height+y),a=n.x+(x?n.width-r.width-5:0),l=d?n.y-r.height-10-y:n.y+n.height+5+y,c=p(3,3,new g(a,l,r.width+5,r.height+5),h,5,d,!d,!1,h.x+(x?3:-3),h.y)),a+=2.5,l=l+r.height/4*3+2.5,i.appendChild(e.renderer.drawPath(new _(e.element.id+"_Zoom_"+s+"_AxisLabel_Shape_"+x,e.themeStyle.crosshairFill,2,e.themeStyle.crosshairFill,1,null,c))),It(e.renderer,new f(e.element.id+"_Zoom_"+s+"_AxisLabel_"+x,a,l,m,x?t.endLabel:t.startLabel),{color:e.themeStyle.crosshairLabel,fontFamily:"Segoe UI",fontWeight:"Regular",size:"11px"},e.themeStyle.crosshairLabel,i);return i}(e,i,r,s,"Vertical"===i.orientation,o),n.replaceChild(t,document.getElementById(t.id)),dt(e.element.id+"AxisLabels_Zoom"+s)?n.replaceChild(r,document.getElementById(r.id)):n.appendChild(r)}getRotateText(e,t,i,s,o){return e?new m(u(i.originalText,t.labelStyle).height,u(i.originalText,t.labelStyle).width):Le(t.labelStyle,i.text,s,o)}}class $t{constructor(e){this.currentPoints=[],this.previousPoints=[],this.insideRegion=!1,this.chart=e,this.lierIndex=0}getData(){let e,t,i,s,o=this.chart,n=null,r=null;for(let a=o.visibleSeries.length-1;a>=0;a--){if(r=o.visibleSeries[a],e="Scatter"===r.type||"Scatter"===r.drawType||!r.isRectSeries&&r.marker.visible?(r.marker.height+5)/2:0,t="Scatter"===r.type||"Scatter"===r.drawType||!r.isRectSeries&&r.marker.visible?(r.marker.width+5)/2:0,i=o.mouseX,s=o.mouseY,r.dragSettings.enable&&r.isRectSeries)if("Bar"===r.type&&o.isTransposed||!o.isTransposed&&"Bar"!==r.type){let e=r.marker.height/2;s=r.yAxis.isInversed?s-e:s+e}else{let e=r.marker.width/2;i=r.yAxis.isInversed?i+e:i-e}if(r.visible&&Ue(i,s,r.clipRect,e,t)&&(n=this.getRectPoint(r,r.clipRect,i,s)),n)return new qt(n,r)}return new qt(n,r)}isSelected(e){return(e.selectionMode.indexOf("Drag")>-1||e.selectionMode.indexOf("Lasso")>-1)&&e.selectionModule&&null!==e.selectionModule.rectPoints}getRectPoint(e,t,i,s){let o,n,r,a,l,h,c=0;if(this.chart.isScrolling)return null;for(let d of e.points)if(d.regionData||d.regions&&d.regions.length){if(d.regionData&&"PolarRadar"===this.chart.chartAreaType&&e.drawType.indexOf("Column")>-1&&(o=i-(e.clipRect.width/2+e.clipRect.x),n=s-(e.clipRect.height/2+e.clipRect.y),c=2*Math.PI*(d.regionData.currentXPosition<0?1+d.regionData.currentXPosition:d.regionData.currentXPosition),r=(Math.atan2(n,o)+.5*Math.PI-c)%(2*Math.PI),r=r<0?2*Math.PI+r:r,r+=2*Math.PI*e.chart.primaryXAxis.startAngle,a=d.regionData.startAngle,a-=c,a=a<0?2*Math.PI+a:a,l=d.regionData.endAngle,l-=c,l=l<0?2*Math.PI+l:l,h=Math.sqrt(Math.pow(Math.abs(o),2)+Math.pow(Math.abs(n),2)),r>=a&&r<=l&&(h>=d.regionData.innerRadius&&h<=d.regionData.radius||h<=d.regionData.innerRadius&&h>=d.regionData.radius)&&h<=e.chart.radius))return d;if(e.dragSettings.enable&&e.isRectSeries&&this.rectRegion(i,s,d,t,e))return this.insideRegion=!0,d;if(!this.insideRegion&&this.checkRegionContainsPoint(d.regions,t,i,s))return d;if(this.insideRegion&&this.checkRegionContainsPoint(d.regions,t,i,s))return d}return null}checkRegionContainsPoint(e,t,i,s){return e.some((e,o)=>(this.lierIndex=o,Ue(i,s,new g(("Cartesian"===this.chart.chartAreaType?t.x:0)+e.x,("Cartesian"===this.chart.chartAreaType?t.y:0)+e.y,e.width,e.height))))}rectRegion(e,t,i,s,o){let n,r="Bar"===o.type,a=o.yAxis.isInversed,l=o.chart.isTransposed,h=0,c=0,d=n=20;return a&&l?r?(h=i.regions[0].height-10,n=i.regions[0].width):(c=-10,d=i.regions[0].height):a||i.yValue<0?r?(c=-10,d=i.regions[0].height):(h=i.regions[0].height-10,n=i.regions[0].width):l?r?(h=-10,n=i.regions[0].width):(c=i.regions[0].width-10,d=i.regions[0].height):r?(c=i.regions[0].width-10,d=i.regions[0].height):(h=-10,n=i.regions[0].width),i.regions.some(i=>Ue(e,t,new g(("Cartesian"===this.chart.chartAreaType?s.x:0)+i.x+c,("Cartesian"===this.chart.chartAreaType?s.y:0)+i.y+h,n,d)))}getClosest(e,t){let i,s=e.xData;if(t>=e.xMin-.5&&t<=e.xMax+.5)for(let o of s)(null==i||Math.abs(o-t)<Math.abs(i-t))&&(i=o);return i}getClosestX(e,t){let i,s=t.clipRect;i=e.requireInvertedAxis?qe(e.mouseY-s.y,s.height,t.xAxis):Qe(e.mouseX-s.x,s.width,t.xAxis);let o=this.getClosest(t,i);for(let n of t.points)if(o===n.xValue&&n.visible)return new qt(n,t);return null}}var ei=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let ti=(()=>{class e extends h.e{}return ei([Object(h.s)(!1)],e.prototype,"visible",void 0),ei([Object(h.s)(null)],e.prototype,"name",void 0),ei([Object(h.s)("transparent")],e.prototype,"fill",void 0),ei([Object(h.s)(1)],e.prototype,"opacity",void 0),ei([Object(h.s)(0)],e.prototype,"angle",void 0),ei([Object(h.s)(!1)],e.prototype,"enableRotation",void 0),ei([Object(h.s)("Auto")],e.prototype,"position",void 0),ei([Object(h.s)(5)],e.prototype,"rx",void 0),ei([Object(h.s)(5)],e.prototype,"ry",void 0),ei([Object(h.s)("Center")],e.prototype,"alignment",void 0),ei([Object(h.g)({width:null,color:null},H)],e.prototype,"border",void 0),ei([Object(h.g)({left:5,right:5,top:5,bottom:5},X)],e.prototype,"margin",void 0),ei([Object(h.g)({size:"11px",color:"",fontStyle:"Normal",fontWeight:"Normal",fontFamily:"Segoe UI"},F)],e.prototype,"font",void 0),ei([Object(h.s)(null)],e.prototype,"template",void 0),ei([Object(h.s)("Hide")],e.prototype,"labelIntersectAction",void 0),e})(),ii=(()=>{class e extends h.e{}return ei([Object(h.s)(!1)],e.prototype,"visible",void 0),ei([Object(h.s)("Circle")],e.prototype,"shape",void 0),ei([Object(h.s)("")],e.prototype,"imageUrl",void 0),ei([Object(h.s)(5)],e.prototype,"height",void 0),ei([Object(h.s)(5)],e.prototype,"width",void 0),ei([Object(h.g)({width:2,color:null},H)],e.prototype,"border",void 0),ei([Object(h.g)({x:0,y:0},W)],e.prototype,"offset",void 0),ei([Object(h.s)(null)],e.prototype,"fill",void 0),ei([Object(h.s)(1)],e.prototype,"opacity",void 0),ei([Object(h.g)({},ti)],e.prototype,"dataLabel",void 0),e})();class si{constructor(){this.symbolLocations=null,this.regions=null,this.percentage=null,this.regionData=null,this.isSelect=!1,this.marker={visible:!1},this.isPointInRange=!0}}let oi=(()=>{class e extends h.e{constructor(){super(...arguments),this.clipRect=new g(0,0,0,0)}setDataSource(e,t){e&&(this.points=e.points),Ke(this.type),t.trendLineModule.initDataSource(this,t),t.visibleSeriesCount++}}return ei([Object(h.s)("")],e.prototype,"name",void 0),ei([Object(h.s)("0")],e.prototype,"dashArray",void 0),ei([Object(h.s)(!0)],e.prototype,"visible",void 0),ei([Object(h.s)("Linear")],e.prototype,"type",void 0),ei([Object(h.s)(2)],e.prototype,"period",void 0),ei([Object(h.s)(2)],e.prototype,"polynomialOrder",void 0),ei([Object(h.s)(0)],e.prototype,"backwardForecast",void 0),ei([Object(h.s)(0)],e.prototype,"forwardForecast",void 0),ei([Object(h.g)({},G)],e.prototype,"animation",void 0),ei([Object(h.g)({},ii)],e.prototype,"marker",void 0),ei([Object(h.s)(!0)],e.prototype,"enableTooltip",void 0),ei([Object(h.s)(null)],e.prototype,"intercept",void 0),ei([Object(h.s)("")],e.prototype,"fill",void 0),ei([Object(h.s)(1)],e.prototype,"width",void 0),ei([Object(h.s)("SeriesType")],e.prototype,"legendShape",void 0),e})(),ni=(()=>{class e extends h.e{}return ei([Object(h.s)(1)],e.prototype,"width",void 0),ei([Object(h.s)(10)],e.prototype,"length",void 0),ei([Object(h.s)(null)],e.prototype,"color",void 0),ei([Object(h.s)(1)],e.prototype,"opacity",void 0),e})(),ri=(()=>{class e extends h.e{}return ei([Object(h.s)(null)],e.prototype,"value",void 0),ei([Object(h.s)(null)],e.prototype,"color",void 0),ei([Object(h.s)("0")],e.prototype,"dashArray",void 0),e})(),ai=(()=>{class e extends h.e{}return ei([Object(h.s)(!1)],e.prototype,"visible",void 0),ei([Object(h.s)("Fixed")],e.prototype,"type",void 0),ei([Object(h.s)("Both")],e.prototype,"direction",void 0),ei([Object(h.s)("Vertical")],e.prototype,"mode",void 0),ei([Object(h.s)(null)],e.prototype,"color",void 0),ei([Object(h.s)(1)],e.prototype,"verticalError",void 0),ei([Object(h.s)(1)],e.prototype,"width",void 0),ei([Object(h.s)(1)],e.prototype,"horizontalError",void 0),ei([Object(h.s)(3)],e.prototype,"verticalPositiveError",void 0),ei([Object(h.s)(3)],e.prototype,"verticalNegativeError",void 0),ei([Object(h.s)(1)],e.prototype,"horizontalPositiveError",void 0),ei([Object(h.s)(1)],e.prototype,"horizontalNegativeError",void 0),ei([Object(h.g)(null,ni)],e.prototype,"errorBarCap",void 0),e})(),li=(()=>{class e extends h.e{constructor(){super(...arguments),this.currentViewData=[],this.clipRect=new g(0,0,0,0),this.seriesType="XY"}processJsonData(){let e=0,t=new si,i=this instanceof hi&&"Histogram"===this.type?"x":this.xName,s=this instanceof hi&&this.marker.dataLabel.name?this.marker.dataLabel.name:"";this instanceof hi&&("Waterfall"!==this.type&&"Histogram"!==this.type||(this.currentViewData=this.chart[Ke(this.type)+"SeriesModule"].processInternalData(Object(h.J)([],this.currentViewData,null,!0),this)),"Pareto"===this.category&&(this.currentViewData=function(e,t,i){let s=Object(h.J)([],e,null);return s.sort((e,i)=>{let s=0,o=0;for(let n=0;n<t.length;n++)s+=e[t[n]],o+=i[t[n]];return s>o?-1:s===o?0:1}),s}(Object(h.J)([],this.currentViewData,null,!0),[this.yName]),"Line"===this.type&&(this.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.currentViewData,this))));let o=Object.keys(this.currentViewData).length;if(this.points=[],this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0,this.sizeMax=-1/0,this.getSeriesType(),"Category"===this.xAxis.valueType)for(;e<o;)t=this.dataPoint(e,s,i),this.pushCategoryData(t,e,t.x),this.pushData(t,e),this.setEmptyPoint(t,e),e++;else if(this.xAxis.valueType.indexOf("DateTime")>-1){let n={skeleton:"full",type:"dateTime"},r=this.chart.intl.getDateParser(n),a=this.chart.intl.getDateFormat(n);for(;e<o;)t=this.dataPoint(e,s,i),Object(h.W)(t.x)||""===t.x?t.visible=!1:(t.x=new Date(T.b.parse.parseJson({val:t.x}).val),"DateTime"===this.xAxis.valueType?t.xValue=Date.parse(t.x.toString()):this.pushCategoryData(t,e,Date.parse(r(a(t.x))).toString()),this.pushData(t,e),this.setEmptyPoint(t,e)),e++}else for(;e<o;)t=this.dataPoint(e,s,i),t.xValue=t.x,this.pushData(t,e),this.setEmptyPoint(t,e),e++;if(this instanceof hi&&(this.type.indexOf("Spline")>-1||this.drawType.indexOf("Spline")>-1&&"PolarRadar"===this.chart.chartAreaType)){let e=this.type.indexOf("Area")>-1||this.drawType.indexOf("Area")>-1;this.chart["spline"+(e?"Area":"")+"SeriesModule"].findSplinePoint(this)}}pushData(e,t){e.index=t,e.yValue=e.y,this.xMin=Math.min(this.xMin,e.xValue),this.xMax=Math.max(this.xMax,e.xValue),this.xData.push(e.xValue)}dataPoint(e,t,i){let s;this.points[e]=new si,s=this.points[e];let o=this.currentViewData,n=this.enableComplexProperty?h.U:this.getObjectValue;return s.x=n(i,o[e]),s.high=n(this.high,o[e]),s.low=n(this.low,o[e]),s.open=n(this.open,o[e]),s.close=n(this.close,o[e]),s.volume=n(this.volume,o[e]),s.interior=n(this.pointColorMapping,o[e]),this instanceof hi&&(s.y=n(this.yName,o[e]),s.size=n(this.size,o[e]),s.text=n(t,o[e]),s.tooltip=n(this.tooltipMappingName,o[e])),s}getObjectValue(e,t){return t[e]}setEmptyPoint(e,t){if(!this.findVisibility(e))return e.visible=!0,null;switch(e.isEmpty=!0,this instanceof hi&&e.isPointInRange?this.emptyPointSettings.mode:"Drop"){case"Zero":e.visible=!0,this instanceof hi&&this.seriesType.indexOf("HighLow")>-1?(e.high=e.low=0,this.seriesType.indexOf("HighLowOpenClose")>-1&&(e.open=e.close=0)):e.y=e.yValue=this.yData[t]=0;break;case"Average":this instanceof hi&&(this.seriesType.indexOf("HighLow")>-1?(e.high=Object(h.W)(e.high)||isNaN(+e.high)?this.getAverage(this.high,t):e.high,e.low=Object(h.W)(e.low)||isNaN(+e.low)?this.getAverage(this.low,t):e.low,this.seriesType.indexOf("HighLowOpenClose")>-1&&(e.open=Object(h.W)(e.open)||isNaN(+e.open)?this.getAverage(this.open,t):e.open,e.close=Object(h.W)(e.close)||isNaN(+e.close)?this.getAverage(this.close,t):e.close)):e.y=e.yValue=this.yData[t]=this.getAverage(this.yName,t)),e.visible=!0;break;case"Drop":case"Gap":this.yData[t]=null,e.visible=!1}}findVisibility(e){let t,i=this.yAxis.minimum,s=this.yAxis.maximum;switch(this instanceof hi?this.seriesType:"HighLowOpenClose"){case"XY":return"PolarRadar"===this.chart.chartAreaType&&(!Object(h.W)(i)&&e.yValue<i||!Object(h.W)(s)&&e.yValue>s)?(e.isPointInRange=!1,!0):(this.setXYMinMax(e.yValue),this.yData.push(e.yValue),this instanceof hi&&"Bubble"===this.type&&(this.sizeMax=Math.max(this.sizeMax,Object(h.W)(e.size)||isNaN(+e.size)?this.sizeMax:e.size)),Object(h.W)(e.x)||Object(h.W)(e.y)||isNaN(+e.y));case"HighLow":return this.setHiloMinMax(e.high,e.low),Object(h.W)(e.x)||Object(h.W)(e.low)||isNaN(+e.low)||Object(h.W)(e.high)||isNaN(+e.high);case"HighLowOpenClose":return this.setHiloMinMax(e.high,e.low),Object(h.W)(e.x)||Object(h.W)(e.low)||isNaN(+e.low)||Object(h.W)(e.open)||isNaN(+e.open)||Object(h.W)(e.close)||isNaN(+e.close)||Object(h.W)(e.high)||isNaN(+e.high);case"BoxPlot":return t=(e.y||[null]).filter(e=>!Object(h.W)(e)&&!isNaN(e)).sort((e,t)=>e-t),e.y=t,this.yMin=Math.min(this.yMin,Math.min(...t)),this.yMax=Math.max(this.yMax,Math.max(...t)),!t.length}}setXYMinMax(e){this.yMin=Math.min(this.yMin,Object(h.W)(e)||isNaN(e)?this.yMin:e),this.yMax=Math.max(this.yMax,Object(h.W)(e)||isNaN(e)?this.yMax:e)}setHiloMinMax(e,t){this.yMin=Math.min(this.yMin,Math.min(Object(h.W)(t)||isNaN(t)?this.yMin:t,Object(h.W)(e)||isNaN(e)?this.yMin:e)),this.yMax=Math.max(this.yMax,Math.max(Object(h.W)(t)||isNaN(t)?this.yMax:t,Object(h.W)(e)||isNaN(e)?this.yMax:e))}getSeriesType(){let e;if(this instanceof hi){let t="PolarRadar"===this.chart.chartAreaType?this.drawType:this.type;if(t)switch(t){case"RangeColumn":case"RangeArea":case"Hilo":e="HighLow";break;case"HiloOpenClose":case"Candle":e="HighLowOpenClose";break;case"BoxAndWhisker":e="BoxPlot";break;default:e="XY"}}this.seriesType=e}pushCategoryData(e,t,i){if(!this.visible)return null;this.xAxis.isIndexed?(this.xAxis.labels[t]?this.xAxis.labels[t]+=", "+i:this.xAxis.labels.push(i),e.xValue=t):(this.xAxis.labels.indexOf(i)<0&&this.xAxis.labels.push(i),e.xValue=this.xAxis.labels.indexOf(i))}getAverage(e,t,i=this.currentViewData){return((i[t-1]&&i[t-1][e]||0)+(i[t+1]&&i[t+1][e]||0))/2}refreshDataManager(e){this.chart=e;let t=this.dataSource||e.dataSource;t instanceof T.a||!Object(h.W)(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then(e=>this.dataManagerSuccess(e)):this.dataManagerSuccess({result:t,count:t.length},!1)}dataManagerSuccess(e,t=!0){if(this.currentViewData=e.count?e.result:[],this.chart.allowServerDataBinding=!1,this instanceof hi){this.chart.stockChart&&(this.chart.stockChart.series[this.index].localData=this.currentViewData);let e={name:"seriesRender",series:this,data:this.currentViewData,fill:this.interior};this.chart.trigger("seriesRender",e),this.interior=e.fill,this.currentViewData=e.data}!this.chart.stockChart||this instanceof hi||(this.currentViewData=this.chart.stockChart.findCurrentData(this.chart.stockChart.series[0].localData,this.chart.stockChart.series[0].xName)),this.processJsonData(),this.recordsCount=e.count,this.refreshChart(t),this.currentViewData=null}refreshChart(e){let t=this.chart;if(this instanceof hi&&(t.visibleSeriesCount+=e?1:0),t.refreshTechnicalIndicator(this),this instanceof hi&&"TrendLine"!==this.category)for(let i of this.trendlines)i.setDataSource(this,t);t.visibleSeries.length===t.visibleSeriesCount&&(t.refreshBound(),t.trigger("loaded",{chart:t.isBlazor?{}:t}),this.chart.stockChart&&this.chart.stockChart.initialRender&&(this.chart.stockChart.stockChartDataManagerSuccess(),this.chart.stockChart.initialRender=!1)),this instanceof hi&&(t.visibleSeriesCount+=e?0:1)}}return ei([Object(h.s)("")],e.prototype,"xName",void 0),ei([Object(h.s)("")],e.prototype,"high",void 0),ei([Object(h.s)("")],e.prototype,"low",void 0),ei([Object(h.s)("")],e.prototype,"open",void 0),ei([Object(h.s)("")],e.prototype,"close",void 0),ei([Object(h.s)("")],e.prototype,"volume",void 0),ei([Object(h.s)("")],e.prototype,"pointColorMapping",void 0),ei([Object(h.s)(!0)],e.prototype,"visible",void 0),ei([Object(h.s)(null)],e.prototype,"xAxisName",void 0),ei([Object(h.s)(null)],e.prototype,"yAxisName",void 0),ei([Object(h.g)(null,G)],e.prototype,"animation",void 0),ei([Object(h.s)(null)],e.prototype,"fill",void 0),ei([Object(h.s)(1)],e.prototype,"width",void 0),ei([Object(h.s)("0")],e.prototype,"dashArray",void 0),ei([Object(h.s)("")],e.prototype,"dataSource",void 0),ei([Object(h.s)()],e.prototype,"query",void 0),ei([Object(h.f)([],ri)],e.prototype,"segments",void 0),ei([Object(h.s)("X")],e.prototype,"segmentAxis",void 0),ei([Object(h.s)(!1)],e.prototype,"enableComplexProperty",void 0),e})(),hi=(()=>{class e extends li{constructor(e,t,i,s){super(e,t,i,s),this.visibleSeriesCount=0,this.category="Series",this.isRectSeries=!1,this.drawPoints=[],this.delayedAnimation=!1}refreshAxisLabel(){if("Category"!==this.xAxis.valueType)return null;this.xAxis.labels=[];for(let e of this.xAxis.series)if(e.visible&&"TrendLine"!==e.category){e.xMin=1/0,e.xMax=-1/0;for(let t of e.points)e.pushCategoryData(t,t.index,t.x),e.xMin=Math.min(e.xMin,t.xValue),e.xMax=Math.max(e.xMax,t.xValue)}}findSeriesCollection(e,t,i){let s=[];for(let o of t.axes)for(let t of o.series)for(let o of e.axes)for(let e of o.series)e===t&&e.visible&&this.rectSeriesInChart(e,i)&&s.push(e);return s}rectSeriesInChart(e,t){let i=e.type.toLowerCase();return-1!==i.indexOf("column")||-1!==i.indexOf("bar")||-1!==i.indexOf("histogram")||-1!==i.indexOf("hiloopenclose")||-1!==i.indexOf("candle")||-1!==i.indexOf("pareto")||-1!==i.indexOf("hilo")||-1!==e.drawType.indexOf("Column")||-1!==i.indexOf("waterfall")||-1!==i.indexOf("boxandwhisker")||t}calculateStackedValue(e,t){for(let i of t.columns)for(let s of t.rows)this.calculateStackingValues(this.findSeriesCollection(i,s,!0),e)}calculateStackingValues(e,t){let i,s,o,n,r,a=[],l=[],h=[],c=[];t&&(c=this.findFrequencies(e));let d=[],u=[],p=[];for(let m of e)if(-1!==m.type.indexOf("Stacking")||-1!==m.drawType.indexOf("Stacking")&&"PolarRadar"===m.chart.chartAreaType){o=-1!==m.type.indexOf("StackingArea")?"StackingArea100":-1!==m.type.indexOf("StackingLine")?"StackingLine100":m.stackingGroup,l[o]||(l[o]=[],h[o]=[]),a=m.yData,i=[],s=[],d.push(m),p=Me(m);for(let e=0,d=p.length;e<d;e++)n=0,r=+a[e],void 0===l[o][p[e].xValue]&&(l[o][p[e].xValue]=0),void 0===h[o][p[e].xValue]&&(h[o][p[e].xValue]=0),t?(r=r/c[o][p[e].xValue]*100,r=isNaN(r)?0:r,p[e].percentage=+r.toFixed(2)):u[e]=u[e]?u[e]+Math.abs(r):Math.abs(r),r>=0?(n=l[o][p[e].xValue],l[o][p[e].xValue]+=r):(n=h[o][p[e].xValue],h[o][p[e].xValue]+=r),i.push(n),s.push(r+n),t&&s[e]>100&&(s[e]=100);m.stackedValues=new Ht(i,s),m.yMin=Math.min.apply(0,i),m.yMax=Math.max.apply(0,s),m.yMin>Math.min.apply(0,s)&&(m.yMin=t?-100:Math.min.apply(0,s)),m.yMax<Math.max.apply(0,i)&&(m.yMax=0)}this.findPercentageOfStacking(d,u,t)}findPercentageOfStacking(e,t,i){for(let s of e){if(i)return null;for(let e of Me(s))e.percentage=Math.abs(+(e.y/t[e.index]*100).toFixed(2))}}findFrequencies(e){let t,i=[],s=[];for(let o of e)if(o.yAxis.isStack100=-1!==o.type.indexOf("100"),s=Me(o),-1!==o.type.indexOf("Stacking")){t=-1!==o.type.indexOf("StackingArea")?"StackingArea100":-1!==o.type.indexOf("StackingLine")?"StackingLine100":o.stackingGroup,i[t]||(i[t]=[]);for(let e=0,n=s.length;e<n;e++)void 0===i[t][s[e].xValue]&&(i[t][s[e].xValue]=0),o.yData[e]>0?i[t][s[e].xValue]+=o.yData[e]:i[t][s[e].xValue]-=o.yData[e]}return i}renderSeries(e){let t=Ke(this.type);t=t.replace("100",""),e[t+"SeriesModule"]&&("Indicator"!==this.category&&"TrendLine"!==this.category&&this.createSeriesElements(e),this.visiblePoints=Me(this),e[t+"SeriesModule"].render(this,this.xAxis,this.yAxis,e.requireInvertedAxis),"Indicator"!==this.category&&(this.errorBar.visible&&this.chart.errorBarModule.render(this),this.marker.dataLabel.visible&&e.dataLabelModule.render(this,this.chart,this.marker.dataLabel),this.appendSeriesElement(e.seriesElements,e)),this.chart.enableCanvas||this.performAnimation(e,t,this.errorBar,this.marker,this.marker.dataLabel))}createSeriesElements(e){if("Indicator"!==this.category){let t,i,s=e.element.id,o=this.marker.border.width+8+5,n="Scatter"===this.type||"Bubble"===this.type?e.svgRenderer:e.renderer,r=void 0===this.index?this.category:this.index,a="Scatter"===this.type?(this.marker.height+o)/2:0,l="Scatter"===this.type?(this.marker.width+o)/2:0;if("PolarRadar"===e.chartAreaType){let i="Scatter"===this.drawType?Math.max(this.marker.width,this.marker.height):0;t=new Xt(s+"_ChartSeriesClipRect_"+r,"transparent",{width:1,color:"Gray"},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,e.radius+i),this.clipRectElement=ot(e.redraw,t,n,"drawCircularClipPath")}else t=new Wt(s+"_ChartSeriesClipRect_"+r,"transparent",{width:1,color:"Gray"},1,{x:-l,y:-a,width:this.clipRect.width+2*l,height:this.clipRect.height+2*a}),this.clipRectElement=ot(e.redraw,t,n);i="Cartesian"===e.chartAreaType?"translate("+this.clipRect.x+","+this.clipRect.y+")":"",this.symbolElement=null,this.seriesElement=n.createGroup({id:s+"SeriesGroup"+r,transform:i,"clip-path":"url(#"+s+"_ChartSeriesClipRect_"+r+")"}),this.chart.enableCanvas&&"Scatter"!==this.type&&"Bubble"!==this.type||this.seriesElement.appendChild(this.clipRectElement)}}appendSeriesElement(e,t){let i=this.marker,s=i.dataLabel,o=t.redraw;"TrendLine"!==this.category&&(yt(t.enableCanvas,t.seriesElements,this.seriesElement,o),this.errorBar.visible&&yt(t.enableCanvas,t.seriesElements,"PolarRadar"===t.chartAreaType?this.seriesElement:this.errorBarElement,o),"Scatter"!==this.type&&"Bubble"!==this.type||yt(!1,t.seriesElements,this.seriesElement,o)),i.visible&&("Cartesian"===t.chartAreaType||"Scatter"!==this.drawType&&"PolarRadar"===t.chartAreaType)&&"Scatter"!==this.type&&"Bubble"!==this.type&&"Candle"!==this.type&&"Hilo"!==this.type&&"HiloOpenClose"!==this.type&&yt(t.enableCanvas,t.seriesElements,this.symbolElement,o),s.visible&&(yt(t.enableCanvas,t.dataLabelElements,this.shapeElement,o),yt(t.enableCanvas,t.dataLabelElements,this.textElement,o)),!t.enableCanvas&&t.dataLabelElements.hasChildNodes()&&t.seriesElements.appendChild(t.dataLabelElements)}performAnimation(e,t,i,s,o){this.animation.enable&&e.animateSeries&&(e[t+"SeriesModule"].doAnimation(this),i.visible&&e.errorBarModule.doErrorBarAnimation(this),s.visible&&e.markerRender.doMarkerAnimation(this),o.visible&&"edge"!==h.d.info.name&&!h.d.isIE&&e.dataLabelModule.doDataLabelAnimation(this))}setPointColor(e,t){return t=e.interior||t,e.isEmpty&&this.emptyPointSettings.fill||t}setBorderColor(e,t){return t.width=e.isEmpty&&this.emptyPointSettings.border.width||t.width,t.color=e.isEmpty&&this.emptyPointSettings.border.color||t.color,t}}return ei([Object(h.s)("")],e.prototype,"name",void 0),ei([Object(h.s)("")],e.prototype,"yName",void 0),ei([Object(h.s)("Line")],e.prototype,"drawType",void 0),ei([Object(h.s)(!0)],e.prototype,"isClosed",void 0),ei([Object(h.s)("#2ecd71")],e.prototype,"bearFillColor",void 0),ei([Object(h.s)("#e74c3d")],e.prototype,"bullFillColor",void 0),ei([Object(h.s)(!1)],e.prototype,"enableSolidCandles",void 0),ei([Object(h.s)("")],e.prototype,"size",void 0),ei([Object(h.s)(null)],e.prototype,"binInterval",void 0),ei([Object(h.s)(!1)],e.prototype,"showNormalDistribution",void 0),ei([Object(h.s)("")],e.prototype,"stackingGroup",void 0),ei([Object(h.g)({color:"transparent",width:0},H)],e.prototype,"border",void 0),ei([Object(h.s)(1)],e.prototype,"opacity",void 0),ei([Object(h.s)(0)],e.prototype,"zOrder",void 0),ei([Object(h.s)("Line")],e.prototype,"type",void 0),ei([Object(h.g)(null,ai)],e.prototype,"errorBar",void 0),ei([Object(h.g)(null,ii)],e.prototype,"marker",void 0),ei([Object(h.g)({},J)],e.prototype,"dragSettings",void 0),ei([Object(h.f)([],oi)],e.prototype,"trendlines",void 0),ei([Object(h.s)(!0)],e.prototype,"enableTooltip",void 0),ei([Object(h.s)("")],e.prototype,"tooltipFormat",void 0),ei([Object(h.s)("")],e.prototype,"tooltipMappingName",void 0),ei([Object(h.s)("SeriesType")],e.prototype,"legendShape",void 0),ei([Object(h.s)(null)],e.prototype,"selectionStyle",void 0),ei([Object(h.s)(null)],e.prototype,"unSelectedStyle",void 0),ei([Object(h.s)(null)],e.prototype,"nonHighlightStyle",void 0),ei([Object(h.s)(1)],e.prototype,"minRadius",void 0),ei([Object(h.s)(3)],e.prototype,"maxRadius",void 0),ei([Object(h.s)("Natural")],e.prototype,"splineType",void 0),ei([Object(h.s)(.5)],e.prototype,"cardinalSplineTension",void 0),ei([Object(h.g)(null,q)],e.prototype,"emptyPointSettings",void 0),ei([Object(h.s)(!0)],e.prototype,"showMean",void 0),ei([Object(h.s)("Normal")],e.prototype,"boxPlotMode",void 0),ei([Object(h.s)(null)],e.prototype,"columnWidth",void 0),ei([Object(h.s)(0)],e.prototype,"columnSpacing",void 0),ei([Object(h.s)("#C64E4A")],e.prototype,"negativeFillColor",void 0),ei([Object(h.s)("#4E81BC")],e.prototype,"summaryFillColor",void 0),ei([Object(h.s)()],e.prototype,"intermediateSumIndexes",void 0),ei([Object(h.s)()],e.prototype,"sumIndexes",void 0),ei([Object(h.g)({color:"black",width:2},V)],e.prototype,"connector",void 0),ei([Object(h.g)(null,U)],e.prototype,"cornerRadius",void 0),e})();class ci{constructor(e,t){this.initDataManager(e,t)}initDataManager(e,t){this.dataManager=e instanceof T.a?e:new T.a(e),this.query=t instanceof T.e?t:new T.e}generateQuery(){return this.query.clone()}getData(e){if(this.dataManager.ready){let t=new T.c;return this.dataManager.ready.then(i=>{this.dataManager.executeQuery(e).then(e=>{t.resolve(e)})}).catch(e=>{t.reject(e)}),t.promise}return this.dataManager.executeQuery(e)}}class di extends $t{constructor(e){super(e),this.elementId=e.element.id}addEventListener(){this.chart.isDestroyed||(this.chart.on(h.d.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(h.d.touchEndEvent,this.mouseUpHandler,this))}removeEventListener(){this.chart.isDestroyed||(this.chart.off(h.d.touchMoveEvent,this.mouseMoveHandler),this.chart.off(h.d.touchEndEvent,this.mouseUpHandler))}mouseUpHandler(){let e=this.chart;!e.isTouch||e.crosshair.enable||this.isSelected(e)||this.markerMove(!0)}mouseMoveHandler(){let e=this.chart;e.crosshair.enable&&!e.tooltip.enable||e.isTouch&&!e.startMove||this.isSelected(e)||this.markerMove(!1)}markerMove(e){let t,i,s,o,n=this.chart;if(this.currentPoints=[],n.tooltip.shared&&n.tooltip.enable){if(!Ue(n.mouseX,n.mouseY,n.chartAxisLayoutPanel.seriesClipRect))return null;if(n.tooltip.enable){let e="PolarRadar"===n.chartAreaType?this.getData():null;for(let i of n.visibleSeries)i.enableTooltip&&"Indicator"!==i.category&&("Cartesian"===n.chartAreaType&&i.visible?t=this.getClosestX(n,i):"PolarRadar"===n.chartAreaType&&i.visible&&null!==e.point&&(t=new qt(i.points[e.point.index],i)),t&&(this.currentPoints.push(t),t=null))}}else t=this.getData(),o=t.series,i=this.previousPoints[0],s=o&&("Bubble"===o.type||"Scatter"===o.drawType||"Scatter"===o.type||"Candle"!==o.type&&"Hilo"!==o.type&&"HiloOpenClose"!==o.type&&o.marker.visible&&0!==o.marker.width&&0!==o.marker.height),t.lierIndex=this.lierIndex,t.point&&s&&(!i||i.point!==t.point||i&&i.lierIndex>3&&i.lierIndex!==this.lierIndex)&&this.currentPoints.push(t),t.point&&s&&n.isPointMouseDown&&this.currentPoints.push(t);let r=this.previousPoints.length;if(this.currentPoints.length>0&&(0===r||n.isPointMouseDown||r>0&&this.previousPoints[0].point!==this.currentPoints[0].point)){this.previousPoints.length>0&&this.removeHighlightedMarker();for(let e of this.currentPoints)(e&&e.point||"Candle"!==o.type&&"Hilo"!==o.type&&"HiloOpenClose"!==o.type)&&(wt(this.markerExplode),this.isRemove=!0,e.point.symbolLocations.map((t,i)=>{e.series.isRectSeries&&!e.point.marker.visible||this.drawTrackBall(e.series,e.point,t,i)}));this.previousPoints=Object(h.J)([],this.currentPoints,null,!0)}n.tooltip.enable||!(0===this.currentPoints.length&&this.isRemove||e&&this.isRemove)&&Ue(n.mouseX,n.mouseY,n.chartAxisLayoutPanel.seriesClipRect)||(this.isRemove=!1,this.markerExplode=setTimeout(()=>{this.removeHighlightedMarker()},2e3)),this.currentPoints=[]}drawTrackBall(e,t,i,s){let o,n=t.marker,r=e.marker,a=n.shape||r.shape,l=e.symbolElement||e.seriesElement;this.chart.highlightModule&&"None"!==this.chart.highlightMode&&(o=this.chart.highlightModule.generateStyle(e)),this.chart.selectionModule&&"None"!==this.chart.selectionMode&&(o=this.chart.selectionModule.generateStyle(e));let c=this.elementId+"_Series_"+e.index+"_Point_"+t.index+"_Trackball"+(s||""),d=new m((n.width||r.width)+5,(n.height||r.height)+5),u=n.border||e.border,p="BoxAndWhisker"===e.type||"Bubble"===e.type||"Scatter"===e.type,g=u.color&&"transparent"!==u.color?u.color:n.fill||t.interior||(p?t.color:e.interior),b=Lt(Ot(g)),y=n.border?n.border.width:r.border.width,f=e.chart.themeStyle.markerShadow||"rgba("+b.r+","+b.g+","+b.b+",0.2)";for(let m=0;m<2;m++){let s=new _(c+"_"+m,m?n.fill||t.color||(p?e.interior:"#ffffff"):"transparent",y+(m?0:8),m?g:f,n.opacity||r.opacity,null,null),u=ht(i,a,d,r.imageUrl,s,0,this.chart.svgRenderer,e.clipRect);u.setAttribute("class","EJ2-Trackball");let b=-1!==l.id.indexOf("Symbol")?"_Symbol":"",x=document.getElementById(this.elementId+"_Series_"+e.index+"_Point_"+t.index+b);""===o||Object(h.W)(o)||Object(h.W)(x)||!x.hasAttribute("class")||o!==x.getAttribute("class")||u.classList.add(o),l.appendChild(u)}}removeHighlightedMarker(){let e=document.getElementsByClassName("EJ2-Trackball");for(let t=0,i=e.length;t<i;t++)Object(h.gb)(e[0]);this.previousPoints=[]}}class ui extends di{constructor(e){super(e),this.addEventListener()}render(e){let t=e.chart.redraw;this.createElement(e,t);for(let i of e.points)i.visible&&i.symbolLocations.length&&i.symbolLocations.map((s,o)=>{this.renderMarker(e,i,s,o,t)})}renderMarker(e,t,i,s,o){let n,r,a,l,c,d=void 0===e.index?e.category:e.index,u=e.marker,p={color:u.border.color,width:u.border.width},g=u.border.color;i.x=i.x+u.offset.x,i.y=i.y-u.offset.y;let b,y,f="BoxAndWhisker"===e.type,x=u.fill||(f?t.interior||e.interior:"#ffffff"),v=f?function(e,t){let i;for(let s=0,o=e.length;s<o;s++)e[s].id.indexOf(t)>-1&&(i=e[s]);return i}(e.seriesElement.childNodes,"Series_"+e.index+"_Point_"+t.index):e.symbolElement;if(p.color=g||e.setPointColor(t,e.interior),n=this.elementId+"_Series_"+d+"_Point_"+t.index+"_Symbol"+(s||""),b={cancel:!1,name:"pointRender",series:e,point:t,fill:t.isEmpty&&e.emptyPointSettings.fill||x,border:{color:"BoxAndWhisker"===e.type?Object(h.W)(g)||"transparent"===g?At(x,-.6):g:p.color,width:p.width},height:u.height,width:u.width,shape:u.shape},b.border=e.setBorderColor(t,{width:b.border.width,color:b.border.color}),e.isRectSeries&&"BoxAndWhisker"!==e.type||(this.chart.trigger("pointRender",b),t.color=b.fill),t.color=b.fill,b.cancel)i=null,t.marker={visible:!1};else{let h;h="RangeArea"===e.type||"RangeColumn"===e.type||"RangeColumn"===e.drawType?s?t.low:t.high:f?t.outliers[s]:t.y,c=new _(n,b.fill,b.border.width,b.border.color,u.opacity,null),(null!=v||this.chart.enableCanvas)&&(o&&dt(c.id)&&(y=dt(c.id),l="Circle"===b.shape?"c":"",r={x:+y.getAttribute(l+"x"),y:+y.getAttribute(l+"y")},a=y.getAttribute("d")),y=ht(i,b.shape,new m(b.width,b.height),u.imageUrl,c,(t.x.toString(),h.toString()),this.chart.renderer,e.clipRect),yt(this.chart.enableCanvas,v,y,o,!0,l+"x",l+"y",r,a,!1,!1,null,e.chart.duration)),t.marker={border:b.border,fill:b.fill,height:b.height,visible:!0,shape:b.shape,width:b.width}}}createElement(e,t){let i,s,o,n=e.marker,r=n.border.width+8+5,a=e.chart.svgRenderer,l=void 0===e.index?e.category:e.index;if(s="Cartesian"===e.chart.chartAreaType?"translate("+e.clipRect.x+","+e.clipRect.y+")":"",n.visible){let h=(n.height+r)/2,c=(n.width+r)/2;"Cartesian"===e.chart.chartAreaType?(o=new Wt(this.elementId+"_ChartMarkerClipRect_"+l,"transparent",{width:1,color:"Gray"},1,{x:-c,y:-h,width:e.clipRect.width+2*c,height:e.clipRect.height+2*h}),i=ot(t,o,a)):(o=new Xt(this.elementId+"_ChartMarkerClipRect_"+l,"transparent",{width:1,color:"Gray"},1,e.clipRect.width/2+e.clipRect.x,e.clipRect.height/2+e.clipRect.y,e.chart.radius+Math.max(h,c)),i=ot(t,o,a,"drawCircularClipPath")),o={id:this.elementId+"SymbolGroup"+l,transform:s,"clip-path":"url(#"+this.elementId+"_ChartMarkerClipRect_"+l+")"},e.symbolElement=a.createGroup(o),e.symbolElement.appendChild(i),this.chart.enableCanvas&&document.getElementById(this.chart.element.id+"_tooltip_svg").appendChild(e.symbolElement)}}getRangeLowPoint(e,t){let i=e.x,s=e.y;return t.chart.requireInvertedAxis?(s+=e.height/2,i+=t.yAxis.isInversed?e.width:0):(s+=t.yAxis.isInversed?0:e.height,i+=e.width/2),{x:i,y:s}}doMarkerAnimation(e){if("Scatter"!==e.type&&"Bubble"!==e.type&&"Candle"!==e.type&&"Hilo"!==e.type&&"HiloOpenClose"!==e.type&&("PolarRadar"!==e.chart.chartAreaType||"Scatter"!==e.drawType)){let t=e.symbolElement.childNodes,i=e.animation.delay+e.animation.duration,s=e.chart.animated?e.chart.duration:200,o=1,n="RangeArea"===e.type||"RangeColumn"===e.type?2:1;for(let r=0;r<e.points.length;r++)if(e.points[r].symbolLocations){if(!e.points[r].symbolLocations.length||!t[o])continue;if(it(t[o],i,s,e,r,e.points[r].symbolLocations[0],!1),2===n){let n=this.getRangeLowPoint(e.points[r].regions[0],e);it(t[o+1],i,s,e,r,n,!1)}o+=n}}}}var pi=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let mi=(()=>{class e extends h.e{}return pi([Object(h.s)(0)],e.prototype,"x",void 0),pi([Object(h.s)(0)],e.prototype,"y",void 0),e})(),gi=(()=>{class e extends h.e{}return pi([Object(h.s)(!0)],e.prototype,"visible",void 0),pi([Object(h.s)(null)],e.prototype,"height",void 0),pi([Object(h.s)(null)],e.prototype,"width",void 0),pi([Object(h.g)({x:0,y:0},mi)],e.prototype,"location",void 0),pi([Object(h.s)("Auto")],e.prototype,"position",void 0),pi([Object(h.s)(8)],e.prototype,"padding",void 0),pi([Object(h.s)("Center")],e.prototype,"alignment",void 0),pi([Object(h.g)(k.legendLabelFont,F)],e.prototype,"textStyle",void 0),pi([Object(h.s)(10)],e.prototype,"shapeHeight",void 0),pi([Object(h.s)(10)],e.prototype,"shapeWidth",void 0),pi([Object(h.g)({},H)],e.prototype,"border",void 0),pi([Object(h.g)({left:0,right:0,top:0,bottom:0},X)],e.prototype,"margin",void 0),pi([Object(h.s)(5)],e.prototype,"shapePadding",void 0),pi([Object(h.s)("transparent")],e.prototype,"background",void 0),pi([Object(h.s)(1)],e.prototype,"opacity",void 0),pi([Object(h.s)(!0)],e.prototype,"toggleVisibility",void 0),pi([Object(h.s)(null)],e.prototype,"description",void 0),pi([Object(h.s)(3)],e.prototype,"tabIndex",void 0),e})();class bi{constructor(e,t,i,s,o,n,r,a,l){this.location={x:0,y:0},this.text=e,this.fill=t,this.shape=i,this.visible=s,this.type=o,this.markerVisibility=r,this.markerShape=n,this.pointIndex=a,this.seriesIndex=l}}var yi=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let fi=(()=>{class e extends li{constructor(){super(...arguments),this.clipRect=new g(0,0,0,0)}setDataSource(e,t){e&&(this.xData=e.xData,this.yData=e.yData,this.points=e.points),t[Ke(this.type)+"IndicatorModule"].initDataSource(this,t),t.visibleSeriesCount+=this.targetSeries.length}}return yi([Object(h.s)("Sma")],e.prototype,"type",void 0),yi([Object(h.s)(14)],e.prototype,"period",void 0),yi([Object(h.s)(14)],e.prototype,"kPeriod",void 0),yi([Object(h.s)(3)],e.prototype,"dPeriod",void 0),yi([Object(h.s)(80)],e.prototype,"overBought",void 0),yi([Object(h.s)(20)],e.prototype,"overSold",void 0),yi([Object(h.s)(2)],e.prototype,"standardDeviation",void 0),yi([Object(h.s)("Close")],e.prototype,"field",void 0),yi([Object(h.s)(12)],e.prototype,"slowPeriod",void 0),yi([Object(h.s)(26)],e.prototype,"fastPeriod",void 0),yi([Object(h.s)(!0)],e.prototype,"showZones",void 0),yi([Object(h.g)({color:"#ff9933",width:2},V)],e.prototype,"macdLine",void 0),yi([Object(h.s)("Both")],e.prototype,"macdType",void 0),yi([Object(h.s)("#2ecd71")],e.prototype,"macdPositiveColor",void 0),yi([Object(h.s)("#e74c3d")],e.prototype,"macdNegativeColor",void 0),yi([Object(h.s)("rgba(211,211,211,0.25)")],e.prototype,"bandColor",void 0),yi([Object(h.g)({color:"#ffb735",width:1},V)],e.prototype,"upperLine",void 0),yi([Object(h.g)({color:"#f2ec2f",width:1},V)],e.prototype,"lowerLine",void 0),yi([Object(h.g)({color:"#f2ec2f",width:1},V)],e.prototype,"periodLine",void 0),yi([Object(h.s)("")],e.prototype,"seriesName",void 0),e})();class xi{constructor(e){this.control=e}print(e){this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);let t={cancel:!1,htmlContent:this.getHTMLContent(e),name:"beforePrint"};this.control.trigger("beforePrint",t),t.cancel||Object(h.fb)(t.htmlContent,this.printWindow)}getHTMLContent(e){let t=Object(h.F)("div");if(e)if(e instanceof Array)for(let i=0;i<e.length;i++)t.appendChild(dt(e[i]).cloneNode(!0));else e instanceof Element?t.appendChild(e.cloneNode(!0)):t.appendChild(dt(e).cloneNode(!0));else t.appendChild(this.control.element.cloneNode(!0));return t}export(e,t,i,s,o,n,r){let a=this.getControlsValue(s,r);o=o||a.width,n=n||a.height;let l,c=this.control.svgObject,d=this.control.enableCanvas;d||(c=Object(h.F)("canvas",{id:"ej2-canvas",attrs:{width:o.toString(),height:n.toString()}}));let u=!(h.d.userAgent.toString().indexOf("HeadlessChrome")>-1);i=Object(h.W)(i)?R.l.Landscape:i;let p=window.URL.createObjectURL(new Blob("SVG"===e?['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+a.svg.outerHTML+"</svg>"]:[(new XMLSerializer).serializeToString(a.svg)],{type:"image/svg+xml"}));if("SVG"===e)if("msie"===h.d.info.name){let i=new Blob([(new XMLSerializer).serializeToString(a.svg)],{type:"application/octet-stream"});window.navigator.msSaveOrOpenBlob(i,t+"."+e.toLocaleLowerCase())}else this.triggerDownload(t,e,p,u);else if("msie"===h.d.info.name){let s=c;d||(s=this.createCanvas()),l=s.toDataURL(),"PDF"===e?this.exportPdf(s,i,o,n,u,t):this.doexport(e,l,t)}else{let s=new Image,r=c.getContext("2d");s.onload=()=>{r.drawImage(s,0,0),window.URL.revokeObjectURL(p),"PDF"===e?this.exportPdf(c,i,o,n,u,t):window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(c.msToBlob(),t+"."+e.toLocaleLowerCase()):this.triggerDownload(t,e,c.toDataURL("image/"+e.toLowerCase()),u)},s.src=p}d||Oe(document.getElementById(this.control.element.id+"_canvas"))}getDataUrl(e){let t=this.getControlsValue([e]),i=this.control.svgObject,s=this.control.enableCanvas;s||(i=Object(h.F)("canvas",{id:"ej2-canvas",attrs:{width:t.width.toString(),height:t.height.toString()}}));let o=window.URL.createObjectURL(new Blob([(new XMLSerializer).serializeToString(t.svg)],{type:"image/svg+xml"}));if("msie"===h.d.info.name){let t=i;s||(t=this.createCanvas());let o={name:"afterExport",cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger("afterExport",o),{element:t,dataUrl:t.toDataURL()}}{let t=new Image,s=i.getContext("2d");return t.onload=()=>{s.drawImage(t,0,0),window.URL.revokeObjectURL(o);let n={name:"afterExport",cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger("afterExport",n),n.dataUrl},t.src=o,{element:i,blobUrl:o}}}triggerDownload(e,t,i,s){Object(h.F)("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(s?"click":"move",{view:window,bubbles:!1,cancelable:!0}))}getControlsValue(e,t){let i=0,s=0,o="",n=this.control.enableCanvas,r=new c("").createSvg({id:"Svg_Export_Element",width:200,height:200});return e.map(e=>{let a=e.svgObject.cloneNode(!0),l=e.renderer.createGroup({style:Object(h.W)(t)||t?"transform: translateY("+s+"px)":"transform: translateX("+i+"px)"});n||l.appendChild(a),i=Object(h.W)(t)||t?Math.max(e.availableSize.width,i):i+e.availableSize.width,s=Object(h.W)(t)||t?s+e.availableSize.height:Math.max(e.availableSize.height,s),o+=e.svgObject.outerHTML,n||r.appendChild(l)}),n||(r.setAttribute("width",i+""),r.setAttribute("height",s+"")),{width:i,height:s,svg:r}}createCanvas(){let e=this.control;this.canvasRender(!0,e);let t=e.svgObject;return this.canvasRender(!1,e),t}canvasRender(e,t){t.enableCanvas=e,t.preRender(),t.render()}exportPdf(e,t,i,s,o,n){let r,a,l=new R.e,h=l.pageSettings.margins,c=l.pageSettings.width,d=l.pageSettings.height,u=e.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");l.pageSettings.orientation=t,r=c<i?i+h.left+h.right:c,a=d<s?s+h.top+h.bottom:d,l.pageSettings.size=new R.x(r,a),u=u.slice(u.indexOf(",")+1),l.pages.add().graphics.drawImage(new R.a(u),0,0,i,s),o&&(l.save(n+".pdf"),l.destroy())}doexport(e,t,i){let s=[];s=[t],this.exportImage(s,i,e||"JPG",t)}exportImage(e,t,i,s){let o=[],n=e instanceof HTMLElement?0:e.length;for(let r=0;r<n;r++){let t=e[r].replace(/^data:[a-z]*;,/,"").split(","),i=atob(t[1]),s=new ArrayBuffer(i.length),n=new Uint8Array(s);for(let e=0;e<i.length;e++)n[e]=i.charCodeAt(e);o.push(s)}for(let r=0;r<o.length;r++){let e=new Blob([o[r]],{type:"application/octet-stream"});"msie"===h.d.info.name&&window.navigator.msSaveOrOpenBlob(e,t+"."+i.toLocaleLowerCase())}}}var vi=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let wi=(()=>{class e extends h.e{}return vi([Object(h.s)(!1)],e.prototype,"enable",void 0),vi([Object(h.s)("")],e.prototype,"dashArray",void 0),vi([Object(h.g)({color:null,width:1},H)],e.prototype,"line",void 0),vi([Object(h.s)("Both")],e.prototype,"lineType",void 0),e})(),_i=(()=>{class e extends h.e{}return vi([Object(h.s)(!1)],e.prototype,"enableSelectionZooming",void 0),vi([Object(h.s)(!1)],e.prototype,"enablePinchZooming",void 0),vi([Object(h.s)(!1)],e.prototype,"enableMouseWheelZooming",void 0),vi([Object(h.s)(!0)],e.prototype,"enableDeferredZooming",void 0),vi([Object(h.s)("XY")],e.prototype,"mode",void 0),vi([Object(h.s)(["Zoom","ZoomIn","ZoomOut","Pan","Reset"])],e.prototype,"toolbarItems",void 0),vi([Object(h.s)(!1)],e.prototype,"enablePan",void 0),vi([Object(h.s)(!1)],e.prototype,"enableScrollbar",void 0),e})(),Si=(()=>{let e=class extends h.h{constructor(e,t){super(e,t),this.animated=!1,this.isPointMouseDown=!1,this.isScrolling=!1,this.visible=0,this.clickCount=0,this.singleClickTimer=0,this.chartAreaType="Cartesian",this.chartid=57723,Object(h.pb)("mergePersistData",this.mergePersistChartData,this)}mergePersistChartData(){let e=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!Object(h.W)(e)&&""!==e){let t=JSON.parse(e),i=Object.keys(t);this.isProtectedOnChange=!0;for(let e of i)"object"!=typeof this[e]||Object(h.W)(this[e])?this[e]=t[e]:Object(h.J)(this[e],t[e]);this.isProtectedOnChange=!1}}preRender(){this.isBlazor=window.Blazor,this.allowServerDataBinding=!1,this.unWireEvents(),this.initPrivateVariable(),this.setCulture(),this.wireEvents(),this.stockChart&&(null===this.stockChart.tooltip.header&&(this.tooltip.header="<b>${point.x}</b>"),null===this.stockChart.tooltip.format&&(this.tooltip.format="High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>",""!==this.stockChart.series[0].volume&&(this.tooltip.format+="<br/>Volume : <b>${point.volume}</b>")),this.animateSeries=!1)}initPrivateVariable(){if(this.animateSeries=!0,this.delayRedraw=!1,this.horizontalAxes=[],this.verticalAxes=[],this.refreshAxis(),this.refreshDefinition(this.rows),this.refreshDefinition(this.columns),this.tooltipModule&&(this.tooltipModule.previousPoints=[]),""===this.element.id){let e=document.getElementsByClassName("e-chart").length;this.element.id="chart_"+this.chartid+"_"+e}this.svgId=this.stockChart?this.stockChart.element.id+"_stockChart_chart":this.element.id+(this.enableCanvas?"_canvas":"_svg")}render(){this.svgRenderer=new c(this.element.id);let e={chart:this.isBlazor?{}:this,theme:this.theme,name:"load",cancel:!1};this.stockChart?this.cartesianChartRendering(e):this.trigger("load",e,()=>{this.cartesianChartRendering(e)})}cartesianChartRendering(e){this.theme=this.isBlazor?e.theme:this.theme,this.createChartSvg(),this.setTheme(),this.markerRender=new ui(this),this.calculateAreaType(),this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.calculateVisibleAxis(),this.processData(),this.renderComplete(),this.allowServerDataBinding=!0}getLocalizedLabel(e){return this.localeObject.getConstant(e)}animate(e){this.redraw=!0,this.animated=!0,this.duration=e||1e3}refreshBound(){if(this.legendModule&&this.legendSettings.visible&&this.legendModule.getLegendOptions(this.visibleSeries,this),this.tooltip.enable&&this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.calculateStackValues(),this.calculateBounds(),this.stockChart&&!this.stockChart.rangeFound&&(this.stockChart.enablePeriodSelector||this.stockChart.enableSelector))return null;this.renderElements(),Oe("chartmeasuretext"),this.removeSelection()}calculateStackValues(){let e,t=!1;for(let i=0,s=this.visibleSeries.length;i<s;i++)e=this.visibleSeries[i],e.position=e.rectCount=void 0,-1===e.type.indexOf("Stacking")&&(-1===e.drawType.indexOf("Stacking")||"PolarRadar"!==this.chartAreaType)||t||(e.calculateStackedValue(e.type.indexOf("100")>-1,this),t=!0)}removeSelection(){for(let e of this.visibleSeries)if(e.visible)for(let t of e.points)t.isSelect=!1;dt(this.element.id+"_ej2_drag_multi_group")?(this.selectionMode.indexOf("Drag")>-1&&(this.selectionModule.filterArray=[]),Oe(this.element.id+"_ej2_drag_multi_group"),this.selectionModule.calculateDragSelectedElements(this,new g(0,0,0,0),!0)):dt(this.element.id+"_ej2_drag_group")&&("Lasso"!==this.selectionMode&&(this.selectionModule.filterArray=[]),Oe(this.element.id+"_ej2_drag_group"),this.selectionModule.calculateDragSelectedElements(this,new g(0,0,0,0),!0))}renderElements(){this.renderBorder(),this.renderTitle(),this.renderAreaBorder(),this.renderSeriesElements(this.renderAxes()),this.renderLegend(),this.applyZoomkit(),this.performSelection(),this.setSecondaryElementPosition();for(let e of this.visibleSeries)Object(h.rb)(this.element.id+"_DataLabel","Template",e.marker.dataLabel);this.renderAnnotation()}renderAxes(){let e;return this.yAxisElements=this.renderer.createGroup({id:this.element.id+"yAxisCollection"}),this.rows.length>0&&this.columns.length>0&&(e=this.chartAxisLayoutPanel.renderAxes()),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Behind",this.axisCollections),e}renderLegend(){if(this.legendModule&&this.legendModule.legendCollections.length){this.legendModule.calTotalPage=!0;let e=this.legendSettings.border.width,t=this.legendModule.legendBounds,i=new g(t.x,t.y,t.width,t.height);this.enableCanvas&&(i=new g(i.x-e/2,i.y-e/2,i.width+e,i.height+e),this.renderer.canvasClip(i)),this.legendModule.renderLegend(this,this.legendSettings,t),this.enableCanvas&&this.renderer.canvasRestore()}this.redraw||(this.stockChart?dt(this.stockChart.chartObject.id)||this.stockChart.mainObject.appendChild(this.svgObject):this.element.appendChild(this.svgObject))}setSecondaryElementPosition(){let e=dt(this.element.id+"_Secondary_Element");if(!e)return;let t=this.element.getBoundingClientRect(),i=dt(this.svgId).getBoundingClientRect();e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px"}initializeModuleElements(){this.dataLabelCollections=[];let e=this.element.id;this.series.length&&(this.seriesElements="Scatter"===this.series[0].type||"Bubble"===this.series[0].type?this.svgRenderer.createGroup({id:e+"SeriesCollection"}):this.renderer.createGroup({id:e+"SeriesCollection"})),this.indicators.length&&(this.indicatorElements=this.renderer.createGroup({id:e+"IndicatorCollection"})),this.hasTrendlines()&&(this.trendLineElements=this.renderer.createGroup({id:e+"TrendLineCollection"})),this.dataLabelElements=this.renderer.createGroup({id:e+"DataLabelCollection"})}hasTrendlines(){let e;for(let t of this.series)if(e=!!t.trendlines.length,e)break;return e}renderSeriesElements(e){this.initializeModuleElements();let t=this.element.id;if("g"!==this.element.tagName){let e=Rt(this.redraw,t+"_Secondary_Element")||this.createElement("div");e.id=t+"_Secondary_Element",e.setAttribute("style","position: relative"),yt(!1,this.element,e,this.redraw)}if(this.enableCanvas){let e=document.getElementById(t+"_Secondary_Element");e=e||this.createElement("div",{id:t+"_Secondary_Element",attrs:{style:"position: relative; left:0px; top:0px"}});let i=this.svgRenderer.createSvg({id:t+"_tooltip_svg",width:this.availableSize.width,height:this.availableSize.height});i.setAttribute("style","position: absolute; pointer-events: none"),e.appendChild(i)}this.tooltip.enable&&yt(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:t+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.rows.length>0&&this.columns.length>0&&(this.initializeIndicator(),this.initializeTrendLine(),this.renderSeries(),this.appendElementsAfterSeries(e))}renderSeries(){let e;for(let i of this.visibleSeries)e="TrendLine"===i.category?this.series[i.sourceIndex].trendlines[i.index].visible:i.visible,e&&(this.visible++,Je(i),this.enableCanvas&&(this.renderCanvasSeries(i),this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect)),i.renderSeries(this),this.enableCanvas&&this.renderer.canvasRestore());if(this.visible=0,!this.seriesElements)return;this.enableCanvas||this.seriesElements.appendChild(ot(this.redraw,{id:this.element.id+"_ChartAreaClipRect_",x:this.chartAxisLayoutPanel.seriesClipRect.x,y:this.chartAxisLayoutPanel.seriesClipRect.y,width:this.chartAxisLayoutPanel.seriesClipRect.width,height:this.chartAxisLayoutPanel.seriesClipRect.height,fill:"transparent","stroke-width":1,stroke:"Gray"},this.renderer));let t=document.getElementById(this.element.id+"_series_svg");t?yt(!1,t,this.seriesElements,this.redraw):yt(this.enableCanvas,this.svgObject,this.seriesElements,this.redraw)}renderCanvasSeries(e){let t,i,s;if("Bubble"===e.type||"Scatter"===e.type){t=t||this.svgRenderer.createSvg({id:this.element.id+"_series_svg",width:this.availableSize.width,height:this.availableSize.height}),i=i||this.createElement("div",{id:this.element.id+"_series"}),i.setAttribute("style","position: absolute");let e=document.getElementById(this.element.id+"_Secondary_Element");i.appendChild(t),e.appendChild(i)}t=!this.enableCanvas||"Bubble"!==e.type&&"Scatter"!==e.type?this.svgObject:t,s=(!this.enableCanvas||"Bubble"!==e.type&&"Scatter"!==e.type)&&this.enableCanvas}initializeIndicator(){for(let e of this.indicators)this[Ke(e.type)+"IndicatorModule"]&&this[Ke(e.type)+"IndicatorModule"].createIndicatorElements(this,e,e.index);this.indicatorElements&&yt(this.enableCanvas,this.svgObject,this.indicatorElements,this.redraw)}initializeTrendLine(){for(let e of this.visibleSeries)e.trendlines.length&&this.trendLineModule.getTrendLineElements(e,this);this.trendLineElements&&yt(this.enableCanvas,this.svgObject,this.trendLineElements,this.redraw)}appendElementsAfterSeries(e){"PolarRadar"===this.chartAreaType&&yt(this.enableCanvas,this.svgObject,this.yAxisElements,this.redraw),yt(this.enableCanvas,this.svgObject,e,this.redraw),(this.zoomModule&&this.zoomSettings.enableScrollbar&&this.scrollElement.childElementCount||this.scrollElement&&this.scrollElement.childElementCount)&&yt(!1,dt(this.element.id+"_Secondary_Element"),this.scrollElement,this.redraw),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Over",this.axisCollections),this.tooltip.enable||yt(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:this.element.id+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.stockChart&&this.stockChart.calculateStockEvents()}applyZoomkit(){this.redraw||!this.zoomModule||this.zoomSettings.enablePan&&!this.zoomModule.performedUI||this.zoomModule.applyZoomToolkit(this,this.axisCollections)}renderAnnotation(){this.annotationModule&&this.annotationModule.renderAnnotations(dt((this.stockChart?this.stockChart.element.id:this.element.id)+"_Secondary_Element"))}performSelection(){let e=[];this.selectionModule&&(e=Object(h.J)([],this.selectionModule.selectedDataIndexes,null,!0),this.selectionModule.invokeSelection(this)),this.highlightModule&&this.highlightModule.invokeHighlight(this),e.length>0&&(this.selectionModule.selectedDataIndexes=e,this.selectionModule.redrawSelection(this,this.selectionMode))}processData(e=!0){this.visibleSeriesCount=0;let t=!0;for(let i of this.visibleSeries)i.visible||this.legendSettings.visible?"Indicator"!==i.category&&"TrendLine"!==i.category&&this.initializeDataModule(i):this.visibleSeriesCount++;for(let i of this.indicators)i.dataSource&&(this.initializeDataModule(i),t=!1);e&&(!this.visibleSeries.length||this.visibleSeriesCount===this.visibleSeries.length&&t)&&(this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))}initializeDataModule(e){e.xData=[],e.yData=[],e.dataModule=new ci(e.dataSource||this.dataSource,e.query),e.points=[],e.refreshDataManager(this)}calculateBounds(){let e=this.margin,t=0,i=0,s=0,o=e.left,n=this.availableSize.width-o-e.right-this.border.width;if(this.titleCollection=[],this.subTitleCollection=[],this.title&&(this.titleCollection=Dt(this.title,this.titleStyle,n),t=u(this.title,this.titleStyle).height*this.titleCollection.length+15,this.subTitle)){let e=0;for(let t of this.titleCollection)s=u(t,this.titleStyle).width,e=s>e?s:e;this.subTitleCollection=Dt(this.subTitle,this.subTitleStyle,e),i=u(this.subTitle,this.subTitleStyle).height*this.subTitleCollection.length+15}let r=e.top+i+t+.5*this.chartArea.border.width;this.initialClipRect=new g(o,r,n,this.availableSize.height-r-this.border.width-e.bottom),this.legendModule&&this.legendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null),this.chartAxisLayoutPanel.measureAxis(this.initialClipRect)}print(e){new xi(this).print(e)}initTrendLines(){this.isProtectedOnChange=!0;for(let e of this.visibleSeries){let t=0;for(let i of e.trendlines){let s=i;Ke(s.type),this.trendLineModule&&(s.index=t,s.sourceIndex=e.index,this.trendLineModule.initSeriesCollection(s,this),s.targetSeries&&(s.targetSeries.xAxisName=e.xAxisName,s.targetSeries.yAxisName=e.yAxisName,this.visibleSeries.push(s.targetSeries))),t++}}this.isProtectedOnChange=!1}calculateAreaType(){let e=this.series[0];this.chartArea.border.width=this.stockChart?0:this.chartArea.border.width,e&&(this.requireInvertedAxis=-1!==e.type.indexOf("Bar")&&!this.isTransposed||-1===e.type.indexOf("Bar")&&this.isTransposed&&"PolarRadar"!==this.chartAreaType),this.chartAxisLayoutPanel="PolarRadar"===this.chartAreaType?this.polarSeriesModule||this.radarSeriesModule:new Kt(this)}calculateVisibleAxis(){let e,t=[this.primaryXAxis,this.primaryYAxis];t="Cartesian"===this.chartAreaType?t.concat(this.axes):t,this.paretoSeriesModule&&"Pareto"===this.series[0].type&&(t=t.concat(this.paretoSeriesModule.paretoAxes)),this.axisCollections=[],this.zoomModule&&(this.zoomModule.isPanning=this.zoomModule.isAxisZoomed(t)&&this.zoomSettings.enablePan,this.svgObject.setAttribute("cursor",this.zoomModule.isPanning?"pointer":"auto"),this.scrollBarModule&&(this.scrollBarModule.axes=t)),this.scrollSettingEnabled&&this.scrollBarModule&&(this.scrollBarModule.axes=t);for(let i=0,s=t.length;i<s;i++){e=t[i],e.series=[],e.labels=[];for(let t of this.visibleSeries)this.initAxis(t,e,!0);for(let t of this.indicators)this.initAxis(t,e,!1);this.scrollBarModule&&!e.zoomingScrollBar&&this.scrollBarModule.injectTo(e,this),null!=e.orientation&&this.axisCollections.push(e)}this.rows.length>0&&this.columns.length>0&&this.chartAxisLayoutPanel.measure()}initAxis(e,t,i){e.xAxisName===t.name||null==e.xAxisName&&"primaryXAxis"===t.name?(t.orientation=this.requireInvertedAxis?"Vertical":"Horizontal",e.xAxis=t,i&&t.series.push(e)):(e.yAxisName===t.name||null==e.yAxisName&&"primaryYAxis"===t.name)&&(t.orientation=this.requireInvertedAxis?"Horizontal":"Vertical",e.yAxis=t,i&&t.series.push(e))}initTechnicalIndicators(){let e=0;for(let t of this.indicators){let i=t,s=Ke(i.type);if(this[s+"IndicatorModule"]){i.index=e,this[s+"IndicatorModule"].initSeriesCollection(i,this);for(let e of i.targetSeries)(t.seriesName||t.dataSource)&&this.visibleSeries.push(e)}e++}}refreshTechnicalIndicator(e){if(this.indicators.length){let t=null;if(e instanceof hi&&"Indicator"!==e.category)for(let i of this.indicators)i.seriesName!==e.name||i.dataSource||(t=i,t.setDataSource(e,this));else e instanceof fi&&(t=e,t.setDataSource(e instanceof hi?e:null,this))}}calculateVisibleSeries(){let e,t;this.visibleSeries=[];let i=this.palettes.length?this.palettes:D(this.theme),s=i.length;t=this.series.sort((e,t)=>e.zOrder-t.zOrder);for(let o=0,n=t.length;o<n;o++){switch(e=t[o],e.category="Pareto"===t[0].type?"Pareto":"Series",e.index=o,e.interior=e.fill||i[o%s],e.type){case"Bar":case"StackingBar":case"StackingBar100":if(-1===t[0].type.indexOf("Bar"))continue;break;case"Polar":case"Radar":if("PolarRadar"!==this.chartAreaType)continue;if("PolarRadar"===this.chartAreaType&&(null===e.xAxisName&&null!==e.yAxisName||null!==e.xAxisName&&null===e.yAxisName||null!==e.xAxisName&&null!==e.yAxisName))continue;break;case"Pareto":this.visibleSeries.push(e),this.paretoSeriesModule.initSeries(e,this);continue;default:if("PolarRadar"===this.chartAreaType||t[0].type.indexOf("Bar")>-1)continue}this.visibleSeries.push(e),t[o]=e}}renderTitle(){let e,t=this.margin;if(this.title){let i=this.titleStyle.textAlignment,s="Near"===i?"start":"Far"===i?"end":"middle",o=u(this.title,this.titleStyle);e=new g(t.left,0,this.availableSize.width-t.left-t.right,0);let n=new f(this.element.id+"_ChartTitle",Bt(e,this.titleStyle),this.margin.top+3*o.height/4,s,this.titleCollection,"","auto"),r=Rt(this.redraw,this.element.id+"_ChartTitle",n,this.renderer)||It(this.renderer,n,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject);r&&(r.setAttribute("aria-label",this.description||this.title),r.setAttribute("tabindex",this.tabIndex.toString())),this.subTitle&&this.renderSubTitle(n)}}renderSubTitle(e){let t,i=0,s=0,o=this.titleStyle.textAlignment;for(let l of this.titleCollection)s=u(l,this.titleStyle).width,i=s>i?s:i;let n=u(this.subTitle,this.subTitleStyle);t=new g("Center"===o?e.x-.5*i:"Far"===o?e.x-i:e.x,0,i,0);let r=new f(this.element.id+"_ChartSubTitle",Bt(t,this.subTitleStyle),e.y*e.text.length+3*n.height/4+10,(e=>"Near"===e?"start":"Far"===e?"end":"middle")(this.subTitleStyle.textAlignment),this.subTitleCollection,"","auto"),a=Rt(this.redraw,this.element.id+"_ChartSubTitle",r,this.renderer)||It(this.renderer,r,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartTitle,this.svgObject);a&&(a.setAttribute("aria-label",this.description||this.subTitle),a.setAttribute("tabindex",this.tabIndex.toString()))}renderBorder(){let e=this.border.width,t=this.backgroundImage,i=new Wt(this.element.id+"_ChartBorder",t?"transparent":this.background||this.themeStyle.background,this.border,1,new g(.5*e,.5*e,this.availableSize.width-e,this.availableSize.height-e));if(this.htmlObject=Rt(this.redraw,this.element.id+"_ChartBorder",i,this.renderer)||this.renderer.drawRectangle(i),yt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw),t){let i=new Zt(this.availableSize.height-e,this.availableSize.width-e,t,0,0,this.element.id+"_ChartBackground","visible","none");this.htmlObject=Rt(this.redraw,this.element.id+"_ChartBackground",i,this.renderer)||this.renderer.drawImage(i),yt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw)}}renderAreaBorder(){if("PolarRadar"===this.chartAreaType)return null;{let e=dt(this.element.id+"_ChartAreaBorder"),t=e?new g(+e.getAttribute("x"),+e.getAttribute("y"),+e.getAttribute("width"),+e.getAttribute("height")):null,i=new Wt(this.element.id+"_ChartAreaBorder",this.chartArea.background,{width:this.chartArea.border.width,color:this.chartArea.border.color||this.themeStyle.areaBorder},this.chartArea.opacity,this.chartAxisLayoutPanel.seriesClipRect);this.htmlObject=this.renderer.drawRectangle(i),yt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0,t),this.htmlObject=null}let e=this.chartArea.backgroundImage;if(e){let t=this.chartArea.border.width,i=new Zt(this.initialClipRect.height-t,this.initialClipRect.width-t,e,this.initialClipRect.x,this.initialClipRect.y,this.element.id+"_ChartAreaBackground","visible","none");this.htmlObject=this.renderer.drawImage(i),yt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0)}}addSeries(e){for(let t of e)t=new hi(this,"series",t),this.series.push(t);this.refresh()}removeSeries(e){this.redraw=!1,this.series.splice(e,1),this.refresh()}clearSeries(){this.series=[],this.refresh()}destroy(){this.scrollBarModule&&this.scrollBarModule.destroy(),this.markerRender&&(this.markerRender.removeEventListener(),this.markerRender=null),this.horizontalAxes=[],this.verticalAxes=[],this.visibleSeries=[],this.axisCollections=[],this.seriesElements=null,this.chartAxisLayoutPanel=null,this.dataLabelCollections=null,this.dataLabelElements=null,this.yAxisElements=null,this.element&&(this.unWireEvents(),super.destroy(),this.enableCanvas||(this.removeSvg(),this.svgObject=null))}getModuleName(){return"chart"}getPersistData(){return this.addOnPersist(["loaded","animationComplete","primaryXAxis","primaryYAxis"])}createChartSvg(){this.removeSvg(),Et(this)}unWireEvents(){let e=h.d.touchMoveEvent,t=h.d.touchEndEvent,i=h.d.isPointer?"pointerleave":"mouseleave";h.l.remove(this.element,h.d.touchStartEvent,this.chartOnMouseDown),h.l.remove(this.element,e,this.mouseMove),h.l.remove(this.element,t,this.mouseEnd),h.l.remove(this.element,"click",this.chartOnMouseClick),h.l.remove(this.element,"contextmenu",this.chartRightClick),h.l.remove(this.element,i,this.mouseLeave),window.removeEventListener(h.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)}wireEvents(){if(!this.element)return;let e=h.d.isPointer?"pointerleave":"mouseleave";h.l.add(this.element,h.d.touchStartEvent,this.chartOnMouseDown,this),h.l.add(this.element,h.d.touchMoveEvent,this.mouseMove,this),h.l.add(this.element,h.d.touchEndEvent,this.mouseEnd,this),h.l.add(this.element,"click",this.chartOnMouseClick,this),h.l.add(this.element,"contextmenu",this.chartRightClick,this),h.l.add(this.element,e,this.mouseLeave,this),this.resizeBound=this.chartResize.bind(this),window.addEventListener(h.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.longPressBound=this.longPress.bind(this),this.touchObject=new h.u(this.element,{tapHold:this.longPressBound,tapHoldThreshold:500}),this.setStyle(this.element)}chartRightClick(e){return!this.crosshair.enable||!this.crosshairModule||2!==e.buttons&&0!==e.which&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)}setStyle(e){let t=this.zoomSettings,i=t.enableSelectionZooming||t.enablePinchZooming||"None"!==this.selectionMode||this.crosshair.enable||"None"!==this.highlightMode;e.style.touchAction=i?"none":"element",e.style.msTouchAction=i?"none":"element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block",e.style.overflow="hidden"}isOrientation(){return"orientation"in window&&"onorientationchange"in window}longPress(e){return this.mouseX=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientX:0,this.mouseY=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientY:0,this.startMove=!0,this.setMouseXY(this.mouseX,this.mouseY),this.notify("tapHold",e),!1}setMouseXY(e,t){let i=dt(this.svgId).getBoundingClientRect(),s=this.element.getBoundingClientRect();this.mouseY=t-s.top-Math.max(i.top-s.top,0),this.mouseX=e-s.left-Math.max(i.left-s.left,0)}export(e,t){this.exportModule&&(this.exportModule.export(e,t),this.afterExport&&this.exportModule.getDataUrl(this))}chartResize(e){this.animateSeries=!1;let t={chart:this.isBlazor?{}:this,name:"resized",currentSize:new m(0,0),previousSize:new m(this.availableSize.width,this.availableSize.height)};return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout(()=>{this.isDestroyed||this.stockChart?clearTimeout(this.resizeTo):(this.createChartSvg(),t.currentSize=this.availableSize,this.trigger("resized",t),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))},500),!1}mouseMove(e){let t,i,s;return"touchmove"===e.type?(this.isTouch=!0,s=e,t=s.changedTouches[0].clientX,i=s.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType||this.isTouch,t=e.clientX,i=e.clientY),dt(this.svgId)&&(this.setMouseXY(t,i),this.chartOnMouseMove(e)),!1}mouseLeave(e){let t,i,s;return"touchleave"===e.type?(this.isTouch=!0,s=e,t=s.changedTouches[0].clientX,i=s.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,t=e.clientX,i=e.clientY),this.setMouseXY(t,i),this.chartOnMouseLeave(e),!1}chartOnMouseLeave(e){let t=h.d.isPointer?"pointerleave":"mouseleave";return this.trigger("chartMouseLeave",{target:e.target.id,x:this.mouseX,y:this.mouseY}),Oe(this.element.id+"_EJ2_AxisLabel_Tooltip"),this.isChartDrag=this.isPointMouseDown=!1,this.notify(t,e),!1}chartOnMouseClick(e){return this.trigger("chartMouseClick",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.clickCount++,1===this.clickCount&&this.pointClick?this.singleClickTimer=+setTimeout(()=>{this.clickCount=0,this.triggerPointEvent("pointClick")},400):2===this.clickCount&&this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.triggerPointEvent("pointDoubleClick")),this.notify("click",e),!1}triggerPointEvent(e){let t=new $t(this).getData();t.series&&t.point&&this.trigger(e,{series:this.isBlazor?{}:t.series,point:t.point,seriesIndex:t.series.index,pointIndex:t.point.index,x:this.mouseX,y:this.mouseY})}chartOnMouseMove(e){return this.trigger("chartMouseMove",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent("pointMove"),this.isTouch||(this.titleTooltip(e,this.mouseX,this.mouseY),this.axisTooltip(e,this.mouseX,this.mouseY)),this.dataEditingModule&&this.dataEditingModule.pointMouseMove(e),this.notify(h.d.touchMoveEvent,e),this.isTouch=!1,!1}titleTooltip(e,t,i,s){let o=e.target.id,n=o===this.element.id+"_ChartTitle"||o===this.element.id+"_ChartSubTitle"||o.indexOf("_AxisTitle")>-1,r=0;o.indexOf("_AxisTitle")>-1&&(r=parseInt(o.replace(this.element.id,"").replace("AxisLabel_","").split("_")[2],10)),n&&e.target.textContent.indexOf("...")>-1?Pe(o===this.element.id+"_ChartTitle"?this.title:o.indexOf("_AxisTitle")>-1?this.axisCollections[r].title:this.subTitle,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",dt(this.element.id+"_Secondary_Element"),s):Oe(this.element.id+"_EJ2_Title_Tooltip")}axisTooltip(e,t,i,s){let o=e.target.id;(o.indexOf("AxisLabel")>-1||o.indexOf("Axis_MultiLevelLabel")>-1)&&e.target.textContent.indexOf("...")>-1?Pe(this.findAxisLabel(o),t,i,this.element.offsetWidth,this.element.id+"_EJ2_AxisLabel_Tooltip",dt(this.element.id+"_Secondary_Element"),s):Oe(this.element.id+"_EJ2_AxisLabel_Tooltip")}findAxisLabel(e){let t;return e.indexOf("AxisLabel")>-1?(t=e.replace(this.element.id,"").replace("AxisLabel_","").split("_"),this.axisCollections[parseInt(t[0],10)].visibleLabels[parseInt(t[1],10)].originalText):(t=e.replace(this.element.id,"").replace("Axis_MultiLevelLabel_Level_","").replace("Text_","").split("_"),this.axisCollections[parseInt(t[0],10)].multiLevelLabels[parseInt(t[1],10)].categories[parseInt(t[2],10)].text)}chartOnMouseDown(e){let t,i,s,o,n=h.d.isDevice?20:30,r=this.element.getBoundingClientRect();this.trigger("chartMouseDown",{target:e.target.id,x:this.mouseX,y:this.mouseY}),"touchstart"===e.type?(this.isTouch=!0,o=e,t=o.changedTouches[0].clientX,i=o.changedTouches[0].clientY,s=o.target):(this.isTouch="touch"===e.pointerType,t=e.clientX,i=e.clientY,s=e.target);let a=dt(this.svgId).getBoundingClientRect();return this.mouseDownX=this.previousMouseMoveX=t-r.left-Math.max(a.left-r.left,0),this.mouseDownY=this.previousMouseMoveY=i-r.top-Math.max(a.top-r.top,0),this.isTouch&&(this.isDoubleTap=(new Date).getTime()<this.threshold&&-1===s.id.indexOf(this.element.id+"_Zooming_")&&(this.mouseDownX-n>=this.mouseX||this.mouseDownX+n>=this.mouseX)&&(this.mouseDownY-n>=this.mouseY||this.mouseDownY+n>=this.mouseY)&&(this.mouseX-n>=this.mouseDownX||this.mouseX+n>=this.mouseDownX)&&(this.mouseY-n>=this.mouseDownY||this.mouseY+n>=this.mouseDownY)),this.dataEditingModule&&this.dataEditingModule.pointMouseDown(),this.notify(h.d.touchStartEvent,e),!1}mouseEnd(e){let t,i,s;return"touchend"===e.type?(s=e,i=s.changedTouches[0].clientX,this.isTouch=!0,t=s.changedTouches[0].clientY):(t=e.clientY,i=e.clientX,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),this.setMouseXY(i,t),this.chartOnMouseUp(e),!1}chartOnMouseUp(e){return this.trigger("chartMouseUp",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isChartDrag=!1,this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.axisTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.threshold=(new Date).getTime()+300),this.dataEditingModule&&this.dataEditingModule.pointMouseUp(),this.enableCanvas||this.seriesElements.removeAttribute("clip-path"),this.notify(h.d.touchEndEvent,e),!1}setCulture(){this.intl=new h.n,this.setLocaleConstants(),this.localeObject=new h.p(this.getModuleName(),this.defaultLocalConstants,this.locale)}setAnnotationValue(e,t){let i,s=dt(this.element.id+"_Annotation_Collections"),o=this.annotations[e];null!==t&&(o.content=t,s?(Oe(this.element.id+"_Annotation_"+e),i=this.createElement("div"),this.annotationModule.processAnnotation(o,e,i),s.appendChild(i.children[0])):this.annotationModule.renderAnnotations(dt(this.element.id+"_Secondary_Element")))}setLocaleConstants(){this.defaultLocalConstants={ZoomIn:"ZoomIn",Zoom:"Zoom",ZoomOut:"ZoomOut",Pan:"Pan",Reset:"Reset",ResetZoom:"Reset Zoom"}}setTheme(){this.themeStyle=B(this.theme)}requiredModules(){let e,t=[],i=this.series,s=!1,o=!1,n=!1,r=!1,a=this.zoomSettings;return this.chartAreaType=i.length>0&&("Polar"===i[0].type||"Radar"===i[0].type)?"PolarRadar":"Cartesian",this.tooltip.enable&&t.push({member:"Tooltip",args:[this]}),i.map(s=>{this.isLegend=this.legendSettings.visible&&(""!==s.name||!!this.isLegend),e=-1!==s.type.indexOf("100")?s.type.replace("100","")+"Series":s.type+"Series",o=s.errorBar.visible||o,r=s.marker.dataLabel.visible||r,n=s.dragSettings.enable||n,t.some(t=>t.member===e)||t.push({member:e,args:[this,i]}),"PolarRadar"===this.chartAreaType&&t.push({member:s.drawType+"Series",args:[this,i]}),"Pareto"===s.type&&(t.push({member:"ColumnSeries",args:[this,i]}),t.push({member:"LineSeries",args:[this,i]}))}),this.findIndicatorModules(t),this.findTrendLineModules(t),t=this.findAxisModule(t),s=this.annotations.some(e=>null!==e.content),o&&t.push({member:"ErrorBar",args:[this,i]}),this.isLegend&&t.push({member:"Legend",args:[this]}),this.enableExport&&t.push({member:"Export",args:[this]}),"PolarRadar"!==this.chartAreaType&&!this.scrollSettingEnabled&&(a.enableSelectionZooming||a.enableMouseWheelZooming||a.enablePinchZooming||a.enablePan)&&(t.push({member:"Zoom",args:[this,this.zoomSettings]}),a.enableScrollbar&&t.push({member:"ScrollBar",args:[this]})),"None"===this.selectionMode||"PolarRadar"===this.chartAreaType&&this.selectionMode.indexOf("Drag")>-1||t.push({member:"Selection",args:[this]}),"None"!==this.highlightMode&&t.push({member:"Highlight",args:[this]}),r&&t.push({member:"DataLabel",args:[this,i]}),n&&t.push({member:"DataEditing",args:[this]}),s&&t.push({member:"Annotation",args:[this]}),"PolarRadar"!==this.chartAreaType&&this.crosshair.enable&&t.push({member:"Crosshair",args:[this]}),t}findAxisModule(e){let t=[];t.push(this.primaryXAxis),t.push(this.primaryYAxis),t=t.concat(this.axes);let i=!1,s=!1,o=!1,n=!1,r=!1,a=!1;for(let l of t)i="DateTime"===l.valueType||i,s="Category"===l.valueType||s,o="Logarithmic"===l.valueType||o,r="DateTimeCategory"===l.valueType||r,n=this.findStriplineVisibility(l.stripLines)||n,a=l.multiLevelLabels.length>0||a,this.scrollSettingEnabled=!!l.scrollbarSettings.enable||this.scrollSettingEnabled;return i&&e.push({member:"DateTime",args:[this]}),s&&e.push({member:"Category",args:[this]}),o&&e.push({member:"Logarithmic",args:[this]}),n&&e.push({member:"StripLine",args:[this]}),a&&e.push({member:"MultiLevelLabel",args:[this]}),r&&e.push({member:"DateTimeCategory",args:[this]}),this.scrollSettingEnabled&&e.push({member:"ScrollBar",args:[this]}),e}findIndicatorModules(e){let t,i,s=this.indicators;if(this.indicators.length){e.push({member:"LineSeries",args:[this]}),s.map(e=>{t=t||"Macd"===e.type,i=i||"BollingerBands"===e.type}),t&&e.push({member:"ColumnSeries",args:[this]}),i&&e.push({member:"RangeAreaSeries",args:[this]});for(let t of this.indicators)e.push({member:t.type+"Indicator",args:[this]})}}findTrendLineModules(e){let t,i;for(let s of this.series){let o;s.trendlines.map(e=>{o=o||e.marker.visible,t=!(!t&&"Linear"!==e.type&&"MovingAverage"!==e.type),i=!(!i&&t)}),o&&e.push({member:"Marker",args:[this,s]})}(t||i)&&e.push({member:"TrendLine",args:[this]}),t&&e.push({member:"LineSeries",args:[this]}),i&&e.push({member:"SplineSeries",args:[this]})}findStriplineVisibility(e){let t=!1;for(let i of e)if(i.visible){t=!0;break}return t}removeSvg(){if(this.redraw)return null;if(Ft(this),this.enableCanvas&&this.svgObject&&"CANVAS"===this.svgObject.tagName)return this.renderer.clearRect(new g(0,0,this.availableSize.width,this.availableSize.height)),Object(h.gb)(this.svgObject),null;Oe(this.element.id+"_Secondary_Element");let e=0;if(this.zoomModule&&this.zoomModule.pinchTarget&&(this.zoomModule.pinchTarget.id="",this.zoomModule.pinchTarget.setAttribute("opacity","0"),this.svgObject.appendChild(this.zoomModule.pinchTarget),e=1),this.svgObject){for(;this.svgObject.childNodes.length>e;)this.svgObject.removeChild(this.svgObject.firstChild);this.svgObject.hasChildNodes()||!this.svgObject.parentNode||this.stockChart||Object(h.gb)(this.svgObject)}}refreshDefinition(e){for(let t of e)t.axes=[]}refreshAxis(){let e=this.primaryXAxis;e.rect=new g(void 0,void 0,0,0),e=this.primaryYAxis,e.isStack100=!1,e.rect=new g(void 0,void 0,0,0);for(let t of this.axes)e=t,e.rect=new g(void 0,void 0,0,0),e.isStack100=!1;if(this.paretoSeriesModule&&"Pareto"===this.series[0].type)for(let t of this.paretoSeriesModule.paretoAxes)e=t,e.rect=new g(void 0,void 0,0,0),e.isStack100=!1}axisChange(e){return!(!e.name&&!e.valueType||(this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(),0))}getVisibleSeries(e,t){for(let i of e)if(t===i.index)return i;return null}refreshLiveData(){this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),this.isBlazor||(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))}removeStyles(){Oe(this.element.id+"_ej2_chart_selection"),Oe(this.element.id+"_ej2_chart_highlight")}onPropertyChanged(e,t){let i=!1,s=!1;if((1!==Object.keys(e).length||"indicators"!==Object.keys(e)[0])&&(this.animateSeries=!1,!this.delayRedraw)){for(let o of Object.keys(e))switch(o){case"primaryXAxis":s=this.axisChange(e.primaryXAxis),e.primaryXAxis.edgeLabelPlacement&&(i=!0),e.primaryXAxis.crosshairTooltip||(s=!0);break;case"primaryYAxis":s=this.axisChange(e.primaryYAxis),e.primaryYAxis.edgeLabelPlacement&&(i=!0),e.primaryYAxis.crosshairTooltip||(s=!0);break;case"axes":for(let t of Object.keys(e.axes))s=s||this.axisChange(e.axes[t]),e.axes[t].crosshairTooltip||(s=!0);break;case"height":case"width":this.createChartSvg(),s=!0;break;case"subTitle":case"title":s=!0;break;case"titleStyle":e.titleStyle&&(e.titleStyle.size||e.titleStyle.textOverflow)?s=!0:i=!0;break;case"subTitleStyle":e.subTitleStyle&&(e.subTitleStyle.size||e.subTitleStyle.textOverflow)?s=!0:i=!0;break;case"border":i=!0;break;case"dataSource":this.processData(!1),s=!0;break;case"enableCanvas":this.refresh();break;case"series":let o,n,r=this.series.length,a=!1;for(let i=0;i<r;i++)o=e.series[i],this.isBlazor&&o&&(o.visible!==t.series[i].visible||o.isClosed||o.marker||o.emptyPointSettings||o.type||o.boxPlotMode||o.showMean)&&(n=!0),o&&(o.dataSource||o.query||o.errorBar||o.xName||o.yName||o.size||o.high||o.low||o.open||o.close||o.fill||o.name||n)&&(Object(h.J)(this.getVisibleSeries(this.visibleSeries,i),o,null,!0),a=!0);a&&(this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),s=!0);break;case"zoomSettings":(e.zoomSettings.enableScrollbar||t.zoomSettings.enableScrollbar)&&(s=!0),i=!0;break;case"background":i=!0;break;case"chartArea":e.chartArea.border&&e.chartArea.border.width&&(s=!0),i=!0;break;case"legendSettings":e.legendSettings.background&&e.legendSettings.opacity||(s=!0),i=!0;break;case"palettes":this.calculateVisibleSeries(),i=!0;break;case"selectedDataIndexes":case"selectionMode":this.selectionModule&&e.selectionMode&&-1===e.selectionMode.indexOf("Drag")&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,t.selectionMode));break;case"isMultiSelect":this.selectionModule&&!e.isMultiSelect&&this.selectionModule.selectedDataIndexes.length>1&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,t.selectionMode));break;case"highlightMode":case"selectionPattern":case"highlightPattern":this.removeStyles(),i=!0;break;case"theme":this.animateSeries=!0;break;case"locale":case"currencyCode":super.refresh();break;case"tooltip":this.tooltipModule&&(this.tooltipModule.previousPoints=[])}!s&&i&&(this.removeSvg(),this.renderElements(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),s&&(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}),this.redraw=!1,this.animated=!1)}}};return vi([Object(h.s)(null)],e.prototype,"width",void 0),vi([Object(h.s)(null)],e.prototype,"height",void 0),vi([Object(h.s)("")],e.prototype,"title",void 0),vi([Object(h.s)("")],e.prototype,"dataSource",void 0),vi([Object(h.g)(k.chartTitleFont,F)],e.prototype,"titleStyle",void 0),vi([Object(h.s)("")],e.prototype,"subTitle",void 0),vi([Object(h.g)(k.chartSubTitleFont,F)],e.prototype,"subTitleStyle",void 0),vi([Object(h.g)({},X)],e.prototype,"margin",void 0),vi([Object(h.g)({color:"#DDDDDD",width:0},H)],e.prototype,"border",void 0),vi([Object(h.s)(null)],e.prototype,"background",void 0),vi([Object(h.g)({border:{color:null,width:.5},background:"transparent"},Z)],e.prototype,"chartArea",void 0),vi([Object(h.g)({name:"primaryXAxis"},_e)],e.prototype,"primaryXAxis",void 0),vi([Object(h.g)({name:"primaryYAxis"},_e)],e.prototype,"primaryYAxis",void 0),vi([Object(h.f)([{}],me)],e.prototype,"rows",void 0),vi([Object(h.f)([{}],ge)],e.prototype,"columns",void 0),vi([Object(h.f)([{}],_e)],e.prototype,"axes",void 0),vi([Object(h.f)([{}],hi)],e.prototype,"series",void 0),vi([Object(h.f)([{}],re)],e.prototype,"annotations",void 0),vi([Object(h.s)([])],e.prototype,"palettes",void 0),vi([Object(h.s)("Material")],e.prototype,"theme",void 0),vi([Object(h.g)({},K)],e.prototype,"tooltip",void 0),vi([Object(h.g)({},wi)],e.prototype,"crosshair",void 0),vi([Object(h.g)({},gi)],e.prototype,"legendSettings",void 0),vi([Object(h.g)({},_i)],e.prototype,"zoomSettings",void 0),vi([Object(h.s)("None")],e.prototype,"selectionMode",void 0),vi([Object(h.s)("None")],e.prototype,"highlightMode",void 0),vi([Object(h.s)("None")],e.prototype,"selectionPattern",void 0),vi([Object(h.s)("None")],e.prototype,"highlightPattern",void 0),vi([Object(h.s)(!1)],e.prototype,"isMultiSelect",void 0),vi([Object(h.s)(!1)],e.prototype,"allowMultiSelection",void 0),vi([Object(h.s)(!0)],e.prototype,"enableExport",void 0),vi([Object(h.f)([],Y)],e.prototype,"selectedDataIndexes",void 0),vi([Object(h.s)(!1)],e.prototype,"useGroupingSeparator",void 0),vi([Object(h.s)(!1)],e.prototype,"isTransposed",void 0),vi([Object(h.s)(!1)],e.prototype,"enableCanvas",void 0),vi([Object(h.s)(null)],e.prototype,"backgroundImage",void 0),vi([Object(h.f)([],fi)],e.prototype,"indicators",void 0),vi([Object(h.s)(!0)],e.prototype,"enableAnimation",void 0),vi([Object(h.s)(null)],e.prototype,"description",void 0),vi([Object(h.s)(1)],e.prototype,"tabIndex",void 0),vi([Object(h.s)(!0)],e.prototype,"enableSideBySidePlacement",void 0),vi([Object(h.k)()],e.prototype,"resized",void 0),vi([Object(h.k)()],e.prototype,"annotationRender",void 0),vi([Object(h.k)()],e.prototype,"beforePrint",void 0),vi([Object(h.k)()],e.prototype,"loaded",void 0),vi([Object(h.k)()],e.prototype,"beforeExport",void 0),vi([Object(h.k)()],e.prototype,"afterExport",void 0),vi([Object(h.k)()],e.prototype,"load",void 0),vi([Object(h.k)()],e.prototype,"animationComplete",void 0),vi([Object(h.k)()],e.prototype,"legendRender",void 0),vi([Object(h.k)()],e.prototype,"textRender",void 0),vi([Object(h.k)()],e.prototype,"pointRender",void 0),vi([Object(h.k)()],e.prototype,"seriesRender",void 0),vi([Object(h.k)()],e.prototype,"axisLabelRender",void 0),vi([Object(h.k)()],e.prototype,"axisRangeCalculated",void 0),vi([Object(h.k)()],e.prototype,"axisMultiLabelRender",void 0),vi([Object(h.k)()],e.prototype,"legendClick",void 0),vi([Object(h.k)()],e.prototype,"multiLevelLabelClick",void 0),vi([Object(h.k)()],e.prototype,"tooltipRender",void 0),vi([Object(h.k)()],e.prototype,"chartMouseMove",void 0),vi([Object(h.k)()],e.prototype,"chartMouseClick",void 0),vi([Object(h.k)()],e.prototype,"pointClick",void 0),vi([Object(h.k)()],e.prototype,"pointDoubleClick",void 0),vi([Object(h.k)()],e.prototype,"pointMove",void 0),vi([Object(h.k)()],e.prototype,"chartMouseLeave",void 0),vi([Object(h.k)()],e.prototype,"chartMouseDown",void 0),vi([Object(h.k)()],e.prototype,"chartMouseUp",void 0),vi([Object(h.k)()],e.prototype,"dragComplete",void 0),vi([Object(h.k)()],e.prototype,"selectionComplete",void 0),vi([Object(h.k)()],e.prototype,"zoomComplete",void 0),vi([Object(h.k)()],e.prototype,"onZooming",void 0),vi([Object(h.k)()],e.prototype,"scrollStart",void 0),vi([Object(h.k)()],e.prototype,"scrollEnd",void 0),vi([Object(h.k)()],e.prototype,"scrollChanged",void 0),vi([Object(h.k)()],e.prototype,"dragStart",void 0),vi([Object(h.k)()],e.prototype,"drag",void 0),vi([Object(h.k)()],e.prototype,"dragEnd",void 0),vi([Object(h.s)("USD")],e.prototype,"currencyCode",void 0),e=vi([h.q],e),e})();class Ci extends ie{calculateDateTimeNiceInterval(e,t,i,s,o=!0){let n,r=new Date(i),a=new Date(s),l=Math.abs((r.getTime()-a.getTime())/864e5);switch(e.actualIntervalType=e.intervalType,e.intervalType){case"Years":n=this.calculateNumericNiceInterval(e,l/365,t);break;case"Quarter":n=this.calculateNumericNiceInterval(e,l/365*4,t);break;case"Months":n=this.calculateNumericNiceInterval(e,l/30,t);break;case"Weeks":n=this.calculateNumericNiceInterval(e,l/7,t);break;case"Days":n=this.calculateNumericNiceInterval(e,l,t);break;case"Hours":n=this.calculateNumericNiceInterval(e,24*l,t);break;case"Minutes":n=this.calculateNumericNiceInterval(e,24*l*60,t);break;case"Seconds":n=this.calculateNumericNiceInterval(e,24*l*60*60,t);break;case"Auto":return n=this.calculateNumericNiceInterval(e,l/365,t),n>=1?(e.actualIntervalType="Years",n):(n=this.calculateNumericNiceInterval(e,l/365*4,t),n>=1&&!o?(e.actualIntervalType="Quarter",n):(n=this.calculateNumericNiceInterval(e,l/30,t),n>=1?(e.actualIntervalType="Months",n):(n=this.calculateNumericNiceInterval(e,l/7,t),n>=1&&!o?(e.actualIntervalType="Weeks",n):(n=this.calculateNumericNiceInterval(e,l,t),n>=1?(e.actualIntervalType="Days",n):(n=this.calculateNumericNiceInterval(e,24*l,t),n>=1?(e.actualIntervalType="Hours",n):(n=this.calculateNumericNiceInterval(e,24*l*60,t),n>=1?(e.actualIntervalType="Minutes",n):(n=this.calculateNumericNiceInterval(e,24*l*60*60,t),e.actualIntervalType="Seconds",n)))))))}return n}getSkeleton(e,t,i,s){let o,n=e.actualIntervalType;return e.skeleton?e.skeleton:(o="Years"===n?s?"y":e.isChart?"DateTime"===e.valueType?"y":"yMMM":"y":"Quarter"===n?s?"y":"yMMM":"Months"===n?s?"m":e.isChart?"MMMd":"MMM":"Weeks"===n?s?"m":"MEd":"Days"===n?s?"d":e.isChart?this.getDayFormat(e,t,i):"MMMd":"Hours"===n?s?"t":e.isChart?"DateTime"===e.valueType?"Hm":"EHm":"h":"Minutes"===n?s?"T":e.isChart?"Hms":"hm":s?"T":e.isChart?"Hms":"hms",o)}getMonthFormat(e,t){return new Date(e).getFullYear()===new Date(t).getFullYear()?"MMM":"y MMM"}getDayFormat(e,t,i){return"DateTime"===e.valueType?new Date(t).getMonth()!==new Date(i).getMonth()?"MMMd":"d":"yMd"}findCustomFormats(e,t,i){let s=e.labelFormat?e.labelFormat:"";return!e.isChart||e.skeleton||"Months"!==e.actualIntervalType||s||(s="DateTime"===e.valueType?this.getMonthFormat(t,i):"yMMM"),s}}class Mi extends Ci{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)}getActualRange(e,t){let i={skeleton:"full",type:"dateTime"},s=this.chart.intl.getDateParser(i),o=this.chart.intl.getDateFormat(i);null!==e.minimum?this.min=Date.parse(s(o(new Date(T.b.parse.parseJson({val:e.minimum}).val)))):null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=Date.parse(s(o(new Date(1970,1,1))))),null!==e.maximum?this.max=Date.parse(s(o(new Date(T.b.parse.parseJson({val:e.maximum}).val)))):null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=Date.parse(s(o(new Date(1970,5,1))))),this.min===this.max&&(this.max=this.max+2592e6,this.min=this.min-2592e6),e.actualRange={},e.doubleRange=new te(this.min,this.max);let n=this.calculateDateTimeNiceInterval(e,t,e.doubleRange.start,e.doubleRange.end);e.actualRange.interval=e.interval?e.interval:n,e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end}applyRangePadding(e,t){let i,s;this.min=e.actualRange.min,this.max=e.actualRange.max;let o=e.actualRange.interval;if(!rt(e)){let t=e.getRangePadding(this.chart);i=new Date(this.min),s=new Date(this.max);let n=e.actualIntervalType;if("None"===t)this.min=i.getTime(),this.max=s.getTime();else if("Additional"===t||"Round"===t)switch(n){case"Years":this.getYear(i,s,t,o);break;case"Months":this.getMonth(i,s,t,o);break;case"Days":this.getDay(i,s,t,o);break;case"Hours":this.getHour(i,s,t,o);break;case"Minutes":let e=i.getMinutes()/o*o,n=s.getMinutes()+(i.getMinutes()-e);"Round"===t?(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),e,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),n,59).getTime()):(this.min=new Date(i.getFullYear(),s.getMonth(),i.getDate(),i.getHours(),e+-o,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),n+o,0).getTime());break;case"Seconds":let r=i.getSeconds()/o*o,a=s.getSeconds()+(i.getSeconds()-r);"Round"===t?(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),r,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),a,0).getTime()):(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),r+-o,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),a+o,0).getTime())}}e.actualRange.min=this.min,e.actualRange.max=this.max,e.actualRange.delta=e.actualRange.max-e.actualRange.min,e.doubleRange=new te(e.actualRange.min,e.actualRange.max),this.calculateVisibleRange(t,e)}getYear(e,t,i,s){let o=e.getFullYear(),n=t.getFullYear();"Additional"===i?(this.min=new Date(o-s,1,1,0,0,0).getTime(),this.max=new Date(n+s,1,1,0,0,0).getTime()):(this.min=new Date(o,0,0,0,0,0).getTime(),this.max=new Date(n,11,30,23,59,59).getTime())}getMonth(e,t,i,s){let o=e.getMonth(),n=t.getMonth();"Round"===i?(this.min=new Date(e.getFullYear(),o,0,0,0,0).getTime(),this.max=new Date(t.getFullYear(),n,new Date(t.getFullYear(),t.getMonth(),0).getDate(),23,59,59).getTime()):(this.min=new Date(e.getFullYear(),o+-s,1,0,0,0).getTime(),this.max=new Date(t.getFullYear(),n+s,2===n?28:30,0,0,0).getTime())}getDay(e,t,i,s){let o=e.getDate(),n=t.getDate();"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),o,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),n,23,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),o+-s,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),n+s,0,0,0).getTime())}getHour(e,t,i,s){let o=e.getHours()/s*s,n=t.getHours()+(e.getHours()-o);"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),o,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),o+-s,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n+s,0,0).getTime())}calculateVisibleRange(e,t){t.visibleRange={min:t.actualRange.min,max:t.actualRange.max,interval:t.actualRange.interval,delta:t.actualRange.delta};let i=!Object(h.W)(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRange(e),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(t,e,t.visibleRange.min,t.visibleRange.max):t.visibleRange.interval),t.dateTimeInterval=this.increaseDateTimeInterval(t,t.visibleRange.min,t.visibleRange.interval).getTime()-t.visibleRange.min,t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)}calculateVisibleLabels(e,t){e.visibleLabels=[];let i,s,o=e.visibleRange.min,n=e.visibleLabels;for(rt(e)||(o=this.alignRangeStart(e,o,e.visibleRange.interval,e.actualIntervalType).getTime());o<=e.visibleRange.max;)i=Object(h.J)({},Object(h.U)("properties",e.labelStyle),null,!0),s=n.length?e.visibleLabels[n.length-1].value:o,e.format=t.intl.getDateFormat({format:this.findCustomFormats(e,o,s)||this.blazorCustomFormat(e),type:Ke(e.skeletonType),skeleton:this.getSkeleton(e,o,s,t.isBlazor)}),e.startLabel=e.format(new Date(e.visibleRange.min)),e.endLabel=e.format(new Date(e.visibleRange.max)),Te(o,e.visibleRange)&&nt(t,o,e.format(new Date(o)),i,e),o=this.increaseDateTimeInterval(e,o,e.visibleRange.interval).getTime();"Months"!==e.actualIntervalType&&"Days"!==e.actualIntervalType||!e.isChart||(e.format=t.intl.getDateFormat({format:e.labelFormat||("Months"!==e.actualIntervalType||e.skeleton?"":"y MMM"),type:Ke(e.skeletonType),skeleton:e.skeleton||("Days"===e.actualIntervalType?"MMMd":"")})),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}blazorCustomFormat(e){return this.chart.isBlazor&&"Years"===e.actualIntervalType?"yyyy":""}increaseDateTimeInterval(e,t,i){let s=new Date(t);switch(i=Math.ceil(i),e.visibleRange.interval=i,e.actualIntervalType){case"Years":return s.setFullYear(s.getFullYear()+i),s;case"Quarter":return s.setMonth(s.getMonth()+3*i),s;case"Months":return s.setMonth(s.getMonth()+i),s;case"Weeks":return s.setDate(s.getDate()+7*i),s;case"Days":return s.setDate(s.getDate()+i),s;case"Hours":return s.setHours(s.getHours()+i),s;case"Minutes":return s.setMinutes(s.getMinutes()+i),s;case"Seconds":return s.setSeconds(s.getSeconds()+i),s}return s}alignRangeStart(e,t,i,s){let o=new Date(t);switch(e.actualIntervalType){case"Years":let e=Math.floor(Math.floor(o.getFullYear()/i)*i);return o=new Date(e,o.getMonth(),o.getDate(),0,0,0),o;case"Months":let t=Math.floor(Math.floor(o.getMonth()/i)*i);return o=new Date(o.getFullYear(),t,o.getDate(),0,0,0),o;case"Days":let s=Math.floor(Math.floor(o.getDate()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),s,0,0,0),o;case"Hours":let n=Math.floor(Math.floor(o.getHours()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),n,0,0),o;case"Minutes":let r=Math.floor(Math.floor(o.getMinutes()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),r,0,0),o;case"Seconds":let a=Math.floor(Math.floor(o.getSeconds()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),a,0),o}return o}getModuleName(){return"DateTime"}destroy(e){}}class Li extends Ci{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)}getActualRange(e,t){this.initializeDoubleRange(e),e.actualRange={},e.actualRange.interval=e.interval?Math.ceil(e.interval):Math.max(1,Math.floor(e.doubleRange.delta/at(t,e))),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end,e.actualRange.delta=e.doubleRange.delta}applyRangePadding(e,t){let i="BetweenTicks"===e.labelPlacement&&"PolarRadar"!==this.chart.chartAreaType?.5:0;i>0?(e.actualRange.min-=i,e.actualRange.max+=i):e.actualRange.max+=e.actualRange.max?0:.5,e.doubleRange=new te(e.actualRange.min,e.actualRange.max),e.actualRange.delta=e.doubleRange.delta,this.calculateVisibleRange(t,e)}calculateVisibleLabels(e){e.visibleLabels=[];let t,i,s=Math.ceil(e.visibleRange.min);for((e.zoomFactor<1||e.zoomPosition>0)&&(s=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval),e.startLabel=e.labels[Math.round(e.visibleRange.min)],e.endLabel=e.labels[Math.floor(e.visibleRange.max)];s<=e.visibleRange.max;s+=e.visibleRange.interval)t=Object(h.J)({},Object(h.U)("properties",e.labelStyle),null,!0),Te(s,e.visibleRange)&&e.labels.length>0&&(i=Math.round(s),nt(this.chart,i,e.labels[i]?e.labels[i].toString():i.toString(),t,e));e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}getModuleName(){return"Category"}destroy(e){}}class Oi{constructor(e){this.chart=e}enableComplexProperty(e){let t,i=[],s=[],o=e.xAxis.visibleRange,n=e.yAxis.visibleRange,r=e.points,a=e.clipRect,l=Math.abs(o.delta/a.width),c=Math.abs(n.delta/a.height),d=r[0]&&r[0].x>l?0:l,u=r[0]&&r[0].y>c?0:c,p=0,m=0;for(let h of r)h.symbolLocations=[],p=h.xValue?h.xValue:o.min,m=h.yValue?h.yValue:n.min,(Math.abs(d-p)>=l||Math.abs(u-m)>=c)&&(i.push(h),d=p,u=m);for(let g=0;g<i.length;g++)t=i[g],Object(h.W)(t.x)||""===t.x||s.push(t);return s}getLineDirection(e,t,i,s,o,n){let r="";if(null!=e){let a=o(e.xValue,e.yValue,i.xAxis,i.yAxis,s,i),l=o(t.xValue,t.yValue,i.xAxis,i.yAxis,s,i);r=n+" "+a.x+" "+a.y+" L "+l.x+" "+l.y+" "}return r}appendLinePath(e,t,i){let s=dt(e.id),o=t.chart,n=s?s.getAttribute("d"):null,r=t.chart.renderer.drawPath(e,new Int32Array([t.clipRect.x,t.clipRect.y]));r&&r.setAttribute("clip-path",i),t.pathElement=r,t.chart.enableCanvas||t.seriesElement.appendChild(r),t.isRectSeries=!1,st(s,e.d,t.chart.redraw,n,o.duration)}renderMarker(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)}doProgressiveAnimation(e,t){let i,s=new h.b({}),o=e.pathElement,n=o.getAttribute("stroke-dasharray"),r=e.pathElement.getTotalLength();o.style.visibility="hidden",s.animate(o,{duration:t.duration,delay:t.delay,progress:e=>{e.timeStamp>=e.delay&&(o.style.visibility="visible",i=Math.abs(Math.round((e.timeStamp-e.delay)*r/e.duration)),o.setAttribute("stroke-dasharray",i+","+r))},end:t=>{o.setAttribute("stroke-dasharray",n),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})}storePointLocation(e,t,i,s){let o=t.marker&&t.marker.width?t.marker.width:0,n=t.marker&&t.marker.height?t.marker.height:0;e.symbolLocations.push(s(e.xValue,e.yValue,t.xAxis,t.yAxis,i,t)),e.regions.push(new g(e.symbolLocations[0].x-o,e.symbolLocations[0].y-n,2*o,2*n))}withinYRange(e,t){return e.yValue>=t.visibleRange.min&&e.yValue<=t.visibleRange.max}getFirstLastVisiblePoint(e){let t=null,i=null;for(let s of e)null===t&&s.visible&&(t=i=s),i=s.visible?s:i;return{first:t||e[0],last:i||e[e.length-1]}}doLinearAnimation(e,t){let i,s=e.clipRectElement.childNodes[0].childNodes[0],o=e.chart.animated?e.chart.duration:t.duration,n=et("Linear"),r=+s.getAttribute("height"),a=+s.getAttribute("width"),l=+s.getAttribute("x"),c=e.chart.requireInvertedAxis?+s.getAttribute("height")+ +s.getAttribute("y"):+s.getAttribute("y");s.style.visibility="hidden",new h.b({}).animate(s,{duration:o,delay:t.delay,progress:t=>{t.timeStamp>=t.delay&&(s.style.visibility="visible",e.chart.requireInvertedAxis?(i=n(t.timeStamp-t.delay,0,r,t.duration),s.setAttribute("transform","translate("+l+" "+c+") scale(1,"+i/r+") translate("+-l+" "+-c+")")):(i=n(t.timeStamp-t.delay,0,a,t.duration),s.setAttribute("transform","translate("+l+" "+c+") scale("+i/a+", 1) translate("+-l+" "+-c+")")))},end:t=>{s.setAttribute("transform","translate(0,0)"),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})}}class Ai extends Oi{render(e,t,i,s){let o,n,r,a="",l=null,h="M",c=e.chart&&"PolarRadar"===e.chart.chartAreaType,d=e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode,u=c?We:gt,p=this.enableComplexProperty(e);for(let m of p)m.regions=[],c&&!m.visible||(m.visible&&je(p[m.index-1],m,p[m.index+1],e)?(a+=this.getLineDirection(l,m,e,s,u,h),h=l?"L":h,l=m,this.storePointLocation(m,e,s,u)):(l=d?l:null,h=d?h:"M",m.symbolLocations=[]));if(c&&e.isClosed){let r=this.getFirstLastVisiblePoint(p);n=u(r.last.xValue,r.last.yValue,t,i,s,e),o=u(r.first.xValue,r.first.yValue,t,i,s,e),a=a.concat(h+" "+n.x+" "+n.y+" L "+o.x+" "+o.y)}r=new _("Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:"TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+(void 0===e.index?e.category:e.index),"none",e.width,e.interior,e.opacity,e.dashArray,a),this.appendLinePath(r,e,""),this.renderMarker(e)}doAnimation(e){this.doProgressiveAnimation(e,e.animation)}getModuleName(){return"LineSeries"}destroy(e){}}class Pi{getSideBySideInfo(e){e.chart.enableSideBySidePlacement&&!e.position&&this.getSideBySidePositions(e);let t=e.chart.enableSideBySidePlacement?e.position:0,i=e.chart.enableSideBySidePlacement?e.rectCount:1;e.isRectSeries=!0;let s,o=e.chart.enableSideBySidePlacement?e.columnSpacing:0,n=null===e.columnWidth?"Histogram"===e.type?1:.7:e.columnWidth,r=$e(e.xAxis,e.chart.visibleSeries)*n,a=t/i-.5,l=new te(a,a+1/i);return isNaN(l.start)||isNaN(l.end)||(l=new te(l.start*r,l.end*r),s=o*l.delta,l=new te(l.start+s/2,l.end-s/2)),l}getRectangle(e,t,i,s,o){let n=gt(e,t,o.xAxis,o.yAxis,o.chart.requireInvertedAxis),r=gt(i,s,o.xAxis,o.yAxis,o.chart.requireInvertedAxis);return new g(Math.min(n.x,r.x),Math.min(n.y,r.y),Math.abs(r.x-n.x),Math.abs(r.y-n.y))}getSideBySidePositions(e){let t=e.chart;for(let i of t.columns)for(let s of t.rows)this.findRectPosition(e.findSeriesCollection(i,s,!1))}findRectPosition(e){let t=[],i={rectCount:0,position:null};for(let s=0;s<e.length;s++){let o=e[s];-1!==o.type.indexOf("Stacking")?o.stackingGroup?void 0===t[o.stackingGroup]?(o.position=i.rectCount,t[o.stackingGroup]=i.rectCount++):o.position=t[o.stackingGroup]:null===i.position?(o.position=i.rectCount,i.position=i.rectCount++):o.position=i.position:o.position=i.rectCount++}for(let s=0;s<e.length;s++)e[s].rectCount=i.rectCount}updateSymbolLocation(e,t,i){i.chart.requireInvertedAxis?this.updateYRegion(e,t,i):this.updateXRegion(e,t,i),"Histogram"===i.type&&(e.minimum=+e.x-i.histogramValues.binWidth/2,e.maximum=+e.x+i.histogramValues.binWidth/2)}updateXRegion(e,t,i){e.symbolLocations.push({x:t.x+t.width/2,y:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||e.yValue>=0==!i.yAxis.isInversed?t.y:t.y+t.height}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x+t.width/2,y:t.y+t.height})}updateYRegion(e,t,i){e.symbolLocations.push({x:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||e.yValue>=0==!i.yAxis.isInversed?t.x+t.width:t.x,y:t.y+t.height/2}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x,y:t.y+t.height/2})}renderMarker(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)}getRegion(e,t,i){if(0===e.y){let t=i.marker&&i.marker.width?i.marker.width:0,s=i.marker&&i.marker.height?i.marker.height:0;e.regions.push(new g(e.symbolLocations[0].x-t,e.symbolLocations[0].y-s,2*t,2*s))}else e.regions.push(t)}triggerEvent(e,t,i,s){let o={cancel:!1,name:"pointRender",series:e,point:t,fill:e.setPointColor(t,i),border:e.setBorderColor(t,s)};return e.chart.trigger("pointRender",o),t.color=o.fill,o}drawRectangle(e,t,i,s){let o=e.chart;if((o.requireInvertedAxis?i.height:i.width)<=0)return null;let n=this.calculateRoundedRectPath(i,e.cornerRadius.topLeft,e.cornerRadius.topRight,e.cornerRadius.bottomLeft,e.cornerRadius.bottomRight),r="Indicator"===e.category?o.element.id+"_Indicator_"+e.index+"_"+e.name+"_Point_"+t.index:o.element.id+"_Series_"+e.index+"_Point_"+t.index,a=Rt(o.redraw,r),l=a?a.getAttribute("d"):"",h=new _(r,s.fill,s.border.width,s.border.color,e.opacity,e.dashArray,n),c=o.renderer.drawPath(h,new Int32Array([e.clipRect.x,e.clipRect.y]));switch(e.seriesType){case"XY":c.setAttribute("aria-label",t.x.toString()+":"+t.yValue.toString());break;case"HighLow":c.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString())}yt(e.chart.enableCanvas,e.seriesElement,c,o.redraw),e.chart.enableCanvas||st(c,n,o.redraw,l,o.duration)}animate(e){let t=e.seriesElement.childNodes,i="Indicator"===e.category?0:1,s=Me(e);for(let o of s)(o.symbolLocations.length||"BoxAndWhisker"===e.type&&o.regions.length)&&(this.animateRect(t[i],e,o),i++)}animateRect(e,t,i){let s,o,n,r,a,l=t.animation,c=t.chart.animated?t.chart.duration:l.duration,d=et("Linear"),u=i.yValue<0,p=+i.regions[0].height,m=+i.regions[0].width;t.chart.requireInvertedAxis?(o=+i.regions[0].y,t.type.indexOf("Stacking")>-1?(s=He(0,t.yAxis)*t.yAxis.rect.width,n=s,r=o):(s=+i.regions[0].x,r=u?o:o+p,n=-1!==t.seriesType.indexOf("HighLow")||-1!==t.type.indexOf("Waterfall")?s+m/2:u!==t.yAxis.isInversed?s+m:s)):(s=+i.regions[0].x,t.type.indexOf("Stacking")>-1?(o=(1-He(0,t.yAxis))*t.yAxis.rect.height,n=s,r=o):(o=+i.regions[0].y,r=-1!==t.seriesType.indexOf("HighLow")||-1!==t.type.indexOf("Waterfall")?o+p/2:u!==t.yAxis.isInversed?o:o+p,n=u?s:s+m)),e.style.visibility="hidden",new h.b({}).animate(e,{duration:c,delay:l.delay,progress:i=>{i.timeStamp>=i.delay&&(e.style.visibility="visible",t.chart.requireInvertedAxis?(m=m||1,a=d(i.timeStamp-i.delay,0,m,i.duration),e.setAttribute("transform","translate("+n+" "+r+") scale("+a/m+", 1) translate("+-n+" "+-r+")")):(p=p||1,a=d(i.timeStamp-i.delay,0,p,i.duration),e.setAttribute("transform","translate("+n+" "+r+") scale(1,"+a/p+") translate("+-n+" "+-r+")")))},end:s=>{e.setAttribute("transform","translate(0,0)");let o=t.seriesElement;if((e===o.lastElementChild||i.index===t.points.length-1||"Waterfall"===t.type&&e===o.children[o.childElementCount-2])&&(t.chart.trigger("animationComplete",{series:t.chart.isBlazor?{}:t}),"Waterfall"===t.type)){let e=o.childNodes;for(let t=0;t<e.length;t++)-1!==e[t].id.indexOf("Connector")&&(e[t].style.visibility="visible",e[t].setAttribute("transform","translate(0,0)"))}}})}calculateRoundedRectPath(e,t,i,s,o){return"M "+e.x+" "+(t+e.y)+" Q "+e.x+" "+e.y+" "+(e.x+t)+" "+e.y+" L "+(e.x+e.width-i)+" "+e.y+" Q "+(e.x+e.width)+" "+e.y+" "+(e.x+e.width)+" "+(e.y+i)+" L "+(e.x+e.width)+" "+(e.y+e.height-o)+" Q "+(e.x+e.width)+" "+(e.y+e.height)+" "+(e.x+e.width-o)+" "+(e.y+e.height)+" L "+(e.x+s)+" "+(e.y+e.height)+" Q "+e.x+" "+(e.y+e.height)+" "+e.x+" "+(e.y+e.height-s)+" L "+e.x+" "+(t+e.y)+" Z"}}class ki extends Pi{render(e){let t,i,s=this.getSideBySideInfo(e),o=Math.max(e.yAxis.visibleRange.min,0);for(let n of e.points)n.symbolLocations=[],n.regions=[],n.visible&&je(e.points[n.index-1],n,e.points[n.index+1],e)&&(t=this.getRectangle(n.xValue+s.start,n.yValue,n.xValue+s.end,o,e),i=this.triggerEvent(e,n,"Indicator"===e.category?n.color:e.interior,{width:e.border.width,color:e.border.color}),i.cancel||(this.updateSymbolLocation(n,t,e),this.drawRectangle(e,n,t,i)));this.renderMarker(e)}doAnimation(e){this.animate(e)}getModuleName(){return"ColumnSeries"}destroy(e){}}class Ti extends Oi{getAreaPathDirection(e,t,i,s,o,n,r){let a,l="";return null===n&&(a=o(e,t,i.xAxis,i.yAxis,s,i),l+=r+" "+a.x+" "+a.y+" "),l}getAreaEmptyDirection(e,t,i,s,o){let n="";return n+=this.getAreaPathDirection(e.x,e.y,i,s,o,null,"L"),n+=this.getAreaPathDirection(t.x,t.y,i,s,o,null,"L"),n}setPointColor(e,t,i,s,o){if(""===i.pointColorMapping){let t,n;for(let r=0;r<o.length;r++)if(t=o[r],n=s?e.xValue:e.yValue,n<=this.getAxisValue(t.value,s?i.xAxis:i.yAxis,i.chart)||!t.value){e.interior=t.color;break}return null==e.interior&&(e.interior=i.interior),!1}return!!t&&i.setPointColor(e,i.interior)!==i.setPointColor(t,i.interior)}sortSegments(e,t){let i="X"===e.segmentAxis?e.xAxis:e.yAxis,s=[].concat(t),o=this;return s.sort((t,s)=>o.getAxisValue(t.value,i,e.chart)-o.getAxisValue(s.value,i,e.chart))}applySegmentAxis(e,t,i){if(""!==e.pointColorMapping)return t.map(t=>{this.appendLinePath(t,e,"")}),null;let s,o="X"===e.segmentAxis,n=o?e.xAxis:e.yAxis,r=e.chart;this.includeSegment(i,n,e,i.length);let a,l,h,c=i.length;for(let d=0;d<c;d++)s=i[d],a=this.getAxisValue(s.value,n,e.chart),l=this.createClipRect(d?this.getAxisValue(i[d-1].value,n,e.chart):n.visibleRange.min,a,e,d,o),l&&t.map(t=>{h={"clip-path":l,"stroke-dasharray":s.dashArray,opacity:t.opacity,stroke:e.type.indexOf("Line")>-1?s.color||e.interior:e.border.color,"stroke-width":t["stroke-width"],fill:e.type.indexOf("Line")>-1?"none":s.color||e.interior,id:t.id+"_Segment_"+d,d:t.d},st(dt(h.id),h.d,r.redraw),e.seriesElement.appendChild(r.renderer.drawPath(h))})}includeSegment(e,t,i,s){if(s<=0)return e.push({value:t.visibleRange.max,color:i.interior}),null;this.getAxisValue(e[s-1].value,t,i.chart)<t.visibleRange.max&&e.push({value:t.visibleRange.max,color:i.interior})}createClipRect(e,t,i,s,o){let n,r=i.chart.requireInvertedAxis,a=gt(o?e:i.xAxis.visibleRange.min,o?i.yAxis.visibleRange.max:t,i.xAxis,i.yAxis,r),l=gt(o?t:i.xAxis.visibleRange.max,o?i.yAxis.visibleRange.min:e,i.xAxis,i.yAxis,r);return l=r?[a,a=l][0]:l,l.x-a.x>0&&l.y-a.y>0?(n=new Wt(i.chart.element.id+"_ChartSegmentClipRect_"+s,"transparent",{width:1,color:"Gray"},1,{x:a.x,y:a.y,width:l.x-a.x,height:l.y-a.y}),i.seriesElement.appendChild(ot(i.chart.redraw,n,i.chart.renderer)),"url(#"+i.chart.element.id+"_ChartSegmentClipRect_"+s+")"):null}getAxisValue(e,t,i){if(null===e&&(e=t.visibleRange.max),"DateTime"===t.valueType){let t={skeleton:"full",type:"dateTime"};return Date.parse(i.intl.getDateParser(t)(i.intl.getDateFormat(t)(new Date(T.b.parse.parseJson({val:e}).val))))}if(t.valueType.indexOf("Category")>-1){let i="DateTimeCategory"===t.valueType?e.getTime().toString():e;return t.labels.indexOf(i)<0?+e:t.labels.indexOf(i)}return+e}}class Ri extends Oi{constructor(){super(...arguments),this.visibleAxisLabelRect=[]}measureAxis(e){let t=this.chart;this.initialClipRect=e,this.seriesClipRect=new g(e.x,e.y,e.width,e.height),this.measureRowAxis(t,this.initialClipRect),this.measureColumnAxis(t,this.initialClipRect),this.calculateAxisSize()}measureRowAxis(e,t){this.calculateRowSize(t);let i=e.rows[0];this.measureDefinition(i,e,new m(e.availableSize.width,i.computedHeight),t)}measureColumnAxis(e,t){this.calculateColumnSize(t);let i=e.columns[0];this.measureDefinition(i,e,new m(i.computedWidth,e.availableSize.height),t)}measureDefinition(e,t,i,s){for(let o of e.axes)o.getModule(t),o.baseModule.calculateRangeAndInterval(i,o)}calculateAxisSize(){let e,t=this.chart;this.centerX=.5*this.initialClipRect.width+this.initialClipRect.x,this.centerY=.5*this.initialClipRect.height+this.initialClipRect.y,t.radius=Math.min(this.initialClipRect.width,this.initialClipRect.height)/2-5-t.primaryXAxis.majorTickLines.height-t.primaryXAxis.maxLabelSize.height,t.radius=t.primaryXAxis.coefficient*t.radius/100,this.seriesClipRect.y=this.centerY-t.radius,this.seriesClipRect.x=this.centerX-t.radius,this.seriesClipRect.height=2*t.radius,this.seriesClipRect.width=2*t.radius,this.calculateRowSize(this.seriesClipRect),e=t.primaryYAxis,e.rect=this.seriesClipRect,this.calculateColumnSize(this.seriesClipRect),e=t.primaryXAxis,e.rect=this.seriesClipRect}measure(){let e=this.chart;e.verticalAxes.push(e.primaryYAxis);let t=e.rows[0];t.axes[0]=e.primaryYAxis,e.rows[0]=t,e.horizontalAxes.push(e.primaryXAxis);let i=e.columns[0];i.axes[0]=e.primaryXAxis,e.columns[0]=i}calculateRowSize(e){let t=this.chart,i=t.rows[0];i.computedHeight=e.height/2,i.computedTop=e.y,t.rows[0]=i}calculateColumnSize(e){let t=this.chart,i=t.columns[0];i.computedLeft=e.x,i.computedWidth=e.width,t.columns[0]=i}renderAxes(){let e,t=this.chart;this.startAngle=t.primaryXAxis.startAngle;let i=t.renderer.createGroup({id:t.element.id+"AxisCollection"}),s=t.renderer.createGroup({id:t.element.id+"AxisOutsideCollection"});for(let o=0,n=t.axisCollections.length;o<n;o++)this.element=t.renderer.createGroup({id:t.element.id+"AxisGroup"+o}),e=t.axisCollections[o],"Horizontal"===e.orientation?((e.majorGridLines.width>0||e.majorTickLines.width>0)&&this.drawXAxisGridLine(e,o),e.visible&&e.internalVisibility&&this.drawXAxisLabels(e,o)):(this.drawYAxisGridLine(e,o),e.lineStyle.width>0&&this.drawYAxisLine(e,o,e.plotOffset,0),e.visible&&e.internalVisibility&&this.drawYAxisLabels(e,o)),i.appendChild(this.element);return i.appendChild(this.element),yt(t.enableCanvas,t.svgObject,i,t.redraw),s}drawYAxisLine(e,t,i,s){let o=this.chart,n={},r=Ze(Xe(e.visibleLabels[0].value,e),this.startAngle);n={id:o.element.id+"AxisLine_"+t,d:"M "+this.centerX+" "+this.centerY+"L "+(this.centerX+o.radius*r.x)+" "+(this.centerY+o.radius*r.y),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||o.themeStyle.axisLine};let a=o.renderer.drawPath(n);this.setPointerEventNone(a),o.yAxisElements.appendChild(a)}drawYAxisLabels(e,t){let i,s,o,n,r,a=this.chart,l=0,h=0,c=this.startAngle<0?this.startAngle+360:this.startAngle,d=[],u=[];u[0]=!0;let p=e.labelIntersectAction,m=a.renderer.createGroup({id:a.element.id+"AxisLabels"+t});o=Ze(Xe(e.visibleLabels[0].value,e),this.startAngle);for(let g=0,b=e.visibleLabels.length;g<b;g++){if(r=!1,n=a.radius*He(e.visibleLabels[g].value,e),i=e.visibleLabels[g].size,n=a.radius*He(e.visibleLabels[g].value,e),l=this.centerX+n*o.x+(e.majorTickLines.height+i.width/2+2.5)*Math.cos(c*Math.PI/180)*("Inside"===e.labelPosition?1:-1),h=this.centerY+n*o.y+(e.majorTickLines.height+i.height/2)*Math.sin(c*Math.PI/180)*("Inside"===e.labelPosition?1:-1),h+=i.height/4,d[g]=this.getLabelRegion(l,h,e.visibleLabels[g],"middle"),0!==g&&"Hide"===p){for(let e=g;e>=0;e--){if(e=0===e?0:e===g?e-1:e,u[e]&&St(d[g],d[e])){r=!0,u[g]=!1;break}u[g]=!0}if(r)continue;for(let e of this.visibleAxisLabelRect)if(St(d[g],e)){r=!0;break}}r||(this.visibleAxisLabelRect.push(d[g]),s=new f(a.element.id+t+"_AxisLabel_"+g,l,h,"middle",e.visibleLabels[g].text),It(a.renderer,s,e.labelStyle,e.labelStyle.color||a.themeStyle.axisLabel,m,!1,a.redraw,!0,!0))}a.yAxisElements.appendChild(m)}drawYAxisGridLine(e,t){let i,s,o,n,r,a,l,h,c,d=this.chart,u="",p="",m=this.startAngle<0?this.startAngle+360:this.startAngle,g={color:e.majorGridLines.color||d.themeStyle.majorGridLine,width:e.majorGridLines.width};if(e.majorGridLines.width>0)if("Polar"===d.visibleSeries[0].type){for(let o=0;o<e.visibleLabels.length;o++)c=dt(d.element.id+"_MajorGridLine_"+t+"_"+o),h=c?c.getAttribute("r"):null,s=d.radius*He(e.visibleLabels[o].value,e),i=new Xt(d.element.id+"_MajorGridLine_"+t+"_"+o,"transparent",g,e.majorGridLines.width,this.centerX,this.centerY,s),yt(d.enableCanvas,this.element,d.renderer.drawCircle(i),d.redraw,!0,"r","r",new Yt(+h,+h),null,!0);s!==d.radius&&(i=new Xt(d.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length+1,"transparent",g,e.majorGridLines.width,this.centerX,this.centerY,d.radius),yt(d.enableCanvas,this.element,d.renderer.drawCircle(i),d.redraw,!0,"r","r",new Yt(+h,+h),null,!0))}else{for(let o=0;o<e.visibleLabels.length;o++)s=d.radius*He(e.visibleLabels[o].value,e),p=this.renderRadarGrid(s,"",d),c=dt(d.element.id+"_MajorGridLine_"+t+"_"+o),h=c?c.getAttribute("d"):null,i=new _(d.element.id+"_MajorGridLine_"+t+"_"+o,"transparent",e.majorGridLines.width,e.majorGridLines.color||d.themeStyle.majorGridLine,null,null,p),yt(d.enableCanvas,this.element,d.renderer.drawPath(i),d.redraw,!0,"x","y",null,h,!0);s!==d.radius&&(p=this.renderRadarGrid(d.radius,"",d),c=dt(d.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length),h=c?c.getAttribute("d"):null,i=new _(d.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length,"transparent",e.majorGridLines.width,e.majorGridLines.color||d.themeStyle.majorGridLine,null,null,p),yt(d.enableCanvas,this.element,d.renderer.drawPath(i),d.redraw,!0,"x","y",null,h,!0))}if(e.majorTickLines.width>0){o=Ze(Xe(e.visibleLabels[0].value,e),this.startAngle);for(let i=0;i<e.visibleLabels.length;i++)s=d.radius*He(e.visibleLabels[i].value,e),n=this.centerX+s*o.x,r=this.centerY+s*o.y,a=n+e.majorTickLines.height*Math.cos(m*Math.PI/180)*("Inside"===e.tickPosition?1:-1),l=r+e.majorTickLines.height*Math.sin(m*Math.PI/180)*("Inside"===e.tickPosition?1:-1),u="M "+n+" "+r+" L "+a+" "+l,this.renderTickLine(e,t,u,"",i)}}renderRadarGrid(e,t,i){let s,o,n,r,a,l;for(let h=0,c=i.primaryXAxis.visibleLabels.length;h<c;h++)s=Ze(Xe(i.primaryXAxis.visibleLabels[h].value,i.primaryXAxis),this.startAngle),o=Ze(Xe(h+1<c?i.primaryXAxis.visibleLabels[h+1].value:i.primaryXAxis.visibleLabels[0].value,i.primaryXAxis),this.startAngle),n=this.centerX+e*s.x,r=this.centerY+e*s.y,a=this.centerX+e*o.x,l=this.centerY+e*o.y,t=t.concat((h?"L ":"M ")+" "+n+" "+r+" L  "+a+" "+l+" ");return t}drawXAxisGridLine(e,t){let i,s,o,n,r,a=this.chart,l="",h="",c="",d="",u=this.centerX,p=this.centerY,m=e.visibleLabels.length;for(let g=0;g<m;g++)i=e.visibleLabels[g].value,s=Ze(Xe(e.visibleLabels[g].value,e),this.startAngle),o=this.centerX+a.radius*s.x,n=this.centerY+a.radius*s.y,l="M "+u+" "+p+" L "+o+" "+n,h="M "+o+" "+n+" L "+(o+e.majorTickLines.height*s.x*("Inside"===e.tickPosition?-1:1))+" "+(n+e.majorTickLines.height*s.y*("Inside"===e.tickPosition?-1:1)),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&"Category"!==e.valueType&&"Radar"!==a.visibleSeries[0].type&&(r=this.drawAxisMinorLine(e,i,c,d),c=r[0],d=r[1]),this.renderTickLine(e,t,h,d,g),this.renderGridLine(e,t,l,c,g)}drawAxisMinorLine(e,t,i,s){let o,n,r,a=t,l=e.visibleRange,h=[];for(let c=0;c<e.minorTicksPerInterval;c++)if(a+=("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval)/(e.minorTicksPerInterval+1),ke(a,l)){r=Ze(Xe(a,e),this.startAngle),o=this.centerX+this.chart.radius*r.x,n=this.centerY+this.chart.radius*r.y;let t=o+e.minorTickLines.height*r.x*("Inside"===e.tickPosition?-1:1),l=n+e.minorTickLines.height*r.y*("Inside"===e.tickPosition?-1:1);i=i.concat("M "+this.centerX+" "+this.centerY+"L "+o+" "+n),s=s.concat("M "+o+" "+n+"L "+t+" "+l)}return h.push(i),h.push(s),h}drawXAxisLabels(e,t){let i;this.visibleAxisLabelRect=[],this.chart.legendModule&&(i=this.chart.legendModule.legendBounds);let s,o,n,r,a,l,h,c=this.chart,d=0,p=0,m=c.renderer.createGroup({id:c.element.id+"AxisLabels"+t}),g="Inside"===e.labelPosition,b="",y=[],x=[];x[0]=!0;let v=e.labelIntersectAction,w="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,_=c.radius+e.majorTickLines.height;_=g?-_:_;for(let S=0,C=e.visibleLabels.length;S<C;S++){if(h=!1,o=Ze(Xe(e.visibleLabels[S].value+w,e),this.startAngle),isNaN(o.x)||isNaN(o.y)||(d=this.centerX+(_+e.majorTickLines.height+5)*o.x,p=this.centerY+(_+e.majorTickLines.height+5)*o.y,b=parseFloat(d.toFixed(1))===parseFloat(this.centerX.toFixed(1))?"middle":d<this.centerX&&!g||d>this.centerX&&g?"end":"start"),l=e.visibleLabels[S],n=l.text,e.enableTrim||"Trim"===v){let t,i,s=e.visibleLabels[S].originalText,o=e.labelPosition,r=c.availableSize.width,a=s.length;for(let h=a-1;h>=0;--h)if(t=s.substring(0,h)+"...",i=u(t,e.labelStyle).width,d===r/2?d-i/2>=0&&d+i/2<=r:"Outside"===o&&(d>=r/2&&d+i<=r||d<=r/2&&d-i>=0)||"Inside"===o&&(d+i<=r/2||d-i>=r/2)){n=h===a-1?s:t,l.size.width=u(n,e.labelStyle).width,l.text=n;break}}if(y[S]=this.getLabelRegion(d,p,l,b),0===S?r=d:S===e.visibleLabels.length-1&&"Category"!==e.valueType&&(a=u(n,e.labelStyle).height,a+=d,n=a>r?"":n),0!==S&&"Hide"===v)for(let e=S;e>=0;e--){if(e=0===e?0:e===S?e-1:e,x[e]&&St(y[S],y[e])){h=!0,x[S]=!1;break}x[S]=!0}if(!h&&i&&(h=St(y[S],i),h)){let t=this.getAvailableSpaceToTrim(i,y[S]);t>0&&(n=kt(t,e.visibleLabels[S].originalText,e.labelStyle),h=!1)}s=new f(c.element.id+t+"_AxisLabel_"+S,d,p,b,n,"","central"),h||(this.visibleAxisLabelRect.push(y[S]),It(c.renderer,s,l.labelStyle,l.labelStyle.color||c.themeStyle.axisLabel,m,!1,c.redraw,!0,!0))}this.element.appendChild(m)}getAvailableSpaceToTrim(e,t){let i=e.x,s=i+e.width,o=t.x,n=o+t.width,r=0;return o>i&&o<s&&n>s?r=n-s:o>i&&o<s&&n<s?r=0:n>i&&n<s&&o<i?r=i-o:n>i&&n>s&&o<i&&(r=i-o),r}getLabelRegion(e,t,i,s){return"middle"===s?e-=i.size.width/2:"end"===s?e-=i.size.width:e=e,new g(e,t-=i.size.height/2,i.size.width,i.size.height)}renderTickLine(e,t,i,s,o){let n,r,a,l=this.chart;e.majorTickLines.width>0&&(a=dt(l.element.id+"_MajorTickLine_"+t+"_"+o),r=a?a.getAttribute("d"):null,n=new _(l.element.id+"_MajorTickLine_"+t+"_"+o,"transparent",e.majorTickLines.width,e.majorTickLines.color||l.themeStyle.majorTickLine,null,null,i),a=l.renderer.drawPath(n),this.setPointerEventNone(a),yt(l.enableCanvas,l.yAxisElements,a,l.redraw,!0,"x","y",null,r)),e.minorTickLines.width>0&&(a=dt(l.element.id+"_MinorTickLine_"+t+"_"+o),r=a?a.getAttribute("d"):null,n=new _(l.element.id+"_MinorTickLine_"+t+"_"+o,"transparent",e.minorTickLines.width,e.minorTickLines.color||l.themeStyle.minorTickLine,null,null,s),a=l.renderer.drawPath(n),this.setPointerEventNone(a),yt(l.enableCanvas,l.yAxisElements,a,l.redraw,!0,"x","y",null,r))}renderGridLine(e,t,i,s,o){let n,r,a,l=this.chart;e.majorGridLines.width>0&&(a=dt(l.element.id+"_MajorGridLine_"+t+"_"+o),r=a?a.getAttribute("d"):null,n=new _(l.element.id+"_MajorGridLine_"+t+"_"+o,"transparent",e.majorGridLines.width,e.majorGridLines.color||l.themeStyle.majorGridLine,null,e.majorGridLines.dashArray,i),yt(l.enableCanvas,this.element,l.renderer.drawPath(n),l.redraw,!0,"x","y",null,r)),e.minorGridLines.width>0&&(a=dt(l.element.id+"_MinorGridLine_"+t+"_"+o),r=a?a.getAttribute("d"):null,n=new _(l.element.id+"_MinorGridLine_"+t+"_"+o,"transparent",e.minorGridLines.width,e.minorGridLines.color||l.themeStyle.minorGridLine,null,e.minorGridLines.dashArray,s),yt(l.enableCanvas,this.element,l.renderer.drawPath(n),l.redraw,!0,"x","y",null,r))}setPointerEventNone(e){e&&e.setAttribute("style","pointer-events:none")}}class ji extends Ri{render(e,t,i,s){let o=Ke(e.drawType),n=i.minimum,r=i.maximum;for(let a of e.points)a.visible=a.visible&&!(!Object(h.W)(n)&&a.yValue<n||!Object(h.W)(r)&&a.yValue>r);e.drawType.indexOf("Column")>-1?this.columnDrawTypeRender(e,t,i):e.chart[o+"SeriesModule"].render(e,t,i,s)}columnDrawTypeRender(e,t,i){let s,o,n,r,a,l,h,c,d,u,p,m,g,b,y,f,x,v,w,S,C,M=t.actualRange.min,L=e.clipRect.width/2+e.clipRect.x,O=e.clipRect.height/2+e.clipRect.y,A="RangeColumn"===e.drawType,P="Polar"===e.type,k="Logarithmic"===i.valueType,T="StackingColumn"===e.drawType,R="",j=0,I=(e.points[1]?e.points[1].xValue:2*e.points[0].xValue)-e.points[0].xValue,z="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?0:t.isInversed?-I/2:I/2,E="DateTime"===t.valueType?t.dateTimeInterval:1;this.getSeriesPosition(e);let D=t.isInversed?e.rectCount-1-e.position:e.position;do{j+=E,M+=E}while(M<=t.actualRange.max-("Category"===t.valueType?0:1));for(let B of e.points)B.symbolLocations=[],B.regions=[],B.visible&&je(e.points[B.index-1],B,e.points[B.index+1],e)&&(h=t.isInversed?t.visibleRange.max-B.xValue:B.xValue-t.visibleRange.min,a=h+(I/e.rectCount*D-z)+j/360*t.startAngle,a/=j,n=2*Math.PI*(a+t.startAngle),r=2*Math.PI*(a+t.startAngle+I/e.rectCount/j),0===n&&0===r?(r=2*Math.PI,C="1"):C="0",c=n,d=r,n=n-.5*Math.PI+e.columnSpacing/2,r=r-.5*Math.PI-1e-6-e.columnSpacing/2,T||A?(b=A?B.low:e.stackedValues.startValues[B.index],y=A?B.high:e.stackedValues.endValues[B.index],y=k?Ae(0===y?1:y,i.logBase):y,y=y>i.actualRange.max?i.actualRange.max:y):(b=i.visibleRange.min,y=B.yValue>i.actualRange.max?i.actualRange.max:B.yValue),l=b===y?0:e.chart.radius*He(y,i),u=L+l*Math.cos(n),p=L+l*Math.cos(r),m=O+l*Math.sin(n),g=O+l*Math.sin(r),f=e.chart.radius*He(0===b&&0!==i.visibleRange.min?i.visibleRange.min:b,i),x=L+f*Math.cos(n),v=O+f*Math.sin(n),w=L+f*Math.cos(r),S=O+f*Math.sin(r),R=P?"M "+u+" "+m+" A "+l+" "+l+" 0 "+C+" 1 "+p+" "+g+" L "+w+" "+S+" A "+f+" "+f+" 1 0 0 "+x+" "+v+" Z":"M "+u+" "+m+" L "+p+" "+g+" L "+w+" "+S+" L "+x+" "+v+" Z",B.regionData=new Ye(c,d,f,l,a),o=this.triggerEvent(e.chart,e,B),s=new _(e.chart.element.id+"_Series_"+e.index+"_Point_"+B.index,o.fill,o.border.width,o.border.color,e.opacity,e.dashArray,R),o.cancel||(this.appendLinePath(s,e,""),P?(B.symbolLocations.push({x:L+l*Math.cos(n+(r-n)/2),y:O+l*Math.sin(n+(r-n)/2)}),A&&B.symbolLocations.push({x:L+f*Math.cos(n+(r-n)/2),y:O+f*Math.sin(n+(r-n)/2)})):(B.symbolLocations.push({x:(u+p)/2,y:(m+g)/2}),A&&B.symbolLocations.push({x:(w+x)/2,y:(S+v)/2}))));this.renderMarker(e),e.isRectSeries=!0}triggerEvent(e,t,i){let s={cancel:!1,name:"pointRender",series:t,point:i,fill:t.setPointColor(i,t.interior),border:t.setBorderColor(i,{width:t.border.width,color:t.border.color})};return e.trigger("pointRender",s),i.color=s.fill,s}getSeriesPosition(e){let t=e.chart,i=[],s=[],o={rectCount:0,position:null};for(let n of t.visibleSeries)!n.visible||"Polar"!==n.type&&"Radar"!==n.type||-1===n.drawType.indexOf("Column")||i.push(n);for(let n=0;n<i.length;n++){let e=i[n];-1!==e.drawType.indexOf("Stacking")?e.stackingGroup?void 0===s[e.stackingGroup]?(e.position=o.rectCount,s[e.stackingGroup]=o.rectCount++):e.position=s[e.stackingGroup]:null===o.position?(e.position=o.rectCount,o.position=o.rectCount++):e.position=o.position:e.position=o.rectCount++}for(let n=0;n<i.length;n++)i[n].rectCount=o.rectCount}doAnimation(e){let t=e.animation.duration,i=e.animation.delay,s=e.seriesElement.childNodes,o=1;if("Scatter"===e.drawType)for(let n of e.points)n.symbolLocations.length&&s[o]&&(it(s[o],i,t,e,n.index,n.symbolLocations[0],!1),o++);else for(o=1;o<s.length;o++)this.doPolarRadarAnimation(s[o],i,t,e)}doPolarRadarAnimation(e,t,i,s){let o=s.clipRect.width/2+s.clipRect.x,n=s.clipRect.height/2+s.clipRect.y,r=0;e.style.visibility="hidden",new h.b({}).animate(e,{duration:i,delay:t,progress:t=>{t.timeStamp>t.delay&&(t.element.style.visibility="visible",r=(t.timeStamp-t.delay)/t.duration,e.setAttribute("transform","translate("+o+" "+n+") scale("+r+") translate("+-o+" "+-n+")"))},end:t=>{e.style.visibility="visible",e.removeAttribute("transform"),s.chart.trigger("animationComplete",{series:s.chart.isBlazor?{}:s})}})}getPolarIsInversedPath(e,t){let i,s,o,n=this.chart.radius,r=t,a=e.isInversed?"1 1 ":"1 0 ";return i=Ze(Xe(e.visibleLabels[0].value,e),this.startAngle),s=this.centerX+n*i.x,o=this.centerY+n*i.y,r+"L "+s+" "+o+" A "+n+" "+n+" 0 "+a+s+" "+(this.centerY+n)+" A "+n+" "+n+" 0 "+a+s+" "+o+" "}getModuleName(){return"PolarSeries"}destroy(e){}}class Ii extends Oi{constructor(e){super(e),this.splinePoints=[]}findSplinePoint(e){let t,i,s=[],o=[],n=0;s=this.filterEmptyPoints(e);for(let r=0;r<s.length;r++)i=s[r],null!==i.x&&""!==i.x&&(i.index=n,n++,o.push(i));if(this.splinePoints=this.findSplineCoefficients(o,e),o.length>1){e.drawPoints=[];for(let i of o)if(0!==i.index){let s=this.getPreviousIndex(o,i.index-1,e);t=this.getControlPoints(o[s],i,this.splinePoints[s],this.splinePoints[i.index],e),e.drawPoints.push(t);let n=e.yMax-e.yMin;i.yValue&&t.controlPoint1.y&&t.controlPoint2.y&&n>1&&(e.yMin=Math.floor(Math.min(e.yMin,i.yValue,t.controlPoint1.y,t.controlPoint2.y)),e.yMax=Math.ceil(Math.max(e.yMax,i.yValue,t.controlPoint1.y,t.controlPoint2.y)))}"PolarRadar"===e.chart.chartAreaType&&e.isClosed&&(t=this.getControlPoints({xValue:o[o.length-1].xValue,yValue:o[o.length-1].yValue},{xValue:o[o.length-1].xValue+1,yValue:o[0].yValue},this.splinePoints[0],this.splinePoints[o[o.length-1].index],e),e.drawPoints.push(t))}}getPreviousIndex(e,t,i){if("Drop"!==i.emptyPointSettings.mode)return t;for(;Object(h.W)(e[t])&&t>-1;)t-=1;return t}getNextIndex(e,t,i){if("Drop"!==i.emptyPointSettings.mode)return t;for(;Object(h.W)(e[t])&&t<e.length;)t+=1;return t}filterEmptyPoints(e){if("Drop"!==e.emptyPointSettings.mode&&this.isPointInRange(e.points))return e.points;let t=Object(h.J)([],e.points,null,!0);for(let i=0;i<t.length;i++)t[i].index=i,t[i].isEmpty&&(t[i].symbolLocations=[],t[i].regions=[],t.splice(i,1),i--);return t}isPointInRange(e){for(let t of e)if(!t.isPointInRange)return!1;return!0}findSplineCoefficients(e,t){let i,s,o,n,r,a,l,h=e.length,c=[],d=[],u=[],p=[],m=[],g=t.cardinalSplineTension?t.cardinalSplineTension:.5;switch(g=g<0?0:g>1?1:g,t.splineType){case"Monotonic":for(let t=0;t<h-1;t++)u[t]=e[t+1].xValue-e[t].xValue,p[t]=e[t+1].yValue-e[t].yValue,m[t]=p[t]/u[t];l=m.length,c[0]=m[0],c[h-1]=m[l-1];for(let e=0;e<u.length;e++)l>e+1&&(m[e]*m[e+1]<=0?c[e+1]=0:(a=u[e]+u[e+1],c[e+1]=3*a/((a+u[e+1])/m[e]+(a+u[e])/m[e+1])));break;case"Cardinal":for(let t=0;t<h;t++)c[t]=0===t?h>2?g*(e[t+2].xValue-e[t].xValue):0:t===h-1?h>2?g*(e[h-1].xValue-e[h-3].xValue):0:g*(e[t+1].xValue-e[t-1].xValue);break;default:"Clamped"===t.splineType?(c[0]=3*(e[1].yValue-e[0].yValue)/(e[1].xValue-e[0].xValue)-3,d[0]=.5,c[e.length-1]=3*(e[e.length-1].yValue-e[e.length-2].yValue)/(e[e.length-1].xValue-e[e.length-2].xValue),c[0]=d[0]=Math.abs(c[0])===1/0?0:c[0],c[e.length-1]=d[e.length-1]=Math.abs(c[e.length-1])===1/0?0:c[e.length-1]):(c[0]=d[0]=0,c[e.length-1]=0);for(let t=1;t<h-1;t++)if(i=e[t].xValue-e[t-1].xValue,s=e[t+1].xValue-e[t-1].xValue,o=e[t+1].xValue-e[t].xValue,n=e[t+1].yValue-e[t].yValue||null,r=e[t].yValue-e[t-1].yValue||null,0===i||0===s||0===o)c[t]=0,d[t]=0;else{let e=1/(i*c[t-1]+2*s);c[t]=-e*o,d[t]=e*(6*(n/o-r/i)-i*d[t-1])}for(let e=h-2;e>=0;e--)c[e]=c[e]*c[e+1]+d[e]}return c}getControlPoints(e,t,i,s,o){let n,r,a,l=i,h=s,c=e.xValue,d=e.yValue,u=t.xValue,p=t.yValue;switch(o.splineType){case"Cardinal":"DateTime"===o.xAxis.valueType&&(l=i/this.dateTimeInterval(o),h=s/this.dateTimeInterval(o)),n=new Yt(c+i/3,d+l/3),r=new Yt(u-s/3,p-h/3),a=new Jt(n,r);break;case"Monotonic":let e=(u-c)/3;n=new Yt(c+e,d+i*e),r=new Yt(u-e,p-s*e),a=new Jt(n,r);break;default:let t=1/3,m=u-c;m*=m;let g=t*(d+2*p-t*m*(.5*i+s));n=new Yt((2*c+u)*t,t*(2*d+p-t*m*(i+.5*s))),r=new Yt((c+2*u)*t,g),a=new Jt(n,r)}return a}dateTimeInterval(e){let t,i=e.xAxis.actualIntervalType;return t="Years"===i?31536e6:"Months"===i?2592e6:"Days"===i?864e5:"Hours"===i?36e5:"Minutes"===i?6e4:"Seconds"===i?1e3:2592e6,t}doAnimation(e){this.doLinearAnimation(e,e.animation)}}class zi extends Oi{initSeriesCollection(e,t){e.targetSeries=[];let i=new hi(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,e.type,e.fill,e.width,t)}setSeriesProperties(e,t,i,s,o,n){e.name=i.length<=4?i.toLocaleUpperCase():i,e.xName="x",e.yName="y",e.fill=s||"#606eff",e.dashArray=t.dashArray,e.width=o,e.xAxisName=t.xAxisName,e.animation=t.animation,e.yAxisName=t.yAxisName,e.clipRectElement=t.clipRectElement,e.points=[],e.enableTooltip=!0,e.interior=e.fill,e.category="Indicator",e.index=t.index,e.chart=n,e.xMin=1/0,e.xMax=-1/0,e.yMin=1/0,e.yMax=-1/0,e.xData=[],e.yData=[],e.marker.visible=!1,t.targetSeries.push(e)}createIndicatorElements(e,t,i){(t.seriesName||t.dataSource)&&Je(t.targetSeries[0]);let s=new g(0,0,0,0);(t.seriesName||t.dataSource)&&(s=t.targetSeries[0].clipRect);let o=new Wt(e.element.id+"_ChartIndicatorClipRect_"+i,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:s.width,height:s.height}),n=ot(e.redraw,o,e.renderer);t.indicatorElement=e.renderer.createGroup({id:e.element.id+"IndicatorGroup"+i,transform:"translate("+s.x+","+s.y+")","clip-path":"url(#"+e.element.id+"_ChartIndicatorClipRect_"+i+")"}),t.indicatorElement.appendChild(n);for(let r of t.targetSeries){r.clipRectElement=n;let e=r.chart.renderer.createGroup({id:r.chart.element.id+"_Indicator_"+t.index+"_"+r.name+"_Group"});t.indicatorElement.appendChild(e),r.seriesElement=e}e.indicatorElements.appendChild(t.indicatorElement)}getDataPoint(e,t,i,s,o,n=null){let r=new si;return r.x=e,r.y=t,r.xValue=i.xValue,r.color=s.fill,r.index=o,r.yValue=t,r.visible=!0,s.xMin=Math.min(s.xMin,r.xValue),s.yMin=Math.min(s.yMin,r.yValue),s.xMax=Math.max(s.xMax,r.xValue),s.yMax=Math.max(s.yMax,r.yValue),s.xData.push(r.xValue),n&&"Macd"===n.type&&"Column"===s.type&&(r.color=r.y>=0?n.macdPositiveColor:n.macdNegativeColor),r}getRangePoint(e,t,i,s,o,n,r=null){let a=new si;return a.x=e,a.high=t,a.low=i,a.xValue=s.xValue,a.color=o.fill,a.index=n,a.visible=!0,o.xData.push(a.xValue),a}setSeriesRange(e,t,i=null){i?i.points=e:t.targetSeries[0].points=e}}class Ei extends $t{constructor(e){super(e),this.element=this.chart.element,this.textStyle=e.tooltip.textStyle,this.control=e}getElement(e){return document.getElementById(e)}getTooltipElement(e){this.inverted=this.chart.requireInvertedAxis,this.header=null===this.control.tooltip.header?this.control.tooltip.shared?"<b>${point.x}</b>":"<b>${series.name}</b>":this.control.tooltip.header,this.formattedText=[];let t=document.getElementById(this.chart.element.id+"_tooltip"),i=this.chart.element.id.indexOf("stockChart")>-1;return!e&&!t||i?this.createElement():null}createElement(){let e=document.createElement("div");return e.id=this.element.id+"_tooltip",e.className="ejSVGTooltip",e.setAttribute("style","pointer-events:none; position:absolute;z-index: 1"),e}pushData(e,t,i,s){return!!e.series.enableTooltip&&(this.currentPoints.push(e),this.stopAnimation(),i&&!document.getElementById(i.id)&&(this.chart.stockChart?document.getElementById(this.chart.stockChart.element.id+"_Secondary_Element").appendChild(i):document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),!0)}removeHighlight(e){let t,i;for(let s=0,o=this.previousPoints.length;s<o;s++)t=this.previousPoints[s],t.series.isRectSeries?t.series.visible&&this.highlightPoint(t.series,t.point.index,!1):(i=t.series,i.marker.visible||"Scatter"===t.series.type||"Bubble"===t.series.type||(this.previousPoints.shift(),o-=1))}highlightPoint(e,t,i){let s=this.getElement(this.element.id+"_Series_"+e.index+"_Point_"+t);s&&s.setAttribute("opacity",(i?e.opacity/2:e.opacity).toString())}highlightPoints(){for(let e of this.currentPoints)e.series.isRectSeries&&"Series"===e.series.category&&this.highlightPoint(e.series,e.point.index,!0)}createTooltip(e,t,i,s,o,n,r,a,l=null,h=null,c){let d=this.currentPoints[0].series,u=e.tooltipModule||e.accumulationTooltipModule;u&&(t?this.svgTooltip=new P({opacity:e.tooltip.opacity,header:this.headerText,content:this.text,fill:e.tooltip.fill,border:e.tooltip.border,enableAnimation:e.tooltip.enableAnimation,location:i,shared:e.tooltip.shared,shapes:n,clipBounds:"PolarRadar"===this.chart.chartAreaType?new Yt(0,0):s,areaBounds:a,palette:this.findPalette(),template:c||e.tooltip.template,data:h,theme:e.theme,offset:r,textStyle:e.tooltip.textStyle,isNegative:d.isRectSeries&&"Waterfall"!==d.type&&o&&o.y<0,inverted:this.chart.requireInvertedAxis&&d.isRectSeries,arrowPadding:this.text.length>1||this.chart.stockChart?0:12,availableSize:e.availableSize,duration:this.chart.tooltip.duration,isCanvas:this.chart.enableCanvas,isTextWrap:e.tooltip.enableTextWrap&&"chart"===e.getModuleName(),blazorTemplate:{name:"Template",parent:this.chart.tooltip},tooltipRender:()=>{u.removeHighlight(u.control),u.highlightPoints(),u.updatePreviousPoint(l)},animationComplete:t=>{t.tooltip.fadeOuted&&u.fadeOut(u.previousPoints,e)}},"#"+this.element.id+"_tooltip"):this.svgTooltip&&(this.svgTooltip.location=i,this.svgTooltip.content=this.text,this.svgTooltip.header=this.headerText,this.svgTooltip.offset=r,this.svgTooltip.palette=this.findPalette(),this.svgTooltip.shapes=n,this.svgTooltip.data=h,this.svgTooltip.template=e.tooltip.template,this.svgTooltip.textStyle=e.tooltip.textStyle,this.svgTooltip.isNegative=d.isRectSeries&&"Waterfall"!==d.type&&o&&o.y<0,this.svgTooltip.clipBounds="PolarRadar"===this.chart.chartAreaType?new Yt(0,0):s,this.svgTooltip.arrowPadding=this.text.length>1||this.chart.stockChart?0:12,this.svgTooltip.dataBind()))}findPalette(){let e=[];for(let t of this.currentPoints)e.push(this.findColor(t,t.series));return e}findColor(e,t){return!t.isRectSeries||"Candle"!==t.type&&"Hilo"!==t.type&&"HiloOpenClose"!==t.type?(e.point.color&&"#ffffff"!==e.point.color?e.point.color:e.point.interior)||t.marker.fill||t.interior:e.point.color}updatePreviousPoint(e){e&&(this.currentPoints=this.currentPoints.concat(e)),this.previousPoints=Object(h.J)([],this.currentPoints,null,!0)}fadeOut(e,t){let i=this.getElement(this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg");i&&parseInt(i.getAttribute("opacity"),10)>0||(this.valueX=null,this.valueY=null,this.currentPoints=[],this.removeHighlight(t),this.removeHighlightedMarker(e),this.svgTooltip=null,this.control.trigger("animationComplete",{}))}removeHighlightedMarker(e){if(this.chart.markerRender){for(let t of e)Oe(this.element.id+"_Series_"+t.series.index+"_Point_"+t.point.index+"_Trackball");this.chart.markerRender.removeHighlightedMarker()}this.previousPoints=[]}removeText(){this.textElements=[];let e=this.getElement(this.element.id+"_tooltip_group");if(e&&e.childNodes.length>0)for(;e.lastChild&&1!==e.childNodes.length;)e.removeChild(e.lastChild)}stopAnimation(){wt(this.toolTipInterval)}removeTooltip(e){let t=this.getElement(this.element.id+"_tooltip");this.stopAnimation(),t&&this.previousPoints.length>0&&(this.toolTipInterval=setTimeout(()=>{this.svgTooltip&&this.svgTooltip.fadeOut()},e))}}class Di{constructor(e){this.iconRectOverFill="transparent",this.iconRectSelectionFill="transparent",this.chart=e,this.elementId=e.element.id,this.chart.svgRenderer=new c(this.elementId),this.selectionColor="Bootstrap4"===e.theme?"#FFFFFF":"#ff4081",this.fillColor="Bootstrap4"===e.theme?"#495057":"#737373",this.iconRectOverFill="Bootstrap4"===e.theme?"#5A6268":this.iconRectOverFill,this.iconRectSelectionFill="Bootstrap4"===e.theme?"#5B6269":this.iconRectSelectionFill,this.iconRect="Bootstrap4"===e.theme?new g(-5,-5,26,26):new g(0,0,16,16)}createPanButton(e,t,i){let s=this.chart.svgRenderer,o=this.chart.zoomModule.isPanning?this.selectionColor:this.fillColor,n="M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,";n+="11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z",e.id=this.elementId+"_Zooming_Pan",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Pan")),this.panElements=e,e.appendChild(s.drawRectangle(new Wt(this.elementId+"_Zooming_Pan_1","transparent",{},1,this.iconRect))),e.appendChild(s.drawPath(new _(this.elementId+"_Zooming_Pan_2",o,null,null,1,null,"M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z"),null)),t.appendChild(e),this.wireEvents(e,this.pan)}createZoomButton(e,t,i){let s=this.chart.svgRenderer,o=this.chart.zoomModule.isPanning?this.fillColor:this.selectionColor,n=this.chart.zoomModule.isPanning?"transparent":this.iconRectSelectionFill,r="M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,";r+="5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571",r+="L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,",e.id=this.elementId+"_Zooming_Zoom",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Zoom")),this.zoomElements=e,this.selectedID=this.chart.zoomModule.isPanning?this.chart.element.id+"_Zooming_Pan_1":this.elementId+"_Zooming_Zoom_1",e.appendChild(s.drawRectangle(new Wt(this.elementId+"_Zooming_Zoom_1",n,{},1,this.iconRect))),e.appendChild(s.drawPath(new _(this.elementId+"_Zooming_Zoom_3",o,null,null,1,null,"M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z"))),t.appendChild(e),this.wireEvents(e,this.zoom)}createZoomInButton(e,t,i){let s=this.chart.svgRenderer,o=this.fillColor,n="M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,";n+="14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,",n+="5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,",e.id=this.elementId+"_Zooming_ZoomIn",e.setAttribute("aria-label",this.chart.getLocalizedLabel("ZoomIn")),e.appendChild(s.drawRectangle(new Wt(this.elementId+"_Zooming_ZoomIn_1","transparent",{},1,this.iconRect))),e.appendChild(s.drawPath(new _(this.elementId+"_Zooming_ZoomIn_2",o,null,null,1,null,"M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z"),null)),e.appendChild(s.drawPolygon(new Gt(this.elementId+"_Zooming_ZoomIn_3","12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466",o))),this.zoomInElements=e,this.elementOpacity=i.zoomModule.isPanning?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),t.appendChild(e),this.wireEvents(e,this.zoomIn)}createZoomOutButton(e,t,i){let s=this.chart.svgRenderer,o=this.fillColor,n="M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,";n+="1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,",n+="1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,",e.id=this.elementId+"_Zooming_ZoomOut",e.setAttribute("aria-label",this.chart.getLocalizedLabel("ZoomOut")),e.appendChild(s.drawRectangle(new Wt(this.elementId+"_Zooming_ZoomOut_1","transparent",{},1,this.iconRect))),e.appendChild(s.drawPath(new _(this.elementId+"_Zooming_ZoomOut_2",o,null,null,1,null,"M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z"),null)),this.zoomOutElements=e,this.elementOpacity=i.zoomModule.isPanning?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),t.appendChild(e),this.wireEvents(e,this.zoomOut)}createResetButton(e,t,i,s){let o,n=this.chart.svgRenderer,r=this.fillColor,a="M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,";a+="1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,",a+="13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,",e.id=this.elementId+"_Zooming_Reset",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Reset")),s?(o=u(this.chart.getLocalizedLabel("ResetZoom"),{size:"12px"}),e.appendChild(n.drawRectangle(new Wt(this.elementId+"_Zooming_Reset_1","transparent",{},1,new g(0,0,o.width,o.height)))),It(i.renderer,new f(this.elementId+"_Zooming_Reset_2",0+o.width/2,0+3*o.height/4,"middle",this.chart.getLocalizedLabel("ResetZoom"),"rotate(0,0,0)","auto"),{size:"12px"},"black",e)):(e.appendChild(n.drawRectangle(new Wt(this.elementId+"_Zooming_Reset_1","transparent",{},1,this.iconRect))),e.appendChild(n.drawPath(new _(this.elementId+"_Zooming_Reset_2",r,null,null,1,null,"M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z"),null))),t.appendChild(e),this.wireEvents(e,this.reset)}wireEvents(e,t){h.l.add(e,"mousedown touchstart",t,this),h.l.add(e,"mouseover",this.showTooltip,this),h.l.add(e,"mouseout",this.removeTooltip,this)}showTooltip(e){let t=e.currentTarget.id.split("_Zooming_")[1],i=e.pageX-(u(t,{size:"10px"}).width+5),s=dt(e.currentTarget.id+"_1"),o=dt(e.currentTarget.id+"_2"),n=dt(e.currentTarget.id+"_3");s&&(this.hoveredID=s.id,s.setAttribute("fill",this.iconRectOverFill)),o&&o.setAttribute("fill",this.selectionColor),n&&n.setAttribute("fill",this.selectionColor),this.chart.isTouch||function(e,t,i,s,o){let n=dt(e),r="top:"+i.toString()+"px;left:"+s.toString()+"px;color:black !important; background:#FFFFFF !important; position:absolute;border:1px solid #707070;font-size:10px;border-radius:2px; z-index:1";n?(n.setAttribute("innerHTML","&nbsp;"+t+"&nbsp;"),n.setAttribute("styles",r)):(n=Object(h.F)("div",{id:e,innerHTML:"&nbsp;"+t+"&nbsp;",styles:r}),document.body.appendChild(n))}("EJ2_Chart_ZoomTip",this.chart.getLocalizedLabel(t),e.pageY+10,i)}removeTooltip(){if(dt(this.hoveredID)){let e=this.chart.zoomModule.isPanning?this.hoveredID.indexOf("_Pan_")>-1?this.iconRectSelectionFill:"transparent":this.hoveredID.indexOf("_Zoom_")>-1?this.iconRectSelectionFill:"transparent";dt(this.hoveredID).setAttribute("fill",e)}let e=this.hoveredID?dt(this.hoveredID.replace("_1","_2")):null,t=this.hoveredID?dt(this.hoveredID.replace("_1","_3")):null;if(e){let t=this.chart.zoomModule.isPanning?this.hoveredID.indexOf("_Pan_")>-1?this.selectionColor:this.fillColor:this.hoveredID.indexOf("_Zoom_")>-1?this.selectionColor:this.fillColor;e.setAttribute("fill",t)}if(t){let e=this.chart.zoomModule.isPanning?this.fillColor:this.hoveredID.indexOf("_Zoom_")>-1?this.selectionColor:this.fillColor;t.setAttribute("fill",e)}Oe("EJ2_Chart_ZoomTip")}reset(){let e,t,i=this.chart;i.zoomModule.isDevice||Object(h.gb)(i.zoomModule.toolkitElements),this.removeTooltip(),i.svgObject.setAttribute("cursor","auto");let s=[];for(let o of i.axisCollections)e={cancel:!1,name:"zoomComplete",axis:o,previousZoomFactor:o.zoomFactor,previousZoomPosition:o.zoomPosition,currentZoomFactor:1,currentZoomPosition:0},o.zoomFactor=1,o.zoomPosition=0,o.zoomingScrollBar&&(o.zoomingScrollBar.isScrollUI=!1),i.trigger("zoomComplete",e),e.cancel||(o.zoomFactor=e.currentZoomFactor,o.zoomPosition=e.currentZoomPosition),s.push({zoomFactor:o.zoomFactor,zoomPosition:o.zoomFactor,axisName:o.name,axisRange:o.visibleRange});return t={cancel:!1,axisCollection:s,name:"onZooming"},!t.cancel&&this.chart.isBlazor?(this.chart.trigger("onZooming",t,()=>{this.setDefferedZoom(i)}),!1):this.setDefferedZoom(i)}setDefferedZoom(e){return e.disableTrackTooltip=!1,e.zoomModule.isZoomed=e.zoomModule.isPanning=e.isChartDrag=e.delayRedraw=!1,e.zoomModule.touchMoveList=e.zoomModule.touchStartList=[],e.zoomModule.pinchTarget=null,e.removeSvg(),e.refreshAxis(),e.refreshBound(),this.elementOpacity="1",!1}zoomIn(e){return this.zoomInOutCalculation(1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode),!1}zoomOut(e){return this.zoomInOutCalculation(-1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode),!1}zoom(e){return this.chart.zoomModule.isPanning=!1,this.elementOpacity="1",this.chart.svgObject.setAttribute("cursor","auto"),this.zoomInElements.setAttribute("opacity",this.elementOpacity),this.zoomOutElements.setAttribute("opacity",this.elementOpacity),this.applySelection(this.zoomElements.childNodes,this.selectionColor),this.applySelection(this.panElements.childNodes,"#737373"),dt(this.selectedID)&&dt(this.selectedID).setAttribute("fill","transparent"),this.selectedID=this.chart.element.id+"_Zooming_Zoom_1",dt(this.selectedID).setAttribute("fill",this.iconRectSelectionFill),!1}pan(){let e;return this.chart.zoomModule.isPanning=!0,this.chart.svgObject.setAttribute("cursor","pointer"),this.elementOpacity="0.2",e=this.zoomInElements?this.zoomInElements.setAttribute("opacity",this.elementOpacity):null,e=this.zoomOutElements?this.zoomOutElements.setAttribute("opacity",this.elementOpacity):null,e=this.panElements?this.applySelection(this.panElements.childNodes,this.selectionColor):null,e=this.zoomElements?this.applySelection(this.zoomElements.childNodes,"#737373"):null,dt(this.selectedID)&&dt(this.selectedID).setAttribute("fill","transparent"),this.selectedID=this.chart.element.id+"_Zooming_Pan_1",dt(this.selectedID).setAttribute("fill",this.iconRectSelectionFill),!1}zoomInOutCalculation(e,t,i,s){if(!t.zoomModule.isPanning&&"0.2"!==this.elementOpacity){let o,n,r,a;t.disableTrackTooltip=!0,t.delayRedraw=!0;for(let l of i)a={cancel:!1,name:"zoomComplete",axis:l,previousZoomFactor:l.zoomFactor,previousZoomPosition:l.zoomPosition,currentZoomFactor:l.zoomFactor,currentZoomPosition:l.zoomPosition},("Horizontal"===l.orientation&&"Y"!==s||"Vertical"===l.orientation&&"X"!==s)&&(r=Math.max(Math.max(1/ct(l.zoomFactor,0,1),1)+.25*e,1),o=1===r?1:ct(1/r,0,1),n=1===r?0:l.zoomPosition+.5*(l.zoomFactor-o),l.zoomPosition===n&&l.zoomFactor===o||(o=n+o>1?1-n:o),a.currentZoomFactor=o,a.currentZoomPosition=n,t.trigger("zoomComplete",a),a.cancel||(l.zoomFactor=a.currentZoomFactor,l.zoomPosition=a.currentZoomPosition))}}applySelection(e,t){for(let i=1,s=e.length;i<s;i++)e[i].setAttribute("fill",t)}}class Bi extends class{constructor(e){this.control=e}seriesStyles(){let e,t,i,s=document.getElementById(this.styleId),o="{}",n=this.control.selectionPattern,r=this.control.highlightPattern;if(Object(h.W)(s)||"None"!==n||"None"!==r){s=document.createElement("style"),s.setAttribute("id",this.styleId);for(let a of this.control.visibleSeries){let l=this.control.visibleSeries[a.index]||this.control.visibleSeries[a.index];if(!(Object(h.W)(n)&&Object(h.W)(r)||"None"===n&&"None"===r)){let e=this.styleId.indexOf("highlight")>0?r:n;if("Pie"===l.type||"Funnel"===l.type||"Pyramid"===l.type)for(let s=0;s<l.points.length;s++)i=l.opacity,t=this.pattern(this.control,l.points[s].color,a.index,e,i),o="{ fill:"+t+"}";else l.type&&(i=l.opacity,t=this.pattern(this.control,l.interior,a.index,e,i),o="{ fill:"+t+"}")}e=a.selectionStyle||this.styleId+"_series_"+a.index+",."+this.styleId+"_series_"+a.index+"> *",o=o.indexOf("None")>-1?"{}":o,s.innerHTML+=a.selectionStyle?"":"."+e+o}s.innerHTML+="."+this.unselected+" { opacity:0.3;} ",document.body.appendChild(s)}}pattern(e,t,i,s,o){let n,r;n=e.svgObject;let a=[],l={id:s+"_Selection_"+i,patternUnits:"userSpaceOnUse"};switch(s){case"Dots":l.height=l.width=6,l.width=6,a[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:"#ffffff",opacity:o,name:"rect"},a[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:t,name:"circle"};break;case"Pacman":l.height="18.384",l.width="17.917",a[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:t,fill:t};break;case"Chessboard":l.height=l.width=10,a[0]={x:0,y:0,width:10,height:10,fill:"#ffffff",opacity:o,name:"rect"},a[1]={x:0,y:0,width:5,height:5,fill:t,opacity:o,name:"rect"},a[2]={x:5,y:5,width:5,height:5,fill:t,opacity:o,name:"rect"};break;case"Crosshatch":l.height=l.width="8",a[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:"#ffffff",opacity:o,name:"rect"},a[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:t,name:"path"};break;case"DiagonalForward":l.height=l.width=6,a[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:o,name:"rect"},a[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:t,name:"path"};break;case"DiagonalBackward":l.height=l.width=6,a[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:o,name:"rect"},a[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:t,name:"path"};break;case"Grid":l.height=l.width=6,a[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:t};break;case"Turquoise":const e=17,i=1;l.height=l.width=e,a[0]={name:"rect",x:0,y:0,width:e,height:e,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},a[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},a[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},a[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},a[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},a[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},a[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t};break;case"Star":const s=21;l.height=l.width=s,a[0]={name:"rect",x:0,y:0,width:s,height:s,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:t,fill:t};break;case"Triangle":l.height=l.width=10,a[0]={name:"rect",x:0,y:0,width:10,height:10,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:t,fill:t};break;case"Circle":const n=9;l.height=l.width=n,a[0]={name:"rect",x:0,y:0,width:n,height:n,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:t};break;case"Tile":const r=18,h=1;l.height=l.width=r,a[0]={name:"rect",x:0,y:0,width:r,height:r,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":h,stroke:t,fill:t},a[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":h,stroke:t,fill:t},a[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":h,stroke:t,fill:t},a[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":h,stroke:t,fill:t};break;case"HorizontalDash":l.height=l.width=12,a[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalDash":l.height=l.width=12,a[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Rectangle":l.height=l.width=12,a[0]={name:"rect",width:12,height:12,fill:"#ffffff",opacity:o},a[1]={name:"rect",x:1,y:2,width:4,height:9,fill:t,opacity:o},a[2]={name:"rect",x:7,y:2,width:4,height:9,fill:t,opacity:o};break;case"Box":l.height=l.width=10,a[0]={name:"rect",width:13,height:13,fill:"#ffffff",opacity:o},a[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:t,opacity:o};break;case"HorizontalStripe":l.height=12,l.width=10,a[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalStripe":l.height=10,l.width=12,a[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Bubble":const c=20;l.height=l.width=c,a[0]={name:"rect",x:0,y:0,width:c,height:c,transform:"translate(0,0)",fill:"#ffffff",opacity:o},a[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},a[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:t},a[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"}}let h=e.svgRenderer||e.renderer;return r=h.createPattern(l,"pattern"),this.loadPattern(e,a,r,h),n.appendChild(r),"url(#"+s+"_Selection_"+i+")"}loadPattern(e,t,i,s){let o;for(o=0;o<t.length;o++){let e=s.createPattern(t[o],t[o].name);i.appendChild(e)}}concatIndexes(e,t){return e.concat(t)}checkVisibility(e){if(!e)return!1;let t=!1,i=[];for(let s of e)-1===i.indexOf(s.series)&&i.push(s.series);for(let s of i)if(this.control.series[s].visible){t=!0;break}return t}addSvgClass(e,t){let i=e.getAttribute("class")||"";i+=""!==i?" ":"",-1===i.indexOf(t)&&e.setAttribute("class",i+t)}removeSvgClass(e,t){let i=e.getAttribute("class")||"";i.indexOf(t)>-1&&e.setAttribute("class",i.replace(t,""))}getChildren(e){let t=[];for(let i=0;i<e.childNodes.length;i++)"defs"!==e.childNodes[i].tagName&&t.push(e.childNodes[i]);return t}}{constructor(e){super(e),this.isdrawRect=!0,this.multiDataIndexes=[],this.pathIndex=0,this.seriesIndex=0,this.count=-1,this.dragRectArray=[],this.filterArray=[],this.totalSelectedPoints=[],this.chart=e,this.renderer=e.renderer,this.isMultiDrag=e.isMultiSelect&&e.selectionMode.indexOf("Drag")>-1,this.addEventListener()}addEventListener(){if(this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning)return;let e=h.d.isPointer?"pointerleave":"mouseleave";this.chart.on(h.d.touchMoveEvent,this.mouseMove,this),this.chart.on(e,this.completeSelection,this),this.chart.on("click",this.calculateSelectedElements,this),this.chart.on(h.d.touchStartEvent,this.mousedown,this),this.chart.on(h.d.touchEndEvent,this.completeSelection,this)}mousedown(e){let t=this.chart;t.isPointMouseDown||"None"===t.selectionMode||t.isChartDrag||(t.isDoubleTap||!t.isTouch||this.rectPoints)&&this.dragStart(t,t.chartAxisLayoutPanel.seriesClipRect,t.mouseDownX,t.mouseDownY,e)}removeEventListener(){this.chart.isDestroyed||(this.chart.off(h.d.touchMoveEvent,this.mouseMove),this.chart.off("pointerleave",this.completeSelection),this.chart.off("click",this.calculateSelectedElements),this.chart.off(h.d.touchStartEvent,this.mousedown),this.chart.off(h.d.touchEndEvent,this.completeSelection))}initPrivateVariables(e){this.styleId=e.element.id+"_ej2_chart_selection",this.unselected=e.element.id+"_ej2_deselected",this.closeIconId=e.element.id+"_ej2_drag_close",this.draggedRectGroup=e.element.id+"_ej2_drag_group",this.multiRectGroup=e.element.id+"_ej2_drag_multi_group",this.draggedRect=e.element.id+"_ej2_drag_rect",this.lassoPath=e.element.id+"_ej2_drag_path",this.selectedDataIndexes=[],this.rectPoints=null,this.isSeriesMode="Series"===e.selectionMode}invokeSelection(e){this.initPrivateVariables(e),this.series=Object(h.J)({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.selectionMode,e.selectionMode.indexOf("Drag")>-1||this.selectDataIndex(e,this.concatIndexes(e.selectedDataIndexes,this.selectedDataIndexes))}generateStyle(e){return e?(this.styleId.indexOf("selection")>1&&"None"!==this.chart.selectionMode&&(this.unselected=e.unSelectedStyle||this.unselected),this.styleId.indexOf("highlight")>0&&"None"!==this.chart.highlightMode&&(this.unselected=e.nonHighlightStyle||this.unselected),e.selectionStyle||this.styleId+"_series_"+e.index):"undefined"}selectDataIndex(e,t){for(let i of t)this.performSelection(i,e,this.getElementByIndex(e,i)[0])}getElementByIndex(e,t,i=""){let s=e.element.id+"_Series_"+t.series+"_Point_"+t.point,o=e.series[t.series];return s=!o.isRectSeries&&"Scatter"!==o.type&&"Bubble"!==o.type&&o.marker.visible?s+"_Symbol"+i:s,[dt(s),"RangeArea"===o.type&&o.marker.visible?dt(s+"1"):null]}getClusterElements(e,t){let i,s,o=[];for(let n of e.visibleSeries)t=new Q(n.index,t.point),o.push(this.getElementByIndex(e,t)[0]),i=this.generateStyle(e.visibleSeries[t.series]),s=document.querySelectorAll("."+i),this.findTrackballElements(s,i),!e.isMultiSelect&&s.length>0&&s[0].id!==o[t.series].id&&this.removeSelection(e,t.series,s,i,!0);return o}findTrackballElements(e,t){let i,s;for(let o=0;o<e.length;o++)if(!Object(h.W)(e[o])&&(i=Object(h.W)(e[o].parentNode)?[]:[].slice.call(e[0].parentNode.querySelectorAll("."+t)),i.length>0)){s=[];for(let e=0;e<i.length;e++)i[e].id.indexOf("Trackball")>-1&&s.push(i[e]);this.removeStyles(s)}}findElements(e,t,i,s=""){return this.isSeriesMode?this.getSeriesElements(t):"Cluster"===this.currentMode?this.getClusterElements(e,i):this.getElementByIndex(e,i,s)}isAlreadySelected(e){let t=e.target;if("click"===e.type?(this.currentMode=this.chart.selectionMode,this.styleId=this.chart.element.id+"_ej2_chart_selection"):"mousemove"===e.type&&(this.currentMode=this.chart.highlightMode,this.highlightDataIndexes=[],this.styleId=this.chart.element.id+"_ej2_chart_highlight"),"None"!==this.chart.highlightMode&&"None"===this.chart.selectionMode&&"click"===e.type)return!1;if("None"!==this.chart.highlightMode&&this.previousSelectedEle&&this.previousSelectedEle[0]){let i,s=t.parentNode.id;t.parentNode&&(i=s.indexOf("SeriesGroup")>0||s.indexOf("SymbolGroup")>0);for(let t=0;t<this.previousSelectedEle.length;t++)this.previousSelectedEle[t].hasAttribute("class")&&(this.previousSelectedEle[t].getAttribute("class").indexOf("highlight")>-1&&(i||"click"===e.type)?(this.previousSelectedEle[t].removeAttribute("class"),this.addOrRemoveIndex(this.highlightDataIndexes,this.indexFinder(this.previousSelectedEle[t].id))):!i&&this.previousSelectedEle[t].getAttribute("class").indexOf("highlight")>-1&&this.performSelection(this.indexFinder(this.previousSelectedEle[t].id),this.chart,this.previousSelectedEle[t]))}return!0}calculateSelectedElements(e){if(Object(h.W)(e.target))return;let t=e.target;if(("None"!==this.chart.selectionMode||"None"!==this.chart.highlightMode)&&-1!==t.id.indexOf(this.chart.element.id+"_")){if("mousemove"===e.type){if(t.hasAttribute("class")&&(t.getAttribute("class").indexOf("highlight")>-1||t.getAttribute("class").indexOf("selection")>-1))return;if(!Object(h.W)(t.parentNode)&&t.parentNode.hasAttribute("class")&&(t.parentNode.getAttribute("class").indexOf("highlight")>0||t.parentNode.getAttribute("class").indexOf("selection")>0))return}if(this.isAlreadySelected(e),t.id.indexOf("_Series_")>-1){let e;if(t.id.indexOf("_Trackball_1")>-1)e=dt(t.id.split("_Trackball_")[0]+"_Symbol"),e=Object(h.W)(e)?dt(t.id.split("_Trackball_")[0]):e;else if(t.id.indexOf("_Trackball_0")>-1)return null;this.performSelection(this.indexFinder(t.id),this.chart,e||t)}}}performSelection(e,t,i){if(this.isSeriesMode="Series"===this.currentMode,"BoxAndWhisker"===t.series[e.series].type&&i.id===t.element.id+"_Series_"+e.series+"_Point_"+e.point+"_BoxPath"&&(i=i.parentNode),"Area"===t.series[e.series].type&&("Point"===this.currentMode||"Cluster"===this.currentMode)&&i.id===this.chart.element.id+"_Series_"+e.series){let i=this.generateStyle(t.series[e.series]),s=document.querySelectorAll("."+i);this.findTrackballElements(s,i),this.blurEffect(t.element.id,t.visibleSeries)}switch(this.currentMode){case"Series":this.selection(t,e,this.getSeriesElements(t.series[e.series])),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries);break;case"Point":isNaN(e.point)||(this.selection(t,e,[i]),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries));break;case"Cluster":isNaN(e.point)||(this.clusterSelection(t,e),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries))}}selectionComplete(e,t,i){let s,o,n,r,a,l=[];if("Cluster"===i){for(let i of e.visibleSeries)if(i.visible)for(let h=0;h<this.selectedDataIndexes.length;h++)o=e.isMultiSelect?this.selectedDataIndexes[h].point:t.point,n=i.index,s=i.points,isNaN(o)||(r="RangeArea"!==i.type?s[o].yValue:s[o].regions[0].y,a=s[o].xValue,"Category"===e.primaryXAxis.valueType?a=s[o].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(a=new Date(s[o].xValue)),"Indicator"!==i.category&&l.push({x:a,y:r,seriesIndex:n,pointIndex:o}),"RangeArea"===i.type&&l.push({x:a,y:s[o].regions[0].y,seriesIndex:n,pointIndex:o}))}else if("Series"===i)if(e.isMultiSelect)for(let h=0;h<this.selectedDataIndexes.length;h++)n=this.selectedDataIndexes[h].series,l.push({seriesIndex:n});else n=this.selectedDataIndexes.length>0?this.selectedDataIndexes[0].series:0,l.push({seriesIndex:n});else if("Point"===i)for(let h=0;h<this.selectedDataIndexes.length;h++){o=this.selectedDataIndexes[h].point,n=this.selectedDataIndexes[h].series;let t=e.series[n];s=t.points,isNaN(o)||(a=s[o].xValue,r="RangeArea"!==t.type?s[o].yValue:s[o].regions[0].y,"Category"===e.primaryXAxis.valueType?a=s[o].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(a=new Date(s[o].xValue)),l.push({x:a,y:r,seriesIndex:n,pointIndex:o}))}e.trigger("selectionComplete",{name:"selectionComplete",selectedDataValues:l,cancel:!1})}selection(e,t,i,s=!1){if("Lasso"!==this.currentMode&&(e.isMultiSelect||-1!==this.currentMode.indexOf("Drag")||-1!==this.styleId.indexOf("highlight")||"None"===e.selectionMode||this.removeMultiSelectElements(e,this.selectedDataIndexes,t,e.series)),!Object(h.W)(i[0])){let s,o=i[0]&&(i[0].getAttribute("class")||""),n=i[0].parentNode&&(i[0].parentNode.getAttribute("class")||"");""!==o&&"Cluster"!==this.currentMode&&this.findTrackballElements(i,o),i[0]&&o.indexOf(this.getSelectionClass(i[0].id))>-1?this.removeStyles(i):i[0].parentNode&&n.indexOf(this.getSelectionClass(i[0].id))>-1?this.removeStyles([i[0].parentNode]):(this.previousSelectedEle="None"!==e.highlightMode?i:[],this.applyStyles(i),s=!0),this.styleId.indexOf("highlight")>0&&"None"!==e.highlightMode?this.addOrRemoveIndex(this.highlightDataIndexes,t,s):this.addOrRemoveIndex(this.selectedDataIndexes,t,s)}}clusterSelection(e,t){this.selection(e,t,this.getClusterElements(e,new Q(t.series,t.point)))}removeMultiSelectElements(e,t,i,s){let o;for(let n=0;n<t.length;n++)o=s[t[n].series],(this.isSeriesMode&&!this.toEquals(t[n],i,this.isSeriesMode)||"Cluster"===this.currentMode&&!this.toEquals(t[n],i,!1)||!this.isSeriesMode&&this.toEquals(t[n],i,!0)&&!this.toEquals(t[n],i,!1))&&(this.removeStyles(this.findElements(e,o,t[n])),t.splice(n,1),n--)}blurEffect(e,t,i=!1){let s=this.checkVisibility(this.highlightDataIndexes)||this.checkVisibility(this.selectedDataIndexes);for(let o of t)o.visible&&(this.checkSelectionElements(dt(e+"SeriesGroup"+o.index),this.generateStyle(o),s,i,o.index),Object(h.W)(dt(e+"SymbolGroup"+o.index))||this.checkSelectionElements(dt(e+"SymbolGroup"+o.index),this.generateStyle(o),s,i,o.index))}checkSelectionElements(e,t,i,s,o){let n,r,a,l=this.isSeriesMode?[e]:e.childNodes;"None"!==this.chart.selectionMode&&"None"!==this.chart.highlightMode&&(l=e.children);let h=e;for(let c=0;c<l.length;c++)n=l[c].getAttribute("class")||"",r=l[c].parentNode.getAttribute("class")||"","None"!==this.chart.selectionMode&&"None"!==this.chart.highlightMode&&(t=n.indexOf("selection")>0||n.indexOf("highlight")>0?n:t,t=r.indexOf("selection")>0||r.indexOf("highlight")>0?r:t),-1===n.indexOf(t)&&-1===r.indexOf(t)&&i?this.addSvgClass(l[c],this.unselected):(h=l[c],this.removeSvgClass(l[c],this.unselected),this.removeSvgClass(l[c].parentNode,this.unselected)),l[c].id.indexOf("Trackball")>0&&h.classList[0]===t&&(this.removeSvgClass(l[c],this.unselected),this.removeSvgClass(l[c].parentNode,this.unselected),this.addSvgClass(l[c],t));if(e.id.indexOf("Symbol")>-1&&e.querySelectorAll("."+t)[0]&&e.querySelectorAll("."+t)[0].getAttribute("class")===t){let t=dt(this.control.element.id+"_Series_"+e.id[e.id.length-1]);(t&&t.hasAttribute("class")?t.getAttribute("class"):"").indexOf(this.unselected)>-1&&this.removeSvgClass(t,this.unselected)}this.control.legendModule&&this.control.legendSettings.visible&&(a=dt(this.control.element.id+"_chart_legend_shape_"+o),a&&(a.hasAttribute("class")&&this.removeSvgClass(a,a.getAttribute("class")),n=h.getAttribute("class")||"",r=h.parentNode.getAttribute("class")||"",-1===n.indexOf(t)&&-1===r.indexOf(t)&&i?(this.addSvgClass(a,this.unselected),this.removeSvgClass(a,t)):(this.removeSvgClass(a,this.unselected),""===n&&""===r||"EJ2-Trackball"===n.trim()?this.removeSvgClass(a,t):this.addSvgClass(a,t)),s&&r.indexOf(t)>-1&&this.addSvgClass(a,t)))}applyStyles(e){for(let t of e)t&&(this.removeSvgClass(t.parentNode,this.unselected),this.removeSvgClass(t,this.unselected),this.addSvgClass(t,this.getSelectionClass(t.id)))}getSelectionClass(e){return this.generateStyle(this.control.series[this.indexFinder(e).series])}removeStyles(e){for(let t of e)t&&this.removeSvgClass(t,this.getSelectionClass(t.id))}addOrRemoveIndex(e,t,i){for(let s=0;s<e.length;s++)this.toEquals(e[s],t,this.isSeriesMode)&&(e.splice(s,1),s--);i&&e.push(t)}toEquals(e,t,i){return(e.series===t.series||"Cluster"===this.currentMode&&!i)&&(i||e.point===t.point)}redrawSelection(e,t){this.isSeriesMode="Series"===t;let i=Object(h.J)([],this.selectedDataIndexes,null,!0),s=Object(h.J)([],this.highlightDataIndexes,null,!0);this.styleId.indexOf("highlight")>0&&s.length>0?(this.removeSelectedElements(e,this.highlightDataIndexes,e.series),i=s):this.removeSelectedElements(e,this.selectedDataIndexes,e.series),this.blurEffect(e.element.id,e.visibleSeries),this.selectDataIndex(e,i)}legendSelection(e,t,i){let s=i.target;if("mousemove"===i.type){if(i.target.id.indexOf("text")>1&&(s=dt(i.target.id.replace("text","shape"))),s.hasAttribute("class")&&(s.getAttribute("class").indexOf("highlight")>-1||s.getAttribute("class").indexOf("selection")>-1))return;this.currentMode=this.chart.highlightMode}if(this.isAlreadySelected(i)){let i=this.generateStyle(e.visibleSeries[t]),s=document.querySelectorAll("."+i);this.isSeriesMode="Series"===this.currentMode;let o=!0;if(s.length>0)this.removeSelection(e,t,s,i,o);else{for(let r of e.visibleSeries)r.index===t||e.isMultiSelect||(i=this.generateStyle(e.visibleSeries[r.index]),s=document.querySelectorAll("."+i),this.removeSelection(e,t,s,i,o));let n=this.getSeriesElements(e.visibleSeries[t]);for(let e of n)this.checkSelectionElements(e,i,!1,!0,t);this.isSeriesMode=!0,this.selection(e,new Q(t,NaN),n,!0),this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries,!0)}}}removeSelection(e,t,i,s,o){if(i.length>0){let n=[];for(let e=0;e<i.length;e++)n.push(i[e]);this.removeStyles(n),this.isSeriesMode=!0,this.addOrRemoveIndex(this.selectedDataIndexes,new Q(t,NaN));for(let i of e.visibleSeries)if(s=this.generateStyle(i),document.querySelectorAll("."+s).length>0){for(let e of n)this.checkSelectionElements(e,s,!0,!0,t);o=!1;break}o&&(this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries))}}getSeriesElements(e){let t=[e.seriesElement];return e.marker.visible&&"Scatter"!==e.type&&"Bubble"!==e.type&&!e.isRectSeries&&t.push(e.symbolElement),t}indexFinder(e){let t=["NaN","NaN"];return e.indexOf("SeriesGroup")>-1?(t=e.split("SeriesGroup"),t[0]=t[1]):e.indexOf("SymbolGroup")>-1?(t=e.split("SymbolGroup"),t[0]=t[1]):e.indexOf("_Point_")>-1?t=e.split("_Series_")[1].split("_Point_"):e.indexOf("_Series_")>-1?t[0]=e.split("_Series_")[1]:e.indexOf("_chart_legend_shape_")>-1&&(t=e.split("_chart_legend_shape_"),t[0]=t[1]),new Q(parseInt(t[0],10),parseInt(t[1],10))}calculateDragSelectedElements(e,t,i){this.removeSelectedElements(e,this.selectedDataIndexes,e.series);let s,o,n="Lasso"===e.selectionMode,r=new g(t.x,t.y,t.width,t.height),a=new Yt(e.chartAxisLayoutPanel.seriesClipRect.x,e.chartAxisLayoutPanel.seriesClipRect.y);this.removeOffset(r,a);let l=[],h=[];this.isSeriesMode=!1;let c=e.allowMultiSelection&&(this.rectGrabbing||this.resizing);if(this.rectPoints=this.dragRectArray[c?this.targetIndex:this.count]=new g(t.x,t.y,t.width,t.height),t.width&&t.height&&!i){let e=new g(t.x,t.y,t.width,t.height);this.removeOffset(e,a),this.filterArray[c?this.targetIndex:this.count]=e}for(let d of e.visibleSeries)if(d.visible){let t,i;s=d.points,l=[],!e.isTransposed&&-1===d.type.indexOf("Bar")||e.isTransposed&&-1!==d.type.indexOf("Bar")?(t=d.xAxis.rect.x-a.x,i=d.yAxis.rect.y-a.y):(t=d.xAxis.rect.y-a.y,i=d.yAxis.rect.x-a.x);for(let n=0;n<s.length;n++){let h,c="RangeArea"!==d.type?s[n].yValue:s[n].regions[0].y,u=s[n].xValue;"Category"===e.primaryXAxis.valueType?u=s[n].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(u=new Date(s[n].xValue)),h="BoxAndWhisker"===d.type?s[n].regions.some(e=>Ue(e.x+t,e.y+i,r)):"Lasso"===e.selectionMode?s[n].isSelect:e.allowMultiSelection?this.isPointSelect(s[n],t,i,this.filterArray,a):s[n].symbolLocations.some(e=>e&&Ue(e.x+t,e.y+i,r)),h&&"Indicator"!==d.category&&(o=new Q(d.index,s[n].index),this.selection(e,o,this.findElements(e,d,o)),l.push({x:u,y:c})),h&&"RangeArea"===d.type&&l.push({x:u,y:s[n].regions[0].y})}h.push(l)}this.blurEffect(e.element.id,e.visibleSeries),i||this.createCloseButton(n?e.mouseDownX:t.x+t.width,n?e.mouseDownY:t.y),e.trigger("dragComplete",{name:"dragComplete",selectedDataValues:h,cancel:!1})}removeOffset(e,t){e.x-=t.x,e.y-=t.y}isPointSelect(e,t,i,s,o){let n=e.symbolLocations[0];for(let r of s)if(r&&n&&Ue(n.x+t,n.y+i,r))return!0;return!1}drawDraggingRect(e,t,i){let s=e.chartAxisLayoutPanel.seriesClipRect,o=e.chartArea.border.width,n=e.themeStyle.selectionRectFill,r=e.themeStyle.selectionRectStroke,a="Lasso"===e.selectionMode;switch(this.isdrawRect&&(s.x=s.x-o/2,s.y=s.y-o/2,s.width=s.width+o,s.height=s.height+o,this.isdrawRect=!1),e.selectionMode){case"DragX":t.y=s.y,t.height=s.height;break;case"DragY":t.x=s.x,t.width=s.width}if((t.width<5||t.height<5)&&!a)return null;let l=e.selectionMode.indexOf("Drag")>-1||"Lasso"===e.selectionMode;if(e.allowMultiSelection&&l){let s,o,a=dt(this.multiRectGroup);if(a||(a=e.svgRenderer.createGroup({id:this.multiRectGroup}),e.svgObject.appendChild(a)),this.rectGrabbing||this.resizing){let e;e=dt(this.resizing?this.draggedRect+this.targetIndex:i.id),e.nextSibling&&Object(h.gb)(e.nextSibling),this.setAttributes(e,t)}else if(!dt(this.draggedRectGroup+this.count)){o=e.svgRenderer.createGroup({id:this.draggedRectGroup+this.count});let t=document.getElementById(e.element.id+"_series_svg");e.enableCanvas?t.appendChild(o):a.appendChild(o)}"Lasso"!==e.selectionMode?(s=e.svgRenderer.drawRectangle(new Wt(this.draggedRect+this.count,n,{color:r,width:1},1,t)),s.setAttribute("style","cursor:move;")):s=e.svgRenderer.drawPath(new _(this.lassoPath+this.count,n,3,r,1,"",this.path)),o||this.rectGrabbing||this.resizing?this.rectGrabbing||this.resizing||o.appendChild(s):dt(this.draggedRectGroup+this.count).appendChild(s)}else{let i=dt(a?this.lassoPath:this.draggedRect);if(this.closeIcon&&Oe(this.closeIconId),i)a?i.setAttribute("d",this.path):this.setAttributes(i,t);else{let s=e.svgRenderer.createGroup({id:this.draggedRectGroup}),o=document.getElementById(e.element.id+"_series_svg");e.enableCanvas?o.appendChild(s):e.svgObject.appendChild(s),i="Lasso"!==e.selectionMode?e.svgRenderer.drawRectangle(new Wt(this.draggedRect,n,{color:r,width:1},1,t)):e.svgRenderer.drawPath(new _(this.lassoPath,n,3,r,1,"",this.path)),s.appendChild(i)}}}getIndex(e){let t;for(t=e.length-1;t>0;t--){let i=Number(e[t]);if(isNaN(i))break}return+e.substr(t+1,e.length-1)}createCloseButton(e,t){let i=this.chart.allowMultiSelection,s=this.chart.themeStyle.selectionCircleStroke,o=this.rectGrabbing||this.resizing,n=this.chart.svgRenderer.createGroup({id:this.closeIconId+(i?o?this.targetIndex:this.count:""),style:"cursor:pointer; visibility: visible;"});n.appendChild(this.chart.svgRenderer.drawCircle(new Xt(this.closeIconId+"_circle"+(i?o?this.targetIndex:this.count:""),"#FFFFFF",{color:s,width:1},1,e,t,10))),n.appendChild(this.chart.svgRenderer.drawPath({id:this.closeIconId+"_cross"+(i?o?this.targetIndex:this.count:""),d:"M "+(e-4)+" "+(t-4)+" L "+(e+4)+" "+(t+4)+" M "+(e-4)+" "+(t+4)+" L "+(e+4)+" "+(t-4),stroke:s,"stroke-width":2,fill:s},null)),this.closeIcon=n;let r=dt(this.draggedRectGroup+(i?o?this.targetIndex:this.count:""));r&&r.appendChild(n)}removeDraggedElements(e,t){if(t.target.id.indexOf(this.closeIconId)>-1&&-1===t.type.indexOf("move")){let i=!0;if(e.allowMultiSelection){let s=this.getIndex(t.target.id),o=dt(this.multiRectGroup);if(Object(h.gb)(dt(this.draggedRectGroup+s)),this.dragRectArray[s]=null,this.filterArray[s]=null,this.totalSelectedPoints[s]=null,o&&0===o.childElementCount&&(Oe(o),this.dragRectArray=[],this.filterArray=[],this.totalSelectedPoints=[]),"Lasso"===this.currentMode){if(null!=this.multiDataIndexes[s])for(let e=0;e<this.multiDataIndexes[s].length;e++)this.multiDataIndexes[s][e].isSelect=!1;this.multiDataIndexes[s]=null;for(let e=0;e<this.multiDataIndexes.length;e++)if(null!=this.multiDataIndexes[e]){i=!1;for(let t=0;t<this.multiDataIndexes[e].length;t++)this.multiDataIndexes[e][t].isSelect=!0}this.calculateDragSelectedElements(e,this.dragRect,!0)}else if(this.filterArray.length)for(let t=0;t<this.filterArray.length;t++)this.filterArray[t]&&(i=!1,this.calculateDragSelectedElements(e,this.filterArray[t],!0));else this.calculateDragSelectedElements(e,new g(0,0,0,0),!0)}else Object(h.gb)(dt(this.draggedRectGroup)),this.removeSelectedElements(e,this.selectedDataIndexes,e.series);this.blurEffect(e.element.id,e.visibleSeries),this.changeCursorStyle(!1,e.svgObject,"auto"),e.allowMultiSelection&&!i||(this.rectPoints=null)}}resizingSelectionRect(e,t,i,s){let o;if(e.allowMultiSelection&&s.id.indexOf("_ej2_drag_rect")>-1||this.dragRectArray[this.targetIndex]){s.id.indexOf("_ej2_drag_rect")>-1&&(this.targetIndex=this.getIndex(s.id));let e=this.dragRectArray[this.targetIndex];o=new g(e.x,e.y,e.width,e.height)}if(e.allowMultiSelection||(o=new g(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height)),o){let s=this.findResizeMode(e.svgObject,o,t);this.resizing&&(o=ft(o.x,o.y,o.x+o.width,o.y+o.height,e.chartAxisLayoutPanel.seriesClipRect),this.drawDraggingRect(e,o),this.dragRect=o),i&&(this.resizing=s)}}findResizeMode(e,t,i){let s="se-resize",o=!1;if(this.resizing){let e=t.x,s=t.y,o=i.x-e,n=i.y-s;switch(this.resizeMode){case 0:n=Math.abs(t.height+t.y-i.y),t.y=Math.min(t.height+t.y,i.y),t.height=n;break;case 1:o=Math.abs(t.width+t.x-i.x),t.x=Math.min(t.width+t.x,i.x),t.width=o;break;case 2:t.height=Math.abs(n),t.y=Math.min(i.y,s);break;case 3:t.width=Math.abs(o),t.x=Math.min(i.x,e);break;case 4:t.width=Math.abs(o),t.height=Math.abs(n),t.x=Math.min(i.x,e),t.y=Math.min(i.y,s)}}else{let e=[new g(t.x,t.y,t.width-5,5),new g(t.x,t.y,5,t.height),new g(t.x,t.y+t.height-5,t.width-5,5),new g(t.x+t.width-5,t.y+5,5,t.height-15),new g(t.x+t.width-10,t.y+t.height-10,10,10)];for(let t=0;t<e.length;t++)if(Ue(i.x,i.y,e[t])){s=4===t?s:t%2==0?"ns-resize":"ew-resize",o=!0,this.resizeMode=t;break}}return"Lasso"!==this.currentMode&&this.changeCursorStyle(o,dt(this.chart.allowMultiSelection?this.draggedRect+this.targetIndex:this.draggedRect),s),this.changeCursorStyle(o,e,s),o}changeCursorStyle(e,t,i){i=e?i:this.control.svgObject===t?"auto":"move",t&&t.setAttribute("style","cursor:"+i+";")}removeSelectedElements(e,t,i){let s;t.splice(0,t.length);for(let o of i){s=this.getSeriesElements(o),this.removeStyles(s);for(let e of s)this.removeStyles(this.getChildren(e))}}setAttributes(e,t){let i=Object.keys(t);for(let s of i)e.setAttribute(s,t[s])}draggedRectMoved(e,t,i,s){let o;if((this.resizing||this.rectGrabbing)&&e.allowMultiSelection){let e=this.dragRectArray[this.targetIndex];o=new g(e.x,e.y,e.width,e.height)}else o=new g(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height);o.x-=t.x-e.mouseX,o.y-=t.y-e.mouseY,o=ft(o.x,o.y,o.x+o.width,o.height+o.y,e.chartAxisLayoutPanel.seriesClipRect),i?this.drawDraggingRect(e,o,s):this.calculateDragSelectedElements(e,o)}completeSelection(e){let t=this.chart;"None"!==t.selectionMode&&(this.currentMode=t.selectionMode,(this.dragging||this.resizing)&&this.dragRect.width>5&&this.dragRect.height>5?this.calculateDragSelectedElements(t,this.dragRect):!t.allowMultiSelection&&this.rectGrabbing&&this.rectPoints.width&&this.rectPoints.height?this.draggedRectMoved(t,this.dragRect):this.rectGrabbing&&this.dragRectArray[this.targetIndex].width&&this.dragRectArray[this.targetIndex].height&&this.draggedRectMoved(t,this.dragRect),"Lasso"===t.selectionMode&&this.dragging&&this.path&&-1!==this.path.indexOf("L")&&(t.allowMultiSelection?dt(this.lassoPath+this.count)&&(dt(this.lassoPath+this.count).setAttribute("d",this.path+"Z"),this.pointChecking(dt(this.lassoPath+this.count))):(dt(this.lassoPath).setAttribute("d",this.path+"Z"),this.pointChecking(dt(this.lassoPath))),(this.dragging||this.resizing)&&this.calculateDragSelectedElements(t,this.dragRect)),this.dragging=!1,this.rectGrabbing=!1,this.resizing=!1,this.removeDraggedElements(t,e))}getDragRect(e,t){return ft(e.mouseDownX,e.mouseDownY,e.mouseX,e.mouseY,t)}dragStart(e,t,i,s,o){let n=e.selectionMode;this.currentMode=e.selectionMode,this.dragging=(n.indexOf("Drag")>-1||"Lasso"===n)&&(e.isDoubleTap||!e.isTouch)&&"PolarRadar"!==e.chartAreaType;let r=o.target;if(this.path=void 0,this.dragging&&(this.count=dt(this.multiRectGroup)?this.count+1:0,this.dragRect=new g(e.mouseDownX,e.mouseDownY,0,0),(e.mouseDownX<t.x||e.mouseDownX>t.x+t.width||e.mouseDownY<t.y||e.mouseDownY>t.y+t.height)&&(this.dragging=!1)),"Lasso"===n)for(let a of e.visibleSeries)if(a.visible)for(let t of a.points)e.allowMultiSelection||(t.isSelect=!1);if("Lasso"!==n&&(this.rectPoints&&!e.allowMultiSelection&&(this.dragRect=new g(e.mouseDownX,e.mouseDownY,0,0),this.resizingSelectionRect(e,new Yt(i,s),!0),this.rectGrabbing=Ue(i,s,this.rectPoints)),e.allowMultiSelection)){let t=this.getIndex(r.id);this.targetIndex=this.isDragRect(r.id)?t:void 0,this.dragRectArray.length&&this.isDragRect(r.id)&&(this.resizingSelectionRect(e,new Yt(i,s),!0,r),this.rectGrabbing=Ue(i,s,this.dragRectArray[t]))}}isDragRect(e){return e.indexOf("_ej2_drag_rect")>-1}mouseMove(e){let t=this.chart,i=e.target;if("None"===t.highlightMode||Object(h.W)(i))"None"!==t.selectionMode&&("touchmove"===e.type&&(h.d.isIos||h.d.isIos7)&&this.dragging&&e.preventDefault&&e.preventDefault(),Ue(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?(this.rectGrabbing&&!this.resizing?this.draggedRectMoved(t,this.dragRect,!0,i):this.dragging&&!this.resizing&&("Lasso"===t.selectionMode?(this.getPath(t.mouseDownX,t.mouseDownY,t.mouseX,t.mouseY),this.drawDraggingRect(t,this.dragRect,i)):(this.dragRect=this.getDragRect(t,t.chartAxisLayoutPanel.seriesClipRect),this.drawDraggingRect(t,this.dragRect,i))),this.rectPoints&&!t.allowMultiSelection?this.resizingSelectionRect(t,new Yt(t.mouseX,t.mouseY),null,i):(t.allowMultiSelection&&!this.dragging||this.resizing)&&this.resizingSelectionRect(t,new Yt(t.mouseX,t.mouseY),null,i)):this.completeSelection(e));else{if(e.target.id.indexOf("text")>1&&(i=dt(e.target.id.replace("text","shape"))),i.hasAttribute("class")&&(i.getAttribute("class").indexOf("highlight")>-1||i.getAttribute("class").indexOf("selection")>-1))return;this.calculateSelectedElements(e)}}getPath(e,t,i,s){this.dragging&&(this.path=this.path?this.path+" L"+i+" "+s:"M "+e+" "+t)}pointChecking(e){let t,i=this.chart,s=dt(i.svgId).getBoundingClientRect(),o=i.chartAxisLayoutPanel.seriesClipRect.x+Math.max(s.left,0),n=i.chartAxisLayoutPanel.seriesClipRect.y+Math.max(s.top,0);this.multiDataIndexes[this.count]=[];for(let r of i.visibleSeries)r.points.filter(s=>{t=document.elementFromPoint(s.symbolLocations[0].x+o,s.symbolLocations[0].y+n),t===e?(s.isSelect=!0,this.chart.allowMultiSelection&&"Lasso"===this.currentMode&&(this.multiDataIndexes[this.count][this.seriesIndex]=s,this.seriesIndex++)):i.allowMultiSelection||(s.isSelect=!1)});this.seriesIndex=0}getModuleName(){return"Selection"}destroy(e){this.removeEventListener()}}class Ni{constructor(e){this.chartId=e.element.id+"_"}renderElements(e,t){let i=t.createGroup({id:this.chartId+"scrollBar_"+e.axis.name,transform:"translate("+(e.isVertical&&e.axis.isInversed?e.height:e.axis.isInversed?e.width:"0")+","+(e.isVertical&&e.axis.isInversed?"0":e.axis.isInversed?e.height:e.isVertical?e.width:"0")+") rotate("+(e.isVertical&&e.axis.isInversed?"90":e.isVertical?"270":e.axis.isInversed?"180":"0")+")"}),s=t.createGroup({id:this.chartId+"scrollBar_backRect_"+e.axis.name}),o=t.createGroup({id:this.chartId+"scrollBar_thumb_"+e.axis.name,transform:"translate(0,0)"});return this.backRect(e,t,s),this.thumb(e,t,o),this.renderCircle(e,t,o),this.arrows(e,t,o),this.thumbGrip(e,t,o),i.appendChild(s),i.appendChild(o),i}backRect(e,t,i){let s=e.scrollbarThemeStyle,o=t.drawRectangle(new Wt(this.chartId+"scrollBarBackRect_"+e.axis.name,s.backRect,{width:1,color:s.backRect},1,new g(0,0,e.width,e.height),0,0));i.appendChild(o)}arrows(e,t,i){let s=e.scrollbarThemeStyle,o=new _(this.chartId+"scrollBar_leftArrow_"+e.axis.name,s.arrow,1,s.arrow,1,"","");this.leftArrowEle=t.drawPath(o),o.id=this.chartId+"scrollBar_rightArrow_"+e.axis.name,this.rightArrowEle=t.drawPath(o),this.setArrowDirection(this.thumbRectX,this.thumbRectWidth,e.height),i.appendChild(this.leftArrowEle),i.appendChild(this.rightArrowEle)}setArrowDirection(e,t,i){let s="M "+(e+t+4-.5)+" "+i/2+" L "+(e+t+4-6)+" 11.5 L "+(e+t+4-6)+" 4.5 Z";this.leftArrowEle.setAttribute("d","M "+(e-4+1)+" "+i/2+" L "+(e-4+6)+" 11 L "+(e-4+6)+" 5 Z"),this.rightArrowEle.setAttribute("d",s)}thumb(e,t,i){e.startX=this.thumbRectX,this.slider=t.drawRectangle(new Wt(this.chartId+"scrollBarThumb_"+e.axis.name,e.scrollbarThemeStyle.thumb,{width:1,color:""},1,new g(this.thumbRectX,0,this.thumbRectWidth,e.height))),i.appendChild(this.slider)}renderCircle(e,t,i){let s=e.scrollbarThemeStyle,o=new Xt(this.chartId+"scrollBar_leftCircle_"+e.axis.name,s.circle,{width:1,color:s.circle},1,this.thumbRectX,e.height/2,8),n=t.createDefs();n.innerHTML='<filter x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox"id="scrollbar_shadow"><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix></filter>';let r=t.createGroup({id:this.chartId+e.axis.name+"_thumb_shadow"});r.innerHTML='<use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+"scrollBar_leftCircle_"+e.axis.name+'"></use><use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+"scrollBar_rightCircle_"+e.axis.name+'"></use>',this.leftCircleEle=t.drawCircle(o),o.id=this.chartId+"scrollBar_rightCircle_"+e.axis.name,o.cx=this.thumbRectX+this.thumbRectWidth,this.rightCircleEle=t.drawCircle(o),i.appendChild(n),i.appendChild(this.leftCircleEle),i.appendChild(this.rightCircleEle),i.appendChild(r)}thumbGrip(e,t,i){let s=0,o=0,n=e.scrollbarThemeStyle,r=new Xt(this.chartId+"scrollBar_gripCircle0_"+e.axis.name,n.grip,{width:1,color:n.grip},1,0,0,1);this.gripCircle=t.createGroup({id:this.chartId+"scrollBar_gripCircle_"+e.axis.name,transform:"translate("+(this.thumbRectX+this.thumbRectWidth/2+5*(e.isVertical?1:-1))+","+(e.isVertical?"10":"5")+") rotate("+(e.isVertical?"180":"0")+")"});for(let a=1;a<=6;a++)r.id=this.chartId+"scrollBar_gripCircle"+a+"_"+e.axis.name,r.cx=s,r.cy=o,this.gripCircle.appendChild(t.drawCircle(r)),s=3===a?0:s+5,o=a>=3?5:0;i.appendChild(this.gripCircle)}}class Vi{constructor(e,t){this.scrollRange={max:null,min:null,interval:null,delta:null},this.component=e,this.elements=[],this.scrollElements=new Ni(e),this.axis=t,this.mouseMoveListener=this.scrollMouseMove.bind(this),this.mouseUpListener=this.scrollMouseUp.bind(this),this.animateDuration=500,this.isPointer=h.d.isPointer,this.browserName=h.d.info.name}getMouseXY(e){let t,i,s;e.type.indexOf("touch")>-1?(s=e,t=s.changedTouches[0].clientX,i=s.changedTouches[0].clientY):(t=e.clientX,i=e.clientY);let o=dt(this.component.element.id+"_scrollBar_svg"+this.axis.name).getBoundingClientRect();this.mouseX=t-Math.max(o.left,0),this.mouseY=i-Math.max(o.top,0)}wireEvents(e){h.l.add(e,h.d.touchStartEvent,this.scrollMouseDown,this),h.l.add(e,h.d.touchMoveEvent,this.scrollMouseMove,this),h.l.add(e,h.d.touchEndEvent,this.scrollMouseUp,this),h.l.add(e,"mousewheel",this.scrollMouseWheel,this),window.addEventListener("mousemove",this.mouseMoveListener,!1),window.addEventListener("mouseup",this.mouseUpListener,!1)}unWireEvents(e){h.l.remove(e,h.d.touchStartEvent,this.scrollMouseDown),h.l.remove(e,h.d.touchMoveEvent,this.scrollMouseMove),h.l.remove(e,h.d.touchEndEvent,this.scrollMouseUp),h.l.remove(e,"mousewheel",this.scrollMouseWheel),window.removeEventListener("mousemove",this.mouseMoveListener,!1),window.removeEventListener("mouseup",this.mouseUpListener,!1)}scrollMouseDown(e){let t=e.target.id,i=this.scrollElements;if(this.getMouseXY(e),this.isResizeLeft=this.isExist(t,"_leftCircle_")||this.isExist(t,"_leftArrow_"),this.isResizeRight=this.isExist(t,"_rightCircle_")||this.isExist(t,"_rightArrow_"),this.previousXY=this.isVertical&&this.axis.isInversed?this.mouseY:this.isVertical?this.width-this.mouseY:this.axis.isInversed?this.width-this.mouseX:this.mouseX,this.previousWidth=i.thumbRectWidth,this.previousRectX=i.thumbRectX,this.startZoomPosition=this.axis.zoomPosition,this.startZoomFactor=this.axis.zoomFactor,this.startRange=this.axis.visibleRange,this.scrollStarted=!0,this.component.trigger("scrollStart",this.getArgs("scrollStart")),this.isExist(t,"scrollBarThumb_"))this.isThumbDrag=!0,this.svgObject.style.cursor="-webkit-grabbing";else if(this.isExist(t,"scrollBarBackRect_")){let e=this.moveLength(this.previousXY,this.previousRectX);if(i.thumbRectX=this.isWithIn(e)?e:i.thumbRectX,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.setZoomFactorPosition(i.thumbRectX,i.thumbRectWidth),this.isLazyLoad){let e=this.calculateLazyRange(i.thumbRectX,i.thumbRectWidth,i.thumbRectX>this.previousRectX?"RightMove":"LeftMove");e&&this.component.trigger("scrollEnd",e)}}""===this.component.element.style.height&&(this.isCustomHeight=!0,this.component.element.style.height=this.component.availableSize.height+"px")}isExist(e,t){return e.indexOf(t)>-1}isWithIn(e){return e-8>=0&&e+this.scrollElements.thumbRectWidth+8<=this.width}moveLength(e,t,i=8){let s=.1*(this.width-2*i);return s=e<t?t-(t-s>i?s:i):t+(t+this.scrollElements.thumbRectWidth+s<this.width-i?s:i),s}setZoomFactorPosition(e,t){let i=this.axis;this.isScrollUI=!0;let s=e+t+8+1;this.zoomPosition=(e-(e-8.5<=0?8.5:0))/(this.isVertical?i.rect.height:this.width),this.zoomFactor=(t+(s>=this.width?9:0))/(this.isVertical?i.rect.height:this.width),i.zoomPosition=this.zoomPosition,i.zoomFactor=this.zoomFactor}scrollMouseMove(e){let t=e.target,i=this.scrollElements;this.getMouseXY(e),this.setCursor(t),this.setTheme(t);let s=this.isVertical&&this.axis.isInversed?this.width-this.mouseY:this.isVertical?this.mouseY:this.mouseX,o=this.axis.visibleRange,n=this.zoomPosition,r=this.zoomFactor;if(this.isThumbDrag){this.component.isScrolling=this.isThumbDrag,s=this.isVertical||this.axis.isInversed?this.width-s:s;let e=i.thumbRectX+(s-this.previousXY);s>=e+i.thumbRectWidth?this.setCursor(t):this.svgObject.style.cursor="-webkit-grabbing",s>=0&&s<=e+i.thumbRectWidth&&(i.thumbRectX=this.isWithIn(e)?e:i.thumbRectX,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.previousXY=s,this.setZoomFactorPosition(e,i.thumbRectWidth)),this.component.trigger("scrollChanged",this.getArgs("scrollChanged",o,n,r))}else(this.isResizeLeft||this.isResizeRight)&&(this.resizeThumb(e),this.component.trigger("scrollChanged",this.getArgs("scrollChanged",o,n,r)))}scrollMouseWheel(e){let t=dt(this.component.element.id+"_scrollBar_svg"+this.axis.name).getBoundingClientRect();this.mouseX=e.clientX-Math.max(t.left,0),this.mouseY=e.clientY-Math.max(t.top,0);let i,s=.5,o=this.scrollElements,n=this.axis,r="mozilla"!==this.browserName||this.isPointer?e.wheelDelta/120>0?1:-1:-e.detail/3>0?1:-1;i=Math.max(Math.max(1/ct(n.zoomFactor,0,1),1)+.25*r,1);let a,l=this.axis.visibleRange,h=this.zoomPosition,c=this.zoomFactor;i>=1&&(s="Horizontal"===n.orientation?this.mouseX/n.rect.width:1-this.mouseY/n.rect.height,s=s>1?1:s<0?0:s,this.zoomFactor=1===i?1:ct(1/i,0,1),this.zoomPosition=1===i?0:n.zoomPosition+(n.zoomFactor-this.zoomFactor)*s),o.thumbRectX=this.isWithIn(this.zoomPosition*this.width)?this.zoomPosition*this.width:o.thumbRectX,this.isScrollUI=!0,this.positionThumb(o.thumbRectX,o.thumbRectWidth),this.isLazyLoad&&this.setZoomFactorPosition(o.thumbRectX,o.thumbRectWidth),n.zoomFactor=this.zoomFactor,n.zoomPosition=this.zoomPosition,this.isLazyLoad&&(a=this.calculateMouseWheelRange(o.thumbRectX,o.thumbRectWidth),a&&a.currentRange.minimum!==a.previousAxisRange.minimum&&a.currentRange.maximum!==a.previousAxisRange.maximum&&(this.component.trigger("scrollEnd",a),this.isScrollEnd=!1)),this.isLazyLoad||this.component.trigger("scrollChanged",this.getArgs("scrollChanged",l,h,c))}scrollMouseUp(e){let t;if(this.startX=this.scrollElements.thumbRectX,!this.isResizeLeft&&!this.isResizeRight||this.isLazyLoad||(this.axis.zoomFactor=this.startX+this.scrollElements.thumbRectWidth+8+1>=this.width-1&&this.startX-8.5<=0?1:this.zoomFactor),this.isLazyLoad){let e=this.previousRectX-this.startX;if((e>0||e<0)&&this.isThumbDrag){let i=e<0?"RightMove":"LeftMove";this.startX="RightMove"===i?this.startX+Math.abs(e)<this.width-8?this.startX:this.width-8-this.scrollElements.thumbRectWidth:this.startX+this.scrollElements.thumbRectWidth-Math.abs(e)>8?this.startX:8,t=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth,i),t&&(this.component.trigger("scrollEnd",t),this.scrollStarted=!1)}(this.isResizeLeft||this.isResizeRight)&&(t=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth),t&&(this.component.trigger("scrollEnd",t),this.scrollStarted=!1))}this.isThumbDrag=!1,this.isResizeLeft=!1,this.isResizeRight=!1,this.isScrollEnd=!1,this.component.isScrolling=!1,this.scrollStarted&&!this.isLazyLoad&&(this.component.trigger("scrollEnd",this.getArgs("scrollChanged",this.startRange,this.startZoomPosition,this.startZoomFactor)),this.scrollStarted=!1),this.isCustomHeight&&(this.component.element.style.height=null)}calculateMouseWheelRange(e,t){let i,s,o,n,r,a=this.scrollRange,l=this.getStartEnd(this.previousStart,this.previousEnd,!1);return e+t+8<=this.width&&(s=(e-8)/this.width,i=t/this.width),o=a.min+s*a.delta,n=o+i*a.delta,n&&(r={axis:this.axis,currentRange:this.getStartEnd(o,n,!0),previousAxisRange:l}),r}calculateLazyRange(e,t,i){let s,o,n,r,a,l=t,h=this.scrollRange,c=this.getStartEnd(this.previousStart,this.previousEnd,!1);return this.isResizeRight||"RightMove"===i?(l=this.isResizeRight?l+16:l,s=l/this.width,o="RightMove"===i?(e+8)/this.width:this.axis.zoomPosition,n="RightMove"===i?h.min+o*h.delta:this.previousStart,r=n+s*h.delta):this.isResizeLeft||"LeftMove"===i?(o=(e-8)/this.width,s=l/this.width,n=h.min+o*h.delta,n=n>=h.min?n:h.min,r="LeftMove"===i?n+s*h.delta:this.previousEnd):this.isThumbDrag&&(o="RightMove"===i?(e+8)/this.width:(e-8)/this.width,s=this.scrollElements.thumbRectWidth/this.width,n=h.min+o*h.delta,n=n>=h.min?n:h.min,r=n+s*h.delta),r&&(a={axis:this.component.isBlazor?{}:this.axis,currentRange:this.getStartEnd(n,r,!0),previousAxisRange:c}),a}getStartEnd(e,t,i){let s=this.valueType;switch("DateTime"!==s&&"DateTimeCategory"!==s||!i?i&&(this.previousStart=Math.ceil(e),this.previousEnd=Math.ceil(t)):(this.previousStart=e,this.previousEnd=t),s){case"Double":case"Category":case"Logarithmic":e=Math.ceil(e),t=Math.ceil(t);break;case"DateTime":case"DateTimeCategory":e=new Date(e),t=new Date(t)}return{minimum:e,maximum:t}}render(e){return(this.component.zoomModule||e&&this.axis.scrollbarSettings.enable)&&this.getDefaults(),this.getTheme(),this.removeScrollSvg(),function(e,t){let i=e.axis.rect,s="Horizontal"===e.axis.orientation;e.svgObject=t.createSvg({id:e.component.element.id+"_scrollBar_svg"+e.axis.name,width:e.isVertical?e.height:e.width,height:e.isVertical?e.width:e.height,style:"position: absolute;top: "+((e.axis.opposedPosition&&s?-16:0)+i.y)+"px;left: "+((e.axis.opposedPosition&&!s?16:0)+i.x-(e.isVertical?e.height:0))+"px;cursor:auto;"}),e.elements.push(e.svgObject)}(this,this.component.svgRenderer),this.wireEvents(this.svgObject),this.svgObject.appendChild(this.scrollElements.renderElements(this,this.component.svgRenderer)),this.svgObject}getTheme(){this.scrollbarThemeStyle=function(e){let t;switch(e){case"HighContrastLight":t={backRect:"#333",thumb:"#bfbfbf",circle:"#fff",circleHover:"#685708",arrow:"#333",grip:"#333",arrowHover:"#fff",backRectBorder:"#969696"};break;case"Bootstrap":t={backRect:"#f5f5f5",thumb:"#e6e6e6",circle:"#fff",circleHover:"#eee",arrow:"#8c8c8c",grip:"#8c8c8c"};break;case"Fabric":t={backRect:"#f8f8f8",thumb:"#eaeaea",circle:"#fff",circleHover:"#eaeaea",arrow:"#a6a6a6",grip:"#a6a6a6"};break;default:t={backRect:"#f5f5f5",thumb:"#e0e0e0",circle:"#fff",circleHover:"#eee",arrow:"#9e9e9e",grip:"#9e9e9e"}}return t}(this.component.theme)}removeScrollSvg(){document.getElementById(this.component.element.id+"_scrollBar_svg"+this.axis.name)&&Object(h.gb)(document.getElementById(this.component.element.id+"_scrollBar_svg"+this.axis.name))}setCursor(e){let t=e.id;this.svgObject.style.cursor=t.indexOf("scrollBarThumb_")>-1||t.indexOf("_gripCircle")>-1?"-webkit-grab":t.indexOf("Circle_")>-1||t.indexOf("Arrow_")>-1?this.isVertical?"ns-resize":"ew-resize":"auto"}setTheme(e){let t=e.id,i=t.indexOf("_leftCircle_")>-1||t.indexOf("_leftArrow_")>-1,s=t.indexOf("_rightCircle_")>-1||t.indexOf("_rightArrow_")>-1,o=this.scrollbarThemeStyle,n=this.scrollElements.leftArrowEle,r=this.scrollElements.rightArrowEle,a=this.scrollElements.leftCircleEle,l=this.scrollElements.rightCircleEle,h=this.isCurrentAxis(e,n);a.style.fill=i&&h?o.circleHover:o.circle,l.style.fill=s&&h?o.circleHover:o.circle,a.style.stroke=i&&h?o.circleHover:o.circle,l.style.stroke=s&&h?o.circleHover:o.circle,"HighContrastLight"===this.component.theme&&(n.style.fill=i&&h?o.arrowHover:o.arrow,n.style.stroke=i&&h?o.arrowHover:o.arrow,r.style.fill=s&&h?o.arrowHover:o.arrow,r.style.stroke=s&&h?o.arrowHover:o.arrow,a.style.stroke=i&&h?o.circleHover:o.circle,l.style.stroke=s&&h?o.circleHover:o.circle)}isCurrentAxis(e,t){return e.id.split("_")[2]===t.id.split("_")[2]}resizeThumb(e){let t,i=this.previousRectX,s=this.isVertical&&this.axis.isInversed?this.mouseY:this.isVertical?this.width-this.mouseY:this.axis.isInversed?this.width-this.mouseX:this.mouseX,o=Math.abs(this.previousXY-s);if(this.isResizeLeft&&s>=0){let e=i+(s>this.previousXY?o:-o);t=e-8>=0?this.previousWidth+(s>this.previousXY?-o:o):this.previousWidth,e=e-8>=0?e:i,t>=40&&s<e+t&&(this.scrollElements.thumbRectX=this.previousRectX=e,this.scrollElements.thumbRectWidth=this.previousWidth=t,this.previousXY=s,this.positionThumb(e,t),this.setZoomFactorPosition(e,t))}else this.isResizeRight&&(t=s>=40+this.scrollElements.thumbRectX&&s<=this.width-8?s-this.scrollElements.thumbRectX:this.previousWidth,this.scrollElements.thumbRectWidth=this.previousWidth=t,this.previousXY=s,this.positionThumb(this.startX,t),this.setZoomFactorPosition(this.startX,t),this.isLazyLoad||this.setZoomFactorPosition(this.startX,t))}positionThumb(e,t){let i=this.scrollElements;i.slider.setAttribute("x",e.toString()),i.slider.setAttribute("width",t.toString()),i.leftCircleEle.setAttribute("cx",e.toString()),i.rightCircleEle.setAttribute("cx",(e+t).toString()),i.setArrowDirection(e,t,this.height),i.gripCircle.setAttribute("transform","translate("+(e+t/2+5*(this.isVertical?1:-1))+","+(this.isVertical?"10":"5")+") rotate("+(this.isVertical?"180":"0")+")")}getDefaults(){let e=this.axis;this.axis.scrollbarSettings.enable&&(this.isLazyLoad=!0,this.getLazyDefaults(e)),this.isVertical="Vertical"===e.orientation,this.zoomFactor=this.isLazyLoad?this.zoomFactor:e.zoomFactor,this.zoomPosition=this.isLazyLoad?this.zoomPosition:e.zoomPosition;let t=this.zoomFactor*(this.isVertical?e.rect.height:e.rect.width);t=t>40?t:40,this.scrollX=e.rect.x,this.scrollY=e.rect.y,this.width=this.isVertical?e.rect.height:e.rect.width,this.height=16;let i=this.zoomPosition*(this.isVertical?e.rect.height:this.width),s=this.width-40-8;this.scrollElements.thumbRectX=i>s?s:i<8?8:i,this.scrollElements.thumbRectWidth=t+this.scrollElements.thumbRectX<this.width-16?t:this.width-this.scrollElements.thumbRectX-8}getLazyDefaults(e){let t,i,s=e.valueType,o=e.scrollbarSettings;this.valueType=s=o.range.minimum&&o.range.maximum||!o.pointsLength?s:"Double";let n,r,a=e.scrollbarSettings.range,l=e.visibleRange,h=e.scrollbarSettings.pointsLength,c={skeleton:"full",type:"dateTime"},d=this.component.intl.getDateParser(c),u=this.component.intl.getDateFormat(c);switch(s){case"Double":case"Category":case"Logarithmic":t=a.minimum?a.minimum:h?0:l.min,i=a.maximum?a.maximum:h?h-1:l.max;break;case"DateTime":case"DateTimeCategory":t=a.minimum?Date.parse(d(u(a.minimum))):l.min,i=a.maximum?Date.parse(d(u(a.maximum))):l.max}t=Math.min(t,l.min),i=Math.max(i,l.max),n=(l.max-l.min)/(i-t),r=(l.min-t)/(i-t),this.zoomFactor=a.minimum||a.maximum?n:this.axis.maxPointLength/e.scrollbarSettings.pointsLength,this.zoomPosition=a.minimum||a.maximum?r:e.zoomPosition,this.scrollRange.min=t,this.scrollRange.max=i,this.scrollRange.delta=i-t,this.previousStart=l.min,this.previousEnd=l.max}getLogRange(e){let t,i=e.scrollbarSettings.range,s=Ae(i.minimum,e.logBase);s=isFinite(s)?s:i.minimum;let o=Ae(i.maximum,e.logBase);return o=isFinite(s)?o:i.maximum,t={minimum:Math.floor(s/1),maximum:Math.ceil(o/1)},t}injectTo(e,t){e.zoomingScrollBar=new Vi(t,e)}destroy(){this.axes?this.axes.map(e=>{e.zoomingScrollBar.destroy()}):(this.elements.map(e=>{this.unWireEvents(e),Object(h.gb)(e.firstChild)}),this.elements=[])}getModuleName(){return"ScrollBar"}getArgs(e,t,i,s){return{axis:this.component.isBlazor?{}:this.axis,name:e,range:this.axis.visibleRange,zoomFactor:this.axis.zoomFactor,zoomPosition:this.axis.zoomPosition,previousRange:t,previousZoomFactor:s,previousZoomPosition:i}}}function Fi(e,t,i,s){return(e=function(e,t,i){let s=(e-t.min)/t.delta;return i?1-s:s}(e,t,s))*i}function Hi(e,t,i,s){return(s?1-e/t:e/t)*i.delta+i.min}function Wi(e,t,i){let s=[];return e.map(e=>{e.xValue>=t&&e.xValue<=i&&s.push({x:e.x,y:e.y})}),s}function Zi(e,t){return e.reduce((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e)}class Xi{constructor(e,t,i,s,o=!0){this.x=e,this.y=t,this.xValue=i,this.visible=o}}class Gi extends Ci{constructor(e){super(),this.dataSource=e.dataSource,this.xName=e.xName,this.yName=e.yName,this.query=e.query,this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0}renderChart(e){let t,i;this.seriesLength=0,e.rangeSlider.points=[],e.series.length?e.series.map(s=>{t=s.dataSource||e.dataSource,i=s.query||e.query,s.points=[],this.processDataSource(t,i,e,s)}):this.processDataSource(e.dataSource,e.query,e)}processDataSource(e,t,i,s){e instanceof T.a||Object(h.W)(e)||!Object(h.W)(t)?(i.dataModule=new ci(e,t),i.dataModule.getData(i.dataModule.generateQuery().requiresCount()).then(e=>this.dataManagerSuccess(e,i,s))):this.dataManagerSuccess({result:e,count:e.length},i,s)}dataManagerSuccess(e,t,i){let s=e.count?e.result:[];t.allowServerDataBinding=!1,this.processJsonData(s,t,Object.keys(s).length,i),this.seriesLength+=i?1:this.seriesLength,i&&this.seriesLength!==t.series.length||(this.processXAxis(t),this.calculateGroupingBounds(t),this.processYAxis(t),t.renderChart())}processJsonData(e,t,i,s){let o,n=0,r=s&&s.xName||t.xName,a=s&&s.yName||t.yName;for(;n<i;){if(o=new Xi(Object(h.U)(r,e[n]),Object(h.U)(a,e[n])),o.yValue=+o.y,"DateTime"===t.valueType){let e=t.intl.getDateParser({skeleton:"full",type:"dateTime"}),i=t.intl.getDateFormat({skeleton:"full",type:"dateTime"});o.x=new Date(T.b.parse.parseJson({val:o.x}).val),o.xValue=Date.parse(e(i(o.x)))}else o.xValue=+o.x;s&&s.points.push(o),this.xMin=Math.min(this.xMin,o.xValue),this.yMin=Math.min(this.yMin,o.yValue),this.xMax=Math.max(this.xMax,o.xValue),this.yMax=Math.max(this.yMax,o.yValue),t.rangeSlider.points.push(o),n++}}processXAxis(e){let t;this.xAxis={minimum:e.minimum,maximum:e.maximum,interval:e.interval,valueType:e.valueType,isInversed:e.enableRtl,labelFormat:e.labelFormat,logBase:e.logBase,skeleton:e.skeleton,skeletonType:e.skeletonType},this.xAxis.intervalType=e.intervalType,this.xAxis.maximumLabels=3,this.xAxis.skeleton=e.skeleton,this.xAxis.intervalDivs=[10,5,2,1],this.xAxis.rect=e.bounds,this.xAxis.visibleLabels=[],this.xAxis.orientation="Horizontal",t=e[Ke(e.valueType)+"Module"],t.min=this.xMin,t.max=this.xMax,t.getActualRange(this.xAxis,e.bounds),"Double"!==this.xAxis.valueType&&"DateTime"!==this.xAxis.valueType||t.updateActualRange(this.xAxis,this.xAxis.actualRange.min,this.xAxis.actualRange.max,this.xAxis.actualRange.interval),this.xAxis.actualRange.delta=this.xAxis.actualRange.max-this.xAxis.actualRange.min,this.xAxis.visibleRange=this.xAxis.actualRange,t.calculateVisibleLabels(this.xAxis,e)}processYAxis(e){this.yAxis={majorGridLines:{width:0},rangePadding:"None",majorTickLines:{width:0},labelStyle:{size:"0"},visible:!1,valueType:"Double",minimum:null,maximum:null,interval:null},this.yAxis.rect=e.bounds,this.yAxis.maximumLabels=3,this.yAxis.intervalDivs=[10,5,2,1],this.yAxis.orientation="Vertical",e.doubleModule.min=this.yMin,e.doubleModule.max=this.yMax,e.doubleModule.getActualRange(this.yAxis,e.bounds),e.doubleModule.updateActualRange(this.yAxis,this.yAxis.actualRange.min,this.yAxis.actualRange.max,this.yAxis.actualRange.interval),this.yAxis.actualRange.delta=this.yAxis.actualRange.max-this.yAxis.actualRange.min,this.yAxis.visibleRange=this.yAxis.actualRange}renderSeries(e){this.chartGroup=e.renderer.createGroup({id:e.element.id+"_chart"});let t=D(e.theme);e.series.map((i,s)=>{i.xAxis=this.xAxis,i.yAxis=this.yAxis,i.chart=e,i.index=s,i.xAxis.isInversed=e.enableRtl,i.interior=i.fill||t[s%t.length],this.createSeriesElement(e,i,s),e[Ke(i.type)+"SeriesModule"]?e[Ke(i.type)+"SeriesModule"].render(i,this.xAxis,this.yAxis,!1):e.lineSeriesModule.render(i,this.xAxis,this.yAxis,!1),this.chartGroup.appendChild(i.seriesElement),i.animation.enable&&e.animateSeries&&e[Ke(i.type)+"SeriesModule"]&&e[Ke(i.type)+"SeriesModule"].doAnimation(i)})}appendSeriesElements(e){e.svgObject.appendChild(this.chartGroup),e.series.length&&this.drawSeriesBorder(e,this.chartGroup)}createSeriesElement(e,t,i){let s=e.element.id;t.clipRect=new g(this.xAxis.rect.x,this.yAxis.rect.y,this.xAxis.rect.width,this.yAxis.rect.height),t.clipRectElement=e.renderer.drawClipPath(new Wt(s+"_RangeSeriesClipRect_"+i,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:t.clipRect.width,height:t.clipRect.height})),t.seriesElement=e.renderer.createGroup({id:s+"SeriesGroup"+i,transform:"translate("+t.clipRect.x+","+t.clipRect.y+")","clip-path":"url(#"+s+"_RangeSeriesClipRect_"+i+")"}),t.seriesElement.appendChild(t.clipRectElement)}calculateGroupingBounds(e){let t=e.margin.bottom,i=u("string",e.labelStyle).height;this.calculateDateTimeNiceInterval(this.xAxis,new m(e.bounds.width,e.bounds.height),this.xMin,this.xMax,!1),!e.enableGrouping||"DateTime"!==e.valueType||"Years"===this.xAxis.actualIntervalType&&e.series.length||(e.bounds.height-="Outside"===e.labelPosition||0===e.series.length?t+i:i+2*t),e.series.length||(e.bounds.y+=e.bounds.height/4,e.bounds.height=e.bounds.height/2)}drawSeriesBorder(e,t){let i=new _(e.element.id+"_SeriesBorder","transparent",e.navigatorBorder.width,e.navigatorBorder.color,1,"","M "+e.bounds.x+" "+e.bounds.y+" L "+(e.bounds.x+e.bounds.width)+" "+e.bounds.y+(e.stockChart?"M":"L")+(e.bounds.x+e.bounds.width)+" "+(e.bounds.y+e.bounds.height)+" L "+e.bounds.x+" "+(e.bounds.y+e.bounds.height)+(e.stockChart?"":"Z")),s=e.renderer.drawPath(i);e.svgObject.appendChild(s)}}class Yi extends Mi{constructor(e){super(),this.firstLevelLabels=[],this.secondLevelLabels=[],this.rangeNavigator=e}renderGridLines(){let e,t=0,i=this.rangeNavigator,s=i.majorGridLines,o=i.majorTickLines,n="",r="",a=i.bounds,l=i.chartSeries.xAxis,h=i.disableRangeSelector?"transparent":null;this.gridLines=i.renderer.createGroup({id:i.element.id+"_GridLines"});let c="Outside"===i.tickPosition||0===i.series.length?a.y+a.height+o.height:a.y+a.height-o.height;this.firstLevelLabels=[],l.labelStyle=i.labelStyle,l.skeleton=i.skeleton,l.skeletonType=i.skeletonType,l.isChart=!1,"DateTime"===i.valueType&&(this.calculateDateTimeNiceInterval(l,a,l.doubleRange.start,l.doubleRange.end,l.isChart),this.actualIntervalType=l.actualIntervalType,this.findAxisLabels(l)),this.firstLevelLabels=l.visibleLabels,this.lowerValues=[],e=l.visibleLabels.length;for(let u=0;u<e;u++)this.lowerValues.push(this.firstLevelLabels[u].value),t=He(this.firstLevelLabels[u].value,l)*a.width+a.x,t>=a.x&&a.x+a.width>=t&&(n=n.concat("M "+t+" "+(i.bounds.y+i.bounds.height)+" L "+t+" "+i.bounds.y+" "),r=r.concat("M "+t+" "+(a.y+a.height)+" L "+t+" "+c+" "));let d=new _(i.element.id+"_MajorGridLine","transparent",s.width,i.series.length?h||s.color||i.themeStyle.gridLineColor:"transparent",1,s.dashArray,n);this.gridLines.appendChild(i.renderer.drawPath(d)),d=new _(i.element.id+"_MajorTickLine","transparent",o.width,h||o.color||i.themeStyle.gridLineColor,1,s.dashArray,r),this.gridLines.appendChild(i.renderer.drawPath(d))}renderAxisLabels(){let e,t=this.rangeNavigator.chartSeries.xAxis,i=this.rangeNavigator,s=i.renderer.createGroup({id:i.element.id+"_AxisLabels"}),o=i.renderer.createGroup({id:i.element.id+"_FirstLevelAxisLabels"}),n=i.renderer.createGroup({id:i.element.id+"_SecondLevelAxisLabels"}),r=t;if(e=this.findLabelY(i,!1),this.placeAxisLabels(t,e,"_AxisLabel_",i,o),r.intervalType=r.actualIntervalType=i.groupBy||this.getSecondaryLabelType(t.actualIntervalType),r.labelFormat="",i.enableGrouping&&"DateTime"===i.valueType&&"Years"!==this.actualIntervalType){r.visibleRange.interval=1,r.visibleLabels=[],this.findAxisLabels(r),this.secondLevelLabels=r.visibleLabels,e=this.findLabelY(i,!0);let t=this.placeAxisLabels(r,e,"_SecondaryLabel_",i,n),s=new _(i.element.id+"_SecondaryMajorLines","transparent",i.majorTickLines.width,i.majorTickLines.color||i.themeStyle.gridLineColor,1,i.majorGridLines.dashArray,t);this.gridLines.appendChild(i.renderer.drawPath(s))}i.chartSeries.xAxis.visibleLabels=i.chartSeries.xAxis.visibleLabels.concat(r.visibleLabels),s.appendChild(o),s.appendChild(n),i.svgObject.appendChild(this.gridLines),i.svgObject.appendChild(s)}getSecondaryLabelType(e){let t=["Years","Quarter","Months","Weeks","Days","Hours","Minutes","Seconds"];return"Years"===e?"Years":t[t.indexOf(e)-1]}findAxisLabels(e){e.visibleLabels=[];let t,i,s=new Date(e.visibleRange.min),o=this.rangeNavigator.interval?this.rangeNavigator.interval:1;switch(e.actualIntervalType){case"Years":s=new Date(s.getFullYear(),0,1);break;case"Quarter":s=s.getMonth()<=2?new Date(s.getFullYear(),0,1):s.getMonth()<=5?new Date(s.getFullYear(),3,1):s.getMonth()<=8?new Date(s.getFullYear(),6,1):new Date(s.getFullYear(),9,1);break;case"Months":s=new Date(s.getFullYear(),s.getMonth());break;case"Weeks":s=new Date(s.getFullYear(),s.getMonth(),s.getDate()-s.getDay());break;case"Days":s=new Date(s.getFullYear(),s.getMonth(),s.getDate());break;case"Hours":s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours());break;case"Minutes":s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes());break;case"Seconds":s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds())}for(t=s.getTime(),this.rangeNavigator.format=this.rangeNavigator.intl.getDateFormat({format:e.labelFormat||this.blazorFormat(e),type:Ke(e.skeletonType),skeleton:this.getSkeleton(e,null,null,this.rangeNavigator.isBlazor)});t<=e.visibleRange.max;)i=this.dateFormats(this.rangeNavigator.format(new Date(t)),e,e.visibleLabels.length),e.visibleLabels.push(new Se(i,t,this.rangeNavigator.labelStyle,i)),t=this.increaseDateTimeInterval(e,t,o).getTime()}blazorFormat(e){return this.rangeNavigator.isBlazor&&"Years"===e.actualIntervalType?"yyyy":""}dateFormats(e,t,i){let s=e,o=this.rangeNavigator.isBlazor,n=this.rangeNavigator.enableGrouping&&0===this.firstLevelLabels.length;switch(t.actualIntervalType){case"Quarter":e.indexOf("Jan")>-1?s=n?"Quarter1":e.replace(o?"January":"Jan","Quarter1"):e.indexOf("Apr")>-1?s=n?"Quarter2":e.replace(o?"April":"Apr","Quarter2"):e.indexOf("Jul")>-1?s=n?"Quarter3":e.replace(o?"July":"Jul","Quarter3"):e.indexOf("Oct")>-1&&(s=n?"Quarter4":e.replace(o?"October":"Oct","Quarter4"));break;case"Weeks":s="Week"+ ++i;break;default:s=e}return s}findLabelY(e,t){let i,s=e.bounds.y+e.bounds.height,o=e.majorTickLines.height,n=u("Quarter1 2011",e.labelStyle).height,r=8;return i="Outside"===e.labelPosition&&"Outside"===e.tickPosition||0===e.series.length?s+o+r+.75*n:"Inside"===e.labelPosition&&"Inside"===e.tickPosition?s-o-r:"Inside"===e.labelPosition&&"Outside"===e.tickPosition?s-r:s+r+.75*n,t&&(r=15,"Outside"===e.labelPosition||0===e.series.length?i+=r+.75*n:i="Outside"===e.tickPosition||0===e.series.length?s+o+r+.75*n:s+r+.75*n),i}placeAxisLabels(e,t,i,s,o){let n,r,a,l,h=e.visibleLabels.length,c=s.bounds,d="",p=s.disableRangeSelector?"transparent":null,m=s.enableRtl?c.x+c.width:c.x,b=e.actualIntervalType,y="DateTime"===s.valueType?h>1?e.visibleLabels[1].value-e.visibleLabels[0].value:(e.visibleRange.max-e.visibleLabels[0].value)/2:0;"DateTime"!==s.valueType||"Quarter"!==b&&"Weeks"!==b||this.findSuitableFormat(e,s);for(let x=0,v=h;x<v;x++){if(n=e.visibleLabels[x],n.size=u(n.text,e.labelStyle),"Middle"===s.secondaryLabelAlignment?a=He(n.value+y/2,e)*c.width+c.x:i.indexOf("Secondary")>-1&&(a=this.findAlignment(e,x)),l=He(n.value,e)*c.width+c.x,(0===x||x===e.visibleLabels.length-1&&s.enableRtl)&&a<c.x&&(a=c.x+n.size.width/2),(x===e.visibleLabels.length-1||0===x&&s.enableRtl)&&a+n.size.width>c.x+c.width&&(a=c.x+c.width-n.size.width/2),i.indexOf("_SecondaryLabel_")>-1&&a>=c.x&&c.x+c.width>=a&&(d=d.concat("M "+l+" "+t+" L "+l+" "+(t-n.size.height))),"Hide"===s.labelIntersectAction&&0!==x&&this.isIntersect(e,a,n.size.width,m,r.size.width))continue;let h;"Middle"===s.secondaryLabelAlignment&&1===e.visibleLabels.length&&(a=He(n.value,e)+(c.x+c.width/2));let b=s.labelStyle;h={cancel:!1,name:"labelRender",text:n.text,value:n.value,labelStyle:{size:b.size,color:p||b.color||s.themeStyle.labelFontColor,fontFamily:b.fontFamily,fontStyle:b.fontStyle||s.labelStyle.fontStyle,fontWeight:b.fontWeight||s.labelStyle.fontWeight,opacity:b.opacity||s.labelStyle.opacity,textAlignment:b.textAlignment||s.labelStyle.textAlignment,textOverflow:b.textOverflow||s.labelStyle.textOverflow},region:new g(a,t,n.size.width,n.size.height)},s.trigger("labelRender",h),h.cancel||(s.labels.push(h),It(this.rangeNavigator.renderer,new f(this.rangeNavigator.element.id+i+x,a,t,"middle",h.text),h.labelStyle,h.labelStyle.color||s.themeStyle.labelFontColor,o).setAttribute("style","DateTime"===e.valueType?"cursor: pointer":"cursor: default"),m=a,r=n)}return d}isIntersect(e,t,i,s,o){return e.isInversed?t+i/2>s-o/2:t-i/2<s+o/2}findSuitableFormat(e,t){let i,s,o=e.visibleLabels,n=o.length,r=t.bounds,a="DateTime"===t.valueType?n>1?o[1].value-o[0].value:e.visibleRange.interval:0;for(let l=0;l<n;l++)s=He(o[l].value+a/2,e)*r.width+r.x,o[l].size=u(o[l].text,e.labelStyle),0===l&&s<r.x&&(s=r.x+o[l].size.width/2),"Quarter"===e.actualIntervalType?0!==l&&(o[l].text.indexOf("Quarter")>-1&&this.isIntersect(e,s,o[l].size.width,i,o[l-1].size.width)?(o.every(e=>(e.text=e.text.toString().replace("Quarter","QTR"),!0)),e.visibleLabels=o,this.findSuitableFormat(e,t)):this.isIntersect(e,s,o[l].size.width,i,o[l-1].size.width)&&(o.every(e=>(e.text=e.text.toString().replace("QTR","Q"),!0)),e.visibleLabels=o)):"Weeks"===e.actualIntervalType&&0!==l&&o[l].text.indexOf("Week")>-1&&this.isIntersect(e,s,o[l].size.width,i,o[l-1].size.width)&&(o.every(e=>(e.text=e.text.toString().replace("Week","W"),!0)),e.visibleLabels=o),i=s}findAlignment(e,t){let i=e.visibleLabels[t],s=e.visibleLabels[t+1],o=this.rangeNavigator.bounds;return"Near"===this.rangeNavigator.secondaryLabelAlignment?He(i.value,e)*o.width+o.x+i.size.width/2:He(s?s.value:e.visibleRange.max,e)*o.width+o.x-i.size.width}}var Ui;!function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.tooltipLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(Ui||(Ui={}));var Qi=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let qi=(()=>{class e extends h.e{constructor(){super(...arguments),this.clipRect=new g(0,0,0,0)}}return Qi([Object(h.s)(null)],e.prototype,"dataSource",void 0),Qi([Object(h.s)(null)],e.prototype,"xName",void 0),Qi([Object(h.s)(null)],e.prototype,"yName",void 0),Qi([Object(h.s)()],e.prototype,"query",void 0),Qi([Object(h.s)("Line")],e.prototype,"type",void 0),Qi([Object(h.g)({enable:!1},G)],e.prototype,"animation",void 0),Qi([Object(h.g)({color:"transparent",width:2},H)],e.prototype,"border",void 0),Qi([Object(h.s)(null)],e.prototype,"fill",void 0),Qi([Object(h.s)(1)],e.prototype,"width",void 0),Qi([Object(h.s)(1)],e.prototype,"opacity",void 0),Qi([Object(h.s)("0")],e.prototype,"dashArray",void 0),e})(),Ji=(()=>{class e extends h.e{}return Qi([Object(h.s)(null)],e.prototype,"width",void 0),Qi([Object(h.s)(null)],e.prototype,"height",void 0),Qi([Object(h.g)({width:1,color:null},H)],e.prototype,"border",void 0),Qi([Object(h.s)(null)],e.prototype,"fill",void 0),Qi([Object(h.s)("Circle")],e.prototype,"type",void 0),e})(),Ki=(()=>{class e extends h.e{}return Qi([Object(h.g)({},Ji)],e.prototype,"thumb",void 0),Qi([Object(h.s)(null)],e.prototype,"selectedRegionColor",void 0),Qi([Object(h.s)(null)],e.prototype,"unselectedRegionColor",void 0),e})(),$i=(()=>{class e extends h.e{}return Qi([Object(h.s)(!1)],e.prototype,"enable",void 0),Qi([Object(h.s)(.85)],e.prototype,"opacity",void 0),Qi([Object(h.s)(null)],e.prototype,"fill",void 0),Qi([Object(h.s)(null)],e.prototype,"format",void 0),Qi([Object(h.g)(Ui.tooltipLabelFont,F)],e.prototype,"textStyle",void 0),Qi([Object(h.s)(null)],e.prototype,"template",void 0),Qi([Object(h.g)({color:"#cccccc",width:.5},H)],e.prototype,"border",void 0),Qi([Object(h.s)("OnDemand")],e.prototype,"displayMode",void 0),e})();class es{constructor(e){this.control=e,this.points=[],this.isIOS=h.d.isIos||h.d.isIos7;let t=e.navigatorStyleSettings.thumb;this.thumbVisible=0!==e.themeStyle.thumbWidth&&0!==e.themeStyle.thumbHeight,this.elementId=e.element.id,this.thumpPadding=e.themeStyle.thumbWidth/2,this.addEventListener(),this.thumbColor=e.disableRangeSelector?"transparent":t.fill||e.themeStyle.thumbBackground}render(e){let t=e.renderer,i=e.navigatorStyleSettings,s=e.disableRangeSelector?"transparent":null,o=t.createGroup({id:this.elementId+"_sliders",style:e.disableRangeSelector?"pointer-events:none;":""}),n=new Wt(this.elementId+"_leftUnSelectedArea",s||i.unselectedRegionColor||e.themeStyle.unselectedRectColor,{width:0},1,{x:e.bounds.x,y:e.bounds.y,width:e.bounds.width/3,height:e.bounds.height});this.leftUnSelectedElement=t.drawRectangle(n),n.id=this.elementId+"_rightUnSelectedArea",this.rightUnSelectedElement=t.drawRectangle(n),n.id=this.elementId+"_SelectedArea",n.fill=s||i.selectedRegionColor||e.themeStyle.selectedRegionColor,this.selectedElement=t.drawRectangle(n),this.selectedElement.setAttribute("style","cursor: -webkit-grab"),this.leftSlider=t.createGroup({id:this.elementId+"_LeftSlider",style:"cursor: ew-resize"}),this.rightSlider=t.createGroup({id:this.elementId+"_RightSlider",style:"cursor: ew-resize"}),this.createThump(t,e.bounds,this.leftSlider,this.elementId+"_LeftSlider",o),this.createThump(t,e.bounds,this.rightSlider,this.elementId+"_RightSlider"),o.appendChild(this.leftUnSelectedElement),o.appendChild(this.rightUnSelectedElement),o.appendChild(this.selectedElement),o.appendChild(this.leftSlider),o.appendChild(this.rightSlider),e.svgObject.appendChild(o)}createThump(e,t,i,s,o){let n,r=this.control,a=r.navigatorStyleSettings.thumb,l=t.y+t.height/2,h=this.thumpPadding,c=r.themeStyle.thumbHeight/2-5,d=r.disableRangeSelector?"transparent":null,u=d||a.border.color||r.themeStyle.thumpLineColor;i.appendChild(e.drawPath(new _(s+"_ThumpLine","transparent",a.border.width,r.series.length?u:"transparent",1,null,"M "+h+" "+t.y+" L "+h+" "+(t.y+t.height)+" "))),this.thumpY=l-r.themeStyle.thumbHeight/2,this.sliderY=t.y>this.thumpY?this.thumpY:t.y,o&&!r.disableRangeSelector&&(n=e.createDefs(),n.innerHTML='<rect xmlns="http://www.w3.org/2000/svg" id="'+this.control.element.id+'_shadow" x="0" y="'+this.thumpY+'" width="'+r.themeStyle.thumbWidth+'" height="'+r.themeStyle.thumbHeight+'" rx="'+("Circle"===a.type?"50%":"0%")+'"/><filter xmlns="http://www.w3.org/2000/svg" x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox" id="ej2-range-shadow"><feOffset dx="0" dy="1" in="SourceAlpha"result="shadowOffsetOuter1"/><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"/><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"/><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1"/></filter>',o.appendChild(n)),i.innerHTML+='<use xmlns="http://www.w3.org/2000/svg" fill="black" fill-opacity="1" filter="url(#ej2-range-shadow)" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#path-1"/>',i.appendChild("Circle"===a.type?ht({x:h,y:l},"Circle",{width:r.themeStyle.thumbWidth,height:r.themeStyle.thumbHeight},"",new _(s+"_ThumpSymbol",d||this.thumbColor,a.border.width,u,1,null)):e.drawRectangle(new Wt(s+"_ThumpSymbol",d||this.thumbColor,{width:a.border.width,color:u},1,{x:h-r.themeStyle.thumbWidth/2,y:l-r.themeStyle.thumbHeight/2,width:r.themeStyle.thumbWidth,height:r.themeStyle.thumbHeight},2,2))),this.thumbVisible&&i.appendChild(e.drawPath(new _(s+"_ThumpGrip","transparent",1,d||r.themeStyle.gripColor,1,null,"M "+(h+2)+" "+(l+c)+" L "+(h+2)+" "+(l-c)+" M "+h+" "+(l+c)+" L "+h+" "+(l-c)+" M "+(h-2)+" "+(l+c)+" L "+(h-2)+" "+(l-c)+" ")))}setSlider(e,t,i,s){let o=this.control,n=o.bounds.x,r=o.chartSeries.xAxis.actualRange,a=0===o.series.length;t>=e||(e=[t,t=e][0]),e=t>=e?e:[t,t=e][0],e=Math.max(e,r.min),t=Math.min(t,r.max),this.startX=n+Fi(e,r,o.bounds.width,o.enableRtl),this.endX=n+Fi(t,r,o.bounds.width,o.enableRtl);let l=o.enableRtl?this.endX:this.startX,h=o.enableRtl?this.startX:this.endX;this.sliderWidth=Math.abs(this.endX-this.startX),this.selectedElement.setAttribute("x",l+""),this.selectedElement.setAttribute("width",this.sliderWidth+""),this.leftUnSelectedElement.setAttribute("width",l-n+""),this.rightUnSelectedElement.setAttribute("x",h+""),this.rightUnSelectedElement.setAttribute("width",o.bounds.width-(h-n)+""),this.leftSlider.setAttribute("transform","translate("+(this.startX-this.thumpPadding)+", 0)"),this.rightSlider.setAttribute("transform","translate("+(this.endX-this.thumpPadding)+", 0)");let c=this.control.svgObject.getBoundingClientRect().left-this.control.element.getBoundingClientRect().left,d=this.control.enableRtl?this.endX:this.startX,u=this.control.enableRtl?this.startX:this.endX;this.leftRect={x:a?c+n:n,y:a?0:o.bounds.y,width:a?d-n:d,height:a?this.thumpY:o.bounds.height},this.rightRect={x:a?c+u:u,y:a?0:o.bounds.y,width:o.bounds.width-(h-n),height:a?this.thumpY:o.bounds.height},this.midRect={x:a?d+c:0,y:a?0:o.bounds.y,width:a?Math.abs(this.endX-this.startX):u,height:a?this.thumpY:o.bounds.height},this.currentStart=e,this.currentEnd=t,s&&(this.control.rangeTooltipModule.renderLeftTooltip(this),this.control.rangeTooltipModule.renderRightTooltip(this)),i&&this.triggerEvent(r)}triggerEvent(e){let t,i=this.control.chartSeries.xAxis,s=i.valueType;t={cancel:!1,start:"DateTime"===s?new Date(this.currentStart):"Logarithmic"===s?Math.pow(i.logBase,this.currentStart):this.currentStart,end:"DateTime"===s?new Date(this.currentEnd):"Logarithmic"===s?Math.pow(i.logBase,this.currentEnd):this.currentEnd,name:"changed",selectedData:Wi(this.points,this.currentStart,this.currentEnd),zoomPosition:(this.control.enableRtl?e.max-this.currentEnd:this.currentStart-e.min)/e.delta,zoomFactor:(this.currentEnd-this.currentStart)/e.delta},this.control.trigger("changed",t)}addEventListener(){this.control.isDestroyed||(this.control.on(h.d.touchMoveEvent,this.mouseMoveHandler,this),this.control.on(h.d.touchStartEvent,this.mouseDownHandler,this),this.control.on(h.d.touchEndEvent,this.mouseUpHandler,this),this.control.on(h.d.isPointer?"pointerleave":"mouseleave",this.mouseCancelHandler,this))}removeEventListener(){this.control.isDestroyed||(this.control.off(h.d.touchMoveEvent,this.mouseMoveHandler),this.control.off(h.d.touchStartEvent,this.mouseDownHandler),this.control.off(h.d.touchEndEvent,this.mouseUpHandler),this.control.off(h.d.isPointer?"pointerleave":"mouseleave",this.mouseCancelHandler))}mouseMoveHandler(e){let t,i,s=this.control,o=s.chartSeries.xAxis.actualRange,n=s.bounds;if(this.getCurrentSlider(e.target.id),this.isDrag&&s.mouseX>=n.x){switch(this.currentSlider){case"Left":s.startValue=this.getRangeValue(Math.abs(s.mouseX-n.x));break;case"Right":s.endValue=this.getRangeValue(Math.abs(s.mouseX-n.x));break;case"Middle":t=Math.max(this.getRangeValue(Math.abs(this.startX-(this.previousMoveX-s.mouseX)-n.x)),o.min),i=Math.min(this.getRangeValue(Math.abs(this.endX-(this.previousMoveX-s.mouseX)-n.x)),o.max),Math.floor(Math.abs(Fi(i,o,s.bounds.width,s.enableRtl)-Fi(t,o,s.bounds.width,s.enableRtl)))===Math.floor(this.sliderWidth)&&(s.startValue=t,s.endValue=i)}e.preventDefault&&this.isIOS&&e.preventDefault(),this.setSlider(s.startValue,s.endValue,!s.enableDeferredUpdate,s.rangeTooltipModule&&s.tooltip.enable),this.previousMoveX=s.mouseX}}getRangeValue(e){let t=this.control;return Hi(e,t.bounds.width,t.chartSeries.xAxis.actualRange,t.enableRtl)}mouseDownHandler(e){this.currentSlider=this.getCurrentSlider(e.target.id),this.selectedElement.setAttribute("style","cursor: -webkit-grabbing"),this.isDrag=!("UnSelectedArea"===this.currentSlider||!this.currentSlider),this.previousMoveX=this.control.mouseDownX}getCurrentSlider(e){let t=this.control.themeStyle.thumbHoverColor;return e.indexOf(this.elementId+"_LeftSlider")>-1?(this.leftSlider.childNodes[2].setAttribute("fill",t),"Left"):e.indexOf(this.elementId+"_RightSlider")>-1?(this.rightSlider.childNodes[2].setAttribute("fill",t),"Right"):e.indexOf(this.elementId+"_SelectedArea")>-1?"Middle":e.indexOf("UnSelectedArea")>-1?(this.leftSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.rightSlider.childNodes[2].setAttribute("fill",this.thumbColor),"UnSelectedArea"):e.indexOf(this.elementId+"_AxisLabel_")>-1&&"DateTime"===this.control.valueType?(this.labelIndex=+e.substring(e.lastIndexOf("_")+1,e.length),"firstLevelLabels"):e.indexOf(this.elementId+"_SecondaryLabel")>-1&&"DateTime"===this.control.valueType?(this.labelIndex=+e.substring(e.lastIndexOf("_")+1,e.length),"secondLevelLabels"):(this.leftSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.rightSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.control.periodSelectorModule&&(this.control.periodSelectorModule.triggerChange=!0),null)}mouseUpHandler(e){let t=this.control,i=t.chartSeries.xAxis.actualRange,s=t.enableDeferredUpdate,o=t.tooltip.enable;if(t.stockChart&&(t.stockChart.zoomChange=!1),"UnSelectedArea"===this.currentSlider){let e,o,n,r=t.enableRtl,a=t.endValue-t.startValue;t.mouseDownX<this.startX?(e=Math.max(this.getRangeValue(t.mouseDownX-this.sliderWidth/2-t.bounds.x),i.min),n=r?e:e+a,o=r?e-a:e):(e=Math.min(this.getRangeValue(t.mouseDownX+this.sliderWidth/2-t.bounds.x),i.max),o=r?e:e-a,n=r?e+a:e),this.performAnimation(o,n,t),s=!1}else if("firstLevelLabels"===this.currentSlider||"secondLevelLabels"===this.currentSlider){let e=t.rangeAxis[this.currentSlider][this.labelIndex+1];this.performAnimation(t.rangeAxis[this.currentSlider][this.labelIndex].value,e?t.allowIntervalData?e.value-1:e.value:i.max,t),s=!1}this.isDrag&&t.allowSnapping&&(this.setAllowSnapping(t,this.currentStart,this.currentEnd,s,o),s=!1),s&&this.setSlider(this.currentStart,this.currentEnd,!0,o),null!==this.currentSlider&&this.control.periodSelectorSettings.periods.length>0&&(this.control.periodSelectorModule.triggerChange=!1,this.control.periodSelectorModule.datePicker.startDate=new Date(this.currentStart),this.control.periodSelectorModule.datePicker.endDate=new Date(this.currentEnd)),this.selectedElement.setAttribute("style","cursor: -webkit-grab"),t.startValue=this.currentStart,t.endValue=this.currentEnd,this.isDrag=!1,this.labelIndex=null,this.currentSlider=null}setAllowSnapping(e,t,i,s,o){let n=e.rangeAxis.lowerValues;n.push(e.chartSeries.xAxis.actualRange.max),this.setSlider(Zi(n,t),Zi(n,i),s,o),e.startValue=this.currentStart,e.endValue=this.currentEnd}performAnimation(e,t,i,s){let o=this.currentStart,n=this.currentEnd,r=i.enableDeferredUpdate,a=i.tooltip.enable;new h.b({}).animate(Object(h.F)("div"),{duration:Object(h.W)(s)?this.control.animationDuration:s,progress:i=>{this.setSlider(tt(i.timeStamp,0,e-o,i.duration)+o,tt(i.timeStamp,0,t-n,i.duration)+n,!r,a)},end:s=>{i.allowSnapping?this.setAllowSnapping(i,e,t,!0,a):this.setSlider(e,t,!0,a),this.control.startValue=this.currentStart,this.control.endValue=this.currentEnd,this.control.periodSelectorSettings.periods.length>0&&(this.control.periodSelectorModule.triggerChange=!1,this.control.periodSelectorModule.datePicker.startDate=new Date(this.currentStart),this.control.periodSelectorModule.datePicker.endDate=new Date(this.currentEnd))}})}mouseCancelHandler(){this.isDrag&&this.control.allowSnapping&&this.setAllowSnapping(this.control,this.currentStart,this.currentEnd,!1,this.control.tooltip.enable),this.isDrag=!1,this.currentSlider=null,this.control.startValue=this.currentStart,this.control.endValue=this.currentEnd}destroy(){this.removeEventListener()}}var ts=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let is=(()=>{let e=class extends h.h{constructor(e,t){super(e,t),this.animateSeries=!0,this.chartid=57725}preRender(){if(this.isBlazor=window.Blazor,this.unWireEvents(),this.setCulture(),this.allowServerDataBinding=!1,""===this.element.id){let e=document.getElementsByClassName("e-rangenavigator").length;this.element.id="rangenavigator_"+this.chartid+"_"+e}this.wireEvents()}initPrivateVariables(){this.doubleModule=new ie,this.labels=[],this.rangeSlider=new es(this),this.chartSeries=new Gi(this),this.lineSeriesModule=new Ai,this.rangeAxis=new Yi(this)}setCulture(){this.intl=new h.n}setSliderValue(){let e="DateTime"===this.valueType,t=this.chartSeries.xAxis.actualRange;this.startValue=this.startValue?this.startValue:this.value[0]?e?this.value[0].getTime():+this.value[0]:t.min,this.endValue=this.endValue?this.endValue:this.value[1]?e?this.value[1].getTime():+this.value[1]:t.max}render(){let e={name:"load",rangeNavigator:this.isBlazor?{}:this,theme:this.theme};this.trigger("load",e,()=>{this.theme=this.isBlazor?e.theme:this.theme,this.setTheme(),this.initPrivateVariables(),this.createRangeSvg(),this.calculateBounds(),this.chartSeries.renderChart(this),Oe("chartmeasuretext"),this.renderComplete(),this.allowServerDataBinding=!0})}setTheme(){this.themeStyle=function(e,t){let i=t.navigatorStyleSettings.thumb,s=Object(h.W)(i.width)?h.d.isDevice?15:20:i.width,o=Object(h.W)(i.height)?h.d.isDevice?15:20:i.height,n="HighContrast"===e?"#969696":"#6F6C6C",r="HighContrast"===e?"#4A4848":"#414040",a="MaterialDark"===e?"#303030":"FabricDark"===e?"#201F1F":"1A1A1A",l={gridLineColor:"#E0E0E0",axisLineColor:"#000000",labelFontColor:"#686868",unselectedRectColor:t.series.length?"rgba(255, 255, 255, 0.6)":"#EEEEEE",thumpLineColor:"rgba(189, 189, 189, 1)",thumbBackground:"rgba(250, 250, 250, 1)",gripColor:"#757575",background:"#FFFFFF",thumbHoverColor:"#EEEEEE",selectedRegionColor:t.series.length?"transparent":"#FF4081",tooltipBackground:"rgb(0, 8, 22)",tooltipFontColor:"#dbdbdb",thumbWidth:s,thumbHeight:o};switch(e){case"Fabric":l.selectedRegionColor=t.series.length?"transparent":"#007897";break;case"Bootstrap":l.selectedRegionColor=t.series.length?"transparent":"#428BCA";break;case"HighContrastLight":l={gridLineColor:"#bdbdbd",axisLineColor:"#969696",labelFontColor:"#ffffff",unselectedRectColor:t.series.length?"rgba(255, 255, 255, 0.3)":"#EEEEEE",thumpLineColor:"#ffffff",thumbBackground:"#262626",gripColor:"#ffffff",background:a,thumbHoverColor:"#BFBFBF",selectedRegionColor:t.series.length?"transparent":"#FFD939",tooltipBackground:"#ffffff",tooltipFontColor:"#000000",thumbWidth:s,thumbHeight:o};break;case"Highcontrast":case"HighContrast":l={gridLineColor:r,axisLineColor:n,labelFontColor:"#DADADA",unselectedRectColor:t.series.length?"rgba(43, 43, 43, 0.6)":"#514F4F",thumpLineColor:"#969696",thumbBackground:"#333232",gripColor:"#DADADA",background:"#000000",thumbHoverColor:"#BFBFBF",selectedRegionColor:t.series.length?"rgba(22, 22, 22, 0.6)":"#FFD939",tooltipBackground:"#F4F4F4",tooltipFontColor:"#282727",thumbWidth:s,thumbHeight:o};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":l={labelFontColor:"#DADADA",axisLineColor:" #6F6C6C",gridLineColor:"#414040",tooltipBackground:"#F4F4F4",tooltipFontColor:"#333232",unselectedRectColor:t.series.length?"rgba(43, 43, 43, 0.6)":"#514F4F",thumpLineColor:"#969696",thumbBackground:"#333232",gripColor:"#DADADA",background:a,thumbHoverColor:"#BFBFBF",selectedRegionColor:t.series.length?"rgba(22, 22, 22, 0.6)":"FabricDark"===e?"#007897":"BootstrapDark"===e?"#428BCA":"#FF4081",thumbWidth:s,thumbHeight:o};break;case"Bootstrap4":l={gridLineColor:"#E0E0E0",axisLineColor:"#CED4DA",labelFontColor:"#212529",unselectedRectColor:t.series.length?"rgba(255, 255, 255, 0.6)":"#514F4F",thumpLineColor:"rgba(189, 189, 189, 1)",thumbBackground:"#FFFFFF",gripColor:"#495057",background:"rgba(255, 255, 255, 0.6)",thumbHoverColor:"#EEEEEE",selectedRegionColor:t.series.length?"transparent":"#FFD939",tooltipBackground:"rgba(0, 0, 0, 0.9)",tooltipFontColor:"rgba(255, 255, 255)",thumbWidth:s,thumbHeight:o};break;default:l.selectedRegionColor=t.series.length?"transparent":"#FF4081"}return l}(this.theme,this)}createRangeSvg(){this.removeSvg(),Et(this),this.renderChartBackground()}calculateBounds(){let e=this.enableGrouping?15:8,t=this.navigatorStyleSettings.thumb,i=u("tempString",this.labelStyle).height,s=this.margin,o=!this.series.length,n=!this.disableRangeSelector&&o&&this.tooltip.enable?35:0,r=this.periodSelectorModule;if(this.periodSelectorModule&&this.periodSelectorSettings.periods.length>0&&(r.periodSelectorSize={x:0,y:0,height:0,width:0},r.periodSelectorSize.width=this.availableSize.width,r.periodSelectorSize.height=this.periodSelectorSettings.height,r.periodSelectorSize.y="Bottom"===this.periodSelectorSettings.position?this.availableSize.height-r.periodSelectorSize.height:0),this.bounds=new g(this.themeStyle.thumbWidth/2+t.border.width+s.left,s.top+n+("Top"===this.periodSelectorSettings.position&&r?r.periodSelectorSize.y+r.periodSelectorSize.height:0),this.availableSize.width-this.themeStyle.thumbWidth-2*t.border.width-s.left-s.right,this.availableSize.height-s.top-s.bottom-n-(r?r.periodSelectorSize.height:0)),this.bounds.height-=("Outside"===this.labelPosition||o?i+e:0)+("Outside"===this.tickPosition||o?this.majorTickLines.height:0),o){let t=this.enableGrouping?this.bounds.height-(i+e):this.bounds.height;this.bounds.y+=this.themeStyle.thumbHeight>t?(this.themeStyle.thumbHeight-t)/2:0}this.disableRangeSelector&&(this.bounds.y=0,this.bounds.height=this.periodSelectorSettings.height)}renderChart(){this.chartSeries.renderSeries(this),this.rangeAxis.renderGridLines(),this.rangeAxis.renderAxisLabels(),this.chartSeries.appendSeriesElements(this),this.createSecondaryElement(),this.setSliderValue(),this.renderPeriodSelector(),this.renderSlider(),this.stockChart||this.element.appendChild(this.svgObject),this.trigger("loaded",{rangeNavigator:this.isBlazor?{}:this}),this.rangeSlider.setSlider(this.startValue,this.endValue,!1,this.tooltip.enable&&"Always"===this.tooltip.displayMode)}renderPeriodSelector(){this.periodSelectorModule&&(this.periodSelectorModule.renderSelectorElement(this),this.periodSelectorModule.renderSelector())}createSecondaryElement(){if(this.tooltip.enable){let e=this.createElement("div");e.id=this.element.id+"_Secondary_Element",e.setAttribute("style","position: relative"),this.element.appendChild(e)}}renderSlider(){this.rangeSlider.render(this),this.rangeSlider.setSlider(this.startValue,this.endValue,!0,this.tooltip.enable&&"Always"===this.tooltip.displayMode)}removeSvg(){if(dt(this.element.id+"_Secondary_Element")&&Object(h.gb)(dt(this.element.id+"_Secondary_Element")),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);this.svgObject.hasChildNodes()||!this.svgObject.parentNode||this.stockChart||Object(h.gb)(this.svgObject)}}unWireEvents(){let e=h.d.touchMoveEvent,t=h.d.touchEndEvent,i=h.d.isPointer?"pointerleave":"mouseleave";h.l.remove(this.element,h.d.touchStartEvent,this.rangeOnMouseDown),h.l.remove(this.element,e,this.mouseMove),h.l.remove(this.element,t,this.mouseEnd),h.l.remove(this.element,"click",this.rangeOnMouseClick),h.l.remove(this.element,i,this.mouseLeave),window.removeEventListener(h.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.rangeResize)}wireEvents(){let e=h.d.isPointer?"pointerleave":"mouseleave";h.l.add(this.element,h.d.touchStartEvent,this.rangeOnMouseDown,this),h.l.add(this.element,h.d.touchMoveEvent,this.mouseMove,this),h.l.add(this.element,h.d.touchEndEvent,this.mouseEnd,this),h.l.add(this.element,"click",this.rangeOnMouseClick,this),h.l.add(this.element,e,this.mouseLeave,this),window.addEventListener(h.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.rangeResize.bind(this));let t=this.element;t.style.touchAction="none",t.style.msTouchAction="none",t.style.msContentZooming="none",t.style.msUserSelect="none",t.style.webkitUserSelect="none",t.style.position="relative",t.style.display="block"}rangeResize(e){if(!document.getElementById(this.element.id))return!1;this.animateSeries=!1,this.removeAllTooltip(),this.resizeTo&&clearTimeout(this.resizeTo);let t={rangeNavigator:this,name:"resized",currentSize:new m(0,0),previousSize:new m(this.availableSize.width,this.availableSize.height)};return this.resizeTo=setTimeout(()=>{this.isDestroyed?clearTimeout(this.resizeTo):(this.createRangeSvg(),t.currentSize=this.availableSize,this.trigger("resized",t),this.calculateBounds(),this.chartSeries.renderChart(this))},500),!1}removeAllTooltip(){this.tooltip.enable&&"Always"===this.tooltip.displayMode&&(dt(this.element.id+"_leftTooltip")&&Object(h.gb)(dt(this.element.id+"_leftTooltip")),dt(this.element.id+"_rightTooltip")&&Object(h.gb)(dt(this.element.id+"_rightTooltip")))}mouseMove(e){return dt(this.stockChart?this.element.id:this.element.id+"_svg")&&(this.mouseX=this.setMouseX(e),this.notify(h.d.touchMoveEvent,e)),!1}mouseLeave(e){let t=this.rangeSlider;t.isDrag&&t.triggerEvent(this.chartSeries.xAxis.actualRange);let i=h.d.isPointer?"pointerleave":"mouseleave";return this.mouseX=this.setMouseX(e),this.notify(i,e),!1}rangeOnMouseClick(e){return this.notify("click",e),!1}print(e){new xi(this).print(e)}export(e,t,i,s,o,n,r){s=s||[this],new xi(this).export(e,t,i,s,o,n,r)}renderChartBackground(){let e=new Wt(this.element.id+"_ChartBorder",this.themeStyle.background,{width:0,color:"transparent"},1,new g(0,0,this.availableSize.width,this.availableSize.height));this.svgObject.appendChild(this.renderer.drawRectangle(e))}rangeOnMouseDown(e){return this.mouseDownX=this.setMouseX(e),this.notify(h.d.touchStartEvent,e),!1}mouseEnd(e){return this.mouseX=this.setMouseX(e),this.notify(h.d.touchEndEvent,e),!1}setMouseX(e){let t=e.type.indexOf("touch")>-1?e.changedTouches[0].clientX:e.clientX,i=this.element.getBoundingClientRect(),s=this.stockChart?dt(this.element.id).getBoundingClientRect():dt(this.element.id+"_svg").getBoundingClientRect();return t-i.left-Math.max(s.left-i.left,0)}getPersistData(){return this.addOnPersist(["loaded"])}onPropertyChanged(e,t){let i=!1,s=!1,o=!1;this.animateSeries=!1;for(let n of Object.keys(e))switch(n){case"width":case"height":case"navigatorBorder":case"enableGrouping":case"labelPosition":case"tickPosition":case"labelStyle":s=!0;break;case"enableRtl":case"xName":case"yName":case"query":case"minimum":case"maximum":case"interval":case"intervalType":case"logBase":case"valueType":case"majorGridLines":case"minorGridLines":case"navigatorStyleSettings":case"labelFormat":case"skeleton":case"skeletonType":case"secondaryLabelAlignment":i=!0;break;case"dataSource":case"series":i=!0,s=!0;break;case"theme":this.animateSeries=!0;break;case"locale":super.refresh();break;case"value":this.startValue=null,this.endValue=null,o=!0}!s&&i&&(this.removeSvg(),this.chartSeries.xMin=1/0,this.chartSeries.xMax=-1/0,this.chartSeries.renderChart(this)),s&&i&&(this.removeSvg(),this.chartSeries.xMin=this.chartSeries.yMin=1/0,this.chartSeries.xMax=this.chartSeries.yMax=-1/0,this.calculateBounds(),this.chartSeries.renderChart(this)),s&&!i&&(this.removeSvg(),this.calculateBounds(),this.chartSeries.renderChart(this)),s||i||!o||(this.setSliderValue(),this.rangeSlider.setSlider(this.startValue,this.endValue,!0,this.tooltip.enable&&"Always"===this.tooltip.displayMode))}requiredModules(){let e=[];return this.series.map(t=>{e.push({member:t.type+"Series",args:[this]})}),this.periodSelectorSettings.periods.length>0&&e.push({member:"PeriodSelector",args:[this]}),"Double"!==this.valueType&&e.push({member:this.valueType,args:[this]}),this.tooltip.enable&&e.push({member:"RangeTooltip",args:[this]}),e}getModuleName(){return"rangeNavigator"}destroy(){this.unWireEvents(),this.rangeSlider.destroy(),super.destroy(),this.element.innerHTML="",this.element.classList.remove("e-rangenavigator")}};return ts([Object(h.s)(null)],e.prototype,"width",void 0),ts([Object(h.s)(null)],e.prototype,"height",void 0),ts([Object(h.s)(null)],e.prototype,"dataSource",void 0),ts([Object(h.s)(null)],e.prototype,"xName",void 0),ts([Object(h.s)(null)],e.prototype,"yName",void 0),ts([Object(h.s)()],e.prototype,"query",void 0),ts([Object(h.f)([],qi)],e.prototype,"series",void 0),ts([Object(h.g)({},$i)],e.prototype,"tooltip",void 0),ts([Object(h.s)(null)],e.prototype,"minimum",void 0),ts([Object(h.s)(null)],e.prototype,"maximum",void 0),ts([Object(h.s)(null)],e.prototype,"interval",void 0),ts([Object(h.s)("Auto")],e.prototype,"intervalType",void 0),ts([Object(h.s)("Hide")],e.prototype,"labelIntersectAction",void 0),ts([Object(h.s)(10)],e.prototype,"logBase",void 0),ts([Object(h.s)("Double")],e.prototype,"valueType",void 0),ts([Object(h.s)("Outside")],e.prototype,"labelPosition",void 0),ts([Object(h.s)(500)],e.prototype,"animationDuration",void 0),ts([Object(h.s)(!1)],e.prototype,"enableGrouping",void 0),ts([Object(h.s)(!1)],e.prototype,"enableDeferredUpdate",void 0),ts([Object(h.s)(!1)],e.prototype,"disableRangeSelector",void 0),ts([Object(h.s)(!1)],e.prototype,"allowSnapping",void 0),ts([Object(h.s)(!1)],e.prototype,"allowIntervalData",void 0),ts([Object(h.s)(!1)],e.prototype,"useGroupingSeparator",void 0),ts([Object(h.s)()],e.prototype,"groupBy",void 0),ts([Object(h.s)("Outside")],e.prototype,"tickPosition",void 0),ts([Object(h.g)(Ui.axisLabelFont,F)],e.prototype,"labelStyle",void 0),ts([Object(h.g)({},be)],e.prototype,"majorGridLines",void 0),ts([Object(h.g)({},xe)],e.prototype,"majorTickLines",void 0),ts([Object(h.g)({},Ki)],e.prototype,"navigatorStyleSettings",void 0),ts([Object(h.g)({},ee)],e.prototype,"periodSelectorSettings",void 0),ts([Object(h.g)({color:"#DDDDDD",width:1},H)],e.prototype,"navigatorBorder",void 0),ts([Object(h.s)("Material")],e.prototype,"theme",void 0),ts([Object(h.s)([])],e.prototype,"value",void 0),ts([Object(h.s)("")],e.prototype,"labelFormat",void 0),ts([Object(h.s)("")],e.prototype,"skeleton",void 0),ts([Object(h.s)("DateTime")],e.prototype,"skeletonType",void 0),ts([Object(h.s)("Middle")],e.prototype,"secondaryLabelAlignment",void 0),ts([Object(h.g)({top:5,bottom:5,right:5,left:5},X)],e.prototype,"margin",void 0),ts([Object(h.k)()],e.prototype,"load",void 0),ts([Object(h.k)()],e.prototype,"loaded",void 0),ts([Object(h.k)()],e.prototype,"resized",void 0),ts([Object(h.k)()],e.prototype,"labelRender",void 0),ts([Object(h.k)()],e.prototype,"changed",void 0),ts([Object(h.k)()],e.prototype,"tooltipRender",void 0),ts([Object(h.k)()],e.prototype,"selectorRender",void 0),ts([Object(h.k)()],e.prototype,"beforePrint",void 0),e=ts([h.q],e),e})();class ss{constructor(e){this.control={},this.rootControl=e}setControlValues(e){"rangeNavigator"===e.getModuleName()?(this.control.periods=this.rootControl.periodSelectorSettings.periods,this.control.seriesXMax=e.chartSeries.xMax,this.control.seriesXMin=e.chartSeries.xMin,this.control.rangeSlider=e.rangeSlider,this.control.rangeNavigatorControl=e,this.control.endValue=e.endValue,this.control.startValue=e.startValue):(this.control.periods=this.rootControl.periods,this.control.endValue=this.control.seriesXMax=e.seriesXMax,this.control.startValue=this.control.seriesXMin=e.seriesXMin,this.control.rangeNavigatorControl=this.rootControl.rangeNavigator,this.control.rangeNavigatorControl&&(this.control.rangeSlider=this.rootControl.rangeNavigator.rangeSlider)),this.control.element=e.element,this.control.disableRangeSelector=e.disableRangeSelector}appendSelector(e,t=0){this.renderSelectorElement(null,e,t),this.renderSelector()}renderSelectorElement(e,t,i){let s,o;this.periodSelectorSize=e?this.periodSelectorSize:new g(i,this.rootControl.titleSize.height,t.width,t.height),e?(s=e.themeStyle.thumbWidth,o=e.element):(s=t.thumbSize,o=t.element),dt(o.id+"_Secondary_Element")&&Object(h.gb)(dt(o.id+"_Secondary_Element")),this.periodSelectorDiv=Object(h.F)("div",{id:o.id+"_Secondary_Element",styles:"width: "+(this.periodSelectorSize.width-s)+"px;height: "+this.periodSelectorSize.height+"px;top:"+this.periodSelectorSize.y+"px;left:"+(this.periodSelectorSize.x+s/2)+"px; position: absolute"}),o.appendChild(this.periodSelectorDiv)}renderSelector(){this.setControlValues(this.rootControl);let e=!0,t=this.control.element.id,i=Object(h.F)("div",{id:t+"_selector"});this.periodSelectorDiv.appendChild(i);let s,o=this.control.periods,n=this.updateCustomElement(),r="text-transform: none; text-overflow: unset";for(let a=0;a<o.length;a++)n.push({align:"Left",text:o[a].text});"stockChart"===this.rootControl.getModuleName()&&(e=this.rootControl.enableCustomRange),e&&(this.calendarId=t+"_calendar",n.push({template:"<button id="+this.calendarId+"></button>",align:"Right"})),s={selector:n,name:"RangeSelector",cancel:!1,enableCustomFormat:!0,content:"Date Range"},"stockChart"===this.rootControl.getModuleName()&&(n.push({template:Object(h.F)("button",{id:t+"_reset",innerHTML:"Reset",styles:r,className:"e-dropdown-btn e-btn"}),align:"Right"}),this.rootControl.exportType.indexOf("Print")>-1&&n.push({template:Object(h.F)("button",{id:t+"_print",innerHTML:"Print",styles:r,className:"e-dropdown-btn e-btn"}),align:"Right"}),this.rootControl.exportType.length&&n.push({template:Object(h.F)("button",{id:t+"_export",innerHTML:"Export",styles:r,className:"e-dropdown-btn e-btn"}),align:"Right"})),this.rootControl.trigger("selectorRender",s),this.toolbar=new j.b({items:s.selector,height:this.periodSelectorSize.height,clicked:e=>{this.buttonClick(e,this.control)},created:()=>{this.nodes=this.toolbar.element.querySelectorAll(".e-toolbar-left")[0],Object(h.W)(this.selectedIndex)&&o.map((e,t)=>{e.selected&&(this.control.startValue=this.changedRange(e.intervalType,this.control.endValue,e.interval).getTime(),this.selectedIndex=this.nodes.childNodes.length-o.length+t)}),this.setSelectedStyle(this.selectedIndex)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(i),this.triggerChange=!0,e&&(this.datePicker=new I.c({min:new Date(this.control.seriesXMin),max:new Date(this.control.seriesXMax),format:"dd'/'MM'/'yyyy",placeholder:"Select a range",showClearButton:!1,startDate:new Date(this.control.startValue),endDate:new Date(this.control.endValue),created:e=>{if(s.enableCustomFormat){let e=document.getElementsByClassName("e-date-range-wrapper")[0];e.style.display="none",e.insertAdjacentElement("afterend",Object(h.F)("div",{id:"customRange",innerHTML:s.content,className:"e-btn e-dropdown-btn",styles:'font-family: "Segoe UI"; font-size: 14px; font-weight: 500; text-transform: none '})),dt("customRange").insertAdjacentElement("afterbegin",Object(h.F)("span",{id:"dateIcon",className:"e-input-group-icon e-range-icon e-btn-icon e-icons",styles:"font-size: 16px; min-height: 0px; margin: -3px 0 0 0; outline: none; min-width: 30px"})),document.getElementById("customRange").onclick=()=>{this.datePicker.show(dt("customRange"))}}},change:e=>{if(this.triggerChange&&(this.control.rangeSlider&&e.event?this.control.rangeSlider.performAnimation(e.startDate.getTime(),e.endDate.getTime(),this.control.rangeNavigatorControl):e.event&&this.rootControl.rangeChanged(e.startDate.getTime(),e.endDate.getTime()),this.nodes=this.toolbar.element.querySelectorAll(".e-toolbar-left")[0],!this.rootControl.resizeTo&&this.control.rangeSlider&&this.control.rangeSlider.isDrag))for(let t=0,i=this.nodes.childNodes.length;t<i;t++)this.nodes.childNodes[t].childNodes[0].classList.remove("e-active"),this.nodes.childNodes[t].childNodes[0].classList.remove("e-active")}}),this.datePicker.appendTo("#"+this.calendarId))}updateCustomElement(){let e=[],t=this.rootControl.element.id,i="text-transform: none; text-overflow: unset";return"stockChart"===this.rootControl.getModuleName()&&(this.rootControl.seriesType.length&&e.push({template:Object(h.F)("button",{id:t+"_seriesType",innerHTML:"Series",styles:i}),align:"Left"}),this.rootControl.indicatorType.length&&e.push({template:Object(h.F)("button",{id:t+"_indicatorType",innerHTML:"Indicators",styles:i}),align:"Left"}),this.rootControl.trendlineType.length&&e.push({template:Object(h.F)("button",{id:t+"_trendType",innerHTML:"Trendline",styles:i}),align:"Left"})),e}setSelectedStyle(e){if(this.control.disableRangeSelector||"stockChart"===this.rootControl.getModuleName()){for(let e=0,t=this.nodes.childNodes.length;e<t;e++)this.nodes.childNodes[e].childNodes[0].classList.remove("e-active"),this.nodes.childNodes[e].childNodes[0].classList.remove("e-active");this.nodes.childNodes[e].childNodes[0].classList.add("e-flat"),this.nodes.childNodes[e].childNodes[0].classList.add("e-active")}}buttonClick(e,t){let i,s,o=e.item,n=this.control.rangeSlider,r=this.control.periods,a=r.filter(e=>e.text===o.text);r.map((t,i)=>{t.text===e.item.text&&(this.selectedIndex=this.nodes.childNodes.length-r.length+i)}),""!==e.item.text&&this.setSelectedStyle(this.selectedIndex),"all"===o.text.toLowerCase()?(i=t.seriesXMin,s=t.seriesXMax,n?n.performAnimation(i,s,this.control.rangeNavigatorControl):this.rootControl.rangeChanged(i,s)):"ytd"===o.text.toLowerCase()?n?(i=new Date(new Date(n.currentEnd).getFullYear().toString()).getTime(),s=n.currentEnd,n.performAnimation(i,s,this.control.rangeNavigatorControl)):(i=new Date(new Date(this.rootControl.currentEnd).getFullYear().toString()).getTime(),s=this.rootControl.currentEnd,this.rootControl.rangeChanged(i,s)):""!==o.text.toLowerCase()&&(n?(i=this.changedRange(a[0].intervalType,n.currentEnd,a[0].interval).getTime(),s=n.currentEnd,n.performAnimation(i,s,this.control.rangeNavigatorControl)):(i=this.changedRange(a[0].intervalType,this.rootControl.currentEnd,a[0].interval).getTime(),s=this.rootControl.currentEnd,this.rootControl.rangeChanged(i,s))),"stockChart"===this.rootControl.getModuleName()&&(this.rootControl.zoomChange=!1),dt(this.calendarId+"_popup")&&!h.d.isDevice&&(dt(this.calendarId+"_popup").querySelectorAll(".e-range-header")[0].style.display="none")}changedRange(e,t,i){let s=new Date(t);switch(e){case"Quarter":s.setMonth(s.getMonth()-3*i);break;case"Months":s.setMonth(s.getMonth()-i);break;case"Weeks":s.setDate(s.getDate()-7*i);break;case"Days":s.setDate(s.getDate()-i);break;case"Hours":s.setHours(s.getHours()-i);break;case"Minutes":s.setMinutes(s.getMinutes()-i);break;case"Seconds":s.setSeconds(s.getSeconds()-i);break;default:s.setFullYear(s.getFullYear()-i)}return s}getModuleName(){return"PeriodSelector"}destroy(){}}class os{constructor(e){this.stockChart=e}initializeChart(e){let t=this.stockChart;if(t.isProtectedOnChange=!0,t.chartObject){let e=document.getElementById(t.chartObject.id);for(;e.firstChild;)e.removeChild(e.firstChild);dt(t.chartObject+"_tooltip")&&Object(h.gb)(dt(t.chartObject+"_tooltip"))}else t.chartObject=t.renderer.createGroup({id:t.element.id+"_stockChart_chart"}),t.mainObject.appendChild(t.chartObject);if(this.cartesianChartSize=this.calculateChartSize(),t.chart=new Si({chartArea:t.chartArea,margin:this.findMargin(t),primaryXAxis:this.copyObject(t.primaryXAxis),primaryYAxis:this.copyObject(t.primaryYAxis),rows:t.rows,indicators:t.indicators,axes:t.axes,tooltipRender:e=>{this.stockChart.trigger("tooltipRender",e)},axisLabelRender:e=>{this.stockChart.trigger("axisLabelRender",e)},seriesRender:t=>{t.data&&this.stockChart.startValue&&this.stockChart.endValue&&(t.data=t.data.filter(e=>new Date(Date.parse(e[t.series.xName])).getTime()>=this.stockChart.startValue&&new Date(Date.parse(e[t.series.xName])).getTime()<=this.stockChart.endValue)),t.data=e||t.data,this.stockChart.trigger("seriesRender",t)},onZooming:e=>{this.stockChart.trigger("onZooming",e)},pointClick:e=>{this.stockChart.trigger("pointClick",e)},pointMove:e=>{this.stockChart.trigger("pointMove",e)},dataSource:t.dataSource,series:this.findSeriesCollection(t.series),zoomSettings:this.copyObject(t.zoomSettings),tooltip:t.tooltip,crosshair:t.crosshair,height:this.cartesianChartSize.height.toString(),selectedDataIndexes:t.selectedDataIndexes,selectionMode:t.selectionMode,isMultiSelect:t.isMultiSelect,annotations:t.annotations,theme:t.theme,legendSettings:{visible:!1},zoomComplete:e=>{if("DateTime"===e.axis.valueType&&t.rangeNavigator){this.stockChart.zoomChange=!0;let i=this.calculateUpdatedRange(e.currentZoomFactor,e.currentZoomPosition,e.axis);t.rangeSelector.sliderChange(i.start,i.end)}}}),0!==t.indicators.length){if(t.isSelect)for(let e=0;e<t.indicators.length;e++)t.chart.indicators[e].animation.enable=!1,t.chart.indicators[e].dataSource=Object(h.J)([],t.chart.series[0].dataSource,null,!0);t.isSelect=!0}t.chart.stockChart=t,t.chart.appendTo(t.chartObject),t.isProtectedOnChange=!1}findMargin(e){let t={};return t.top=2*e.margin.top,t.left=e.margin.left,t.right=e.margin.right,t.bottom=e.margin.bottom,t}findSeriesCollection(e){let t=[];for(let i=0,s=e.length;i<s;i++)t.push(e[i]),t[i].high=e[i].high,t[i].low=e[i].low,t[i].open=e[i].open,t[i].close=e[i].close,t[i].xName=e[i].xName,t[i].volume=e[i].volume,t[i].animation=e[i].animation,e[i].localData&&(t[i].dataSource=e[i].localData),"HiloOpenClose"!==t[i].type&&"Candle"!==t[i].type&&"volume"===t[i].yName&&(t[i].enableTooltip=!1);return t}calculateChartSize(){let e=this.stockChart;return new m(e.availableSize.width,e.enablePeriodSelector&&e.enableSelector?e.availableSize.height-e.toolbarHeight-80:e.enableSelector&&!e.enablePeriodSelector?e.availableSize.height-80:e.enablePeriodSelector&&!e.enableSelector?e.availableSize.height-e.toolbarHeight:e.availableSize.height)}calculateUpdatedRange(e,t,i){let s,o,n=i.actualRange;return s=n.min+t*n.delta,o=s+e*n.delta,{start:s,end:o}}cartesianChartRefresh(e,t,i,s){e.cartesianChart.initializeChart(s)}copyObject(e){return Object(h.J)({},e,{},!0)}}class ns{constructor(e){this.stockChart=e}initializeRangeNavigator(){let e=this.stockChart;if(e.selectorObject){let t=document.getElementById(e.selectorObject.id);for(;t.firstChild;)t.removeChild(t.firstChild);dt(e.selectorObject.id+"_leftTooltip")&&Object(h.gb)(dt(e.selectorObject.id+"_leftTooltip")),dt(e.selectorObject.id+"_rightTooltip")&&Object(h.gb)(dt(e.selectorObject.id+"_rightTooltip"))}else e.selectorObject=e.renderer.createGroup({id:e.element.id+"_stockChart_rangeSelector",transform:"translate(0,"+e.cartesianChart.cartesianChartSize.height+")"}),e.mainObject.appendChild(e.selectorObject);e.rangeNavigator=new is({locale:"en",valueType:e.primaryXAxis.valueType,theme:this.stockChart.theme,series:this.findSeriesCollection(e.series),height:this.calculateChartSize().height.toString(),value:[new Date(e.startValue),new Date(e.endValue)],margin:this.findMargin(e),tooltip:{enable:e.tooltip.enable,displayMode:"Always"},dataSource:e.dataSource,changed:t=>{let i={name:"rangeChange",end:t.end,selectedData:t.selectedData,start:t.start,zoomFactor:t.zoomFactor,zoomPosition:t.zoomPosition,data:void 0};this.stockChart.trigger("rangeChange",i),this.stockChart.startValue=t.start,this.stockChart.endValue=t.end,this.stockChart.zoomChange||this.stockChart.cartesianChart.cartesianChartRefresh(this.stockChart,t.start,t.end,i.data),e.periodSelector&&e.periodSelector.datePicker&&(e.periodSelector.datePicker.startDate=new Date(t.start),e.periodSelector.datePicker.endDate=new Date(t.end),e.periodSelector.datePicker.dataBind())}}),e.rangeNavigator.stockChart=e,e.rangeNavigator.appendTo(e.selectorObject)}findMargin(e){return{top:5,left:0,right:0,bottom:0}}findSeriesCollection(e){let t=[];for(let i=0,s=e.length;i<s;i++)t.push(e[i]),t[i].xName=e[i].xName,t[i].yName=""===e[i].yName?e[i].close:e[i].yName;return t}calculateChartSize(){let e=this.stockChart;return new m(e.availableSize.width,e.enableSelector?80:0)}sliderChange(e,t){this.stockChart.rangeNavigator.rangeSlider.performAnimation(e,t,this.stockChart.rangeNavigator,0)}}class rs{constructor(e){this.selectedSeries="",this.selectedIndicator="",this.selectedTrendLine="",this.indicators=[],this.secondayIndicators=[],this.stockChart=e,this.selectedSeries=this.stockChart.series[0].type}initializePeriodSelector(){this.stockChart.periods=this.stockChart.tempPeriods,this.stockChart.periodSelector.rootControl=this.stockChart;let e=this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect,t=dt(this.stockChart.element.id+"_Secondary_Element");this.stockChart.periodSelector.appendSelector({thumbSize:0,element:t,width:e.width,height:this.stockChart.toolbarHeight},e.x),this.initializeSeriesSelector(),this.initializeIndicatorSelector(),this.initializeTrendlineSelector(),this.exportButton(),this.printButton(),this.resetButton()}getDropDownItems(e){let t=[];if(e===this.stockChart.seriesType){for(let i=0;i<e.length;i++)t.push({text:"&nbsp;&nbsp;&nbsp;"+e[i].toString()});for(let e=0;e<this.stockChart.series.length;e++)for(let i=0;i<t.length;i++){let s=t[i].text.replace("&nbsp;&nbsp;&nbsp;","");s="OHLC"===s?"HiloOpenClose":s,s===this.stockChart.series[e].type&&(t[i].text=t[i].text.replace("&nbsp;&nbsp;&nbsp;","&#10004&nbsp;"))}}else if(e===this.stockChart.exportType)for(let i=0;i<e.length;i++)t.push({text:e[i].toString()});else for(let i=0;i<e.length;i++)"Print"!==e[i].toString()&&t.push({text:"&nbsp;&nbsp;&nbsp;"+e[i].toString()});return t}addedSeries(e){let t=this.stockChart.series;for(let i=0;i<t.length;i++)if("volume"!==t[i].yName){t[i].type=e.indexOf("Candle")>-1?"Candle":e.indexOf("OHLC")>-1?"HiloOpenClose":e,t[i].enableSolidCandles="Candle"===e;for(let e=0;e<t[i].trendlines.length;e++){let s=t[i].trendlines[e];s.animation.enable=!1,s.enableTooltip=!1}}}initializeSeriesSelector(){new z.b({items:this.getDropDownItems(this.stockChart.seriesType),select:e=>{this.selectedSeries=e.item.text;let t=this.tickMark(e);this.addedSeries(t),this.stockChart.cartesianChart.initializeChart()}}).appendTo("#"+this.stockChart.element.id+"_seriesType")}resetButton(){this.stockChart.isProtectedOnChange=!0,(new E.a).appendTo("#"+this.stockChart.element.id+"_reset"),document.getElementById(this.stockChart.element.id+"_reset").onclick=()=>{let e=this.indicators.length;for(;e;)this.stockChart.indicators.pop(),e--;this.indicators=[],this.secondayIndicators=[],this.stockChart.isSingleAxis?this.stockChart.rows=[{}]:(this.stockChart.rows.length>2&&this.stockChart.rows.splice(2,this.stockChart.rows.length-1),this.stockChart.axes.length>2&&(this.stockChart.axes.splice(1,this.stockChart.axes.length-1),this.stockChart.axes[0].rowIndex=1));for(let t=0;t<this.stockChart.series.length;t++)"volume"!==this.stockChart.series[t].yName&&(this.stockChart.series[t].type=this.stockChart.tempSeriesType[t],0!==this.stockChart.series[t].trendlines.length&&(this.stockChart.series[t].trendlines[0].width=0));this.stockChart.indicatorElements=null,this.stockChart.resizeTo=null,this.stockChart.zoomChange=!1,this.stockChart.refresh(),this.stockChart.isProtectedOnChange=!0}}initializeTrendlineSelector(){this.trendlineDropDown=new z.b({items:this.stockChart.resizeTo?this.trendlineDropDown.items:this.getDropDownItems(this.stockChart.trendlineType),select:e=>{let t=this.tickMark(e);t=t.split(" ")[0].toLocaleLowerCase()+(t.split(" ")[1]?t.split(" ")[1]:""),t=t.substr(0,1).toUpperCase()+t.substr(1);let i=t;if(this.selectedTrendLine=""===this.selectedTrendLine?i:this.selectedTrendLine+","+i,this.trendline!==i){this.trendline=i;for(let e=0;e<this.stockChart.series.length;e++)if("volume"!==this.stockChart.series[e].yName)if(0===this.stockChart.series[0].trendlines.length){let e;this.stockChart.trendlinetriggered&&(e=[{type:i,width:1,enableTooltip:!1}],this.stockChart.trendlinetriggered=!1),this.stockChart.series[0].trendlines=e}else this.stockChart.series[0].trendlines[0].width=1,this.stockChart.series[0].trendlines[0].type=i,this.stockChart.series[0].trendlines[0].animation.enable=!!this.stockChart.trendlinetriggered;this.stockChart.cartesianChart.initializeChart()}else e.item.text="&nbsp;&nbsp;&nbsp;"+e.item.text.replace("&#10004&nbsp;",""),this.stockChart.series[0].trendlines[0].width=0,this.trendline=null,this.stockChart.cartesianChart.initializeChart()}}),this.trendlineDropDown.appendTo("#"+this.stockChart.element.id+"_trendType")}initializeIndicatorSelector(){this.indicatorDropDown=new z.b({items:this.stockChart.resizeTo?this.indicatorDropDown.items:this.getDropDownItems(this.stockChart.indicatorType),select:e=>{for(let s=0;s<this.stockChart.series.length;s++)0!==this.stockChart.series[s].trendlines.length&&(this.stockChart.series[s].trendlines[0].animation.enable=!1);e.item.text=e.item.text.indexOf("&#10004&nbsp;")>=0?e.item.text.substr(e.item.text.indexOf(";")+1):e.item.text;let t=e.item.text.replace("&nbsp;&nbsp;&nbsp;","");t=t.split(" ")[0].toLocaleLowerCase()+(t.split(" ")[1]?t.split(" ")[1]:""),t=t.substr(0,1).toUpperCase()+t.substr(1);let i=t;if(this.selectedIndicator=-1===this.selectedIndicator.indexOf(i)?this.selectedIndicator+" "+i:this.selectedIndicator.replace(i,""),"Tma"===i||"BollingerBands"===i||"Sma"===i||"Ema"===i)if(-1===this.indicators.indexOf(i)){e.item.text="&#10004&nbsp;"+e.item.text.replace("&nbsp;&nbsp;&nbsp;","");let t=this.getIndicator(i,this.stockChart.series[0].yAxisName);this.indicators.push(i),this.stockChart.indicators=this.stockChart.indicators.concat(t),this.stockChart.cartesianChart.initializeChart()}else{e.item.text="&nbsp;&nbsp;&nbsp;"+e.item.text;for(let e=0;e<this.stockChart.indicators.length;e++)this.stockChart.indicators[e].type===i&&this.stockChart.indicators.splice(e,1);this.indicators.splice(this.indicators.indexOf(i),1),this.stockChart.cartesianChart.initializeChart()}else this.createIndicatorAxes(i,e)}}),this.indicatorDropDown.appendTo("#"+this.stockChart.element.id+"_indicatorType")}getIndicator(e,t){let i=this.stockChart.series[0];return[{type:e,period:3,yAxisName:t,dataSource:i.localData,xName:i.xName,open:i.open,close:i.close,high:i.high,low:i.low,volume:i.volume,fill:"Sma"===e?"#32CD32":"#6063ff",animation:{enable:!1},upperLine:{color:"#FFE200",width:1},periodLine:{width:2},lowerLine:{color:"#FAA512",width:1},fastPeriod:8,slowPeriod:5,macdType:"Both",width:1,macdPositiveColor:"#6EC992",macdNegativeColor:"#FF817F",bandColor:"rgba(245, 203, 35, 0.12)"}]}createIndicatorAxes(e,t){if(-1===this.indicators.indexOf(e)){let i,s,o;t.item.text="&#10004&nbsp;"+t.item.text.replace("&nbsp;&nbsp;&nbsp;",""),this.indicators.push(e);let n=this.stockChart.rows.length;if(this.stockChart.rows[this.stockChart.rows.length-1].height="15%",s=[{height:100-15*n+"px"}],1===this.stockChart.rows.length&&(this.stockChart.isSingleAxis=!0),this.stockChart.rows=this.stockChart.rows.concat(s),this.stockChart.isSingleAxis)for(let e=0;e<this.stockChart.axes.length;e++)this.stockChart.axes[e].rowIndex+=1;else this.stockChart.axes[0].rowIndex+=1;i=[{plotOffset:10,opposedPosition:!0,rowIndex:this.stockChart.isSingleAxis?0:this.stockChart.axes.length,desiredIntervals:1,labelFormat:"n2",majorGridLines:this.stockChart.primaryYAxis.majorGridLines,lineStyle:this.stockChart.primaryYAxis.lineStyle,labelPosition:this.stockChart.primaryYAxis.labelPosition,majorTickLines:this.stockChart.primaryYAxis.majorTickLines,rangePadding:"None",name:e.toString()}],this.stockChart.axes=this.stockChart.axes.concat(i),this.stockChart.primaryYAxis.rowIndex=this.stockChart.isSingleAxis?n+1:0,o=this.getIndicator(e,e.toString()),this.stockChart.indicators=this.stockChart.indicators.concat(o),this.stockChart.cartesianChart.initializeChart()}else{t.item.text="&nbsp;&nbsp;&nbsp;"+t.item.text;for(let t=0;t<this.stockChart.indicators.length;t++)this.stockChart.indicators[t].type===e&&this.stockChart.indicators.splice(t,1);this.indicators.splice(this.indicators.indexOf(e),1);let i=0;for(let t=0;t<this.stockChart.axes.length;t++)this.stockChart.axes[t].name===e&&(i=this.stockChart.axes[t].rowIndex,this.stockChart.rows.splice(t,1),this.stockChart.axes.splice(t,1));for(let e=0;e<this.stockChart.axes.length;e++)0!==this.stockChart.axes[e].rowIndex&&this.stockChart.axes[e].rowIndex>i&&(this.stockChart.axes[e].rowIndex=this.stockChart.axes[e].rowIndex-1);this.stockChart.cartesianChart.initializeChart()}}tickMark(e){let t,i=e.item.parentObj.items;for(let s=0;s<i.length;s++)i[s].text=i[s].text.indexOf("&#10004&nbsp;")>=0?i[s].text.substr(i[s].text.indexOf(";")+1):i[s].text,i[s].text.indexOf("&nbsp;&nbsp;&nbsp;")>=0||(i[s].text="&nbsp;&nbsp;&nbsp;"+i[s].text);return e.item.text.indexOf("&nbsp;&nbsp;&nbsp;")>=0?(t=e.item.text.replace("&nbsp;&nbsp;&nbsp;",""),e.item.text=e.item.text.replace("&nbsp;&nbsp;&nbsp;","&#10004&nbsp;")):t=e.item.text.replace("&#10004&nbsp;",""),t}printButton(){this.stockChart.exportType.indexOf("Print")>-1&&((new E.a).appendTo("#"+this.stockChart.element.id+"_print"),document.getElementById(this.stockChart.element.id+"_print").onclick=()=>{this.stockChart.chart.print(this.stockChart.element.id)})}exportButton(){new z.b({items:this.getDropDownItems(this.stockChart.exportType),select:e=>{let t,i=e.item.text,s=this.stockChart,o=s.element.id+"_stockChart_",n=s.svgObject.getBoundingClientRect();s.chart.exportModule&&(this.stockChart.svgObject.insertAdjacentElement("afterbegin",this.addExportSettings()),t=s.svgObject.firstElementChild.getBoundingClientRect(),this.stockChart.svgObject.setAttribute("height",(n.height+t.height).toString()),dt(o+"chart").style.transform="translateY("+t.height+"px)",s.enableSelector&&dt(o+"rangeSelector").setAttribute("transform","translate(0,"+(s.cartesianChart.cartesianChartSize.height+t.height)+")"),s.chart.exportModule.export(i,"StockChart",null,[s],null,s.svgObject.clientHeight),Object(h.gb)(dt(this.stockChart.element.id+"_additionalExport")),dt(o+"chart").style.transform="translateY(0px)",s.enableSelector&&dt(o+"rangeSelector").setAttribute("transform","translate(0,"+s.cartesianChart.cartesianChartSize.height+")"),this.stockChart.svgObject.setAttribute("height",n.height.toString()))}}).appendTo("#"+this.stockChart.element.id+"_export")}calculateAutoPeriods(){let e=[];return e=this.findRange(this.stockChart.seriesXMin,this.stockChart.seriesXMax),e.push({text:"YTD",selected:!0},{text:"All"}),e}findRange(e,t){let i=[];return(t-e)/3154e7>=1?i.push({text:"1M",interval:1,intervalType:"Months"},{text:"3M",interval:3,intervalType:"Months"},{text:"6M",interval:6,intervalType:"Months"},{text:"1Y",interval:1,intervalType:"Years"}):(t-e)/1577e7>=1?i.push({text:"1M",interval:1,intervalType:"Months"},{text:"3M",interval:3,intervalType:"Months"},{text:"6M",interval:6,intervalType:"Months"}):(t-e)/2628e6>=1?i.push({text:"1D",interval:1,intervalType:"Days"},{text:"3W",interval:3,intervalType:"Weeks"},{text:"1M",interval:1,intervalType:"Months"}):(t-e)/864e5>=1&&i.push({text:"1H",interval:1,intervalType:"Hours"},{text:"12H",interval:12,intervalType:"Hours"},{text:"1D",interval:1,intervalType:"Days"}),i}addExportSettings(){let e=this.stockChart.renderer.createGroup({id:this.stockChart.element.id+"_additionalExport",width:this.stockChart.availableSize.width}),t=u(this.stockChart.title,this.stockChart.titleStyle).height,i=new f(e.id+"_Title",Bt(new g(0,0,this.stockChart.availableSize.width,0),this.stockChart.titleStyle),0,"middle",this.stockChart.title,"","text-before-edge");It(this.stockChart.renderer,i,this.stockChart.titleStyle,this.stockChart.titleStyle.color,e);let s={size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},o=u("Series: "+this.selectedSeries,s).width/2,n=t;return this.textElementSpan(new f(e.id+"_Series",o,n,"start",["Series : ",this.selectedSeries],"","text-before-edge"),s,"black",e),o+=u("Series: "+this.selectedSeries+" Z",s).width,""!==this.selectedIndicator&&(this.textElementSpan(new f(e.id+"_Indicator",o,n,"start",["Indicator :",this.selectedIndicator],"","text-before-edge"),s,"black",e),o+=u("Indicator: "+this.selectedIndicator+" Z",s).width),""!==this.selectedTrendLine&&this.textElementSpan(new f(e.id+"_TrendLine",o,n,"start",["Trendline :",this.selectedTrendLine],"","text-before-edge"),s,"black",e),e}textElementSpan(e,t,i,s,o=!1,n,r,a=!1,l){let h,d,p,m=new c(""),g={};if(g={id:e.id,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":e.anchor,x:e.x,y:e.y,fill:i,"font-size":t.size,transform:e.transform,opacity:t.opacity,"dominant-baseline":e.baseLine},d="string"==typeof e.text?e.text:o?e.text[e.text.length-1]:e.text[0],h=m.createText(g,d),"string"!=typeof e.text&&e.text.length>1)for(let c=1,b=e.text.length;c<b;c++)e.text[c]=" "+e.text[c],p=m.createTSpan({x:e.x+u(d,t).width+5,id:e.id,y:e.y,opacity:.5},e.text[c]),h.appendChild(p);return yt(!1,s,h,n,r,"x","y",null,null,a,!1,null,l),h}}var as=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let ls=(()=>{class e extends h.e{}return as([Object(h.s)("")],e.prototype,"color",void 0),as([Object(h.s)("16px")],e.prototype,"size",void 0),as([Object(h.s)("Segoe UI")],e.prototype,"fontFamily",void 0),as([Object(h.s)("Normal")],e.prototype,"fontStyle",void 0),as([Object(h.s)("Normal")],e.prototype,"fontWeight",void 0),as([Object(h.s)(1)],e.prototype,"opacity",void 0),as([Object(h.s)("Trim")],e.prototype,"textOverflow",void 0),as([Object(h.s)("Center")],e.prototype,"textAlignment",void 0),e})(),hs=(()=>{class e extends h.e{}return as([Object(h.s)("")],e.prototype,"color",void 0),as([Object(h.s)(1)],e.prototype,"width",void 0),e})(),cs=(()=>{class e extends h.e{}return as([Object(h.g)({},hs)],e.prototype,"border",void 0),as([Object(h.s)("transparent")],e.prototype,"background",void 0),as([Object(h.s)(1)],e.prototype,"opacity",void 0),e})(),ds=(()=>{class e extends h.e{}return as([Object(h.s)(10)],e.prototype,"left",void 0),as([Object(h.s)(10)],e.prototype,"right",void 0),as([Object(h.s)(10)],e.prototype,"top",void 0),as([Object(h.s)(10)],e.prototype,"bottom",void 0),e})(),us=(()=>{class e extends h.e{}return as([Object(h.s)(!1)],e.prototype,"startFromAxis",void 0),as([Object(h.s)(!0)],e.prototype,"visible",void 0),as([Object(h.s)(null)],e.prototype,"start",void 0),as([Object(h.s)("#808080")],e.prototype,"color",void 0),as([Object(h.s)(null)],e.prototype,"end",void 0),as([Object(h.s)(null)],e.prototype,"size",void 0),as([Object(h.s)("Auto")],e.prototype,"sizeType",void 0),as([Object(h.s)(null)],e.prototype,"dashArray",void 0),as([Object(h.s)(!1)],e.prototype,"isRepeat",void 0),as([Object(h.s)(null)],e.prototype,"repeatEvery",void 0),as([Object(h.s)(!1)],e.prototype,"isSegmented",void 0),as([Object(h.s)(null)],e.prototype,"repeatUntil",void 0),as([Object(h.s)(null)],e.prototype,"segmentStart",void 0),as([Object(h.s)(null)],e.prototype,"segmentAxisName",void 0),as([Object(h.s)(null)],e.prototype,"segmentEnd",void 0),as([Object(h.s)(1)],e.prototype,"opacity",void 0),as([Object(h.s)("")],e.prototype,"text",void 0),as([Object(h.g)({color:"transparent",width:1},hs)],e.prototype,"border",void 0),as([Object(h.s)(null)],e.prototype,"rotation",void 0),as([Object(h.s)("Behind")],e.prototype,"zIndex",void 0),as([Object(h.s)("Middle")],e.prototype,"horizontalAlignment",void 0),as([Object(h.s)("Middle")],e.prototype,"verticalAlignment",void 0),as([Object(h.g)(k.stripLineLabelFont,ls)],e.prototype,"textStyle",void 0),e})(),ps=(()=>{class e extends h.e{}return as([Object(h.s)(0)],e.prototype,"delay",void 0),as([Object(h.s)(!1)],e.prototype,"enable",void 0),as([Object(h.s)(1e3)],e.prototype,"duration",void 0),e})(),ms=(()=>{class e extends h.e{}return as([Object(h.s)(null)],e.prototype,"fill",void 0),as([Object(h.s)("Gap")],e.prototype,"mode",void 0),as([Object(h.g)({color:"transparent",width:0},hs)],e.prototype,"border",void 0),e})(),gs=(()=>{class e extends h.e{}return as([Object(h.s)("Line")],e.prototype,"type",void 0),as([Object(h.s)(null)],e.prototype,"length",void 0),as([Object(h.s)(null)],e.prototype,"color",void 0),as([Object(h.s)("")],e.prototype,"dashArray",void 0),as([Object(h.s)(1)],e.prototype,"width",void 0),e})(),bs=(()=>{class e extends h.e{constructor(){super(...arguments),this.localData=void 0}}return as([Object(h.s)("date")],e.prototype,"xName",void 0),as([Object(h.s)("close")],e.prototype,"yName",void 0),as([Object(h.s)("open")],e.prototype,"open",void 0),as([Object(h.s)("close")],e.prototype,"close",void 0),as([Object(h.s)("high")],e.prototype,"high",void 0),as([Object(h.s)("low")],e.prototype,"low",void 0),as([Object(h.s)("volume")],e.prototype,"volume",void 0),as([Object(h.s)("")],e.prototype,"pointColorMapping",void 0),as([Object(h.g)(null,ps)],e.prototype,"animation",void 0),as([Object(h.s)(null)],e.prototype,"xAxisName",void 0),as([Object(h.s)(null)],e.prototype,"yAxisName",void 0),as([Object(h.s)(null)],e.prototype,"fill",void 0),as([Object(h.s)("0")],e.prototype,"dashArray",void 0),as([Object(h.s)(1)],e.prototype,"width",void 0),as([Object(h.s)("")],e.prototype,"name",void 0),as([Object(h.s)("")],e.prototype,"dataSource",void 0),as([Object(h.s)()],e.prototype,"query",void 0),as([Object(h.s)("#e74c3d")],e.prototype,"bullFillColor",void 0),as([Object(h.s)("#2ecd71")],e.prototype,"bearFillColor",void 0),as([Object(h.s)(!1)],e.prototype,"enableSolidCandles",void 0),as([Object(h.s)(!0)],e.prototype,"visible",void 0),as([Object(h.g)({color:"transparent",width:0},hs)],e.prototype,"border",void 0),as([Object(h.s)(1)],e.prototype,"opacity",void 0),as([Object(h.s)("Candle")],e.prototype,"type",void 0),as([Object(h.g)(null,ii)],e.prototype,"marker",void 0),as([Object(h.f)([],oi)],e.prototype,"trendlines",void 0),as([Object(h.s)(!0)],e.prototype,"enableTooltip",void 0),as([Object(h.s)("")],e.prototype,"tooltipMappingName",void 0),as([Object(h.s)(null)],e.prototype,"selectionStyle",void 0),as([Object(h.s)(.5)],e.prototype,"cardinalSplineTension",void 0),as([Object(h.g)(null,U)],e.prototype,"cornerRadius",void 0),as([Object(h.g)(null,ms)],e.prototype,"emptyPointSettings",void 0),as([Object(h.s)(null)],e.prototype,"columnWidth",void 0),as([Object(h.s)(0)],e.prototype,"columnSpacing",void 0),e})(),ys=(()=>{class e extends h.e{}return as([Object(h.s)("Sma")],e.prototype,"type",void 0),as([Object(h.s)(14)],e.prototype,"period",void 0),as([Object(h.s)(3)],e.prototype,"dPeriod",void 0),as([Object(h.s)(14)],e.prototype,"kPeriod",void 0),as([Object(h.s)(80)],e.prototype,"overBought",void 0),as([Object(h.s)(20)],e.prototype,"overSold",void 0),as([Object(h.s)("Close")],e.prototype,"field",void 0),as([Object(h.s)(2)],e.prototype,"standardDeviation",void 0),as([Object(h.s)(12)],e.prototype,"slowPeriod",void 0),as([Object(h.s)(!0)],e.prototype,"showZones",void 0),as([Object(h.s)(26)],e.prototype,"fastPeriod",void 0),as([Object(h.g)({color:"#ff9933",width:2},gs)],e.prototype,"macdLine",void 0),as([Object(h.s)("Both")],e.prototype,"macdType",void 0),as([Object(h.s)("#e74c3d")],e.prototype,"macdNegativeColor",void 0),as([Object(h.s)("#2ecd71")],e.prototype,"macdPositiveColor",void 0),as([Object(h.s)("rgba(211,211,211,0.25)")],e.prototype,"bandColor",void 0),as([Object(h.g)({color:"#ffb735",width:1},gs)],e.prototype,"upperLine",void 0),as([Object(h.s)("")],e.prototype,"seriesName",void 0),as([Object(h.g)({color:"#f2ec2f",width:1},gs)],e.prototype,"periodLine",void 0),as([Object(h.g)({color:"#f2ec2f",width:1},gs)],e.prototype,"lowerLine",void 0),as([Object(h.s)("")],e.prototype,"high",void 0),as([Object(h.s)("")],e.prototype,"open",void 0),as([Object(h.s)("")],e.prototype,"low",void 0),as([Object(h.s)("")],e.prototype,"xName",void 0),as([Object(h.s)("")],e.prototype,"close",void 0),as([Object(h.s)("")],e.prototype,"pointColorMapping",void 0),as([Object(h.s)("")],e.prototype,"volume",void 0),as([Object(h.s)(null)],e.prototype,"xAxisName",void 0),as([Object(h.s)(null)],e.prototype,"yAxisName",void 0),as([Object(h.g)(null,ps)],e.prototype,"animation",void 0),as([Object(h.s)(null)],e.prototype,"fill",void 0),as([Object(h.s)("0")],e.prototype,"dashArray",void 0),as([Object(h.s)(1)],e.prototype,"width",void 0),as([Object(h.s)()],e.prototype,"query",void 0),as([Object(h.s)("")],e.prototype,"dataSource",void 0),e})(),fs=(()=>{class e extends h.e{}return as([Object(h.g)({},we)],e.prototype,"crosshairTooltip",void 0),as([Object(h.g)(k.axisLabelFont,ls)],e.prototype,"labelStyle",void 0),as([Object(h.s)("")],e.prototype,"title",void 0),as([Object(h.g)(k.axisTitleFont,ls)],e.prototype,"titleStyle",void 0),as([Object(h.s)("")],e.prototype,"labelFormat",void 0),as([Object(h.s)("DateTime")],e.prototype,"skeletonType",void 0),as([Object(h.s)("")],e.prototype,"skeleton",void 0),as([Object(h.s)(0)],e.prototype,"plotOffset",void 0),as([Object(h.s)(10)],e.prototype,"logBase",void 0),as([Object(h.s)(0)],e.prototype,"rowIndex",void 0),as([Object(h.s)(1)],e.prototype,"span",void 0),as([Object(h.s)(3)],e.prototype,"maximumLabels",void 0),as([Object(h.s)(null)],e.prototype,"desiredIntervals",void 0),as([Object(h.s)(1)],e.prototype,"zoomFactor",void 0),as([Object(h.s)(0)],e.prototype,"zoomPosition",void 0),as([Object(h.s)(!1)],e.prototype,"opposedPosition",void 0),as([Object(h.s)(!0)],e.prototype,"enableAutoIntervalOnZooming",void 0),as([Object(h.s)("Double")],e.prototype,"valueType",void 0),as([Object(h.s)("Auto")],e.prototype,"rangePadding",void 0),as([Object(h.s)("None")],e.prototype,"edgeLabelPlacement",void 0),as([Object(h.s)("BetweenTicks")],e.prototype,"labelPlacement",void 0),as([Object(h.s)("Auto")],e.prototype,"intervalType",void 0),as([Object(h.s)("Outside")],e.prototype,"tickPosition",void 0),as([Object(h.s)("")],e.prototype,"name",void 0),as([Object(h.s)("Outside")],e.prototype,"labelPosition",void 0),as([Object(h.s)(!0)],e.prototype,"visible",void 0),as([Object(h.s)(0)],e.prototype,"labelRotation",void 0),as([Object(h.s)(0)],e.prototype,"minorTicksPerInterval",void 0),as([Object(h.s)(null)],e.prototype,"crossesAt",void 0),as([Object(h.s)(null)],e.prototype,"crossesInAxis",void 0),as([Object(h.s)(!0)],e.prototype,"placeNextToAxisLine",void 0),as([Object(h.s)(null)],e.prototype,"minimum",void 0),as([Object(h.s)(null)],e.prototype,"interval",void 0),as([Object(h.s)(null)],e.prototype,"maximum",void 0),as([Object(h.s)(34)],e.prototype,"maximumLabelWidth",void 0),as([Object(h.g)({},xe)],e.prototype,"majorTickLines",void 0),as([Object(h.s)(!1)],e.prototype,"enableTrim",void 0),as([Object(h.g)({},ve)],e.prototype,"minorTickLines",void 0),as([Object(h.g)({},ye)],e.prototype,"minorGridLines",void 0),as([Object(h.g)({},be)],e.prototype,"majorGridLines",void 0),as([Object(h.g)({},fe)],e.prototype,"lineStyle",void 0),as([Object(h.s)(!1)],e.prototype,"isInversed",void 0),as([Object(h.s)("Trim")],e.prototype,"labelIntersectAction",void 0),as([Object(h.s)(100)],e.prototype,"coefficient",void 0),as([Object(h.s)(0)],e.prototype,"startAngle",void 0),as([Object(h.s)(2)],e.prototype,"tabIndex",void 0),as([Object(h.f)([],us)],e.prototype,"stripLines",void 0),as([Object(h.s)(null)],e.prototype,"description",void 0),e})(),xs=(()=>{class e extends h.e{}return as([Object(h.s)("100%")],e.prototype,"height",void 0),as([Object(h.g)({},hs)],e.prototype,"border",void 0),e})(),vs=(()=>{class e extends h.e{}return as([Object(h.s)("0")],e.prototype,"y",void 0),as([Object(h.s)("0")],e.prototype,"x",void 0),as([Object(h.s)(null)],e.prototype,"content",void 0),as([Object(h.s)("Chart")],e.prototype,"region",void 0),as([Object(h.s)("Center")],e.prototype,"horizontalAlignment",void 0),as([Object(h.s)("Pixel")],e.prototype,"coordinateUnits",void 0),as([Object(h.s)("Middle")],e.prototype,"verticalAlignment",void 0),as([Object(h.s)(null)],e.prototype,"yAxisName",void 0),as([Object(h.s)(null)],e.prototype,"description",void 0),as([Object(h.s)(null)],e.prototype,"xAxisName",void 0),e})(),ws=(()=>{class e extends h.e{}return as([Object(h.s)(0)],e.prototype,"point",void 0),as([Object(h.s)(0)],e.prototype,"series",void 0),e})(),_s=(()=>{class e extends h.e{}return as([Object(h.s)("Circle")],e.prototype,"type",void 0),as([Object(h.s)("")],e.prototype,"text",void 0),as([Object(h.s)("")],e.prototype,"description",void 0),as([Object(h.s)()],e.prototype,"date",void 0),as([Object(h.g)({color:"black",width:1},hs)],e.prototype,"border",void 0),as([Object(h.s)("transparent")],e.prototype,"background",void 0),as([Object(h.s)(!0)],e.prototype,"showOnSeries",void 0),as([Object(h.s)("close")],e.prototype,"placeAt",void 0),as([Object(h.g)(k.stockEventFont,ls)],e.prototype,"textStyle",void 0),e})();class Ss extends Ei{constructor(e){super(e.chart),this.symbolLocations=[],this.stockChart=e,this.chartId=this.stockChart.element.id}renderStockEvents(){let e,t,i,s,o=this.stockChart,n=o.renderer.createGroup({id:this.chartId+"_StockEvents"});this.symbolLocations=function(e,t,i){let s=[];for(let o=0;o<e;++o){let e=[];for(let s=0;s<t;++s)e[s]=i;s[o]=e}return s}(o.series.length,o.stockEvents.length,new Yt(0,0));for(let r=0;r<o.stockEvents.length;r++){e=this.stockChart.stockEvents[r];for(let a of o.chart.series){let l={name:"stockEventRender",stockChart:o,text:e.text,type:e.type,cancel:!1,series:a};o.trigger("stockEventRender",l),e.text=l.text,e.type=l.type,s=u(e.text+"W",e.textStyle),l.cancel||(t=o.renderer.createGroup({id:this.chartId+"_Series_"+a.index+"_StockEvents_"+r}),Te(this.dateParse(e.date).getTime(),a.xAxis.visibleRange)&&(i=this.findClosePoint(a,e),e.showOnSeries||(i.y=a.yAxis.rect.y+a.yAxis.rect.height),this.symbolLocations[a.index][r]=i,this.createStockElements(t,e,a,r,i,s),n.appendChild(t)))}}return n}findClosePoint(e,t){let i,s,o,n,r=this.getClosest(e,this.dateParse(t.date).getTime());for(let a=0;a<e.points.length;a++)s=e.points[a],r===s.xValue&&s.visible?i=new qt(s,e):0!==a&&a!==e.points.length&&r>e.points[a-1].xValue&&r<e.points[a+1].xValue&&(i=new qt(s,e));return o=e.xAxis.rect.x+He(i.point.xValue,e.xAxis)*e.xAxis.rect.width,n=He(i.point[t.placeAt],e.yAxis)*e.yAxis.rect.height,n=-1*n+(e.yAxis.rect.y+e.yAxis.rect.height),new Yt(o,n)}createStockElements(e,t,i,s,o,n){let r,a,l=new m(n.width>20?n.width:20,n.height>20?n.height:20),h=o.x,c=o.y,d=this.chartId+"_Series_"+i.index+"_StockEvents_"+s,u=t.border;switch(t.type){case"Flag":case"Circle":case"Square":e.appendChild(ht(new Yt(h,c),"Circle",new m(2,2),"",new _(d+"_Circle","transparent",u.width,u.color),this.dateParse(t.date).toISOString())),e.appendChild(ht(new Yt(h,c-5),"VerticalLine",new m(9,9),"",new _(d+"_Path",u.color,u.width,u.color),this.dateParse(t.date).toISOString())),e.appendChild(ht(new Yt("Flag"!==t.type?h:h+l.width/2,c-l.height),t.type,l,"",new _(d+"_Shape",t.background,u.width,u.color),this.dateParse(t.date).toISOString())),It(this.stockChart.renderer,new f(d+"_Text","Flag"!==t.type?o.x:o.x+l.width/2,o.y-l.height,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;case"ArrowUp":case"ArrowDown":case"ArrowRight":case"ArrowLeft":r="M "+h+" "+c+" "+this.findArrowpaths(t.type),a=new _(d+"_Shape",t.background,u.width,u.color,1,"",r),e.appendChild(this.stockChart.renderer.drawPath(a));break;case"Triangle":case"InvertedTriangle":l.height=3*n.height,l.width=n.width+1.5*n.width,e.appendChild(ht(new Yt(o.x,o.y),t.type,new m(20,20),"",new _(d+"_Shape",t.background,u.width,u.color),this.dateParse(t.date).toISOString())),It(this.stockChart.renderer,new f(d+"_Text",o.x,o.y,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;case"Text":n.height+=8,r="M "+h+" "+c+" L "+(h-5)+" "+(c-5)+" L "+(h-n.width/2)+" "+(c-5)+" L "+(h-n.width/2)+" "+(c-n.height)+" L "+(h+n.width/2)+" "+(c-n.height)+" L "+(h+n.width/2)+" "+(c-5)+" L "+(h+5)+" "+(c-5)+" Z",a=new _(d+"_Shape",t.background,u.width,u.color,1,"",r),e.appendChild(this.stockChart.renderer.drawPath(a)),It(this.stockChart.renderer,new f(d+"_Text",h,c-n.height/2,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;default:r="M "+h+" "+c+" L "+(h-n.width/2)+" "+(c-n.height/3)+" L "+(h-n.width/2)+" "+(c-n.height)+" L "+(h+n.width/2)+" "+(c-n.height)+" L "+(h+n.width/2)+" "+(c-n.height/3)+" Z",a=new _(d+"_Shape",t.background,u.width,u.color,1,"",r),e.appendChild(this.stockChart.renderer.drawPath(a)),It(this.stockChart.renderer,new f(d+"_Text",h,c-n.height/2,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e)}}renderStockEventTooltip(e){let t=parseInt(e.split("_StockEvents_")[0].replace(/\D+/g,""),10),i=parseInt(e.split("_StockEvents_")[1].replace(/\D+/g,""),10),s=this.symbolLocations[t][i],o=new Yt(s.x,s.y+this.stockChart.toolbarHeight+this.stockChart.titleSize.height);this.applyHighLights(i,t);let n=this.getElement(this.chartId+"_StockEvents_Tooltip_svg");if(n&&parseInt(n.getAttribute("opacity"),10)>0)this.stockEventTooltip.content=[this.stockChart.stockEvents[i].description],this.stockEventTooltip.location=o,this.stockEventTooltip.dataBind();else{dt(this.chartId+"_StockEvents_Tooltip_svg")&&Object(h.gb)(dt(this.chartId+"_StockEvents_Tooltip"));let e=Object(h.F)("div",{id:this.chartId+"_StockEvents_Tooltip",className:"ejSVGTooltip",attrs:{style:"pointer-events:none; position:absolute;z-index: 1"}});dt(this.chartId+"_Secondary_Element").appendChild(e),this.stockEventTooltip=new P({opacity:1,header:"",content:[this.stockChart.stockEvents[i].description],enableAnimation:!0,location:o,theme:this.stockChart.theme,inverted:!0,areaBounds:this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect}),this.stockEventTooltip.areaBounds.y+=this.stockChart.toolbarHeight+this.stockChart.titleSize.height,this.stockEventTooltip.appendTo("#"+e.id)}}removeStockEventTooltip(e){let t=this.getElement(this.chartId+"_StockEvents_Tooltip");this.stopAnimation(),t&&this.stockEventTooltip&&(this.toolTipInterval=setTimeout(()=>{this.stockEventTooltip.fadeOut(),this.removeHighLights()},e))}findArrowpaths(e){let t="";switch(e){case"ArrowUp":t="l -10 10 l 5 0 l 0 10 l 10 0 l 0 -10 l 5 0 z";break;case"ArrowDown":t="l -10 -10 l 5 0 l 0 -10 l 10 0 l 0 10 l 5 0 z";break;case"ArrowLeft":t="l -10 -10 l 0 5 l -10 0 l 0 10 l 10 0 l 0 5 z";break;case"ArrowRight":t="l 10 -10 l 0 5 l 10 0 l 0 10 l -10 0 l 0 5 z"}return t}applyHighLights(e,t){this.pointIndex===e&&this.seriesIndex===t||this.removeHighLights(),this.pointIndex=e,this.seriesIndex=t;let i=this.chartId+"_Series_"+t+"_StockEvents_"+e;this.setOpacity(i+"_Shape",.5),this.setOpacity(i+"_Text",.5)}removeHighLights(){let e=this.chartId+"_Series_"+this.seriesIndex+"_StockEvents_"+this.pointIndex;this.setOpacity(e+"_Shape",1),this.setOpacity(e+"_Text",1)}setOpacity(e,t){dt(e)&&dt(e).setAttribute("opacity",t.toString())}dateParse(e){let t=this.chart.intl.getDateParser({skeleton:"full",type:"dateTime"}),i=this.chart.intl.getDateFormat({skeleton:"full",type:"dateTime"});return new Date(Date.parse(t(i(new Date(T.b.parse.parseJson({val:e}).val)))))}}var Cs=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let Ms=(()=>{class e extends h.h{constructor(e,t){super(e,t),this.isSingleAxis=!1,this.chartid=57723,this.tempSeriesType=[],this.zoomChange=!1,this.allowPan=!1,this.onPanning=!1,this.trendlinetriggered=!0,this.toolbarHeight=this.enablePeriodSelector?h.d.isDevice?56:42:0,this.initialRender=!0,this.rangeFound=!1,this.tempPeriods=[]}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"series":this.render()}}rangeChanged(e,t){let i=document.getElementById(this.chartObject.id);if(i)for(;i.firstChild;)i.removeChild(i.firstChild);this.startValue=e,this.endValue=t,this.cartesianChart.initializeChart(),this.periodSelector.datePicker.startDate=new Date(e),this.periodSelector.datePicker.endDate=new Date(t),this.periodSelector.datePicker.dataBind()}preRender(){this.isBlazor=window.Blazor,this.unWireEvents(),this.initPrivateVariable(),this.allowServerDataBinding=!1,this.isProtectedOnChange=!0,this.setCulture(),this.wireEvents()}unWireEvents(){let e=h.d.touchMoveEvent,t=h.d.touchEndEvent,i=h.d.isPointer?"pointerleave":"mouseleave";h.l.remove(this.element,h.d.touchStartEvent,this.stockChartOnMouseDown),h.l.remove(this.element,e,this.stockChartOnMouseMove),h.l.remove(this.element,t,this.stockChartMouseEnd),h.l.remove(this.element,"click",this.stockChartOnMouseClick),h.l.remove(this.element,"contextmenu",this.stockChartRightClick),h.l.remove(this.element,i,this.stockChartOnMouseLeave),window.removeEventListener(h.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.stockChartResize)}wireEvents(){let e=h.d.isPointer?"pointerleave":"mouseleave";h.l.add(this.element,h.d.touchStartEvent,this.stockChartOnMouseDown,this),h.l.add(this.element,h.d.touchMoveEvent,this.stockChartOnMouseMove,this),h.l.add(this.element,h.d.touchEndEvent,this.stockChartMouseEnd,this),h.l.add(this.element,"click",this.stockChartOnMouseClick,this),h.l.add(this.element,"contextmenu",this.stockChartRightClick,this),h.l.add(this.element,e,this.stockChartOnMouseLeave,this),window.addEventListener(h.d.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.stockChartResize.bind(this)),this.setStyle(this.element)}initPrivateVariable(){if(""===this.element.id){let e=document.getElementsByClassName("e-stockChart").length;this.element.id="stockChart_"+this.chartid+"_"+e}this.seriesXMax=null,this.seriesXMin=null,this.startValue=null,this.endValue=null,this.currentEnd=null}setCulture(){this.intl=new h.n}storeDataSource(){for(let e=0;e<this.series.length;e++){let t=this.series[e];this.tempSeriesType.push(t.type),t.localData=void 0}this.initialRender=!0,this.rangeFound=!1,this.resizeTo=null,this.startValue=null,this.endValue=null}render(){let e={name:"load",stockChart:this.isBlazor?{}:this,theme:this.theme};this.trigger("load",e,()=>{this.theme=this.isBlazor?e.theme:this.theme,this.stockChartTheme=B(this.theme),this.storeDataSource(),this.drawSVG(),this.renderTitle(),this.chartModuleInjection(),this.chartRender(),this.dataSource instanceof T.a&&this.series[0].dataSource instanceof T.a||(this.stockChartDataManagerSuccess(),this.initialRender=!1),this.renderComplete(),this.allowServerDataBinding=!0,this.isProtectedOnChange=!1})}stockChartDataManagerSuccess(){this.findRange(),this.renderRangeSelector(),this.renderPeriodSelector(),this.trigger("loaded",{stockChart:this.isBlazor?{}:this})}setStyle(e){let t=this.zoomSettings,i=t.enableSelectionZooming||t.enablePinchZooming||"None"!==this.selectionMode||this.crosshair.enable;e.style.msTouchAction=i?"none":"element",e.style.touchAction=i?"none":"element",e.style.msUserSelect="none",e.style.msContentZooming="none",e.style.position="relative",e.style.display="block",e.style.webkitUserSelect="none"}drawSVG(){this.removeSvg(),zt(this),this.renderer=new c(this.element.id),this.renderBorder(),this.createSecondaryElements(),this.mainObject=this.renderer.createSvg({id:this.element.id+"_stockChart_svg",width:this.availableSize.width,height:this.availableSize.height-(this.enablePeriodSelector?this.toolbarHeight:0)-this.titleSize.height}),this.svgObject=this.mainObject,this.element.appendChild(this.mainObject)}createSecondaryElements(){let e=Rt(!1,this.element.id+"_Secondary_Element")||this.createElement("div");e.id=this.element.id+"_Secondary_Element",this.title?(this.titleSize=u(this.title,this.titleStyle),this.titleSize.height+=15):this.titleSize={height:null,width:null},e.setAttribute("style","position: relative; height:"+((this.enablePeriodSelector?this.toolbarHeight:0)+this.titleSize.height)+"px"),yt(!1,this.element,e,!1)}findCurrentData(e,t){let i;return e&&this.startValue&&this.endValue&&(i=e.filter(e=>new Date(Date.parse(e[t])).getTime()>=this.startValue&&new Date(Date.parse(e[t])).getTime()<=this.endValue)),i}renderPeriodSelector(){this.enablePeriodSelector&&(this.toolbarSelector.initializePeriodSelector(),this.periodSelector.toolbar.refreshOverflow(),this.enableSelector||this.cartesianChart.cartesianChartRefresh(this,this.startValue,this.endValue))}chartRender(){this.cartesianChart=new os(this),this.cartesianChart.initializeChart()}renderRangeSelector(){this.enableSelector&&(this.rangeSelector=new ns(this),this.rangeSelector.initializeRangeNavigator())}getModuleName(){return"stockChart"}getPersistData(){return""}removeSvg(){if(document.getElementById(this.element.id+"_Secondary_Element")&&Object(h.gb)(document.getElementById(this.element.id+"_Secondary_Element")),this.mainObject){for(;this.mainObject.childNodes.length>0;)this.mainObject.removeChild(this.mainObject.firstChild);!this.mainObject.hasChildNodes()&&this.mainObject.parentNode&&(Object(h.gb)(this.mainObject),this.mainObject=null,this.selectorObject=null,this.chartObject=null)}}chartModuleInjection(){let e;for(let t of this.getInjectedModules())e=t.prototype.getModuleName().toLowerCase(),-1===e.indexOf("rangetooltip")?Si.Inject(t):is.Inject(t),"datetime"!==e&&"areaseries"!==e&&"steplineseries"!==e||is.Inject(t)}findRange(){this.seriesXMin=1/0,this.seriesXMax=-1/0;for(let e of this.chart.series)this.seriesXMin=Math.min(this.seriesXMin,e.xMin),this.seriesXMax=Math.max(this.seriesXMax,e.xMax);this.endValue=this.currentEnd=this.seriesXMax,this.enablePeriodSelector?(this.toolbarSelector=new rs(this),this.periodSelector=new ss(this),this.tempPeriods=this.periods.length?this.periods:this.toolbarSelector.calculateAutoPeriods(),this.tempPeriods.map((e,t)=>{e.selected&&"ytd"===e.text.toLowerCase()?this.startValue=new Date(new Date(this.currentEnd).getFullYear().toString()).getTime():e.selected&&"all"===e.text.toLowerCase()?this.startValue=this.seriesXMin:e.selected&&(this.startValue=this.periodSelector.changedRange(e.intervalType,this.endValue,e.interval).getTime())})):this.startValue=this.seriesXMin,this.rangeFound=!0}stockChartResize(e){return!!document.getElementById(this.element.id)&&(this.animateSeries=!1,this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout(()=>{zt(this),this.renderBorder(),this.renderTitle(),this.cartesianChart.cartesianChartRefresh(this,this.startValue,this.endValue),this.mainObject.setAttribute("width",this.availableSize.width.toString()),this.enablePeriodSelector&&this.renderPeriodSelector()},500),!1)}stockChartOnMouseDown(e){let t,i,s,o,n=this.chart.element.getBoundingClientRect();if(this.trigger("stockChartMouseDown",{target:e.target.id,x:this.mouseX,y:this.mouseY}),"touchstart"===e.type?(this.isTouch=!0,o=e,t=o.changedTouches[0].clientX,s=o.target,i=o.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType,t=e.clientX,i=e.clientY,s=e.target),s.id.indexOf(this.element.id+"_stockChart_chart")>-1){let s=dt(this.element.id+"_stockChart_chart").getBoundingClientRect();this.mouseDownY=this.previousMouseMoveY=i-n.top-Math.max(s.top-n.top,0),this.mouseDownX=this.previousMouseMoveX=t-n.left-Math.max(s.left-n.left,0),this.setMouseXY(this.mouseDownX,this.mouseDownY),this.referenceXAxis=this.chart.primaryXAxis,dt(this.element.id+"_stockChart_chart").setAttribute("cursor","pointer"),this.mouseDownXPoint=Hi(this.mouseX-this.referenceXAxis.rect.x,this.referenceXAxis.rect.width,this.referenceXAxis.visibleRange,this.referenceXAxis.isInversed),this.allowPan=!0,this.notify(h.d.touchStartEvent,e)}return!1}stockChartMouseEnd(e){let t,i,s;return"touchend"===e.type?(s=e,i=s.changedTouches[0].clientX,t=s.changedTouches[0].clientY,this.isTouch=!0):(t=e.clientY,i=e.clientX,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),dt(this.element.id+"_stockChart_chart").setAttribute("cursor","auto"),this.onPanning=!1,this.setMouseXY(i,t),this.stockChartOnMouseUp(e),!1}stockChartOnMouseUp(e){return this.trigger("stockChartMouseUp",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isChartDrag=!1,this.allowPan=!1,this.isTouch&&(this.threshold=(new Date).getTime()+300),this.notify(h.d.touchEndEvent,e),this.stockEvent&&this.stockEvent.removeStockEventTooltip(0),!1}setMouseXY(e,t){let i=dt(this.element.id+"_stockChart_chart").getBoundingClientRect(),s=this.element.getBoundingClientRect();this.mouseX=e-s.left-Math.max(i.left-s.left,0),this.mouseY=t-s.top-Math.max(i.top-s.top,0)}stockChartOnMouseMove(e){let t,i,s;return"touchmove"===e.type?(this.isTouch=!0,i=e,s=i.changedTouches[0].clientY,t=i.changedTouches[0].clientX):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType||this.isTouch,t=e.clientX,s=e.clientY),this.trigger("stockChartMouseMove",{target:e.target.id,x:this.mouseX,y:this.mouseY}),dt(this.element.id+"_stockChart_chart")&&(this.setMouseXY(t,s),this.chartOnMouseMove(e)),!1}chartOnMouseMove(e){if(this.allowPan&&this.mouseDownXPoint&&this.mouseX!==this.previousMouseMoveX&&this.zoomSettings.enablePan){this.onPanning=!0,dt(this.element.id+"_stockChart_chart").setAttribute("cursor","pointer"),this.mouseUpXPoint=Hi(this.mouseX-this.referenceXAxis.rect.x,this.referenceXAxis.rect.width,this.referenceXAxis.visibleRange,this.referenceXAxis.isInversed);let e=Math.abs(this.mouseUpXPoint-this.mouseDownXPoint);this.mouseDownXPoint<this.mouseUpXPoint?this.seriesXMin<=this.referenceXAxis.visibleRange.min-e&&(this.startValue=this.referenceXAxis.visibleRange.min-e,this.endValue=this.referenceXAxis.visibleRange.max-e,this.cartesianChart.cartesianChartRefresh(this,this.referenceXAxis.visibleRange.min-e,this.referenceXAxis.visibleRange.max-e),this.rangeSelector.sliderChange(this.referenceXAxis.visibleRange.min-e,this.referenceXAxis.visibleRange.max-e)):this.seriesXMax>=this.referenceXAxis.visibleRange.max+e&&(this.startValue=this.referenceXAxis.visibleRange.min+e,this.endValue=this.referenceXAxis.visibleRange.max+e,this.cartesianChart.cartesianChartRefresh(this,this.referenceXAxis.visibleRange.min+e,this.referenceXAxis.visibleRange.max+e),this.rangeSelector.sliderChange(this.referenceXAxis.visibleRange.min+e,this.referenceXAxis.visibleRange.max+e))}if(this.notify(h.d.touchMoveEvent,e),""===e.target.id){let e;(this.chart.tooltip.enable||this.crosshair.enable)&&(e=document.getElementById(this.element.id+"_stockChart_chart_tooltip"),e&&Object(h.gb)(e)),dt(this.element.id+"_StockEvents_Tooltip")&&this.stockEvent.removeStockEventTooltip(0)}return-1!==e.target.id.indexOf("StockEvents")?(clearInterval(this.stockEvent.toolTipInterval),this.stockEvent.renderStockEventTooltip(e.target.id)):this.stockEvent&&this.stockEvent.removeStockEventTooltip(1e3),this.isTouch=!1,!1}stockChartOnMouseClick(e){return this.trigger("stockChartMouseClick",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.notify("click",e),!1}stockChartRightClick(e){return!this.crosshair.enable||2!==e.buttons&&0!==e.which&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)}stockChartOnMouseLeave(e){let t,i,s;return"touchleave"===e.type?(this.isTouch=!0,t=e,i=t.changedTouches[0].clientX,s=t.changedTouches[0].clientY):(i=e.clientX,s=e.clientY,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),this.setMouseXY(i,s),this.allowPan=!1,this.stockChartOnMouseLeaveEvent(e),!1}stockChartOnMouseLeaveEvent(e){let t=h.d.isPointer?"pointerleave":"mouseleave";return this.isChartDrag=!1,this.notify(t,e),this.stockEvent&&this.stockEvent.removeStockEventTooltip(1e3),!1}destroy(){}renderBorder(){if(this.border.width){let e=this.createElement("div");e.id=this.element.id+"_stock_border",e.style.width=this.availableSize.width+"px",e.style.height=this.availableSize.height+"px",e.style.position="absolute",e.style.border=this.border.width+"px solid "+this.border.color,e.style.pointerEvents="none",yt(!1,dt(this.element.id),e)}}renderTitle(){let e;if(this.title){yt(!1,dt(this.element.id+"_Secondary_Element"),this.renderer.createSvg({id:this.element.id+"_stockChart_Title",width:this.availableSize.width,height:this.titleSize.height,fill:this.background||this.stockChartTheme.background}),!1);let t=this.titleStyle.textAlignment,i="Near"===t?"start":"Far"===t?"end":"middle";e=new g(0,0,this.availableSize.width,0);let s=new f(this.element.id+"_ChartTitle",Bt(e,this.titleStyle),this.titleSize.height-10,i,this.title,"","auto");It(this.renderer,s,this.titleStyle,this.titleStyle.color||this.findTitleColor(),dt(this.element.id+"_stockChart_Title"),!1,!1),this.availableSize.height-=this.titleSize.height+5}}findTitleColor(){return this.theme.toLocaleLowerCase().indexOf("highcontrast")>-1||this.theme.indexOf("Dark")>-1?"#ffffff":"#424242"}calculateStockEvents(){this.stockEvents.length&&(this.stockEvent=new Ss(this),yt(!1,this.chartObject,this.stockEvent.renderStockEvents()))}}return Cs([Object(h.s)(null)],e.prototype,"width",void 0),Cs([Object(h.s)(null)],e.prototype,"height",void 0),Cs([Object(h.s)("")],e.prototype,"dataSource",void 0),Cs([Object(h.g)({},ds)],e.prototype,"margin",void 0),Cs([Object(h.g)({color:"#DDDDDD",width:1},hs)],e.prototype,"border",void 0),Cs([Object(h.s)(null)],e.prototype,"background",void 0),Cs([Object(h.s)("Material")],e.prototype,"theme",void 0),Cs([Object(h.g)({name:"primaryXAxis",valueType:"DateTime"},fs)],e.prototype,"primaryXAxis",void 0),Cs([Object(h.g)({border:{color:null,width:.5},background:"transparent"},cs)],e.prototype,"chartArea",void 0),Cs([Object(h.g)({name:"primaryYAxis",opposedPosition:!0,labelPosition:"Inside"},fs)],e.prototype,"primaryYAxis",void 0),Cs([Object(h.f)([{}],xs)],e.prototype,"rows",void 0),Cs([Object(h.f)([{opposedPosition:!0}],fs)],e.prototype,"axes",void 0),Cs([Object(h.f)([],bs)],e.prototype,"series",void 0),Cs([Object(h.f)([],_s)],e.prototype,"stockEvents",void 0),Cs([Object(h.s)(!1)],e.prototype,"isTransposed",void 0),Cs([Object(h.s)("")],e.prototype,"title",void 0),Cs([Object(h.g)({size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},ls)],e.prototype,"titleStyle",void 0),Cs([Object(h.f)([],ys)],e.prototype,"indicators",void 0),Cs([Object(h.g)({shared:!0,enableMarker:!1},K)],e.prototype,"tooltip",void 0),Cs([Object(h.g)({dashArray:"5"},wi)],e.prototype,"crosshair",void 0),Cs([Object(h.g)({},_i)],e.prototype,"zoomSettings",void 0),Cs([Object(h.s)(!0)],e.prototype,"enablePeriodSelector",void 0),Cs([Object(h.s)(!0)],e.prototype,"enableCustomRange",void 0),Cs([Object(h.s)(!1)],e.prototype,"isSelect",void 0),Cs([Object(h.s)(!0)],e.prototype,"enableSelector",void 0),Cs([Object(h.f)([],$)],e.prototype,"periods",void 0),Cs([Object(h.f)([{}],vs)],e.prototype,"annotations",void 0),Cs([Object(h.k)()],e.prototype,"selectorRender",void 0),Cs([Object(h.k)()],e.prototype,"stockChartMouseMove",void 0),Cs([Object(h.k)()],e.prototype,"stockChartMouseLeave",void 0),Cs([Object(h.k)()],e.prototype,"stockChartMouseDown",void 0),Cs([Object(h.k)()],e.prototype,"stockChartMouseUp",void 0),Cs([Object(h.k)()],e.prototype,"stockChartMouseClick",void 0),Cs([Object(h.k)()],e.prototype,"pointClick",void 0),Cs([Object(h.k)()],e.prototype,"pointMove",void 0),Cs([Object(h.k)()],e.prototype,"onZooming",void 0),Cs([Object(h.s)("None")],e.prototype,"selectionMode",void 0),Cs([Object(h.s)(!1)],e.prototype,"isMultiSelect",void 0),Cs([Object(h.k)()],e.prototype,"load",void 0),Cs([Object(h.k)()],e.prototype,"loaded",void 0),Cs([Object(h.k)()],e.prototype,"rangeChange",void 0),Cs([Object(h.k)()],e.prototype,"axisLabelRender",void 0),Cs([Object(h.k)()],e.prototype,"tooltipRender",void 0),Cs([Object(h.k)()],e.prototype,"seriesRender",void 0),Cs([Object(h.k)()],e.prototype,"stockEventRender",void 0),Cs([Object(h.f)([],ws)],e.prototype,"selectedDataIndexes",void 0),Cs([Object(h.s)(["Line","Hilo","OHLC","Hollow Candle","Spline","Candle"])],e.prototype,"seriesType",void 0),Cs([Object(h.s)(["EMA","TMA","SMA","Momentum","ATR","Accumulation Distribution","Bollinger Bands","MACD","Stochastic","RSI"])],e.prototype,"indicatorType",void 0),Cs([Object(h.s)(["PNG","JPEG","SVG","PDF","Print"])],e.prototype,"exportType",void 0),Cs([Object(h.s)(["Linear","Exponential","Polynomial","Logarithmic","Moving Average"])],e.prototype,"trendlineType",void 0),e})();var Ls,Os;!function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"},e.tooltipLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.dataLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.titleFont={size:"15px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"},e.subTitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"}}(Ls||(Ls={})),function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.smithchartTitleFont={size:"15px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.smithchartSubtitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"}}(Os||(Os={}));var As=i("ofXK");const Ps=["dataLabelTemplate"],ks=["content"],Ts=["tooltipTemplate"];let Rs=["animation","backwardForecast","dashArray","enableTooltip","fill","forwardForecast","intercept","legendShape","marker","name","period","polynomialOrder","type","visible","width"],js=[],Is=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(js),this.directivePropList=Rs}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-trendline"]],inputs:{animation:"animation",backwardForecast:"backwardForecast",dashArray:"dashArray",enableTooltip:"enableTooltip",fill:"fill",forwardForecast:"forwardForecast",intercept:"intercept",legendShape:"legendShape",marker:"marker",name:"name",period:"period",polynomialOrder:"polynomialOrder",type:"type",visible:"visible",width:"width"},features:[n.Bb]}),e})(),zs=(()=>{class e extends l.a{constructor(){super("trendlines")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-trendlines"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Is,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),Es=["color","dashArray","value"],Ds=[],Bs=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(Ds),this.directivePropList=Es}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-segment"]],inputs:{color:"color",dashArray:"dashArray",value:"value"},features:[n.Bb]}),e})(),Ns=(()=>{class e extends l.a{constructor(){super("segments")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-segments"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Bs,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})();var Vs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Fs=["animation","bearFillColor","binInterval","border","boxPlotMode","bullFillColor","cardinalSplineTension","close","columnSpacing","columnWidth","connector","cornerRadius","dashArray","dataSource","dragSettings","drawType","emptyPointSettings","enableComplexProperty","enableSolidCandles","enableTooltip","errorBar","fill","high","intermediateSumIndexes","isClosed","legendShape","low","marker","maxRadius","minRadius","name","negativeFillColor","nonHighlightStyle","opacity","open","pointColorMapping","query","segmentAxis","segments","selectionStyle","showMean","showNormalDistribution","size","splineType","stackingGroup","sumIndexes","summaryFillColor","tooltipFormat","tooltipMappingName","trendlines","type","unSelectedStyle","visible","volume","width","xAxisName","xName","yAxisName","yName","zOrder"],Hs=[],Ws=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,this.tags=["trendlines","segments"],Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(Hs),this.directivePropList=Fs}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-series"]],contentQueries:function(e,t,i){var s;1&e&&(n.Ib(i,Ps,!0),n.Ib(i,zs,!0),n.Ib(i,Ns,!0)),2&e&&(n.rc(s=n.fc())&&(t.dataLabel_template=s.first),n.rc(s=n.fc())&&(t.childTrendlines=s.first),n.rc(s=n.fc())&&(t.childSegments=s.first))},inputs:{animation:"animation",bearFillColor:"bearFillColor",binInterval:"binInterval",border:"border",boxPlotMode:"boxPlotMode",bullFillColor:"bullFillColor",cardinalSplineTension:"cardinalSplineTension",close:"close",columnSpacing:"columnSpacing",columnWidth:"columnWidth",connector:"connector",cornerRadius:"cornerRadius",dashArray:"dashArray",dataSource:"dataSource",dragSettings:"dragSettings",drawType:"drawType",emptyPointSettings:"emptyPointSettings",enableComplexProperty:"enableComplexProperty",enableSolidCandles:"enableSolidCandles",enableTooltip:"enableTooltip",errorBar:"errorBar",fill:"fill",high:"high",intermediateSumIndexes:"intermediateSumIndexes",isClosed:"isClosed",legendShape:"legendShape",low:"low",marker:"marker",maxRadius:"maxRadius",minRadius:"minRadius",name:"name",negativeFillColor:"negativeFillColor",nonHighlightStyle:"nonHighlightStyle",opacity:"opacity",open:"open",pointColorMapping:"pointColorMapping",query:"query",segmentAxis:"segmentAxis",segments:"segments",selectionStyle:"selectionStyle",showMean:"showMean",showNormalDistribution:"showNormalDistribution",size:"size",splineType:"splineType",stackingGroup:"stackingGroup",sumIndexes:"sumIndexes",summaryFillColor:"summaryFillColor",tooltipFormat:"tooltipFormat",tooltipMappingName:"tooltipMappingName",trendlines:"trendlines",type:"type",unSelectedStyle:"unSelectedStyle",visible:"visible",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName",yName:"yName",zOrder:"zOrder"},features:[n.Bb]}),function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);n>3&&r&&Object.defineProperty(t,i,r)}([Object(l.f)(),Vs("design:type",Object)],e.prototype,"dataLabel_template",void 0),e})(),Zs=(()=>{class e extends l.a{constructor(){super("series")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-series-collection"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Ws,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),Xs=["border","color","dashArray","end","horizontalAlignment","isRepeat","isSegmented","opacity","repeatEvery","repeatUntil","rotation","segmentAxisName","segmentEnd","segmentStart","size","sizeType","start","startFromAxis","text","textStyle","verticalAlignment","visible","zIndex"],Gs=[],Ys=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(Gs),this.directivePropList=Xs}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-stripline"]],inputs:{border:"border",color:"color",dashArray:"dashArray",end:"end",horizontalAlignment:"horizontalAlignment",isRepeat:"isRepeat",isSegmented:"isSegmented",opacity:"opacity",repeatEvery:"repeatEvery",repeatUntil:"repeatUntil",rotation:"rotation",segmentAxisName:"segmentAxisName",segmentEnd:"segmentEnd",segmentStart:"segmentStart",size:"size",sizeType:"sizeType",start:"start",startFromAxis:"startFromAxis",text:"text",textStyle:"textStyle",verticalAlignment:"verticalAlignment",visible:"visible",zIndex:"zIndex"},features:[n.Bb]}),e})(),Us=(()=>{class e extends l.a{constructor(){super("striplines")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-striplines"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Ys,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),Qs=["customAttributes","end","maximumTextWidth","start","text","type"],qs=[],Js=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(qs),this.directivePropList=Qs}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-category"]],inputs:{customAttributes:"customAttributes",end:"end",maximumTextWidth:"maximumTextWidth",start:"start",text:"text",type:"type"},features:[n.Bb]}),e})(),Ks=(()=>{class e extends l.a{constructor(){super("categories")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-categories"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Js,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),$s=["alignment","border","categories","overflow","textStyle"],eo=[],to=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,this.tags=["categories"],Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(eo),this.directivePropList=$s}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-multilevellabel"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Ks,!0),2&e&&n.rc(s=n.fc())&&(t.childCategories=s.first)},inputs:{alignment:"alignment",border:"border",categories:"categories",overflow:"overflow",textStyle:"textStyle"},features:[n.Bb]}),e})(),io=(()=>{class e extends l.a{constructor(){super("multilevellabels")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-multilevellabels"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,to,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),so=["border","coefficient","columnIndex","crossesAt","crossesInAxis","crosshairTooltip","description","desiredIntervals","edgeLabelPlacement","enableAutoIntervalOnZooming","enableTrim","interval","intervalType","isIndexed","isInversed","labelFormat","labelIntersectAction","labelPlacement","labelPosition","labelRotation","labelStyle","lineStyle","logBase","majorGridLines","majorTickLines","maximum","maximumLabelWidth","maximumLabels","minimum","minorGridLines","minorTickLines","minorTicksPerInterval","multiLevelLabels","name","opposedPosition","placeNextToAxisLine","plotOffset","plotOffsetBottom","plotOffsetLeft","plotOffsetRight","plotOffsetTop","rangePadding","rowIndex","scrollbarSettings","skeleton","skeletonType","span","startAngle","startFromZero","stripLines","tabIndex","tickPosition","title","titleStyle","valueType","visible","zoomFactor","zoomPosition"],oo=[],no=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,this.tags=["stripLines","multiLevelLabels"],Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(oo),this.directivePropList=so}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-axis"]],contentQueries:function(e,t,i){var s;1&e&&(n.Ib(i,Us,!0),n.Ib(i,io,!0)),2&e&&(n.rc(s=n.fc())&&(t.childStripLines=s.first),n.rc(s=n.fc())&&(t.childMultiLevelLabels=s.first))},inputs:{border:"border",coefficient:"coefficient",columnIndex:"columnIndex",crossesAt:"crossesAt",crossesInAxis:"crossesInAxis",crosshairTooltip:"crosshairTooltip",description:"description",desiredIntervals:"desiredIntervals",edgeLabelPlacement:"edgeLabelPlacement",enableAutoIntervalOnZooming:"enableAutoIntervalOnZooming",enableTrim:"enableTrim",interval:"interval",intervalType:"intervalType",isIndexed:"isIndexed",isInversed:"isInversed",labelFormat:"labelFormat",labelIntersectAction:"labelIntersectAction",labelPlacement:"labelPlacement",labelPosition:"labelPosition",labelRotation:"labelRotation",labelStyle:"labelStyle",lineStyle:"lineStyle",logBase:"logBase",majorGridLines:"majorGridLines",majorTickLines:"majorTickLines",maximum:"maximum",maximumLabelWidth:"maximumLabelWidth",maximumLabels:"maximumLabels",minimum:"minimum",minorGridLines:"minorGridLines",minorTickLines:"minorTickLines",minorTicksPerInterval:"minorTicksPerInterval",multiLevelLabels:"multiLevelLabels",name:"name",opposedPosition:"opposedPosition",placeNextToAxisLine:"placeNextToAxisLine",plotOffset:"plotOffset",plotOffsetBottom:"plotOffsetBottom",plotOffsetLeft:"plotOffsetLeft",plotOffsetRight:"plotOffsetRight",plotOffsetTop:"plotOffsetTop",rangePadding:"rangePadding",rowIndex:"rowIndex",scrollbarSettings:"scrollbarSettings",skeleton:"skeleton",skeletonType:"skeletonType",span:"span",startAngle:"startAngle",startFromZero:"startFromZero",stripLines:"stripLines",tabIndex:"tabIndex",tickPosition:"tickPosition",title:"title",titleStyle:"titleStyle",valueType:"valueType",visible:"visible",zoomFactor:"zoomFactor",zoomPosition:"zoomPosition"},features:[n.Bb]}),e})(),ro=(()=>{class e extends l.a{constructor(){super("axes")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-axes"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,no,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),ao=["border","height"],lo=[],ho=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(lo),this.directivePropList=ao}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-row"]],inputs:{border:"border",height:"height"},features:[n.Bb]}),e})(),co=(()=>{class e extends l.a{constructor(){super("rows")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-rows"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,ho,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),uo=["border","width"],po=[],mo=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(po),this.directivePropList=uo}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-column"]],inputs:{border:"border",width:"width"},features:[n.Bb]}),e})(),go=(()=>{class e extends l.a{constructor(){super("columns")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-columns"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,mo,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})();var bo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let yo=["content","coordinateUnits","description","horizontalAlignment","region","verticalAlignment","x","xAxisName","y","yAxisName"],fo=[],xo=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(fo),this.directivePropList=yo}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-annotation"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,ks,!0),2&e&&n.rc(s=n.fc())&&(t.content=s.first)},inputs:{content:"content",coordinateUnits:"coordinateUnits",description:"description",horizontalAlignment:"horizontalAlignment",region:"region",verticalAlignment:"verticalAlignment",x:"x",xAxisName:"xAxisName",y:"y",yAxisName:"yAxisName"},features:[n.Bb]}),function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);n>3&&r&&Object.defineProperty(t,i,r)}([Object(l.f)(),bo("design:type",Object)],e.prototype,"content",void 0),e})(),vo=(()=>{class e extends l.a{constructor(){super("annotations")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-annotations"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,xo,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),wo=["point","series"],_o=[],So=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(_o),this.directivePropList=wo}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-selecteddataindex"]],inputs:{point:"point",series:"series"},features:[n.Bb]}),e})(),Co=(()=>{class e extends l.a{constructor(){super("selecteddataindexes")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-selecteddataindexes"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,So,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),Mo=["animation","bandColor","close","dPeriod","dashArray","dataSource","enableComplexProperty","fastPeriod","field","fill","high","kPeriod","low","lowerLine","macdLine","macdNegativeColor","macdPositiveColor","macdType","open","overBought","overSold","period","periodLine","pointColorMapping","query","segmentAxis","segments","seriesName","showZones","slowPeriod","standardDeviation","type","upperLine","visible","volume","width","xAxisName","xName","yAxisName"],Lo=[],Oo=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(Lo),this.directivePropList=Mo}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-indicator"]],inputs:{animation:"animation",bandColor:"bandColor",close:"close",dPeriod:"dPeriod",dashArray:"dashArray",dataSource:"dataSource",enableComplexProperty:"enableComplexProperty",fastPeriod:"fastPeriod",field:"field",fill:"fill",high:"high",kPeriod:"kPeriod",low:"low",lowerLine:"lowerLine",macdLine:"macdLine",macdNegativeColor:"macdNegativeColor",macdPositiveColor:"macdPositiveColor",macdType:"macdType",open:"open",overBought:"overBought",overSold:"overSold",period:"period",periodLine:"periodLine",pointColorMapping:"pointColorMapping",query:"query",segmentAxis:"segmentAxis",segments:"segments",seriesName:"seriesName",showZones:"showZones",slowPeriod:"slowPeriod",standardDeviation:"standardDeviation",type:"type",upperLine:"upperLine",visible:"visible",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName"},features:[n.Bb]}),e})(),Ao=(()=>{class e extends l.a{constructor(){super("indicators")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-indicators"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Oo,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})();var Po=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},ko=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const To=["afterExport","animationComplete","annotationRender","axisLabelRender","axisMultiLabelRender","axisRangeCalculated","beforeExport","beforePrint","chartMouseClick","chartMouseDown","chartMouseLeave","chartMouseMove","chartMouseUp","drag","dragComplete","dragEnd","dragStart","legendClick","legendRender","load","loaded","multiLevelLabelClick","onZooming","pointClick","pointDoubleClick","pointMove","pointRender","resized","scrollChanged","scrollEnd","scrollStart","selectionComplete","seriesRender","textRender","tooltipRender","zoomComplete","dataSourceChange"],Ro=["dataSource"];let jo=(()=>{let e=class extends Si{constructor(e,t,i,s){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=s,this.tags=["series","axes","rows","columns","annotations","selectedDataIndexes","indicators"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let e=this.injector.get("ChartsLineSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(o){}try{let e=this.injector.get("ChartsScatterSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(n){}try{let e=this.injector.get("ChartsColumnSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(r){}try{let e=this.injector.get("ChartsSplineSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(a){}try{let e=this.injector.get("ChartsSplineAreaSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(h){}try{let e=this.injector.get("ChartsStripLine");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(c){}try{let e=this.injector.get("ChartsAreaSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(d){}try{let e=this.injector.get("ChartsScrollBar");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(u){}try{let e=this.injector.get("ChartsStepLineSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(p){}try{let e=this.injector.get("ChartsStepAreaSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(m){}try{let e=this.injector.get("ChartsStackingColumnSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(g){}try{let e=this.injector.get("ChartsStackingLineSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(b){}try{let e=this.injector.get("ChartsStackingAreaSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(y){}try{let e=this.injector.get("ChartsBarSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(f){}try{let e=this.injector.get("ChartsStackingBarSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(x){}try{let e=this.injector.get("ChartsRangeColumnSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(v){}try{let e=this.injector.get("ChartsBubbleSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(w){}try{let e=this.injector.get("ChartsTooltip");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(_){}try{let e=this.injector.get("ChartsCrosshair");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(S){}try{let e=this.injector.get("ChartsCategory");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(C){}try{let e=this.injector.get("ChartsDateTime");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(M){}try{let e=this.injector.get("ChartsLogarithmic");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(L){}try{let e=this.injector.get("ChartsLegend");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(O){}try{let e=this.injector.get("ChartsZoom");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(A){}try{let e=this.injector.get("ChartsDataLabel");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(P){}try{let e=this.injector.get("ChartsSelection");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(k){}try{let e=this.injector.get("ChartsChartAnnotation");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(T){}try{let e=this.injector.get("ChartsHiloSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(R){}try{let e=this.injector.get("ChartsHiloOpenCloseSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(j){}try{let e=this.injector.get("ChartsWaterfallSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(I){}try{let e=this.injector.get("ChartsRangeAreaSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(z){}try{let e=this.injector.get("ChartsCandleSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(E){}try{let e=this.injector.get("ChartsPolarSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(D){}try{let e=this.injector.get("ChartsRadarSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(B){}try{let e=this.injector.get("ChartsSmaIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(N){}try{let e=this.injector.get("ChartsTmaIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(V){}try{let e=this.injector.get("ChartsEmaIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(F){}try{let e=this.injector.get("ChartsAccumulationDistributionIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(H){}try{let e=this.injector.get("ChartsMacdIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(W){}try{let e=this.injector.get("ChartsAtrIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(Z){}try{let e=this.injector.get("ChartsRsiIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(X){}try{let e=this.injector.get("ChartsMomentumIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(G){}try{let e=this.injector.get("ChartsStochasticIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(Y){}try{let e=this.injector.get("ChartsBollingerBands");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(U){}try{let e=this.injector.get("ChartsBoxAndWhiskerSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(Q){}try{let e=this.injector.get("ChartsHistogramSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(q){}try{let e=this.injector.get("ChartsErrorBar");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(J){}try{let e=this.injector.get("ChartsTrendlines");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(K){}try{let e=this.injector.get("ChartsDateTimeCategory");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch($){}try{let e=this.injector.get("ChartsMultiColoredLineSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(ee){}try{let e=this.injector.get("ChartsMultiColoredAreaSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(te){}try{let e=this.injector.get("ChartsMultiLevelLabel");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(ie){}try{let e=this.injector.get("ChartsParetoSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(se){}try{let e=this.injector.get("ChartsExport");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(oe){}try{let e=this.injector.get("ChartsDataEditing");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(ne){}try{let e=this.injector.get("ChartsHighlight");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(re){}this.registerEvents(To),this.addTwoWay.call(this,Ro),Object(l.g)("currentInstance",this,this.viewContainerRef),this.context=new l.c}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childSeries,this.childAxes&&(this.tagObjects[1].instance=this.childAxes),this.childRows&&(this.tagObjects[2].instance=this.childRows),this.childColumns&&(this.tagObjects[3].instance=this.childColumns),this.childAnnotations&&(this.tagObjects[4].instance=this.childAnnotations),this.childSelectedDataIndexes&&(this.tagObjects[5].instance=this.childSelectedDataIndexes),this.childIndicators&&(this.tagObjects[6].instance=this.childIndicators),this.context.ngAfterContentChecked(this)}};return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.l),n.Qb(n.F),n.Qb(n.R),n.Qb(n.s))},e.\u0275cmp=n.Kb({type:e,selectors:[["ejs-chart"]],contentQueries:function(e,t,i){var s;1&e&&(n.Ib(i,Ts,!0),n.Ib(i,Zs,!0),n.Ib(i,ro,!0),n.Ib(i,co,!0),n.Ib(i,go,!0),n.Ib(i,vo,!0),n.Ib(i,Co,!0),n.Ib(i,Ao,!0)),2&e&&(n.rc(s=n.fc())&&(t.tooltip_template=s.first),n.rc(s=n.fc())&&(t.childSeries=s.first),n.rc(s=n.fc())&&(t.childAxes=s.first),n.rc(s=n.fc())&&(t.childRows=s.first),n.rc(s=n.fc())&&(t.childColumns=s.first),n.rc(s=n.fc())&&(t.childAnnotations=s.first),n.rc(s=n.fc())&&(t.childSelectedDataIndexes=s.first),n.rc(s=n.fc())&&(t.childIndicators=s.first))},inputs:{allowMultiSelection:"allowMultiSelection",annotations:"annotations",axes:"axes",background:"background",backgroundImage:"backgroundImage",border:"border",chartArea:"chartArea",columns:"columns",crosshair:"crosshair",currencyCode:"currencyCode",dataSource:"dataSource",description:"description",enableAnimation:"enableAnimation",enableCanvas:"enableCanvas",enableExport:"enableExport",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableSideBySidePlacement:"enableSideBySidePlacement",height:"height",highlightMode:"highlightMode",highlightPattern:"highlightPattern",indicators:"indicators",isMultiSelect:"isMultiSelect",isTransposed:"isTransposed",legendSettings:"legendSettings",locale:"locale",margin:"margin",palettes:"palettes",primaryXAxis:"primaryXAxis",primaryYAxis:"primaryYAxis",rows:"rows",selectedDataIndexes:"selectedDataIndexes",selectionMode:"selectionMode",selectionPattern:"selectionPattern",series:"series",subTitle:"subTitle",subTitleStyle:"subTitleStyle",tabIndex:"tabIndex",theme:"theme",title:"title",titleStyle:"titleStyle",tooltip:"tooltip",useGroupingSeparator:"useGroupingSeparator",width:"width",zoomSettings:"zoomSettings"},outputs:{afterExport:"afterExport",animationComplete:"animationComplete",annotationRender:"annotationRender",axisLabelRender:"axisLabelRender",axisMultiLabelRender:"axisMultiLabelRender",axisRangeCalculated:"axisRangeCalculated",beforeExport:"beforeExport",beforePrint:"beforePrint",chartMouseClick:"chartMouseClick",chartMouseDown:"chartMouseDown",chartMouseLeave:"chartMouseLeave",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",drag:"drag",dragComplete:"dragComplete",dragEnd:"dragEnd",dragStart:"dragStart",legendClick:"legendClick",legendRender:"legendRender",load:"load",loaded:"loaded",multiLevelLabelClick:"multiLevelLabelClick",onZooming:"onZooming",pointClick:"pointClick",pointDoubleClick:"pointDoubleClick",pointMove:"pointMove",pointRender:"pointRender",resized:"resized",scrollChanged:"scrollChanged",scrollEnd:"scrollEnd",scrollStart:"scrollStart",selectionComplete:"selectionComplete",seriesRender:"seriesRender",textRender:"textRender",tooltipRender:"tooltipRender",zoomComplete:"zoomComplete",dataSourceChange:"dataSourceChange"},features:[n.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Po([Object(l.f)(),ko("design:type",Object)],e.prototype,"tooltip_template",void 0),e=Po([Object(l.d)([l.c]),ko("design:paramtypes",[n.l,n.F,n.R,n.s])],e),e})(),Io=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},imports:[[As.c]]}),e})();const zo={provide:"ChartsLineSeries",useValue:Ai},Eo={provide:"ChartsScatterSeries",useValue:class{render(e,t,i,s){e.isRectSeries=!1;let o,n,r=e.marker,a=e.points,l="PolarRadar"===e.chart.chartAreaType?We:gt,h=e.chart.redraw;for(let c of a)n=h&&c.symbolLocations?c.symbolLocations[0]:null,c.symbolLocations=[],c.regions=[],c.visible&&je(a[c.index-1],c,a[c.index+1],e)&&(o={cancel:!1,name:"pointRender",series:e,point:c,fill:e.setPointColor(c,e.interior),border:e.setBorderColor(c,{width:e.border.width,color:e.border.color}),height:r.height,width:r.width,shape:r.shape},e.chart.trigger("pointRender",o),o.cancel?c.marker={visible:!0}:(c.symbolLocations.push(l(c.xValue,c.yValue,t,i,s,e)),c.color=o.fill,this.refresh(e,c,o,n)))}refresh(e,t,i,s){let o,n,r=e.chart,a=e.marker,l=new _(r.element.id+"_Series_"+e.index+"_Point_"+t.index,i.fill,i.border.width,i.border.color,e.opacity,null);r.redraw&&dt(l.id)&&(o="Circle"===i.shape?"c":"",n=dt(l.id).getAttribute("d")),yt(!1,e.seriesElement,ht(t.symbolLocations[0],i.shape,new m(i.width,i.height),a.imageUrl,l,(t.x.toString(),t.yValue.toString()),e.chart.svgRenderer,e.clipRect),r.redraw,!0,o+"x",o+"y",s,n),t.regions.push(new g(t.symbolLocations[0].x-a.width,t.symbolLocations[0].y-a.height,2*a.width,2*a.height)),t.marker={border:i.border,fill:i.fill,height:i.height,visible:!0,width:i.width,shape:i.shape}}doAnimation(e){let t=e.animation.duration,i=e.animation.delay,s=e.seriesElement.childNodes,o=1;for(let n of e.points)n.symbolLocations.length&&s[o]&&(it(s[o],i,t,e,n.index,n.symbolLocations[0],!1),o++)}getModuleName(){return"ScatterSeries"}destroy(e){}}},Do={provide:"ChartsColumnSeries",useValue:ki},Bo={provide:"ChartsSplineSeries",useValue:class extends Ii{render(e,t,i,s){let o,n,r,a=null,l="",c="M",d=[],u=[],p=0;d=this.filterEmptyPoints(e);for(let g=0;g<d.length;g++)n=d[g],Object(h.W)(n.x)||""===n.x||(n.index=p++,u.push(n));let m="PolarRadar"===e.chart.chartAreaType?We:gt;for(let h of u)r=this.getPreviousIndex(u,h.index-1,e),h.symbolLocations=[],h.regions=[],h.visible&&je(u[r],h,u[this.getNextIndex(u,h.index-1,e)],e)?(null!==a&&(l=this.getSplineDirection(e.drawPoints[r],a,h,t,i,s,e,c,m,l),c="L"),a=h,this.storePointLocation(h,e,s,m)):(c="M",a=null,h.symbolLocations=[]);if(u.length>0&&e.drawPoints.length>0&&"PolarRadar"===e.chart.chartAreaType&&e.isClosed){let o=this.getFirstLastVisiblePoint(u);l=this.getSplineDirection(e.drawPoints[e.drawPoints.length-1],o.last,{xValue:o.first.xValue,yValue:o.first.yValue},t,i,s,e,c,m,l),c="L"}o=new _("TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+e.index,"transparent",e.width,e.interior,e.opacity,e.dashArray,l),this.appendLinePath(o,e,""),this.renderMarker(e)}getSplineDirection(e,t,i,s,o,n,r,a,l,h){let c=e.controlPoint1,d=e.controlPoint2,u=l(t.xValue,t.yValue,s,o,n,r),p=l(i.xValue,i.yValue,s,o,n,r),m=l(c.x,c.y,s,o,n,r),g=l(d.x,d.y,s,o,n,r);return h.concat(a+" "+u.x+" "+u.y+" C "+m.x+" "+m.y+" "+g.x+" "+g.y+" "+p.x+" "+p.y+" ")}getModuleName(){return"SplineSeries"}destroy(e){}}},No={provide:"ChartsSplineAreaSeries",useValue:class extends Ii{render(e,t,i,s){let o,n,r,a,l,h,c,d=null,u="",p=null,m=null,g=[],b=[],y=0;g=this.filterEmptyPoints(e);for(let _=0;_<g.length;_++)c=g[_],null!==c.x&&""!==c.x&&(c.index=y,y++,b.push(c));let f,x=b.length,v="PolarRadar"===e.chart.chartAreaType?We:gt,w="PolarRadar"===e.chart.chartAreaType?e.points[0].yValue:Math.max(e.yAxis.visibleRange.min,0);for(let _=0;_<x;_++)c=b[_],c.symbolLocations=[],c.regions=[],f=this.getPreviousIndex(b,c.index-1,e),c.visible&&je(b[f],c,b[this.getNextIndex(b,c.index-1,e)],e)?(d?(l=e.drawPoints[f].controlPoint1,h=e.drawPoints[f].controlPoint2,o=v(d.xValue,d.yValue,t,i,s,e),n=v(c.xValue,c.yValue,t,i,s,e),r=v(l.x,l.y,t,i,s,e),a=v(h.x,h.y,t,i,s,e),u=u.concat("C "+r.x+" "+r.y+" "+a.x+" "+a.y+" "+n.x+" "+n.y+" ")):(p=v(c.xValue,w,t,i,s,e),u+="M "+p.x+" "+p.y+" ",m=v(c.xValue,c.yValue,t,i,s,e),u+="L "+m.x+" "+m.y+" "),this.storePointLocation(c,e,s,v),d=c):(d=null,c.symbolLocations=[]),(_+1<x&&!b[_+1].visible||_===x-1)&&n&&p&&(p=v(c.xValue,w,t,i,s,e),u=u.concat("L "+p.x+" "+p.y));this.appendLinePath(new _(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,u),e,""),this.renderMarker(e)}getModuleName(){return"SplineAreaSeries"}destroy(e){}}},Vo={provide:"ChartsStripLine",useValue:class{measureStripLine(e,t,i,s,o){let n,r,a=e.orientation;if(t.isRepeat&&null!==t.size)n=s,r=null;else if("DateTimeCategory"===e.valueType){let i=t.start,s=t.end;n=null!=i&&"number"!=typeof i?e.labels.indexOf(i.getTime().toString()):i,r=null!=s&&"number"!=typeof s?e.labels.indexOf(s.getTime().toString()):s}else n=null===t.start?null:+t.start,r=null===t.end?null:+t.end;let l=this.getFromTovalue(n,r,t.size,t.startFromAxis,e,t),h="Vertical"===a?(l.to-l.from)*e.rect.height:i.height,c="Horizontal"===a?(l.to-l.from)*e.rect.width:i.width,d="Vertical"===a?i.x:l.from*e.rect.width+e.rect.x,u="Horizontal"===a?i.y:e.rect.y+e.rect.height-("Pixel"===t.sizeType?l.from:l.to)*e.rect.height;if(t.isSegmented&&null!=t.segmentStart&&null!=t.segmentEnd&&"Pixel"!==t.sizeType){let e=this.getFromTovalue(+t.segmentStart,+t.segmentEnd,null,null,o,t);"Vertical"===o.orientation?(u=o.rect.y+o.rect.height-e.to*o.rect.height,h=(e.to-e.from)*o.rect.height):(d=e.from*o.rect.width+o.rect.x,c=(e.to-e.from)*o.rect.width)}return 0!==h&&0!==c||"Pixel"===t.sizeType&&(null!==t.start||t.startFromAxis)?new g(d,u,c,h):new g(0,0,0,0)}getFromTovalue(e,t,i,s,o,n){let r=!n.isRepeat&&s?o.visibleRange.min:e,a=this.getToValue(Math.max(e,Object(h.W)(t)?e:t),r,i,o,t,n);return r=this.findValue(r,o),a=this.findValue(a,o),{from:He(o.isInversed?a:r,o),to:He(o.isInversed?r:a,o)}}getToValue(e,t,i,s,o,n){let r=n.sizeType,a=null===o;if("DateTime"!==s.valueType)return"Pixel"===n.sizeType?t:a?t+i:e;{let o=new Date(t);switch("Auto"===r&&(r=s.actualIntervalType,i*=s.visibleRange.interval),r){case"Years":return a?new Date(o.setFullYear(o.getFullYear()+i)):e;case"Months":return a?new Date(o.setMonth(o.getMonth()+i)):e;case"Days":return a?new Date(o.setDate(o.getDate()+i)):e;case"Hours":return a?new Date(o.setHours(o.getHours()+i)):e;case"Minutes":return a?new Date(o.setMinutes(o.getMinutes()+i)):e;case"Seconds":return a?new Date(o.setSeconds(o.getSeconds()+i)):e;default:return t}}}findValue(e,t){return e<t.visibleRange.min?e=t.visibleRange.min:e>t.visibleRange.max&&(e=t.visibleRange.max),e}renderStripLine(e,t,i){let s,o=e.element.id+"_stripline_"+t+"_",n=e.chartAxisLayoutPanel.seriesClipRect,r=0,a=0,l=0,h=null,c=new Wt(o+"ClipRect","transparent",{width:1,color:"Gray"},1,{x:e.initialClipRect.x,y:e.initialClipRect.y,width:e.initialClipRect.width,height:e.initialClipRect.height}),d=e.renderer.createGroup({id:o+"collections","clip-path":"url(#"+o+"ClipRect)"});d.appendChild(ot(e.redraw,c,e.renderer));for(let u of i){let c=0;for(let p of u.stripLines)if(p.visible&&p.zIndex===t)if(p.isSegmented&&null!=p.segmentStart&&null!=p.segmentEnd&&"Pixel"!==p.sizeType&&(h=this.getSegmentAxis(i,u,p)),p.isRepeat&&null!=p.repeatEvery&&null!==p.size&&"Pixel"!==p.sizeType)for(a=null!=p.repeatUntil?"DateTime"===u.valueType?p.repeatUntil.getTime():+p.repeatUntil:u.actualRange.max,l=p.start,(p.startFromAxis&&"DateTime"===u.valueType&&"Auto"===p.sizeType||p.start<u.visibleRange.min)&&(l=u.visibleLabels[0].value===u.visibleRange.min?u.visibleRange.min:u.visibleLabels[0].value-("DateTime"===u.valueType?u.dateTimeInterval:u.visibleRange.interval)),l=p.startFromAxis&&"DateTime"!==u.valueType?u.visibleRange.min:l;l<a;)r=l+("DateTime"===u.valueType?u.dateTimeInterval*+p.size:p.size),s=Te(r,u.visibleRange),(l>=u.visibleRange.min&&l<u.visibleRange.max||s)&&this.renderStripLineElement(u,p,n,o,d,e,l,h,c),c++,l=this.getStartValue(u,p,l);else this.renderStripLineElement(u,p,n,o,d,e,null,h,c),c++}yt(e.enableCanvas,e.svgObject,d,e.redraw)}renderPath(e,t,i,s,o,n){let r=dt(i),a=r?r.getAttribute("d"):"";yt(o.enableCanvas,s,o.renderer.drawPath(new _(i,"",e.size,e.color,e.opacity,e.dashArray,"Vertical"===n.orientation?"M"+t.x+" "+t.y+" L"+(t.x+t.width)+" "+t.y:"M"+t.x+" "+t.y+" L"+t.x+" "+(t.y+t.height))),o.redraw,!0,"x","y",null,a,!0)}renderRectangle(e,t,i,s,o){let n=dt(i),r=n?new g(+n.getAttribute("x"),+n.getAttribute("y"),+n.getAttribute("width"),+n.getAttribute("height")):null;yt(o.enableCanvas,s,o.renderer.drawRectangle(new Wt(i,e.color,e.border,e.opacity,t,0,0,"",e.dashArray)),o.redraw,!0,"x","y",null,null,!0,!0,r)}renderText(e,t,i,s,o,n){let r,a=u(e.text,e.textStyle).height/8*3,l=t.y+t.height/2+a,h=null===e.rotation?"Vertical"===n.orientation?0:-90:e.rotation,c=t.x+t.width/2;"Horizontal"===n.orientation?(c=this.getTextStart(c+a*this.factor(e.horizontalAlignment),t.width,e.horizontalAlignment),l=this.getTextStart(l-a,t.height,e.verticalAlignment),r=this.invertAlignment(e.verticalAlignment)):(c=this.getTextStart(c,t.width,e.horizontalAlignment),l=this.getTextStart(l+a*this.factor(e.verticalAlignment)-5,t.height,e.verticalAlignment),r=e.horizontalAlignment),It(o.renderer,new f(i,c,l,r,e.text,"rotate("+h+" "+c+","+l+")","middle"),e.textStyle,e.textStyle.color,s)}invertAlignment(e){switch(e){case"Start":e="End";break;case"End":e="Start"}return e}getStartValue(e,t,i){return"DateTime"===e.valueType?this.getToValue(null,i,+t.repeatEvery,e,null,t):i+ +t.repeatEvery}getSegmentAxis(e,t,i){let s;if(null==i.segmentAxisName)return"Horizontal"===t.orientation?e[1]:e[0];for(let o=0;o<e.length;o++)i.segmentAxisName===e[o].name&&(s=e[o]);return s}renderStripLineElement(e,t,i,s,o,n,r,a,l){let h=this.measureStripLine(e,t,i,r,a);"Pixel"===t.sizeType?this.renderPath(t,h,s+"path_"+e.name+"_"+l,o,n,e):0!==h.height&&0!==h.width&&this.renderRectangle(t,h,s+"rect_"+e.name+"_"+l,o,n),""!==t.text&&this.renderText(t,h,s+"text_"+e.name+"_"+l,o,n,e)}factor(e){let t=0;switch(e){case"Start":t=1;break;case"End":t=-1}return t}getTextStart(e,t,i){switch(i){case"Start":e=e-t/2+5;break;case"End":e=e+t/2-5}return e}getModuleName(){return"StripLine"}destroy(){}}},Fo={provide:"ChartsAreaSeries",useValue:class extends Ti{render(e,t,i,s){let o,n=null,r="",a=e.chart&&"PolarRadar"===e.chart.chartAreaType,l=Math.max(e.yAxis.visibleRange.min,0);a&&(l=this.getFirstLastVisiblePoint(e.points).first.yValue);let h,c=e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode,d=e.border?e.border.width:0,u=e.border?e.border.color:"transparent",p="PolarRadar"===e.chart.chartAreaType?We:gt,m=this.enableComplexProperty(e);for(let g=0;g<m.length;g++)h=m[g],o=h.xValue,h.symbolLocations=[],h.regions=[],h.visible&&je(m[g-1],h,m[g+1],e)&&(r+=this.getAreaPathDirection(o,l,e,s,p,n,"M"),n=n||new Yt(o,l),r+=this.getAreaPathDirection(o,h.yValue,e,s,p,null,"L"),m[g+1]&&!m[g+1].visible&&(!a||a&&this.withinYRange(m[g+1],i))&&!c&&(r+=this.getAreaEmptyDirection({x:o,y:l},n,e,s,p),n=null),this.storePointLocation(h,e,s,p));if(a&&""!==r){let o="",n=this.chart;o+=this.getAreaPathDirection(0,l,e,s,p,null,"L"),(t.isInversed||i.isInversed)&&(r+="Polar"===e.type?n.polarSeriesModule.getPolarIsInversedPath(t,o):n.radarSeriesModule.getRadarIsInversedPath(t,o)),r=r.concat(r+" Z")}this.appendLinePath(new _(e.chart.element.id+"_Series_"+e.index,e.interior,d,u,e.opacity,e.dashArray,e.points.length>1&&""!==r?r+this.getAreaPathDirection(e.points[e.points.length-1].xValue,"PolarRadar"===e.chart.chartAreaType?e.points[e.points.length-1].yValue:l,e,s,p,null,"L"):""),e,""),this.renderMarker(e)}destroy(e){}getModuleName(){return"AreaSeries"}doAnimation(e){this.doLinearAnimation(e,e.animation)}}},Ho={provide:"ChartsScrollBar",useValue:Vi},Wo={provide:"ChartsStepLineSeries",useValue:class extends Oi{render(e,t,i,s){let o,n,r,a,l="",h="M",c=null,d=this.enableComplexProperty(e);n="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0;for(let u of d)u.symbolLocations=[],u.regions=[],u.visible&&je(d[u.index-1],u,d[u.index+1],e)?(null!=c?(a=gt(u.xValue,u.yValue,t,i,s),r=gt(c.xValue,c.yValue,t,i,s),l=l.concat(h+" "+r.x+" "+r.y+" L "+a.x+" "+r.y+" L "+a.x+" "+a.y+" "),h="L"):(r=gt(u.xValue-n,u.yValue,t,i,s),l=l.concat(h+" "+r.x+" "+r.y+" "),h="L"),this.storePointLocation(u,e,s,gt),c=u):(c="Drop"===e.emptyPointSettings.mode?c:null,h="Drop"===e.emptyPointSettings.mode?h:"M");r=gt(d[d.length-1].xValue+n,d[d.length-1].yValue,t,i,s),l=l.concat(h+" "+r.x+" "+r.y+" "),o=new _(e.chart.element.id+"_Series_"+e.index,"transparent",e.width,e.interior,e.opacity,e.dashArray,l),this.appendLinePath(o,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(e){}getModuleName(){return"StepLineSeries"}}},Zo={provide:"ChartsStepAreaSeries",useValue:class extends Oi{render(e,t,i,s){let o,n,r,a,l,h,c=null,d="",u=this.enableComplexProperty(e),p=u.length,m=Math.max(e.yAxis.visibleRange.min,0),g=null;h="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0;for(let b=0;b<p;b++)a=u[b],l=a.xValue,a.symbolLocations=[],a.regions=[],a.visible&&je(u[b-1],a,u[b+1],e)&&(null===c&&(c=new Yt(l,0),o=gt(l-h,m,t,i,s),d+="M "+o.x+" "+o.y+" ",o=gt(l-h,a.yValue,t,i,s),d+="L "+o.x+" "+o.y+" "),null!=g?(o=gt(a.xValue,a.yValue,t,i,s),n=gt(g.xValue,g.yValue,t,i,s),d+="L "+o.x+" "+n.y+" L "+o.x+" "+o.y+" "):"Gap"===e.emptyPointSettings.mode&&(o=gt(a.xValue,a.yValue,t,i,s),d+="L "+o.x+" "+o.y+" "),this.storePointLocation(a,e,s,gt),g=a),u[b+1]&&!u[b+1].visible&&"Drop"!==e.emptyPointSettings.mode&&(o=gt(l+h,m,t,i,s),d+="L "+o.x+" "+o.y,c=null,g=null);p>1&&""!==d?(c={x:u[p-1].xValue+h,y:u[p-1].yValue},n=gt(c.x,c.y,t,i,s),d+="L "+n.x+" "+n.y+" ",c={x:u[p-1].xValue+h,y:m},n=gt(c.x,c.y,t,i,s),d+="L "+n.x+" "+n.y+" "):d="",r=new _(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,d),this.appendLinePath(r,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(e){}getModuleName(){return"StepAreaSeries"}}},Xo={provide:"ChartsStackingColumnSeries",useValue:class extends Pi{render(e){e.isRectSeries=!0;let t,i,s=this.getSideBySideInfo(e),o=e.stackedValues,n=Me(e);for(let r of n)r.symbolLocations=[],r.regions=[],r.visible&&je(n[r.index-1],r,n[r.index+1],e)&&(t=this.getRectangle(r.xValue+s.start,o.endValues[r.index],r.xValue+s.end,o.startValues[r.index],e),i=this.triggerEvent(e,r,e.interior,{width:e.border.width,color:e.border.color}),i.cancel||(this.drawRectangle(e,r,t,i),this.updateSymbolLocation(r,t,e)));this.renderMarker(e)}doAnimation(e){this.animate(e)}destroy(e){}getModuleName(){return"StackingColumnSeries"}}},Go={provide:"ChartsStackingLineSeries",useValue:class extends Oi{render(e,t,i,s){let o,n,r,a="PolarRadar"===e.chart.chartAreaType?We:gt,l="",h=this.enableComplexProperty(e),c=h.length,d=e.stackedValues;for(let u=0;u<c;u++)h[u].regions=[],h[u].symbolLocations=[],h[u].visible&&je(h[u-1],h[u],h[u+1],e)?(n=a(h[u].xValue,d.endValues[u],t,i,s,e),l=l.concat((u?"L":"M")+" "+n.x+" "+n.y+" "),h[u].symbolLocations.push(a(h[u].xValue,d.endValues[u],t,i,s,e)),h[u].regions.push(new g(h[u].symbolLocations[0].x-e.marker.width,h[u].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height))):"Drop"!==e.emptyPointSettings.mode&&h[u+1]&&h[u+1].visible&&(n=a(h[u+1].xValue,d.endValues[u+1],t,i,s,e),l=l.concat("M "+n.x+" "+n.y+" "));"PolarRadar"===e.chart.chartAreaType&&h.length>1&&(n={y:d.endValues[0],x:e.points[0].xValue},r=a(n.x,n.y,t,i,s,e),l+="L "+r.x+" "+r.y+" "),o=new _(e.chart.element.id+"_Series_"+e.index,"none",e.width,e.interior,e.opacity,e.dashArray,l),this.appendLinePath(o,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(e){}getModuleName(){return"StackingLineSeries"}}},Yo={provide:"ChartsStackingAreaSeries",useValue:class extends Oi{render(e,t,i,s){let o,n,r="PolarRadar"===e.chart.chartAreaType,a=r?We:gt,l="",h=this.enableComplexProperty(e),c=h.length,d=e.stackedValues,u=r?Math.max(e.yAxis.visibleRange.min,d.endValues[0]):Math.max(e.yAxis.visibleRange.min,d.startValues[0]),p=0,m=a(h[0].xValue,u,t,i,s,e);l=l.concat("M "+m.x+" "+m.y+" ");let b=e.chart&&"PolarRadar"===e.chart.chartAreaType;for(let y=0;y<c;y++)if(h[y].symbolLocations=[],h[y].regions=[],h[y].visible&&je(h[y-1],h[y],h[y+1],e))m=a(h[y].xValue,d.endValues[y],t,i,s,e),l=l.concat("L "+m.x+" "+m.y+" "),h[y].symbolLocations.push(a(h[y].xValue,d.endValues[y],t,i,s,e)),h[y].regions.push(new g(h[y].symbolLocations[0].x-e.marker.width,h[y].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height));else if(!b&&"Drop"!==e.emptyPointSettings.mode){for(let o=y-1;o>=p;o--)n=a(h[o].xValue,d.startValues[o],t,i,s,e),l=l.concat("L "+n.x+" "+n.y+" ");h[y+1]&&h[y+1].visible&&(!b||b&&this.withinYRange(h[y+1],i))&&(m=a(h[y+1].xValue,d.startValues[y+1],t,i,s,e),l=l.concat("M "+m.x+" "+m.y+" ")),p=y+1}if("PolarRadar"===e.chart.chartAreaType&&h.length>1){let o=this.getFirstLastVisiblePoint(e.points),r=this.chart;m={x:o.first.xValue,y:d.endValues[o.first.index]},n=a(m.x,m.y,t,i,s,e),l+="L "+n.x+" "+n.y+" ",1===this.chart.visible&&(t.isInversed||i.isInversed)&&(this.chart.enableAnimation=!1,l="Polar"===e.type?r.polarSeriesModule.getPolarIsInversedPath(t,l):r.radarSeriesModule.getRadarIsInversedPath(t,l))}if(!b||b&&e.index!==this.getFirstSeriesIndex(e.chart.visibleSeries))for(let g=c-1;g>=p;g--){if(b&&!h[g].visible)continue;let o=this.getPreviousSeries(e);"Drop"===o.emptyPointSettings.mode&&o.points[g].isEmpty||(n=a(h[g].xValue,d.startValues[g],t,i,s,e),l=l.concat((g===c-1&&r?"M":"L")+" "+n.x+" "+n.y+" "))}o=new _(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,l),this.appendLinePath(o,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(e){}getModuleName(){return"StackingAreaSeries"}getPreviousSeries(e){let t=e.chart.visibleSeries;for(let i=0,s=t.length;i<s;i++)if(e.index===t[i].index&&0!==i)return t[i-1];return t[0]}getFirstSeriesIndex(e){for(let t of e)if(t.visible)return t.index;return 0}}},Uo={provide:"ChartsBarSeries",useValue:class extends Pi{render(e){let t,i,s=Math.max(e.yAxis.visibleRange.min,0),o=this.getSideBySideInfo(e);for(let n of e.points)n.symbolLocations=[],n.regions=[],n.visible&&je(e.points[n.index-1],n,e.points[n.index+1],e)&&(t=this.getRectangle(n.xValue+o.start,n.yValue,n.xValue+o.end,s,e),i=this.triggerEvent(e,n,e.interior,{width:e.border.width,color:e.border.color}),i.cancel||(this.updateSymbolLocation(n,t,e),this.drawRectangle(e,n,t,i)));this.renderMarker(e)}doAnimation(e){this.animate(e)}destroy(e){}getModuleName(){return"BarSeries"}}},Qo={provide:"ChartsStackingBarSeries",useValue:class extends Pi{render(e){let t,i,s=this.getSideBySideInfo(e),o=e.stackedValues;for(let n of e.points)n.symbolLocations=[],n.regions=[],n.visible&&je(e.points[n.index-1],n,e.points[n.index+1],e)&&(t=this.getRectangle(n.xValue+s.start,o.endValues[n.index],n.xValue+s.end,o.startValues[n.index],e),i=this.triggerEvent(e,n,e.interior,{width:e.border.width,color:e.border.color}),i.cancel||(this.drawRectangle(e,n,t,i),this.updateSymbolLocation(n,t,e)));this.renderMarker(e)}destroy(e){}getModuleName(){return"StackingBarSeries"}doAnimation(e){this.animate(e)}}},qo={provide:"ChartsRangeColumnSeries",useValue:class extends Pi{render(e){let t,i,s=this.getSideBySideInfo(e);for(let o of e.points)o.symbolLocations=[],o.regions=[],o.visible&&je(e.points[o.index-1],o,e.points[o.index+1],e)&&(t=this.getRectangle(o.xValue+s.start,o.high,o.xValue+s.end,o.low,e),i=this.triggerEvent(e,o,e.interior,{width:e.border.width,color:e.border.color}),i.cancel||(this.updateSymbolLocation(o,t,e),this.drawRectangle(e,o,t,i)));this.renderMarker(e)}getModuleName(){return"RangeColumnSeries"}doAnimation(e){this.animate(e)}destroy(e){}}},Jo={provide:"ChartsBubbleSeries",useValue:class{render(e,t,i,s){let o,n,r,a,l,h,c=e.marker,d=e.points,u=Math.max(e.chart.initialClipRect.height,e.chart.initialClipRect.width),p=u/100,b=e.maxRadius*p,y=e.minRadius*p,f=null,x=null,v=e.chart.redraw;if(null===e.maxRadius||null===e.minRadius){for(let t of e.chart.visibleSeries)"Bubble"!==t.type||!0!==t.visible||null!==t.maxRadius&&null!==t.minRadius||(f=t.sizeMax>f?t.sizeMax:f);x=u/5/2,y=b=1,a=x*b}else f=e.sizeMax,a=b-y;for(let w of d)h=v?w.symbolLocations[0]:null,w.symbolLocations=[],w.regions=[],w.visible&&je(d[w.index-1],w,d[w.index+1],e)&&(r=null===e.maxRadius||null===e.minRadius?a*Math.abs(+w.size/f):y+a*Math.abs(+w.size/f),r=r||y,n={cancel:!1,name:"pointRender",series:e,point:w,fill:e.setPointColor(w,e.interior),border:e.setBorderColor(w,{width:e.border.width,color:e.border.color}),height:2*r,width:2*r},e.chart.trigger("pointRender",n),n.cancel?w.marker={visible:!1}:(w.symbolLocations.push(gt(w.xValue,w.yValue,t,i,s)),w.color=n.fill,o=new _(e.chart.element.id+"_Series_"+e.index+"_Point_"+w.index,n.fill,n.border.width,n.border.color,e.opacity,null),l=ht(w.symbolLocations[0],"Circle",new m(n.width,n.height),c.imageUrl,o,(w.x.toString(),w.yValue.toString()),e.chart.svgRenderer,e.clipRect),yt(!1,e.seriesElement,l,v),w.regions.push(new g(w.symbolLocations[0].x-r,w.symbolLocations[0].y-r,2*r,2*r)),w.marker={border:n.border,fill:n.fill,height:n.height,visible:!0,shape:"Circle",width:n.width},v&&jt(l,300,h,w.symbolLocations[0],"cx","cy")))}destroy(e){}getModuleName(){return"BubbleSeries"}doAnimation(e){let t=e.animation.duration,i=e.animation.delay,s=e.seriesElement.childNodes,o=1;for(let n of e.points)n.symbolLocations.length&&(it(s[o],i,t,e,n.index,n.symbolLocations[0],!1),o++)}}},Ko={provide:"ChartsTooltip",useValue:class extends Ei{constructor(e){super(e),this.addEventListener()}addEventListener(){this.chart.isDestroyed||(this.chart.on(h.d.isPointer?"pointerleave":"mouseleave",this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this),this.chart.on(h.d.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(h.d.touchEndEvent,this.mouseUpHandler,this))}mouseUpHandler(){let e=this.control;e.isTouch&&!this.isSelected(e)&&(Ue(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&e.tooltip.shared||!e.tooltip.shared)&&(e.crosshair.enable?e.startMove&&this.removeTooltip(2e3):(this.tooltip(),this.removeTooltip(2e3)))}mouseLeaveHandler(){this.removeTooltip(this.chart.tooltip.fadeOutDuration)}mouseMoveHandler(){let e=this.chart;e.disableTrackTooltip||this.isSelected(e)||(e.tooltip.shared||e.isTouch&&!e.startMove||this.tooltip(),Ue(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)?!e.tooltip.shared||e.isTouch&&!e.startMove||this.tooltip():e.tooltip.shared&&this.removeTooltip(this.chart.tooltip.fadeOutDuration))}longPress(){let e=this.chart;return e.crosshair.enable&&Ue(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&this.tooltip(),!1}tooltip(){if(this.chart.stockChart&&this.chart.stockChart.onPanning)return this.removeTooltip(1e3),null;let e;e=this.getElement(this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg");let t=this.chart.stockChart&&e&&e.firstChild.childNodes.length>1,i=e&&parseInt(e.getAttribute("opacity"),10)>0&&!t,s=this.getTooltipElement(i);this.chart.enableCanvas&&s&&(document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(s),s.appendChild(document.getElementById(this.chart.element.id+"_tooltip_svg"))),this.chart.tooltip.shared?this.renderGroupedTooltip(this.chart,!i,s):this.renderSeriesTooltip(this.chart,!i,s)}findHeader(e){return""===this.header?"":(this.header=this.parseTemplate(e.point,e.series,this.header,e.series.xAxis,e.series.yAxis),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()?this.header:"")}findShapes(){if(!this.chart.tooltip.enableMarker)return[];let e=[];for(let t of this.currentPoints)e.push(t.point.marker.shape||t.series.marker.shape);return e}renderSeriesTooltip(e,t,i){let s=this.getData();if(s.lierIndex=this.lierIndex,this.currentPoints=[],this.findData(s,this.previousPoints[0])){if((!e.dataEditingModule||!e.dataEditingModule.isPointDragging)&&this.previousPoints[0]&&s.point.index===this.previousPoints[0].point.index&&s.series.index===this.previousPoints[0].series.index)return null;this.pushData(s,t,i,!0)&&this.triggerTooltipRender(s,t,this.getTooltipText(s),this.findHeader(s))}else if(!s.point&&this.isRemove)this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.isRemove=!1;else for(let o of e.visibleSeries)o.visible&&(s=this.getClosestX(e,o)||s);s&&s.point&&this.findMouseValue(s,e)}triggerTooltipRender(e,t,i,s,o=!0){let n={cancel:!1,name:"tooltipRender",text:i,headerText:s,template:void 0,series:this.chart.isBlazor?{}:e.series,textStyle:this.textStyle,point:e.point,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.index,pointText:e.point.text}},r=i=>{i.cancel?(this.removeHighlight(this.control),Object(h.gb)(this.getElement(this.element.id+"_tooltip"))):("BoxAndWhisker"===e.series.type&&(this.removeText(),t=!0),this.headerText=i.headerText,this.formattedText=this.formattedText.concat(i.text),this.text=this.formattedText,this.createTooltip(this.chart,t,this.getSymbolLocation(e),e.series.clipRect,e.point,this.findShapes(),this.findMarkerHeight(this.currentPoints[0]),this.chart.chartAxisLayoutPanel.seriesClipRect,null,this.getTemplateText(e),this.chart.tooltip.template?i.template:"")),this.isRemove=!0};r.bind(this,e),this.chart.trigger("tooltipRender",n,r)}findMarkerHeight(e){if(!this.chart.tooltip.enableMarker)return 0;let t=0,i=e.series;return t=(i.marker.visible||this.chart.tooltip.shared&&(!i.isRectSeries||i.marker.visible)||"Scatter"===i.type||"Scatter"===i.drawType)&&"Candle"!==i.type&&"Hilo"!==i.type&&"HiloOpenClose"!==i.type?(i.marker.height+2)/2+2*i.marker.border.width:0,t}findData(e,t){return e.point&&(!t||t.point!==e.point||t&&t.lierIndex>3&&t.lierIndex!==this.lierIndex||t.point===e.point)}getSymbolLocation(e){let t;if("BoxAndWhisker"!==e.series.type){if(!e.point.symbolLocations[0])return null;t=new Yt(e.point.symbolLocations[0].x,e.point.symbolLocations[0].y)}switch(e.series.type){case"BoxAndWhisker":return this.getBoxLocation(e);case"Waterfall":return this.getWaterfallRegion(e,t);case"RangeArea":return this.getRangeArea(e,t);default:return t}}getRangeArea(e,t){return e.point.regions[0]&&(this.inverted?t.x=e.point.regions[0].x+e.point.regions[0].width/2:t.y=e.point.regions[0].y+e.point.regions[0].height/2),t}getWaterfallRegion(e,t){return this.inverted?t.x=e.point.y<0?t.x+e.point.regions[0].width:t.x:t.y=e.point.y<0?t.y-e.point.regions[0].height:t.y,t}getTooltipText(e){let t=e.series;return this.parseTemplate(e.point,t,this.getFormat(this.chart,t),t.xAxis,t.yAxis)}getTemplateText(e){if(this.chart.tooltip.template){let t=Object(h.J)({},e.point);return t.x=this.formatPointValue(e.point,e.series.xAxis,"x",!0,!1),"XY"===e.series.seriesType?t.y=this.formatPointValue(e.point,e.series.yAxis,"y",!1,!0):(t.low=this.formatPointValue(e.point,e.series.yAxis,"low",!1,!0),t.high=this.formatPointValue(e.point,e.series.yAxis,"high",!1,!0)),t}return e.point}findMouseValue(e,t){t.requireInvertedAxis?(this.valueY=(1-He(e.point.xValue,e.series.xAxis))*e.series.xAxis.rect.height+e.series.xAxis.rect.y,this.valueX=t.mouseX):(this.valueX="PolarRadar"===t.chartAreaType?Xe(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x:He(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x,this.valueY=t.mouseY)}renderGroupedTooltip(e,t,i){let s,o="PolarRadar"===e.chartAreaType?this.getData():null;this.stopAnimation(),this.removeHighlight(e),this.currentPoints=[];let n=[],r="";t&&(e.stockChart?document.getElementById(e.stockChart.element.id+"_Secondary_Element").appendChild(i):i&&document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),this.removeText();for(let a of e.visibleSeries)a.enableTooltip&&a.visible&&("Cartesian"===e.chartAreaType&&a.visible?s=this.getClosestX(e,a):"PolarRadar"===e.chartAreaType&&a.visible&&null!==o.point&&(s=new qt(a.points[o.point.index],a)),s&&""!==this.header&&0===this.currentPoints.length&&(r=this.findHeader(s)),s&&this.triggerSharedTooltip(s,t,this.getTooltipText(s),this.findHeader(s),n));this.currentPoints.length>0?this.createTooltip(e,t,this.findSharedLocation(),1===this.currentPoints.length?this.currentPoints[0].series.clipRect:null,null,this.findShapes(),this.findMarkerHeight(this.currentPoints[0]),e.chartAxisLayoutPanel.seriesClipRect,n):this.getElement(this.element.id+"_tooltip_path")&&this.getElement(this.element.id+"_tooltip_path").setAttribute("d","")}triggerSharedTooltip(e,t,i,s,o){let n={cancel:!1,name:"tooltipRender",text:i,headerText:s,point:e.point,series:this.chart.isBlazor?{}:e.series,textStyle:this.textStyle,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.index,pointText:e.point.text}},r=t=>{t.cancel?o.push(e):("BoxAndWhisker"===e.series.type&&this.removeText(),this.formattedText=this.formattedText.concat(t.text),this.text=this.formattedText,this.headerText=t.headerText,this.findMouseValue(e,this.chart),this.currentPoints.push(e),e=null)};r.bind(this,e,o),this.chart.trigger("tooltipRender",n,r)}findSharedLocation(){let e=this.chart.stockChart;if(e){1===this.text.length&&this.text.push("");let t=e.enablePeriodSelector?e.toolbarHeight:0,i=document.getElementById(e.element.id+"_ChartTitle"),s=""!==e.title?i.getBoundingClientRect().height+10:0;return new Yt(this.chart.chartAxisLayoutPanel.seriesClipRect.x+5,this.chart.chartAxisLayoutPanel.seriesClipRect.y+t+5+s)}return this.currentPoints.length>1?new Yt(this.valueX,this.valueY):this.getSymbolLocation(this.currentPoints[0])}getBoxLocation(e){let t;return t=this.lierIndex>3?e.point.symbolLocations[this.lierIndex-4]:{x:e.point.regions[0].x+e.point.regions[0].width/2,y:e.point.regions[0].y+e.point.regions[0].height/2},t}parseTemplate(e,t,i,s,o){let n,r;for(let a of Object.keys(e))n=new RegExp("${point."+a+"}","gm"),i=i.replace(n.source,this.formatPointValue(e,"${point.x}"===n.source?s:o,a,"${point.x}"===n.source,"${point.high}"===n.source||"${point.open}"===n.source||"${point.close}"===n.source||"${point.low}"===n.source||"${point.y}"===n.source||"${point.minimum}"===n.source||"${point.maximum}"===n.source||"${point.outliers}"===n.source||"${point.upperQuartile}"===n.source||"${point.lowerQuartile}"===n.source||"${point.median}"===n.source));for(let a of Object.keys(Object.getPrototypeOf(t)))n=new RegExp("${series."+a+"}","gm"),r=t[a],i=i.replace(n.source,r);return i}formatPointValue(e,t,i,s,o){let n,r,a;return"Category"!==t.valueType&&s?(r=t.labelFormat&&null!==t.labelFormat.match("{value}"),n=r?t.labelFormat.replace("{value}",t.format(e[i])):t.format(e[i])):o?(r=t.labelFormat&&null!==t.labelFormat.match("{value}"),a=t.format("outliers"===i?e[i][this.lierIndex-4]:e[i]),n=r?t.labelFormat.replace("{value}",a):a):n=e[i],n}getFormat(e,t){if(t.tooltipFormat)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):t.tooltipFormat;if(!t.tooltipFormat&&e.tooltip.format)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):e.tooltip.format;let i=e.tooltip.shared?"${series.name}":"Histogram"===t.type?"${point.minimum}-${point.maximum}":"${point.x}";switch(t.seriesType){case"XY":return"Indicator"===t.category&&this.getIndicatorTooltipFormat(t,e,e.tooltip.format),i+" : "+("Bubble"===t.type?"<b>${point.y}</b>  Size : <b>${point.size}</b>":"<b>${point.y}</b>");case"HighLow":return i+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>";case"HighLowOpenClose":return i+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>";case"BoxPlot":return i+"<br/>"+(this.lierIndex>3?"Outliers : <b>${point.outliers}</b>":"Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>")}return""}getIndicatorTooltipFormat(e,t,i){let s;return s="XY"===e.seriesType?e.name+" : <b>${point.y}</b>":i,s}removeHighlightedMarker(e){for(let t of e)Oe(this.element.id+"_Series_"+t.series.index+"_Point_"+t.point.index+"_Trackball");this.chart.markerRender&&this.chart.markerRender.removeHighlightedMarker(),this.previousPoints=[]}getModuleName(){return"Tooltip"}destroy(e){}}},$o={provide:"ChartsCrosshair",useValue:class{constructor(e){this.arrowLocation=new Yt(0,0),this.rx=2,this.ry=2,this.chart=e,this.elementID=this.chart.element.id,this.svgRenderer=new c(this.chart.element.id),this.addEventListener()}addEventListener(){if(this.chart.isDestroyed)return;let e=h.d.isPointer?"pointerleave":"mouseleave";this.chart.on(h.d.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(h.d.touchEndEvent,this.mouseUpHandler,this),this.chart.on(e,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this)}mouseUpHandler(){this.chart.startMove&&this.removeCrosshair(2e3)}mouseLeaveHandler(){this.removeCrosshair(1e3)}mouseMoveHandler(e){let t=this.chart;"touchmove"===e.type&&(h.d.isIos||h.d.isIos7)&&t.startMove&&e.preventDefault&&e.preventDefault(),t.disableTrackTooltip||(Ue(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?!t.startMove&&t.isTouch||this.crosshair():this.removeCrosshair(1e3))}longPress(){let e=this.chart;return Ue(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&this.crosshair(),!1}crosshair(){let e,t,i=this.chart,s="",o="",n=document.getElementById(this.elementID+"_crosshair_axis"),r=i.crosshair,a=document.getElementById(this.elementID+"_tooltip"),l=i.chartAxisLayoutPanel.seriesClipRect,c=i.enableCanvas?document.getElementById(this.elementID+"_Secondary_Element"):document.getElementById(this.elementID+"_UserInteraction"),d=document.getElementById(this.elementID+"_Crosshair");return i.enableCanvas&&(d||(d=Object(h.F)("div",{id:this.elementID+"_Crosshair",styles:"position: absolute; pointer-events: none"}),c.appendChild(d))),this.stopAnimation(),i.tooltip.enable&&!Ue(i.tooltipModule.valueX,i.tooltipModule.valueY,l)?null:i.stockChart&&i.stockChart.onPanning?(this.removeCrosshair(1e3),null):(this.valueX=i.tooltip.enable?i.tooltipModule.valueX:i.mouseX,this.valueY=i.tooltip.enable?i.tooltipModule.valueY:i.mouseY,i.enableCanvas||c.setAttribute("opacity","1"),"Both"!==r.lineType&&"Horizontal"!==r.lineType||(s+="M "+l.x+" "+this.valueY+" L "+(l.x+l.width)+" "+this.valueY),"Both"!==r.lineType&&"Vertical"!==r.lineType||(o+="M "+this.valueX+" "+l.y+" L "+this.valueX+" "+(l.y+l.height)),void(i.enableCanvas?(n||(n=this.svgRenderer.createGroup({id:this.elementID+"_crosshair_axis"})),t=this.svgRenderer.createSvg({id:i.tooltip.enable?i.element.id+"_tooltip_svg":i.element.id+"_svg",width:i.availableSize.width,height:i.availableSize.height}),i.tooltip.enable&&(a=a||i.tooltipModule.createElement(),a.appendChild(t),c.appendChild(a)),e=new _(this.elementID+"_HorizontalLine","none",r.line.width,r.line.color||i.themeStyle.crosshairLine,1,r.dashArray,s),this.drawCrosshairLine(e,d,l.x,this.valueY,l.width,0,s),e.d=o,e.id=this.elementID+"_VerticalLine",this.drawCrosshairLine(e,d,this.valueX,l.y,0,l.height,o),this.renderAxisTooltip(i,l,n),t.appendChild(n),i.tooltip.enable||d.appendChild(t)):0===c.childNodes.length?(n=i.renderer.createGroup({id:this.elementID+"_crosshair_axis"}),e=new _(this.elementID+"_HorizontalLine","none",r.line.width,r.line.color||i.themeStyle.crosshairLine,1,r.dashArray,s),this.renderCrosshairLine(e,c),e.d=o,e.id=this.elementID+"_VerticalLine",this.renderCrosshairLine(e,c),c.appendChild(n),this.renderAxisTooltip(i,l,c.lastChild)):(document.getElementById(this.elementID+"_HorizontalLine").setAttribute("d",s),document.getElementById(this.elementID+"_VerticalLine").setAttribute("d",o),this.renderAxisTooltip(i,l,c.lastChild))))}renderCrosshairLine(e,t){let i=this.chart.renderer.drawPath(e);t.appendChild(i)}drawCrosshairLine(e,t,i,s,o,n,r){if(!document.getElementById(e.id)&&r){let i=Object(h.F)("div",{id:e.id});t.appendChild(i)}if(document.getElementById(e.id)){let r="top:"+s.toString()+"px;left:"+i.toString()+"px;width:"+o+"px;height:"+n+"px;fill:"+e.stroke+";border: 0.5px solid black;position: absolute",a=document.getElementById(e.id),l=document.getElementById(this.elementID+"_crosshair_axis");a.setAttribute("style",r),t.style.opacity="1",l&&(l.style.opacity="1")}}renderAxisTooltip(e,t,i){let s,o,n,r,a,l,h,c;for(let d=0,u=e.axisCollections.length;d<u;d++)if(s=e.axisCollections[d],c=s.placeNextToAxisLine?s.updatedRect:s.rect,s.crosshairTooltip.enable)if(this.valueX<=c.x+c.width&&c.x<=this.valueX||this.valueY<=c.y+c.height&&c.y<=this.valueY){if(r=document.getElementById(this.elementID+"_axis_tooltip_"+d),a=document.getElementById(this.elementID+"_axis_tooltip_text_"+d),o=this.getAxisText(s),!o)continue;n=this.tooltipLocation(o,s,t,c),null===r&&(r=e.enableCanvas?this.svgRenderer.drawPath({id:this.elementID+"_axis_tooltip_"+d,fill:s.crosshairTooltip.fill||e.themeStyle.crosshairFill},null):e.renderer.drawPath({id:this.elementID+"_axis_tooltip_"+d,fill:s.crosshairTooltip.fill||e.themeStyle.crosshairFill},null),i.appendChild(r),l=new f(this.elementID+"_axis_tooltip_text_"+d,0,0,"start",o),a=It(e.enableCanvas?this.svgRenderer:e.renderer,l,s.crosshairTooltip.textStyle,s.crosshairTooltip.textStyle.color||e.themeStyle.crosshairLabel,i)),h=p(this.rx,this.ry,n,this.arrowLocation,10,this.isTop,this.isBottom,this.isLeft,this.valueX,this.valueY),r.setAttribute("d",h),a.textContent=o,a.setAttribute("x",(n.x+5).toString()),a.setAttribute("y",(n.y+5+3*this.elementSize.height/4).toString())}else Oe(this.elementID+"_axis_tooltip_"+d),Oe(this.elementID+"_axis_tooltip_text_"+d)}getAxisText(e){let t;this.isBottom=!1,this.isTop=!1,this.isLeft=!1,this.isRight=!1;let i="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0;return"Horizontal"===e.orientation?(t=Qe(Math.abs(this.valueX-e.rect.x),e.rect.width,e)+i,this.isBottom=!e.opposedPosition,this.isTop=e.opposedPosition):(t=qe(Math.abs(this.valueY-e.rect.y),e.rect.height,e)+i,this.isRight=e.opposedPosition,this.isLeft=!e.opposedPosition),"DateTime"===e.valueType?e.format(new Date(t)):"Category"===e.valueType?e.labels[Math.floor(t)]:"DateTimeCategory"===e.valueType?this.chart.dateTimeCategoryModule.getIndexedAxisLabel(e.labels[Math.floor(t)],e.format):"Logarithmic"===e.valueType?e.format(Math.pow(e.logBase,t)):e.labelFormat&&null!==e.labelFormat.match("{value}")?e.labelFormat.replace("{value}",e.format(t)):e.format(t)}tooltipLocation(e,t,i,s){let o,n=i.x,r=i.y,a="Inside"===t.labelPosition,l=t.scrollbarSettings.enable||t.zoomingScrollBar&&t.zoomingScrollBar.svgObject?t.scrollBarHeight:0;if(this.elementSize=u(e,t.crosshairTooltip.textStyle),"Horizontal"===t.orientation){let e=a?s.y-this.elementSize.height-10:s.y+10;this.arrowLocation=new Yt(this.valueX,a?s.y-this.elementSize.height-20:s.y+l),o=new g(this.valueX-this.elementSize.width/2-5,e+(a?0:l),this.elementSize.width+10,this.elementSize.height+10),t.opposedPosition&&(o.y=a?s.y:s.y-(this.elementSize.height+10+10)-l),o.x<n&&(o.x=n),o.x+o.width>n+i.width&&(o.x-=o.x+o.width-(n+i.width)),this.arrowLocation.x+5>o.x+o.width-this.rx&&(this.arrowLocation.x=o.x+o.width-this.rx-5),this.arrowLocation.x-5<o.x+this.rx&&(this.arrowLocation.x=o.x+this.rx+5)}else l*=t.opposedPosition?1:-1,this.arrowLocation=new Yt(s.x,this.valueY),o=new g((a?s.x-l:s.x-this.elementSize.width-20)+l,this.valueY-this.elementSize.height/2-5,this.elementSize.width+10,this.elementSize.height+10),t.opposedPosition?(o.x=a?s.x-this.elementSize.width-10:s.x+10+l,o.x+o.width>this.chart.availableSize.width&&(this.arrowLocation.x-=o.x+o.width-this.chart.availableSize.width,o.x-=o.x+o.width-this.chart.availableSize.width)):o.x<0&&(this.arrowLocation.x-=o.x,o.x=0),o.y<r&&(o.y=r),o.y+o.height>=r+i.height&&(o.y-=o.y+o.height-(r+i.height)),this.arrowLocation.y+5>o.y+o.height-this.ry&&(this.arrowLocation.y=o.y+o.height-this.ry-5),this.arrowLocation.y-5<o.y+this.ry&&(this.arrowLocation.y=o.y+this.ry+5);return o}stopAnimation(){wt(this.crosshairInterval)}progressAnimation(){wt(this.crosshairInterval)}removeCrosshair(e){let t=this.chart,i=t.enableCanvas?document.getElementById(this.elementID+"_Crosshair"):document.getElementById(this.elementID+"_UserInteraction"),s=t.enableCanvas?document.getElementById(this.elementID+"_crosshair_axis"):null;this.stopAnimation(),i&&"0"!==i.getAttribute("opacity")&&(this.crosshairInterval=setTimeout(()=>{new h.b({}).animate(i,{duration:200,progress:e=>{i.style.animation="",t.enableCanvas?(i.style.opacity=(1-e.timeStamp/e.duration).toString(),s.style.opacity=(1-e.timeStamp/e.duration).toString()):i.setAttribute("opacity",(1-e.timeStamp/e.duration).toString())},end:e=>{t.enableCanvas?(i.style.opacity="0",s.style.opacity="0"):i.setAttribute("opacity","0"),t.startMove=!1,t.tooltipModule&&(t.tooltipModule.valueX=null,t.tooltipModule.valueY=null)}})},e))}getModuleName(){return"Crosshair"}destroy(e){}}},en={provide:"ChartsCategory",useValue:Li},tn={provide:"ChartsDateTime",useValue:Mi},sn={provide:"ChartsLogarithmic",useValue:class extends ie{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.calculateVisibleRange(e,t),this.calculateVisibleLabels(t,this.chart)}getActualRange(e,t){this.initializeDoubleRange(e),this.min=this.min<0?0:this.min;let i=Ae(this.min,e.logBase);i=isFinite(i)?i:this.min;let s=1===this.max?1:Ae(this.max,e.logBase);s=isFinite(i)?s:this.max,this.min=Math.floor(i/1),this.max=Math.ceil(s/1),e.actualRange.interval=e.interval||this.calculateLogNiceInterval(this.max-this.min,t,e),e.actualRange.min=this.min,e.actualRange.max=this.max,e.actualRange.delta=this.max-this.min}calculateVisibleRange(e,t){t.visibleRange={interval:t.actualRange.interval,max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta};let i=!Object(h.W)(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRange(e),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateLogNiceInterval(t.doubleRange.delta,e,t):t.visibleRange.interval,t.visibleRange.interval=0===Math.floor(t.visibleRange.interval)?1:Math.floor(t.visibleRange.interval),t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval))}calculateLogNiceInterval(e,t,i){let s=at(t,i),o=e,n=Math.pow(10,Math.floor(Ae(o,10)));for(let r=0,a=i.intervalDivs.length;r<a;r++){let t=n*i.intervalDivs[r];if(s<e/t)break;o=t}return o}calculateVisibleLabels(e,t){let i,s=e.visibleRange.min;e.visibleLabels=[],(e.zoomFactor<1||e.zoomPosition>0)&&(s=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval);let o=this.getFormat(e),n=null!==o.match("{value}");for(e.format=t.intl.getNumberFormat({format:n?"":o,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(Math.pow(e.logBase,e.visibleRange.min)),e.endLabel=e.format(Math.pow(e.logBase,e.visibleRange.max));s<=e.visibleRange.max;s+=e.visibleRange.interval)i=Object(h.J)({},Object(h.U)("properties",e.labelStyle),null,!0),Te(s,e.visibleRange)&&nt(this.chart,s,this.formatValue(e,n,o,Math.pow(e.logBase,s)),i,e);e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}getModuleName(){return"Logarithmic"}destroy(e){}}},on={provide:"ChartsLegend",useValue:class extends class{constructor(e){this.rowCount=0,this.columnCount=0,this.pageButtonSize=8,this.pageXCollections=[],this.maxColumns=0,this.isTrimmed=!1,this.maxWidth=0,this.currentPage=1,this.currentPageNumber=1,this.legendRegions=[],this.pagingRegions=[],this.chart=e,this.legend=e.legendSettings,this.legendID=e.element.id+"_chart_legend",this.isChartControl="chart"===e.getModuleName(),this.isBulletChartControl="bulletChart"===e.getModuleName(),this.bulletChart=this.chart}calculateLegendBounds(e,t,i){let s=this.legend;this.getPosition(s.position,t),this.legendBounds=new g(e.x,e.y,0,0);let o=this.isBulletChartControl?"40%":"20%";this.isVertical="Left"===this.position||"Right"===this.position,this.isVertical?(this.legendBounds.height=Tt(s.height,t.height-(e.y-this.chart.margin.top))||e.height,this.legendBounds.width=Tt(s.width||o,t.width)):(this.legendBounds.width=Tt(s.width,t.width)||e.width,this.legendBounds.height=Tt(s.height||o,t.height)),this.library.getLegendBounds(t,this.legendBounds,s),this.getLocation(this.position,s.alignment,this.legendBounds,e,t,i)}getPosition(e,t){let i=this.chart,s=this.chart;this.isChartControl||this.isBulletChartControl?this.position="Auto"!==e?e:"Bottom":("Auto"===e&&((i||s).visibleSeries&&"Funnel"===(i||s).visibleSeries[0].type||"Pyramid"===(i||s).visibleSeries[0].type)&&(e="Top"),this.position="Auto"!==e?e:t.width>t.height?"Right":"Bottom")}setBounds(e,t,i,s){e=e<s.width?e:s.width,t=t<s.height?t:s.height,s.width=i.width?s.width:e,s.height=i.height?s.height:t,this.rowCount=Math.max(1,Math.ceil((s.height-i.padding)/(this.maxItemHeight+i.padding)))}getLocation(e,t,i,s,o,n){let r=this.legend.border.width,a=this.isBulletChartControl,l=this.bulletChart,h="Inside"===l.labelPosition,c="Inside"===l.tickPosition,d="Vertical"===l.orientation,u=a&&""!==l.categoryField?n.width+this.chart.border.width+3*r:0,p=i.height+r+this.legend.margin.top+this.legend.margin.bottom,m=i.width+r+this.legend.margin.left+this.legend.margin.right,g=this.chart.margin.bottom;"Bottom"===e?(i.x=this.alignLegend(i.x,o.width,i.width,t),i.y=s.y+(s.height-p)+r+this.legend.margin.top,i.y+=!a||l.opposedPosition||h||c||d?d&&""!==l.categoryField?n.height+2*r:0:l.majorTickLines.height+g+this.legend.border.width+2*r,Ee(s,new Ut(0,0,0,p))):"Top"===e?(i.x=this.alignLegend(i.x,o.width,i.width,t),i.y=s.y+r+this.legend.margin.top,i.y-=!a||!l.opposedPosition||h||c||d?0:l.majorTickLines.height+this.chart.margin.top,p-=a?2*-r:0,Ee(s,new Ut(0,0,p,0))):"Right"===e?(i.x=s.x+(s.width-i.width)-this.legend.margin.right,i.y=s.y+this.alignLegend(0,o.height-(s.y+g),i.height,t),m+=a&&l.opposedPosition&&!h&&!c&&d?this.chart.margin.left+this.chart.margin.right+l.majorTickLines.height:0,Ee(s,new Ut(0,m,0,0))):"Left"===e?(i.x=i.x+this.legend.margin.left,i.y=s.y+this.alignLegend(0,o.height-(s.y+g),i.height,t),m+=!a||l.opposedPosition||h||c||!d?"Vertical"!==l.orientation&&""!==l.categoryField?u:0:i.x-this.chart.margin.left+r+l.majorTickLines.height,Ee(s,new Ut(m,0,0,0))):(i.x=this.legend.location.x,i.y=this.legend.location.y,Ee(s,new Ut(0,0,0,0)))}alignLegend(e,t,i,s){switch(s){case"Far":e=t-i-e;break;case"Center":e=(t-i)/2}return e}renderLegend(e,t,i,s){let o=this.findFirstLegendPosition(this.legendCollections),n=t.padding;this.legendRegions=[],this.maxItemHeight=Math.max(this.legendCollections[0].textSize.height,t.shapeHeight);let r=e.renderer.createGroup({id:this.legendID+"_g"}),a=this.createLegendElements(e,i,r,t,this.legendID,s);if(o!==this.legendCollections.length){let s,l;l=new Yt(i.x+n+t.shapeWidth/2,i.y+n+this.maxItemHeight/2);let h=new f("",l.x,l.y,"start");this.totalPages=this.totalPages=this.isChartControl||this.isBulletChartControl?this.totalPages:0;let c=t.shapePadding+n+t.shapeWidth,d=0;this.pageXCollections=[],this.legendCollections[o].location=l;let u=this.legendCollections[o];for(let n of this.legendCollections)"accumulationchart"===this.chart.getModuleName()&&(n.fill=(this.chart||this.chart).visibleSeries[0].points[n.pointIndex].color),this.accessbilityText=this.isBulletChartControl?"Legend of bullet chart"+n.text:"Click to show or hide the "+n.text+" series",n.render&&""!==n.text&&(s=e.renderer.createGroup({id:this.legendID+this.generateId(n,"_g_",d)}),s&&(s.setAttribute("tabindex",t.tabIndex.toString()),s.setAttribute("aria-label",t.description||this.accessbilityText)),this.library.getRenderPoint(n,l,c,u,i,d,o),this.renderSymbol(n,s,d),this.renderText(e,n,s,h,d),s&&s.setAttribute("style","cursor: "+(!t.toggleVisibility&&("None"===e.selectionMode||"None"===e.highlightMode||"None"===e.selectionMode)||this.isBulletChartControl?"auto":"pointer")),a&&a.appendChild(s),u=n),d++;this.isPaging?this.renderPagingElements(e,i,h,r):this.totalPages=1}yt(e.enableCanvas,e.svgObject,r,s)}findFirstLegendPosition(e){let t=0;for(let i of e){if(i.render&&""!==i.text)break;t++}return t}createLegendElements(e,t,i,s,o,n){let r=s.padding,a=new Wt(o+"_element",s.background,s.border,s.opacity,t);i?i.appendChild(e.renderer.drawRectangle(a)):e.renderer.drawRectangle(a);let l=e.renderer.createGroup({id:o+"_collections"}),h=e.enableCanvas;h||i.appendChild(l),this.legendTranslateGroup=e.renderer.createGroup({id:o+"_translate_g"}),h||l.appendChild(this.legendTranslateGroup);let c=e.renderer.createClipPath({id:o+"_clipPath"});return a.y+=r,a.id+="_clipPath_rect",a.width=!this.isChartControl&&"bulletChart"!==e.getModuleName()&&this.isVertical?this.maxWidth-r:t.width,h?this.pagingClipRect=a:(this.clipRect=e.renderer.drawRectangle(a),c.appendChild(this.clipRect)),yt(h,e.svgObject,c,n),h||l.setAttribute("style","clip-path:url(#"+c.id+")"),this.legendTranslateGroup}renderSymbol(e,t,i){let s,o=this.isBulletChartControl?this.chart:null,n=e.visible?e.fill:"#D3D3D3",r="SeriesType"===e.shape?e.type:e.shape;r="Scatter"===r?e.markerShape:r;let a="chart"===this.chart.getModuleName()&&"SeriesType"===e.shape&&e.type.toLowerCase().indexOf("line")>-1&&-1===e.type.toLowerCase().indexOf("area")?this.chart.visibleSeries[i].width:this.isBulletChartControl&&"Multiply"===e.shape?4:1,l="chart"===this.chart.getModuleName()&&("Scatter"===e.type||"Bubble"===e.type);if(l&&i<this.chart.visibleSeries.length){let e=this.chart.visibleSeries[i].border;s=e.color?e.color:n,a=e.width?e.width:1}let h,c=new _(this.legendID+this.generateId(e,"_shape_",i),n,a,l?s:n,1,"",""),d=this.chart.enableCanvas;d?(h=-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),ht(e.location,r,new m(this.legend.shapeWidth,this.legend.shapeHeight),"",c,0,this.chart.renderer,this.currentPageNumber?new g(0,h,0,0):null,this.isBulletChartControl,o),this.legendRegions.push({rect:new g(e.location.x,e.location.y,this.legend.shapeWidth,this.legend.shapeHeight+h),index:i})):t.appendChild(ht(e.location,r,new m(this.legend.shapeWidth,this.legend.shapeHeight),"",c,0,this.chart.renderer,null,this.isBulletChartControl,o)),("Line"===r&&e.markerVisibility&&"Image"!==e.markerShape||"Doughnut"===e.type)&&(c.id=this.legendID+this.generateId(e,"_shape_marker_",i),r="Doughnut"===e.type?"Circle":e.markerShape,c.fill="Doughnut"===e.type?"#FFFFFF":c.fill,d?ht(e.location,r,new m(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",c,0,this.chart.renderer,this.currentPageNumber?new g(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,this.isBulletChartControl,o):t.appendChild(ht(e.location,r,new m(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",c,0,null,null,this.isBulletChartControl,o)))}renderText(e,t,i,s,o){let n=e.legendSettings;s.id=this.legendID+this.generateId(t,"_text_",o);let r=t.visible?n.textStyle.color||e.themeStyle.legendLabel:"#D3D3D3";s.text=t.text,s.x=t.location.x+n.shapeWidth/2+n.shapePadding,s.y=t.location.y+this.maxItemHeight/4;let a=this.chart.enableCanvas,l=It(e.renderer,s,n.textStyle,r,i,!1,!1,!1,!1,null,this.currentPageNumber&&a?new g(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);if(l&&l.setAttribute("aria-label",n.description||this.accessbilityText),a){let e=u(s.text,n.textStyle);this.legendRegions[o].rect.y=s.y<this.legendRegions[o].rect.y?s.y:this.legendRegions[o].rect.y,this.legendRegions[o].rect.width+=e.width,this.legendRegions[o].rect.height=e.height,this.legendRegions[o].rect.y-=.5*e.height}}renderPagingElements(e,t,i,s){let o=e.renderer.createGroup({id:this.legendID+"_navigation"});this.pagingRegions=[];let n=e.enableCanvas;n||s.appendChild(o);let r=e.legendSettings;this.totalPages=this.isChartControl||this.isBulletChartControl||!this.isVertical?Math.ceil(this.totalPages/Math.max(1,this.rowCount-1)):Math.ceil(this.totalPages/this.maxColumns);let a=new _(this.legendID+"_pageup","transparent",5,"#545454",1,"",""),l=this.pageButtonSize;o&&o.setAttribute("style","cursor: pointer"),this.clipPathHeight=(this.rowCount-1)*(this.maxItemHeight+r.padding),n?(this.pagingClipRect.height=this.legendBounds.height-this.clipPathHeight-(this.pagingClipRect.y-this.legendBounds.y)-r.border.width,this.pagingClipRect.y=this.pagingClipRect.y+this.clipPathHeight,this.pagingClipRect.x+=r.border.width,this.pagingClipRect.width-=r.border.width+r.border.width/2,this.chart.renderer.clearRect(new g(this.pagingClipRect.x,this.pagingClipRect.y,this.pagingClipRect.width,this.pagingClipRect.height))):this.clipRect.setAttribute("height",this.clipPathHeight.toString());let h=t.x+l/2,c=t.y+this.clipPathHeight+(t.height-this.clipPathHeight)/2,d=u(this.totalPages+"/"+this.totalPages,r.textStyle);n?ht({x:h,y:c},"LeftArrow",new m(l,l),"",a,0,this.chart.renderer,new g(t.width-(2*(l+8)+8+d.width),0,0,0)):o.appendChild(ht({x:h,y:c},"LeftArrow",new m(l,l),"",a)),this.pagingRegions.push(new g(h+t.width-(2*(l+8)+8+d.width)-.5*l,c-.5*l,l,l)),i.x=h+l/2+8,i.y=c+d.height/4,i.id=this.legendID+"_pagenumber",i.text="1/"+this.totalPages,n&&this.totalNoOfPages&&(i.text=this.currentPageNumber+"/"+this.totalNoOfPages);let p=It(e.renderer,i,r.textStyle,r.textStyle.color,o,!1,!1,!1,!1,null,new g(t.width-(2*(l+8)+8+d.width),0,0,0));h=i.x+8+l/2+d.width,a.id=this.legendID+"_pagedown",n?ht({x:h,y:c},"RightArrow",new m(l,l),"",a,0,this.chart.renderer,new g(t.width-(2*(l+8)+8+d.width),0,0,0)):o.appendChild(ht({x:h,y:c},"RightArrow",new m(l,l),"",a)),this.pagingRegions.push(new g(h+(t.width-(2*(l+8)+8+d.width)-.5*l),c-.5*l,l,l)),n?1===this.currentPageNumber&&this.calTotalPage&&(this.totalNoOfPages=this.totalPages,this.calTotalPage=!1):o.setAttribute("transform","translate("+(t.width-(2*(l+8)+8+d.width))+", 0)"),this.translatePage(p,this.currentPage-1,this.currentPage)}translatePage(e,t,i){let s=this.clipPathHeight*t,o="translate(0,-"+s+")";return this.isChartControl||this.bulletChart||!this.isVertical||(s=this.pageXCollections[t*this.maxColumns]-this.legendBounds.x,s=s<0?0:s,o="translate(-"+s+",0)"),this.chart.enableCanvas||this.legendTranslateGroup.setAttribute("transform",o),this.chart.enableCanvas||(e.textContent=i+"/"+this.totalPages),this.currentPage=i,s}changePage(e,t){let i=document.getElementById(this.legendID+"_pagenumber"),s=parseInt(i.textContent.split("/")[0],10);t&&s>1?this.translatePage(i,s-2,s-1):!t&&s<this.totalPages&&this.translatePage(i,s,s+1)}generateId(e,t,i){return this.isChartControl?t+i:t+e.pointIndex}move(e){let t=this.chart.mouseX,i=this.chart.mouseY;if(e.target.textContent.indexOf("...")>-1){let s=e.target.id.split(this.legendID+"_text_");if(2===s.length){let e=parseInt(s[1],10),o=this.chart.element;isNaN(e)||(this.chart.isTouch&&Oe(this.chart.element.id+"_EJ2_Legend_Tooltip"),this.isChartControl?Pe(this.chart.series[e].name,t,i,o.offsetWidth,o.id+"_EJ2_Legend_Tooltip",dt(this.chart.element.id+"_Secondary_Element")):Pe(this.chart.visibleSeries[0].points[e].x.toString(),t+10,i+10,o.offsetWidth,o.id+"_EJ2_Legend_Tooltip",dt(this.chart.element.id+"_Secondary_Element")))}}else Oe(this.chart.element.id+"_EJ2_Legend_Tooltip");this.chart.isTouch&&(clearTimeout(this.clearTooltip),this.clearTooltip=setTimeout(()=>{Oe(this.chart.element.id+"_EJ2_Legend_Tooltip")},1e3))}}{constructor(e){super(e),this.library=this,this.addEventListener()}addEventListener(){this.chart.isDestroyed||(this.chart.on(h.d.touchMoveEvent,this.mouseMove,this),this.chart.on("click",this.click,this),this.chart.on(h.d.touchEndEvent,this.mouseEnd,this))}removeEventListener(){this.chart.isDestroyed||(this.chart.off(h.d.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(h.d.touchEndEvent,this.mouseEnd))}mouseMove(e){this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(e),this.chart.highlightModule&&"None"!==this.chart.highlightMode&&this.click(e))}mouseEnd(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)}getLegendOptions(e,t){let i,s;this.legendCollections=[];for(let o of e)"Indicator"!==o.category&&""!==o.name&&(i="PolarRadar"===t.chartAreaType?o.drawType:o.type,s=o.pointColorMapping&&o.points[0].interior?o.points[0].interior:o.interior,this.legendCollections.push(new bi(o.name,s,o.legendShape,"TrendLine"===o.category?this.chart.series[o.sourceIndex].trendlines[o.index].visible:o.visible,i,o.marker.shape,o.marker.visible)))}getLegendBounds(e,t,i){let s=i.padding,o=0,n=0;this.isVertical?n=i.width?0:e.width/100*5:o=i.height?0:e.height/100*5,t.height+=o,t.width+=n;let r,a=i.shapeWidth,l=i.shapePadding,h=0,c=0,d=0,p=0,m=0;this.maxItemHeight=Math.max(u("MeasureText",i.textStyle).height,i.shapeHeight);let g=!1;for(let b of this.legendCollections)se.test(b.text)&&(b.text=Vt(b.text,se)),oe.test(b.text)&&(b.text=Vt(b.text,oe)),r={fill:b.fill,text:b.text,shape:b.shape,markerShape:b.markerShape,name:"legendRender",cancel:!1},this.chart.trigger("legendRender",r),b.render=!r.cancel,b.text=r.text,b.fill=r.fill,b.shape=r.shape,b.markerShape=r.markerShape,b.textSize=u(b.text,i.textStyle),b.render&&""!==b.text&&(g=!0,d=a+l+b.textSize.width+s,c+=d,(t.width<s+c||this.isVertical)&&(h=Math.max(h,c+s-(this.isVertical?0:d)),0===m&&d!==c&&(m=1),c=this.isVertical?0:d,m++,p=m*(this.maxItemHeight+s)+s));p=Math.max(p,this.maxItemHeight+s+s),this.isPaging=t.height<p,this.totalPages=m,g?this.setBounds(Math.max(c+s,h),p,i,t):this.setBounds(0,0,i,t)}getRenderPoint(e,t,i,s,o,n,r){let a=this.legend.padding,l=s.location.x+i+s.textSize.width;l+(e.textSize.width+i)>o.x+o.width+this.legend.shapeWidth/2||this.isVertical?(e.location.x=t.x,e.location.y=n===r?s.location.y:s.location.y+this.maxItemHeight+a):(e.location.x=n===r?s.location.x:l,e.location.y=s.location.y),e.text=kt(+(this.legendBounds.x+this.legendBounds.width-(e.location.x+i-this.legend.shapeWidth/2)).toFixed(4),e.text,this.legend.textStyle)}LegendClick(e,t){let i=this.chart,s=i.visibleSeries[e],o=this.legendCollections[e],n={legendText:o.text,legendShape:o.shape,chart:i.isBlazor?{}:i,series:s,name:"legendClick",cancel:!1};this.chart.trigger("legendClick",n),s.legendShape=n.legendShape,null!==s.fill&&(i.visibleSeries[e].interior=s.fill);let r=[];if(i.selectionModule&&(r=Object(h.J)([],i.selectionModule.selectedDataIndexes,null,!0)),i.legendSettings.toggleVisibility){if("TrendLine"===s.category?i.series[s.sourceIndex].trendlines[s.index].visible=!i.series[s.sourceIndex].trendlines[s.index].visible:(s.chart.isProtectedOnChange=!0,this.changeSeriesVisiblity(s,s.visible)),o.visible="TrendLine"===s.category?i.series[s.sourceIndex].trendlines[s.index].visible:s.visible,i.svgObject.childNodes.length>0&&!i.enableAnimation&&!i.enableCanvas){for(;i.svgObject.lastChild;)i.svgObject.removeChild(i.svgObject.lastChild);Object(h.gb)(i.svgObject)}i.animateSeries=!1,i.redraw=i.enableAnimation,Ft(i),Oe(x(i.element.id+"_Secondary_Element").querySelectorAll(".ejSVGTooltip")[0]),this.redrawSeriesElements(s,i),i.removeSvg(),i.refreshAxis(),s.refreshAxisLabel(),this.refreshSeries(i.visibleSeries),i.refreshBound(),i.trigger("loaded",{chart:i}),r.length>0&&(i.selectionModule.selectedDataIndexes=r,i.selectionModule.redrawSelection(i,i.selectionMode)),i.highlightModule&&"None"!==i.highlightMode&&i.highlightModule.redrawSelection(i,i.highlightMode),i.redraw=!1}else i.selectionModule?i.selectionModule.legendSelection(i,e,t):i.highlightModule&&i.highlightModule.legendSelection(i,e,t);s.chart.isProtectedOnChange=!1}changeSeriesVisiblity(e,t){e.visible=!t,this.isSecondaryAxis(e.xAxis)&&(e.xAxis.internalVisibility=e.xAxis.series.some(e=>e.visible)),this.isSecondaryAxis(e.yAxis)&&(e.yAxis.internalVisibility=e.yAxis.series.some(e=>e.visible))}isSecondaryAxis(e){return this.chart.axes.indexOf(e)>-1}redrawSeriesElements(e,t){if(!t.redraw)return null;Oe(t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections")}refreshSeries(e){for(let t of e)t.position=void 0}click(e){if(!this.chart.legendSettings.visible)return;let t,i=this.chart.mouseX,s=this.chart.mouseY,o=[],n=e.target.id,r=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"];for(let a of r)if(n.indexOf(a)>-1){t=parseInt(n.split(a)[1],10),this.LegendClick(t,e);break}n.indexOf(this.legendID+"_pageup")>-1?this.changePage(e,!0):n.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(e,!1),this.chart.enableCanvas&&this.pagingRegions.length&&this.checkWithinBounds(i,s),o=this.legendRegions.filter(e=>Ue(i,s+(this.isPaging?(this.currentPageNumber-1)*this.translatePage(null,1,2):0),e.rect)),o.length&&this.chart.enableCanvas&&this.LegendClick(o[0].index,e)}checkWithinBounds(e,t){let i=this.chart.renderer,s=this.legendBounds,o=this.chart.legendSettings.border.width,n=new g(s.x,s.y,s.width,s.height);return n.x=n.x-o/2,n.y=n.y-o/2,n.width=n.width+o,n.height=n.height+o,Ue(e,t,this.pagingRegions[0])?(--this.currentPageNumber>0?(this.legendRegions=[],i.clearRect(n),i.canvasClip(new Wt("legendClipPath","transparent",{width:0,color:""},null,n)),this.renderLegend(this.chart,this.legend,s),i.canvasRestore()):++this.currentPageNumber,null):Ue(e,t,this.pagingRegions[1])?(++this.currentPageNumber>0&&this.currentPageNumber<=this.totalNoOfPages?(this.legendRegions=[],i.clearRect(n),i.canvasClip(new Wt("legendClipPath","transpaent",{width:0,color:""},null,n)),this.renderLegend(this.chart,this.legend,s),i.canvasRestore()):--this.currentPageNumber,null):void 0}getModuleName(){return"Legend"}destroy(e){this.removeEventListener()}}},nn={provide:"ChartsZoom",useValue:class{constructor(e){this.chart=e,this.isPointer=h.d.isPointer,this.browserName=h.d.info.name,this.wheelEvent="mozilla"===this.browserName?this.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel",this.cancelEvent=this.isPointer?"pointerleave":"mouseleave",this.addEventListener(),this.isDevice=h.d.isDevice;let t=e.zoomSettings;this.toolkit=new Di(e),this.zooming=t,this.elementId=e.element.id,this.zoomingRect=new g(0,0,0,0),this.zoomAxes=[],this.zoomkitOpacity=.3,this.isIOS=h.d.isIos||h.d.isIos7,this.isZoomed=this.performedUI=this.zooming.enablePan&&this.zooming.enableSelectionZooming,t.enableScrollbar&&(e.scrollElement=Object(h.F)("div",{id:e.element.id+"_scrollElement"}))}renderZooming(e,t,i){this.calculateZoomAxesRange(t,t.axisCollections),!this.zooming.enableSelectionZooming||i&&(!t.isDoubleTap||1!==this.touchStartList.length)||this.isPanning&&!t.isDoubleTap?this.isPanning&&t.isChartDrag&&(!i||i&&1===this.touchStartList.length)&&(this.pinchTarget=i?e.target:null,this.doPan(t,t.axisCollections)):(this.isPanning=!!this.isDevice||this.isPanning,this.performedUI=!0,this.drawZoomingRectangle(t))}drawZoomingRectangle(e){let t=e.chartAxisLayoutPanel.seriesClipRect,i=new Yt(e.previousMouseMoveX,e.previousMouseMoveY),s=new Yt(e.mouseX,e.mouseY),o=this.zoomingRect=function(e,t,i){let s,o;return s=t.x<i.x?i.x:t.x>i.x+i.width?i.x+i.width:t.x,o=t.y<i.y?i.y:t.y>i.y+i.height?i.y+i.height:t.y,new g(s>e.x?e.x:s,o>e.y?e.y:o,Math.abs(s-e.x),Math.abs(o-e.y))}(i,s,t);o.width>0&&o.height>0&&(this.isZoomed=!0,e.disableTrackTooltip=!0,e.svgObject.setAttribute("cursor","crosshair"),"X"===this.zooming.mode?(o.height=t.height,o.y=t.y):"Y"===this.zooming.mode&&(o.width=t.width,o.x=t.x),(e.enableCanvas?document.getElementById(this.elementId+"_tooltip_svg"):e.svgObject).appendChild(e.svgRenderer.drawRectangle(new Wt(this.elementId+"_ZoomArea",e.themeStyle.selectionRectFill,{color:e.themeStyle.selectionRectStroke,width:1},1,o,0,0,"","3"))))}doPan(e,t){if(e.startMove&&e.crosshair.enable)return null;let i,s,o,n;this.isZoomed=!0,this.offset=e.delayRedraw?this.offset:e.chartAxisLayoutPanel.seriesClipRect,e.delayRedraw=!0,e.disableTrackTooltip=!0;let r=[];for(let a of t)o={cancel:!1,name:"zoomComplete",axis:a,previousZoomFactor:a.zoomFactor,previousZoomPosition:a.zoomPosition,currentZoomFactor:a.zoomFactor,currentZoomPosition:a.zoomPosition},i=Math.max(1/ct(a.zoomFactor,0,1),1),"Horizontal"===a.orientation?(s=(e.previousMouseMoveX-e.mouseX)/a.rect.width/i,o.currentZoomPosition=ct(a.zoomPosition+s,0,1-a.zoomFactor)):(s=(e.previousMouseMoveY-e.mouseY)/a.rect.height/i,o.currentZoomPosition=ct(a.zoomPosition-s,0,1-a.zoomFactor)),e.trigger("zoomComplete",o),o.cancel||(a.zoomFactor=o.currentZoomFactor,a.zoomPosition=o.currentZoomPosition),r.push({zoomFactor:a.zoomFactor,zoomPosition:a.zoomFactor,axisName:a.name,axisRange:a.visibleRange});n={cancel:!1,axisCollection:r,name:"onZooming"},!n.cancel&&this.chart.isBlazor?this.chart.trigger("onZooming",n,()=>{this.performDefferedZoom(e)}):this.performDefferedZoom(e)}performDefferedZoom(e){let t,i;if(this.zooming.enableDeferredZooming){switch(t=e.mouseX-e.mouseDownX,i=e.mouseY-e.mouseDownY,this.zooming.mode){case"X":i=0;break;case"Y":t=0}this.setTransform(t,i,null,null,e,!1),this.refreshAxis(e.chartAxisLayoutPanel,e,e.axisCollections),e.enableCanvas&&this.performZoomRedraw(e)}else this.performZoomRedraw(e);e.previousMouseMoveX=e.mouseX,e.previousMouseMoveY=e.mouseY}performZoomRedraw(e){let t=this.zoomingRect;e.animateSeries=!1,this.isZoomed&&(t.width>0&&t.height>0?(this.performedUI=!0,e.svgObject.setAttribute("cursor","auto"),this.doZoom(e,e.axisCollections,e.chartAxisLayoutPanel.seriesClipRect),e.isDoubleTap=!1):e.disableTrackTooltip&&(e.disableTrackTooltip=!1,e.delayRedraw=!1,e.enableCanvas?e.createChartSvg():e.removeSvg(),e.refreshAxis(),e.refreshBound()))}refreshAxis(e,t,i){let s=t.zoomSettings.mode;e.measureAxis(new g(t.initialClipRect.x,t.initialClipRect.y,t.initialClipRect.width,t.initialClipRect.height)),i.map((t,i)=>{"Horizontal"===t.orientation&&"Y"!==s&&e.drawXAxisLabels(t,i,null,t.placeNextToAxisLine?t.updatedRect:t.rect),"Vertical"===t.orientation&&"X"!==s&&e.drawYAxisLabels(t,i,null,t.placeNextToAxisLine?t.updatedRect:t.rect)})}doZoom(e,t,i){let s,o,n=this.zoomingRect,r=this.zooming.mode;this.isPanning=e.zoomSettings.enablePan||this.isPanning;let a=[];for(let l of t)s={cancel:!1,name:"zoomComplete",axis:l,previousZoomFactor:l.zoomFactor,previousZoomPosition:l.zoomPosition,currentZoomFactor:l.zoomFactor,currentZoomPosition:l.zoomPosition},"Horizontal"===l.orientation?"Y"!==r&&(s.currentZoomPosition+=Math.abs((n.x-i.x)/i.width)*l.zoomFactor,s.currentZoomFactor*=n.width/i.width,e.trigger("zoomComplete",s)):"X"!==r&&(s.currentZoomPosition+=(1-Math.abs((n.height+(n.y-i.y))/i.height))*l.zoomFactor,s.currentZoomFactor*=n.height/i.height,e.trigger("zoomComplete",s)),s.cancel||(l.zoomFactor=s.currentZoomFactor,l.zoomPosition=s.currentZoomPosition),a.push({zoomFactor:l.zoomFactor,zoomPosition:l.zoomFactor,axisName:l.name,axisRange:l.visibleRange});o={cancel:!1,axisCollection:a,name:"onZooming"},!o.cancel&&this.chart.isBlazor?this.chart.trigger("onZooming",o,()=>{this.zoomingRect=new g(0,0,0,0),this.performZoomRedraw(e)}):(this.zoomingRect=new g(0,0,0,0),this.performZoomRedraw(e))}performMouseWheelZooming(e,t,i,s,o){let n,r,a,l,h,c="mozilla"!==this.browserName||this.isPointer?e.wheelDelta/120>0?1:-1:-e.detail/3>0?1:-1,d=this.zooming.mode,u=.5;this.isZoomed=!0,this.calculateZoomAxesRange(s,s.axisCollections),s.disableTrackTooltip=!0,this.performedUI=!0,this.isPanning=s.zoomSettings.enablePan||this.isPanning;let p=[];for(let m of o)l={cancel:!1,name:"zoomComplete",axis:m,previousZoomFactor:m.zoomFactor,previousZoomPosition:m.zoomPosition,currentZoomFactor:m.zoomFactor,currentZoomPosition:m.zoomPosition},("Vertical"===m.orientation&&"X"!==d||"Horizontal"===m.orientation&&"Y"!==d)&&(n=Math.max(Math.max(1/ct(m.zoomFactor,0,1),1)+.25*c,1),n>=1&&(u="Horizontal"===m.orientation?t/m.rect.width:1-i/m.rect.height,u=u>1?1:u<0?0:u,r=1===n?1:ct(1/n,0,1),a=1===n?0:m.zoomPosition+(m.zoomFactor-r)*u,m.zoomPosition===a&&m.zoomFactor===r||(r=a+r>1?1-a:r),l.currentZoomFactor=r,l.currentZoomPosition=a,s.trigger("zoomComplete",l)),l.cancel||(m.zoomFactor=l.currentZoomFactor,m.zoomPosition=l.currentZoomPosition)),p.push({zoomFactor:m.zoomFactor,zoomPosition:m.zoomFactor,axisName:m.name,axisRange:m.visibleRange});h={cancel:!1,axisCollection:p,name:"onZooming"},!h.cancel&&this.chart.isBlazor?this.chart.trigger("onZooming",h,()=>{this.performZoomRedraw(s)}):this.performZoomRedraw(s)}performPinchZooming(e,t){if(this.zoomingRect.width>0&&this.zoomingRect.height>0||t.startMove&&t.crosshair.enable)return!1;this.calculateZoomAxesRange(t,t.axisCollections),this.isZoomed=!0,this.isPanning=!0,this.performedUI=!0,this.offset=t.delayRedraw?this.offset:t.chartAxisLayoutPanel.seriesClipRect,t.delayRedraw=!0,t.disableTrackTooltip=!0;let i,s,o,n,r,a,l,h=t.element.getBoundingClientRect(),c=this.touchStartList,d=this.touchMoveList,u=c[0].pageX-h.left,p=c[0].pageY-h.top,m=d[0].pageX-h.left,b=d[0].pageY-h.top,y=c[1].pageX-h.left,f=c[1].pageY-h.top,x=d[1].pageY-h.top;if(i=Math.abs(m-(d[1].pageX-h.left))/Math.abs(u-y),s=Math.abs(b-x)/Math.abs(p-f),a=(this.offset.x-m)/i+u,l=(this.offset.y-b)/s+p,r=new g(a,l,this.offset.width/i,this.offset.height/s),o=m-i*u,n=b-s*p,!isNaN(i-i)&&!isNaN(s-s))switch(this.zooming.mode){case"XY":this.setTransform(o,n,i,s,t,!0);break;case"X":this.setTransform(o,0,i,1,t,!0);break;case"Y":this.setTransform(0,n,1,s,t,!0)}return this.calculatePinchZoomFactor(t,r),this.refreshAxis(t.chartAxisLayoutPanel,t,t.axisCollections),!0}calculatePinchZoomFactor(e,t){let i,s,o,n,r,a,l,h,c,d,u=this.zooming.mode,p=[];for(let m=0;m<e.axisCollections.length;m++){let d=e.axisCollections[m];("Horizontal"===d.orientation&&"Y"!==u||"Vertical"===d.orientation&&"X"!==u)&&(h=d.zoomFactor,c=d.zoomPosition,l={cancel:!1,name:"zoomComplete",axis:d,previousZoomFactor:d.zoomFactor,previousZoomPosition:d.zoomPosition,currentZoomFactor:h,currentZoomPosition:c},"Horizontal"===d.orientation?(r=t.x-this.offset.x,a=d.rect.width/this.zoomAxes[m].delta,o=r/a+this.zoomAxes[m].min,r=t.x+t.width-this.offset.x,n=r/a+this.zoomAxes[m].min):(r=t.y-this.offset.y,a=d.rect.height/this.zoomAxes[m].delta,o=(-1*r+d.rect.height)/a+this.zoomAxes[m].min,r=t.y+t.height-this.offset.y,n=(-1*r+d.rect.height)/a+this.zoomAxes[m].min),i=Math.min(o,n),s=Math.max(o,n),c=(i-this.zoomAxes[m].actualMin)/this.zoomAxes[m].actualDelta,h=(s-i)/this.zoomAxes[m].actualDelta,l.currentZoomPosition=c<0?0:c,l.currentZoomFactor=h>1?1:h,e.trigger("zoomComplete",l),l.cancel||(d.zoomFactor=l.currentZoomFactor,d.zoomPosition=l.currentZoomPosition),p.push({zoomFactor:d.zoomFactor,zoomPosition:d.zoomFactor,axisName:d.name,axisRange:d.visibleRange}))}d={cancel:!1,axisCollection:p,name:"onZooming"},!d.cancel&&this.chart.isBlazor&&this.chart.trigger("onZooming",d)}setTransform(e,t,i,s,o,n){let r,a,l,h;if(o.enableCanvas||o.seriesElements.setAttribute("clip-path","url(#"+this.elementId+"_ChartAreaClipRect_)"),o.indicatorElements&&o.indicatorElements.setAttribute("clip-path","url(#"+this.elementId+"_ChartAreaClipRect_)"),null!==e&&null!==t)for(let c of o.visibleSeries)a=o.requireInvertedAxis?c.yAxis.rect.x:c.xAxis.rect.x,l=o.requireInvertedAxis?c.xAxis.rect.y:c.yAxis.rect.y,r="translate("+(e+(n?i*a:a))+","+(t+(n?s*l:l))+")",r=i||s?r+" scale("+i+" "+s+")":r,c.visible&&("Indicator"===c.category?c.seriesElement.parentNode.setAttribute("transform",r):o.enableCanvas||c.seriesElement.setAttribute("transform",r),h=dt(o.element.id+"_Series_"+c.index+"_DataLabelCollections"),c.errorBarElement&&c.errorBarElement.setAttribute("transform",r),c.symbolElement&&c.symbolElement.setAttribute("transform",r),c.textElement&&(c.textElement.setAttribute("visibility","hidden"),c.shapeElement.setAttribute("visibility","hidden")),h&&(h.style.visibility="hidden"))}calculateZoomAxesRange(e,t){let i,s;for(let o=0;o<e.axisCollections.length;o++){let t=e.axisCollections[o];s=t.visibleRange,this.zoomAxes[o]?e.delayRedraw||(this.zoomAxes[o].min=s.min,this.zoomAxes[o].delta=s.delta):(i={actualMin:t.actualRange.min,actualDelta:t.actualRange.delta,min:s.min,delta:s.delta},this.zoomAxes[o]=i)}}showZoomingToolkit(e){let t,i,s=this.zooming.toolbarItems,o=e.chartAxisLayoutPanel.seriesClipRect,n=e.svgRenderer,r=this.isDevice?1:s.length,a=this.isDevice?u("Reset Zoom",{size:"12px"}).width:16,l=this.isDevice?u("Reset Zoom",{size:"12px"}).height:22,c=r*a+5*(r+1)+5*(r-1),d=o.x+o.width-c-5,p=o.y+5,m=5,b=this.toolkit,y='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/>';if(y+='<feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/>',y+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',0===r||dt(this.elementId+"_Zooming_KitCollection"))return!1;let f,x=n.createDefs();s=this.isDevice?["Reset"]:s,x.innerHTML='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/><feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',this.toolkitElements=n.createGroup({id:this.elementId+"_Zooming_KitCollection",transform:"translate("+d+","+p+")"}),this.toolkitElements.appendChild(x),this.toolkitElements.appendChild(n.drawRectangle(new Wt(this.elementId+"_Zooming_Rect","#fafafa",{color:"transparent",width:1},1,new g(0,0,c,l+10),0,0))),t=n.drawRectangle(new Wt(this.elementId+"_Zooming_Rect","#fafafa",{color:"transparent",width:1},.1,new g(0,0,c,l+10),0,0)),t.setAttribute("filter","url(#chart_shadow)"),this.toolkitElements.appendChild(t);for(let h=1;h<=r;h++){switch(f=s[h-1],i=n.createGroup({transform:"translate("+m+","+(this.isDevice?5:8)+")"}),f){case"Pan":b.createPanButton(i,this.toolkitElements,e);break;case"Zoom":b.createZoomButton(i,this.toolkitElements,e);break;case"ZoomIn":b.createZoomInButton(i,this.toolkitElements,e);break;case"ZoomOut":b.createZoomOutButton(i,this.toolkitElements,e);break;case"Reset":b.createResetButton(i,this.toolkitElements,e,this.isDevice)}m+=a+10}if(this.toolkitElements.setAttribute("opacity",this.isDevice?"1":""+this.zoomkitOpacity),this.toolkitElements.setAttribute("cursor","auto"),e.enableCanvas){let t=document.createElement("div");t.id=e.element.id+"_zoom",t.setAttribute("style","position:absolute; z-index:1");let i=e.svgRenderer.createSvg({id:e.element.id+"_zoomkit_svg",width:e.availableSize.width,height:e.availableSize.height/2});i.setAttribute("style","position:absolute"),i.appendChild(this.toolkitElements),t.appendChild(i),document.getElementById(this.elementId+"_Secondary_Element").appendChild(t)}else e.svgObject.appendChild(this.toolkitElements);return this.isDevice||(h.l.add(this.toolkitElements,"mousemove touchstart",this.zoomToolkitMove,this),h.l.add(this.toolkitElements,"mouseleave touchend",this.zoomToolkitLeave,this),this.isPanning&&b.pan()),!0}applyZoomToolkit(e,t){this.isAxisZoomed(t)?(this.showZoomingToolkit(e),this.isZoomed=!0):(this.toolkit.removeTooltip(),this.isPanning=!1,this.isZoomed=!1,e.svgObject.setAttribute("cursor","auto"))}isAxisZoomed(e){let t=!1;for(let i of e)t=t||1!==i.zoomFactor||0!==i.zoomPosition;return t}zoomToolkitMove(e){let t=this.toolkitElements;return t.getAttribute("opacity"),this.zoomkitOpacity=1,t.setAttribute("opacity",""+this.zoomkitOpacity),!1}zoomToolkitLeave(e){let t=this.toolkitElements;return this.zoomkitOpacity=.3,t.setAttribute("opacity",""+this.zoomkitOpacity),!1}addEventListener(){this.chart.isDestroyed||(h.l.add(this.chart.element,this.wheelEvent,this.chartMouseWheel,this),this.chart.on(h.d.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(h.d.touchStartEvent,this.mouseDownHandler,this),this.chart.on(h.d.touchEndEvent,this.mouseUpHandler,this),this.chart.on(this.cancelEvent,this.mouseCancelHandler,this))}removeEventListener(){this.chart.isDestroyed||(h.l.remove(this.chart.element,this.wheelEvent,this.chartMouseWheel),this.chart.off(h.d.touchMoveEvent,this.mouseMoveHandler),this.chart.off(h.d.touchStartEvent,this.mouseDownHandler),this.chart.off(h.d.touchEndEvent,this.mouseUpHandler),this.chart.off(this.cancelEvent,this.mouseCancelHandler))}chartMouseWheel(e){let t=this.chart,i=t.element.getBoundingClientRect(),s=dt(t.svgId).getBoundingClientRect(),o=e.clientX-i.left-Math.max(s.left-i.left,0),n=e.clientY-i.top-Math.max(s.top-i.top,0);return this.zooming.enableMouseWheelZooming&&Ue(o,n,t.chartAxisLayoutPanel.seriesClipRect)&&(e.preventDefault(),this.performMouseWheelZooming(e,o,n,t,t.axisCollections)),!1}mouseMoveHandler(e){let t=this.chart,i=null;"touchmove"===e.type&&(e.preventDefault&&this.isIOS&&(this.isPanning||t.isDoubleTap||this.zooming.enablePinchZooming&&this.touchStartList.length>1)&&e.preventDefault(),i=e.touches),t.isChartDrag&&(t.isTouch&&(this.touchMoveList=this.addTouchPointer(this.touchMoveList,e,i),this.zooming.enablePinchZooming&&this.touchMoveList.length>1&&this.touchStartList.length>1&&this.performPinchZooming(e,t)),this.renderZooming(e,t,t.isTouch))}mouseDownHandler(e){let t,i=this.chart,s=null;"touchstart"===e.type?(s=e.touches,t=e.target):t=e.target,-1===t.id.indexOf(i.element.id+"_Zooming_")&&Ue(i.previousMouseMoveX,i.previousMouseMoveY,i.chartAxisLayoutPanel.seriesClipRect)&&(i.isChartDrag=!0),i.isTouch&&(this.touchStartList=this.addTouchPointer(this.touchStartList,e,s))}mouseUpHandler(e){let t=this.chart,i=-1===e.target.id.indexOf(t.element.id+"_ZoomOut_")||-1===e.target.id.indexOf(t.element.id+"_ZoomIn_");(t.isChartDrag||i)&&this.performZoomRedraw(t),t.isTouch&&(t.isDoubleTap&&Ue(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&1===this.touchStartList.length&&this.isZoomed&&this.toolkit.reset(),this.touchStartList=[],t.isDoubleTap=!1)}mouseCancelHandler(e){this.isZoomed&&this.performZoomRedraw(this.chart),this.pinchTarget=null,this.touchStartList=[],this.touchMoveList=[]}addTouchPointer(e,t,i){if(i){e=[];for(let t=0,s=i.length;t<s;t++)e.push({pageX:i[t].clientX,pageY:i[t].clientY,pointerId:null})}else if(0===(e=e||[]).length)e.push({pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId});else for(let s=0,o=e.length;s<o;s++)e[s].pointerId===t.pointerId?e[s]={pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId}:e.push({pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId});return e}getModuleName(){return"Zoom"}destroy(e){this.removeEventListener()}}},rn={provide:"ChartsDataLabel",useValue:class{constructor(e){this.errorHeight=0,this.chart=e}initPrivateVariables(e,t){let i="",s="",o=e.chart.renderer,n=void 0===e.index?e.category:e.index;"Cartesian"===e.chart.chartAreaType&&(i="translate("+e.clipRect.x+","+e.clipRect.y+")",s="url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+n+")"),t.dataLabel.visible&&(e.shapeElement=o.createGroup({id:this.chart.element.id+"ShapeGroup"+n,transform:i,"clip-path":"url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+n+")"}),e.textElement=o.createGroup({id:this.chart.element.id+"TextGroup"+n,transform:i,"clip-path":s})),this.markerHeight="Scatter"===e.type||t.visible?t.height/2:0,this.commonId=this.chart.element.id+"_Series_"+n+"_Point_",this.calculateErrorHeight(e,e.marker.dataLabel.position),this.chartBackground="transparent"===this.chart.chartArea.background?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background}calculateErrorHeight(e,t){if(!e.errorBar.visible)return null;if(e.errorBar.visible&&"PolarRadar"!==this.chart.chartAreaType){let i=e.errorBar.direction,s=this.chart.errorBarModule.positiveHeight,o=this.chart.errorBarModule.negativeHeight;this.isRectSeries(e)?("Top"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Minus"===i?o:0),"Outer"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Plus"===i?s:0)):("Top"!==t&&"Outer"!==t&&"Auto"!==t||(this.errorHeight="Both"!==i&&"Plus"!==i||e.chart.isTransposed?0:s),"Bottom"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Minus"===i?o:0))}else this.errorHeight=0}isRectSeries(e){return e.isRectSeries||"RangeArea"===e.type}render(e,t,i){let s,o,n,r,a,l,c,d;this.initPrivateVariables(e,e.marker),this.inverted=t.requireInvertedAxis,this.yAxisInversed=e.yAxis.isInversed;let p,m=t.redraw,b=t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections",y=Object(h.F)("div",{id:b}),x=Me(e);for(let v=0;v<x.length;v++){p=x[v],this.margin=i.margin;let b,w,_,S,C,M,L=[],O=!0,A=e.clipRect;c=d=i.angle,a={width:i.border.width,color:i.border.color};let P=Object(h.J)({},Object(h.U)("properties",i.font),null,!0);if(p.symbolLocations.length&&p.symbolLocations[0]||"BoxAndWhisker"===e.type&&p.regions.length){L=vt(p,e,t),b=L.length;for(let h=0;h<b;h++)if(r={cancel:!1,name:"textRender",series:e,point:p,text:L[h],border:a,color:i.fill,template:i.template,font:P},t.trigger("textRender",r),!r.cancel)if(this.fontBackground=r.color,this.isDataLabelShape(r),this.markerHeight="Bubble"===e.type?p.regions[0].height/2:this.markerHeight,null!==r.template)this.createDataLabelTemplate(y,e,i,p,r,h,m);else{if(l=u(r.text,i.font),s=this.calculateTextPosition(p,e,l,i,h),"PolarRadar"===t.chartAreaType)for(let e of t.chartAxisLayoutPanel.visibleAxisLabelRect)if(St(new g(s.x,s.y,s.width,s.height),e)){O=!1;break}let a,b=new g(s.x+A.x,s.y+A.y,s.width,s.height),y=[];if(i.enableRotation&&0!==c){let e=this.getRectanglePoints(b);y.push(Ne(e,b.x+.5*b.width,b.y-b.height/2,c)),a=!0;for(let t=h;t>0;t--)if(y[h]&&y[t-1]&&Ve(y[h],y[t-1])){a=!1,y[h]=null;break}}else a=!_t(s,t.dataLabelCollections,A);a&&O&&(t.dataLabelCollections.push(b),this.isShape&&(M=t.renderer.drawRectangle(new Wt(this.commonId+p.index+"_TextShape_"+h,r.color,r.border,i.opacity,s,i.rx,i.ry),new Int32Array([A.x,A.y])),e.shapeElement&&e.shapeElement.appendChild(M)),o=Lt(Ot(this.fontBackground)),n=Math.round((299*o.r+587*o.g+114*o.b)/1e3),w=s.x+this.margin.left+l.width/2,_=s.y+this.margin.top+3*l.height/4,0!==c&&i.enableRotation?(S=w-i.margin.left/2+i.margin.right/2,C=_-i.margin.top/2-l.height/i.margin.top+i.margin.bottom/2,d=c>360?c-360:c<-360?c+360:c):(d=0,S=s.x,C=s.y),It(t.renderer,new f(this.commonId+p.index+"_Text_"+h,w,_,"middle",r.text,"rotate("+d+","+S+","+C+")","auto",d),r.font,r.font.color||(n>=128||"Hilo"===e.type?"black":"white"),e.textElement,!1,m,!0,!1,e.chart.duration,e.clipRect))}}}y.childElementCount&&yt(t.enableCanvas,dt(t.element.id+"_Secondary_Element"),y,t.redraw,!1,"x","y",null,"",!1,!1,null,t.duration)}getRectanglePoints(e){return[new Yt(e.x,e.y),new Yt(e.x+e.width,e.y),new Yt(e.x+e.width,e.y+e.height),new Yt(e.x,e.y+e.height)]}createDataLabelTemplate(e,t,i,s,o,n,r){this.margin={left:0,right:0,bottom:0,top:0};let a=t.clipRect,l=ut(Object(h.F)("div",{id:this.chart.element.id+"_Series_"+(void 0===t.index?t.category:t.index)+"_DataLabel_"+s.index+(n?"_"+n:""),styles:"position: absolute;background-color:"+o.color+";"+pt(i.font)+";border:"+o.border.width+"px solid "+o.border.color+";"}),0,o.template,this.chart,s,t,this.chart.element.id+"_DataLabel"),c=mt(l,r),d=this.calculateTextPosition(s,t,{width:c.width,height:c.height},i,n);l.style.left=("PolarRadar"===this.chart.chartAreaType?0:t.clipRect.x)+d.x+"px",l.style.top=("PolarRadar"===this.chart.chartAreaType?0:t.clipRect.y)+d.y+"px";let u=Lt(Ot(this.fontBackground)),p=t.chart.requireInvertedAxis?t.xAxis:t.yAxis,m=t.chart.requireInvertedAxis?t.yAxis:t.xAxis;l.style.color=i.font.color||(Math.round((299*u.r+587*u.g+114*u.b)/1e3)>=128?"black":"white"),l.childElementCount&&(!_t(d,this.chart.dataLabelCollections,a)||"None"===i.labelIntersectAction)&&("XY"!==t.seriesType||void 0===s.yValue||Te(s.yValue,t.yAxis.visibleRange)||t.type.indexOf("100")>-1&&Te(t.stackedValues.endValues[s.index],t.yAxis.visibleRange))&&Te(s.xValue,t.xAxis.visibleRange)&&parseFloat(l.style.top)>=p.rect.y&&parseFloat(l.style.left)>=m.rect.x&&parseFloat(l.style.top)<=p.rect.y+p.rect.height&&parseFloat(l.style.left)<=m.rect.x+m.rect.width&&(this.chart.dataLabelCollections.push(new g(d.x+a.x,d.y+a.y,d.width,d.height)),yt(this.chart.enableCanvas,e,l,r,!0,"left","top"),t.animation.enable&&this.chart.animateSeries&&this.doDataLabelAnimation(t,l))}calculateTextPosition(e,t,i,s,o){let n,r=o>1&&"Candle"===t.type?e.regions[1]:e.regions[0];o>1&&"HiloOpenClose"===t.type&&(r=2===o?e.regions[1]:e.regions[2]),n=this.getLabelLocation(e,t,i,o);let a,l=t.clipRect;if(this.chart.requireInvertedAxis&&this.isRectSeries(t)&&"BoxAndWhisker"!==t.type){this.locationY=n.y;let a=i.width+this.borderWidth+this.margin.left+this.margin.right-5;n.x="Auto"===s.position?n.x:this.calculateAlignment(a,n.x,s.alignment,e.yValue<0),n.x=this.calculateRectPosition(n.x,r,e.yValue<0!==this.yAxisInversed,s.position,t,i,o,e)}else{this.locationX=n.x;let a=i.height+2*this.borderWidth+this.markerHeight+this.margin.bottom+this.margin.top+5;n.y="Auto"===s.position?n.y:this.calculateAlignment(a,n.y,s.alignment,!!this.isRectSeries(t)&&e.yValue<0),n.y=this.isRectSeries(t)&&"BoxAndWhisker"!==t.type?this.calculateRectPosition(n.y,r,e.yValue<0!==this.yAxisInversed,s.position,t,i,o,e):this.calculatePathPosition(n.y,s.position,t,e,i,o),this.isRectSeries(t)&&"PolarRadar"===this.chart.chartAreaType&&(n=this.calculatePolarRectPosition(n,s.position,t,e,i,o,s.alignment,a))}return a=Ct(n,i,this.margin),!0===s.enableRotation&&0!==s.angle||a.y>l.y+l.height||a.x>l.x+l.width||a.x+a.width<0||a.y+a.height<0||(a.x=a.x<0?5:a.x,a.y=a.y<0?5:a.y,a.x-=a.x+a.width>l.x+l.width?a.x+a.width-(l.x+l.width)+5:0,a.y-=a.y+a.height>l.y+l.height?a.y+a.height-(l.y+l.height)+5:0,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground),a}calculatePolarRectPosition(e,t,i,s,o,n,r,a){let l,h=this.chart.availableSize.width,c="Center"===r?0:"Far"===r?1:-1,d=s.regionData.startAngle-.5*Math.PI+(s.regionData.endAngle-s.regionData.startAngle)/2;return l=0===n?s.regionData.radius<s.regionData.innerRadius?s.regionData.innerRadius:s.regionData.radius:s.regionData.radius>s.regionData.innerRadius?s.regionData.innerRadius:s.regionData.radius,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,i.drawType.indexOf("Stacking")>-1?t="Outer"===t?"Top":t:i.drawType.indexOf("Range")>-1&&(t="Outer"===t||"Top"===t?t:"Auto"),"Outer"===t?l=0===n?l+10+this.markerHeight:l-10-this.markerHeight:"Middle"===t?(l=l/2+5,"StackingColumn"===i.drawType&&(l=s.regionData.innerRadius+(s.regionData.radius-s.regionData.innerRadius)/2+5-o.height/2)):"Top"===t?l=0===n?l-10-this.markerHeight:l+10+this.markerHeight:"Bottom"===t?(l=10,l+="StackingColumn"===i.drawType?s.regionData.innerRadius+this.markerHeight:0):l=0===n?l>=i.chart.radius?l-5:"StackingColumn"===i.drawType?l-10:l+10:l>=i.chart.radius?l+5:l-10,l+=a*c,e.x=i.clipRect.width/2+i.clipRect.x+l*Math.cos(d),"StackingColumn"===i.drawType?e.x=e.x<h/2?e.x+o.width/2:e.x>h/2?e.x-o.width/2:e.x:"Column"===i.drawType&&(e.x=e.x<h/2?e.x-o.width/2:e.x>h/2?e.x+o.width/2:e.x),e.y=i.clipRect.height/2+i.clipRect.y+l*Math.sin(d),e}getLabelLocation(e,t,i,s){let o=new Yt(0,0),n="Candle"===t.type&&s>1?e.regions[1]:e.regions[0];"HiloOpenClose"===t.type&&(n=2===s?e.regions[1]:e.regions[2]);let r=t.xAxis,a=t.yAxis,l=t.chart.requireInvertedAxis;if("BoxAndWhisker"===t.type){switch(this.markerHeight=0,s){case 0:o=gt(e.xValue,e.median,r,a,l);break;case 1:o=gt(e.xValue,e.maximum,r,a,l);break;case 2:o=gt(e.xValue,e.minimum,r,a,l);break;case 3:o=gt(e.xValue,e.upperQuartile,r,a,l);break;case 4:o=gt(e.xValue,e.lowerQuartile,r,a,l);break;default:o=gt(e.xValue,e.outliers[s-5],r,a,l),this.markerHeight=t.marker.height/2}l?o.y=e.regions[0].y+e.regions[0].height/2:o.x=e.regions[0].x+e.regions[0].width/2}else o=0===s||1===s?new Yt(e.symbolLocations[0].x,e.symbolLocations[0].y):2!==s&&3!==s||"Candle"!==t.type?l?{x:n.x+n.width/2,y:n.y}:{x:n.x+n.width,y:n.y+n.height/2}:new Yt(e.symbolLocations[1].x,e.symbolLocations[1].y);return s>1&&"HiloOpenClose"===t.type&&(t.chart.requireInvertedAxis?o.y=n.y+n.height/2+2*(2===s?1:-1):o.x=n.x+n.width/2+2*(2===s?1:-1)),o}calculateRectPosition(e,t,i,s,o,n,r,a){if("PolarRadar"===o.chart.chartAreaType)return null;let l=this.margin,h=this.borderWidth+(this.inverted?n.width:n.height)/2+5;switch(o.type.indexOf("Stacking")>-1?s="Outer"===s?"Top":s:o.type.indexOf("Range")>-1?s="Outer"===s||"Top"===s?s:"Auto":"Waterfall"===o.type&&(s="Auto"===s?"Middle":s),s){case"Bottom":e=this.inverted?i?e+t.width-h-l.left:e-t.width+h+l.right:i?e-t.height+h+l.top:e+t.height-h-l.bottom;break;case"Middle":e=e=this.inverted?i?e+t.width/2:e-t.width/2:i?e-t.height/2:e+t.height/2;break;case"Auto":e=this.calculateRectActualPosition(e,t,i,o,n,r,a);break;default:h+=this.errorHeight,e=this.calculateTopAndOuterPosition(e,t,s,o,r,h,i)}return this.fontBackground=(this.inverted?e<t.x||e>t.x+t.width:e<t.y||e>t.y+t.height)?"transparent"===this.fontBackground?this.chartBackground:this.fontBackground:"transparent"===this.fontBackground?a.color||o.interior:this.fontBackground,e}calculatePathPosition(e,t,i,s,o,n){switch(i.type.indexOf("Area")>-1&&"RangeArea"!==i.type&&this.yAxisInversed&&"Auto"!==i.marker.dataLabel.position&&(t="Top"===t?"Bottom":"Bottom"===t?"Top":t),this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,t){case"Top":case"Outer":e=e-this.markerHeight-this.borderWidth-o.height/2-this.margin.bottom-5-this.errorHeight;break;case"Bottom":e=e+this.markerHeight+this.borderWidth+o.height/2+this.margin.top+5+this.errorHeight;break;case"Auto":e=this.calculatePathActualPosition(e,this.markerHeight,i,s,o,n)}return e}isDataLabelShape(e){this.isShape="transparent"!==e.color||e.border.width>0,this.borderWidth=e.border.width,this.isShape||(this.margin={left:0,right:0,bottom:0,top:0})}calculateRectActualPosition(e,t,i,s,o,n,r){let a,l,h=!0,c=0,d=this.chart.dataLabelCollections,u=-1!==s.type.indexOf("Range")||"Hilo"===s.type?2:4;for(;h&&c<u;)a=this.calculateRectPosition(e,t,i,this.getPosition(c),s,o,n,r),this.inverted?(l=Ct(new Yt(a,this.locationY),o,this.margin),h=l.x<0||_t(l,d,s.clipRect)||l.x+l.width>s.clipRect.width):(l=Ct(new Yt(this.locationX,a),o,this.margin),h=l.y<0||_t(l,d,s.clipRect)||l.y>s.clipRect.height),c++;return a}calculateAlignment(e,t,i,s){switch(i){case"Far":t=this.inverted?s?t-e:t+e:s?t+e:t-e;break;case"Near":t=this.inverted?s?t+e:t-e:s?t-e:t+e;break;case"Center":t=t}return t}calculateTopAndOuterPosition(e,t,i,s,o,n,r){let a,l=this.margin;switch(s.type){case"RangeColumn":case"RangeArea":case"Hilo":a=0===o&&!this.yAxisInversed||1===o&&this.yAxisInversed,e=this.updateLabelLocation(i,e,n,l,t,a);break;case"Candle":a=(0===o||2===o)&&!this.yAxisInversed||(1===o||3===o)&&this.yAxisInversed,e=this.updateLabelLocation(i,e,n,l,t,a,o>1);break;case"HiloOpenClose":o<=1?(a=0===o&&!this.yAxisInversed||1===o&&this.yAxisInversed,e=this.updateLabelLocation(i,e,n,l,t,a)):e=this.yAxisInversed?this.inverted?e-n-l.right:e+n+l.top:this.inverted?e+n+l.left:e-n-l.bottom;break;default:e=r&&"Top"===i||!r&&"Outer"===i?this.inverted?e+n+l.left+this.markerHeight:e-n-l.bottom-this.markerHeight:this.inverted?e-n-l.right-this.markerHeight:e+n+l.top+this.markerHeight}return e}updateLabelLocation(e,t,i,s,o,n,r=!1){return this.inverted?n?"Outer"!==e||r?t-i-s.right-this.markerHeight:t+i+s.left+this.markerHeight:"Outer"!==e||r?t-o.width+i+s.left+this.markerHeight:t-o.width-i-s.right-this.markerHeight:n?"Outer"!==e||r?t+i+s.top+this.markerHeight:t-i-s.bottom-this.markerHeight:"Outer"!==e||r?t+o.height-i-s.bottom-this.markerHeight:t+o.height+i+s.top+this.markerHeight}calculatePathActualPosition(e,t,i,s,o,n){let r,a,l,h,c,d=i.points,u=s.index,p=d[u].yValue,m=d.length-1>u?d[u+1]:null,g=u>0?d[u-1]:null,b=!0,y=this.chart.dataLabelCollections;if("Bubble"===i.type)r="Top";else if(i.type.indexOf("Step")>-1)r="Top",u&&(r=g&&g.visible&&p>g.yValue===this.yAxisInversed&&p!==g.yValue?"Bottom":"Top");else if("BoxAndWhisker"===i.type)1===n||3===n||n>4?r=i.yAxis.isInversed?"Bottom":"Top":2===n||4===n?r=i.yAxis.isInversed?"Top":"Bottom":(b=!1,r="Middle",a=this.calculatePathPosition(e,r,i,s,o,n));else if(0===u)r=!m||!m.visible||p>m.yValue||p<m.yValue&&this.yAxisInversed?"Top":"Bottom";else if(u===d.length-1)r=!g||!g.visible||p>g.yValue||p<g.yValue&&this.yAxisInversed?"Top":"Bottom";else if(m.visible||g&&g.visible)if(m.visible&&g){let e=(m.yValue-g.yValue)/2,t=e*u+(m.yValue-e*(u+1));r=this.yAxisInversed?t<p?"Bottom":"Top":t<p?"Top":"Bottom"}else r=m.yValue>p||g&&g.yValue>p?"Bottom":"Top";else r="Top";for(h="Bottom"===r,c=["Outer","Top","Bottom","Middle","Auto"].indexOf(r);b&&c<4;)a=this.calculatePathPosition(e,this.getPosition(c),i,s,o,n),l=Ct(new Yt(this.locationX,a),o,this.margin),b=l.y<0||_t(l,y,i.clipRect)||l.y+l.height>i.clipRect.height,c=h?c-1:c+1,h=!1;return a}doDataLabelAnimation(e,t){let i,s,o=e.shapeElement.childNodes,n=e.textElement.childNodes,r=e.animation.delay+e.animation.duration,a=e.chart.animated?e.chart.duration:200,l=t?1:n.length;for(let h=0;h<l;h++)s=n[h],t?(t.style.visibility="hidden",lt(t,r,a,"ZoomIn")):(i=new Yt(+s.getAttribute("x")+ +s.getAttribute("width")/2,+s.getAttribute("y")+ +s.getAttribute("height")/2),it(s,r,a,e,null,i,!0),o[h]&&(s=o[h],i=new Yt(+s.getAttribute("x")+ +s.getAttribute("width")/2,+s.getAttribute("y")+ +s.getAttribute("height")/2),it(s,r,a,e,null,i,!0)))}getPosition(e){return["Outer","Top","Bottom","Middle","Auto"][e]}getModuleName(){return"DataLabel"}destroy(e){}}},an={provide:"ChartsSelection",useValue:Bi},ln={provide:"ChartsChartAnnotation",useValue:class extends class{constructor(e){this.control=e}render(e,t){return this.isChart="chart"===this.control.getModuleName(),this.annotation=e,ut(Object(h.F)("div",{id:this.control.element.id+"_Annotation_"+t,styles:"position: absolute; z-index: 1"}),0,e.content,this.control)}setAnnotationPixelValue(e){let t;return t="Chart"===this.annotation.region?new g(0,0,this.control.availableSize.width,this.control.availableSize.height):this.isChart?this.control.chartAxisLayoutPanel.seriesClipRect:this.control.series[0].accumulationBound,e.x=("string"!=typeof this.annotation.x?"number"==typeof this.annotation.x?this.annotation.x:0:Tt(this.annotation.x,t.width))+t.x,e.y=("number"==typeof this.annotation.y?this.annotation.y:Tt(this.annotation.y,t.height))+t.y,!0}setAnnotationPointValue(e){let t=new Yt(0,0);if(this.isChart){let i,s,o,n=this.control,r=this.annotation,a=!1,l=r.xAxisName,h=r.yAxisName,c=n.requireInvertedAxis,d=this.control.stockChart;for(let e of n.axisCollections)if(l===e.name||null==l&&"primaryXAxis"===e.name)if(i=e,i.valueType.indexOf("Category")>-1){let e="DateTimeCategory"===i.valueType?r.x.getTime().toString():r.x;if(i.labels.indexOf(e)<0)return!1;o=i.labels.indexOf(e)}else if("DateTime"===i.valueType){let e={skeleton:"full",type:"dateTime"};o="object"==typeof this.annotation.x?Date.parse(n.intl.getDateParser(e)(n.intl.getDateFormat(e)(new Date(T.b.parse.parseJson({val:r.x}).val)))):0}else o=+r.x;else(h===e.name||null==h&&"primaryYAxis"===e.name)&&(s=e,a="Logarithmic"===s.valueType);return!!(i&&s&&Te("Logarithmic"===i.valueType?Ae(o,i.logBase):o,i.visibleRange)&&Te("Logarithmic"===s.valueType?Ae(+r.y,s.logBase):+r.y,s.visibleRange))&&(t=gt(o,+r.y,i,s,c),e.x=t.x+(c?s.rect.x:i.rect.x),e.y=t.y+(c?i.rect.y:s.rect.y)+(d&&d.enablePeriodSelector?d.toolbarHeight+d.titleSize.height:0),!0)}return this.setAccumulationPointValue(e)}processAnnotation(e,t,i){let s,o,n=this.control;o=new Yt(0,0),s=this.render(e,t),this["setAnnotation"+e.coordinateUnits+"Value"](o)?this.setElementStyle(o,s,i):this.control.redraw&&Oe(s.id);let r=()=>{s.style.transform="translate(-50%, -50%)"};r.bind(o,this),Object(h.rb)((this.control.element.id+"Annotation"+t).replace(/[^a-zA-Z0-9]/g,""),"ContentTemplate",n.stockChart?n.stockChart.annotations[t]:this.control.annotations[t],void 0,r)}setAccumulationPointValue(e){let t,i=this.control;for(let s of i.visibleSeries[0].points)if("object"==typeof s.x){if(Date.parse(s.x)===Date.parse(this.annotation.x)&&s.y==this.annotation.y){t=s;break}}else if(s.x==this.annotation.x&&s.y==this.annotation.y){t=s;break}return!(!t||!t.visible||(e.x=t.symbolLocation.x,e.y=t.symbolLocation.y,0))}setElementStyle(e,t,i){let s=mt(t,this.control.redraw),o={cancel:!1,name:"annotationRender",content:t,location:e};this.control.trigger("annotationRender",o),o.cancel||(o.content.style.left=this.setAlignmentValue(this.annotation.horizontalAlignment,s.width,o.location.x)+"px",o.content.style.top=this.setAlignmentValue(this.annotation.verticalAlignment,s.height,o.location.y)+"px",o.content.setAttribute("aria-label",this.annotation.description||"Annotation"),bt(o.content,i,this.control.redraw,!0,"left","top"))}setAlignmentValue(e,t,i){switch(e){case"Top":case"Near":i-=t;break;case"Bottom":case"Far":i+=0;break;case"Middle":case"Center":i-=t/2}return i}}{constructor(e,t){super(e),this.chart=e,this.annotations=t}renderAnnotations(e){this.annotations=this.chart.annotations,this.parentElement=Rt(this.chart.redraw,this.chart.element.id+"_Annotation_Collections")||Object(h.F)("div",{id:this.chart.element.id+"_Annotation_Collections"}),this.annotations.map((e,t)=>{this.processAnnotation(e,t,this.parentElement)}),bt(this.parentElement,e,this.chart.redraw)}destroy(e){}getModuleName(){return"Annotation"}}},hn={provide:"ChartsHiloSeries",useValue:class extends Pi{render(e){let t,i,s=this.getSideBySideInfo(e);for(let o of e.points)o.symbolLocations=[],o.regions=[],o.visible&&je(e.points[o.index-1],o,e.points[o.index+1],e)&&(t=this.getRectangle(o.xValue+s.median,o.high,o.xValue+s.median,o.low,e),i=this.triggerPointRenderEvent(e,o),i.cancel||(e.chart.requireInvertedAxis?(t.height=i.border.width,t.y=t.y-t.height/2):(t.width=i.border.width,t.x=t.x-t.width/2),i.border.width=0,this.updateSymbolLocation(o,t,e),this.drawRectangle(e,o,t,i)))}triggerPointRenderEvent(e,t){let i={color:e.fill,width:Math.max(e.border.width,2)};return super.triggerEvent(e,t,e.interior,i)}getModuleName(){return"HiloSeries"}doAnimation(e){this.animate(e)}destroy(e){}}},cn={provide:"ChartsHiloOpenCloseSeries",useValue:class extends Pi{render(e){let t,i,s=this.getSideBySideInfo(e),o=Math.max(e.border.width,2);for(let n of e.points)n.symbolLocations=[],n.regions=[],n.visible&&je(e.points[n.index-1],n,e.points[n.index+1],e)&&(t=this.getRectangle(n.xValue+s.start,Math.max(n.high,n.low),n.xValue+s.end,Math.min(n.high,n.low),e),n.regions.push(this.getRectangle(n.xValue+s.median,Math.max(n.high,n.low),n.xValue+s.median,Math.min(n.high,n.low),e)),this.updateTickRegion(!e.chart.requireInvertedAxis,n.regions[0],o),n.regions.push(this.getRectangle(n.xValue+s.start,Math.max(n.open,n.close),n.xValue+s.median,Math.max(n.open,n.close),e)),n.regions.push(this.getRectangle(n.xValue+s.median,Math.min(n.open,n.close),n.xValue+s.end,Math.min(n.open,n.close),e)),i=this.triggerPointRenderEvent(e,n),i.cancel||(this.updateSymbolLocation(n,n.regions[0],e),this.drawHiloOpenClosePath(e,n,{x:n.regions[1].x,y:n.regions[1].y},{x:n.regions[2].x,y:n.regions[2].y},t,i)),this.updateTickRegion(e.chart.requireInvertedAxis,n.regions[1],o),this.updateTickRegion(e.chart.requireInvertedAxis,n.regions[2],o))}updateTickRegion(e,t,i){e?(t.x-=i/2,t.width=i):(t.y-=i/2,t.height=i)}triggerPointRenderEvent(e,t){let i=t.open<=t.close?e.bearFillColor:e.bullFillColor,s={color:e.border.color,width:Math.max(e.border.width,1)};return this.triggerEvent(e,t,i,s)}drawHiloOpenClosePath(e,t,i,s,o,n){let r,a;e.chart.requireInvertedAxis?(r="M "+o.x+" "+(o.y+o.height/2)+" L "+(o.x+o.width)+" "+(o.y+o.height/2)+" ",r+="M "+i.x+" "+(o.y+o.height/2)+" L "+i.x+" "+(o.y+o.height)+" ",r+="M "+s.x+" "+(o.y+o.height/2)+" L "+s.x+" "+o.y+" "):(r="M "+(o.x+o.width/2)+" "+(o.y+o.height)+" L "+(o.x+o.width/2)+" "+o.y+" ",r+="M "+o.x+" "+i.y+" L "+(o.x+o.width/2)+" "+i.y+" ",r+="M "+(o.x+o.width/2)+" "+s.y+" L "+(o.x+o.width)+" "+s.y+" "),a=new _(e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,n.fill,n.border.width,n.fill,e.opacity,e.dashArray,r),st(dt(a.id),r,e.chart.redraw);let l=e.chart.renderer.drawPath(a,new Int32Array([e.clipRect.x,e.clipRect.y]));l.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString()+":"+t.close.toString()+":"+t.open.toString()),e.chart.enableCanvas||e.seriesElement.appendChild(l)}getModuleName(){return"HiloOpenCloseSeries"}doAnimation(e){this.animate(e)}destroy(e){}}},dn={provide:"ChartsWaterfallSeries",useValue:class extends Pi{render(e){let t,i,s,o,n=this.getSideBySideInfo(e),r=Math.max(e.yAxis.visibleRange.min,0),a=0,l="",h=0,c=null,d=e.chart.requireInvertedAxis,u=0,p=e.chart.redraw;for(let b of e.points)if(b.symbolLocations=[],b.regions=[],b.visible&&je(e.points[b.index-1],b,e.points[b.index+1],e)){let p=this.isIntermediateSum(e,b.index),m=this.isSumIndex(e,b.index);h+=p||!0===m?0:b.yValue,s=!0===p?u:null===a||m?r:a,t=this.getRectangle(b.xValue+n.start,h,b.xValue+n.end,s,e),i=this.triggerPointRenderEvent(e,b),p&&(u=h),a=h,i.cancel||(this.updateSymbolLocation(b,t,e),this.drawRectangle(e,b,t,i));let g=b.regions[0];if(null!==c){let e=d?g.x:g.y,t=d?c.x+c.width:c.y+c.height,i=d?g.x+g.width:g.y+g.height;o=Math.round(d?c.x:c.y)===Math.round(e)||Math.round(t)===Math.round(e)?d?g.x:g.y:i,l=l.concat(d?"M "+o+" "+(c.y+c.height)+" L "+o+" "+g.y+" ":"M "+c.x+" "+o+" L "+(g.x+g.width)+" "+o+" ")}c=b.regions[0]}let m=new _(e.chart.element.id+"_Series_"+e.index+"_Connector_","none",e.connector.width,e.connector.color,e.opacity,e.connector.dashArray,l);p&&dt(m.id)&&(l=dt(m.id).getAttribute("d"));let g=Rt(p,m.id,m,e.chart.renderer)||e.chart.renderer.drawPath(m,new Int32Array([e.clipRect.x,e.clipRect.y]));g.style.visibility=e.chart.enableCanvas?null:e.animation.enable&&e.chart.animateSeries?"hidden":"visible",yt(e.chart.enableCanvas,e.seriesElement,g,p,!0,null,null,null,l),this.renderMarker(e)}isIntermediateSum(e,t){return void 0!==e.intermediateSumIndexes&&-1!==e.intermediateSumIndexes.indexOf(t)}isSumIndex(e,t){return void 0!==e.sumIndexes&&-1!==e.sumIndexes.indexOf(t)}triggerPointRenderEvent(e,t){let i,s=this.isIntermediateSum(e,t.index),o=this.isSumIndex(e,t.index);return i=s||o?e.summaryFillColor:t.y<0?e.negativeFillColor:e.interior,this.triggerEvent(e,t,i,{color:e.border.color,width:e.border.width})}processInternalData(e,t){let i,s=e,o=t.intermediateSumIndexes,n=t.sumIndexes;if(void 0!==o&&o.length>0)for(let r=0;r<o.length;r++)for(let e=0;e<s.length;e++)e===o[r]&&(i=ze(s,0===r?-1:o[r-1],o[r],null,t),s[e][t.yName]=i);if(void 0!==n&&n.length>0)for(let r=0;r<n.length;r++)for(let e=0;e<s.length;e++)e===n[r]&&(i=ze(s,-1,n[r],void 0!==o?n:null,t),s[e][t.yName]=i);return s}doAnimation(e){this.animate(e)}getModuleName(){return"WaterfallSeries"}destroy(e){}}},un={provide:"ChartsRangeAreaSeries",useValue:class extends Oi{render(e,t,i,s){let o,n="",r="M",a=void 0,l=this.enableComplexProperty(e);for(let c=0,d=l.length;c<d;c++){o=l[c],o.symbolLocations=[],o.regions=[];let h=Math.min(o.low,o.high),d=Math.max(o.low,o.high);if(i.isInversed){let e=h;h=d,d=e}let u=gt(o.xValue,h,t,i,s),p=gt(o.xValue,d,t,i,s);o.symbolLocations.push(p),o.symbolLocations.push(u);let m=new g(Math.min(u.x,p.x),Math.min(u.y,p.y),Math.max(Math.abs(p.x-u.x),e.marker.width),Math.max(Math.abs(p.y-u.y),e.marker.width));s?m.y-=e.marker.width/2:m.x-=e.marker.width/2,o.regions.push(m),o.visible&&je(l[o.index-1],o,l[o.index+1],e)?(n=n.concat(r+" "+u.x+" "+u.y+" "),a=!1,(c+1<l.length&&!l[c+1].visible||c===l.length-1)&&(n=this.closeRangeAreaPath(l,o,e,n,c),r="M",n=n.concat(" Z"),a=!0),r="L"):(!1===a&&0!==c&&(n=this.closeRangeAreaPath(l,o,e,n,c),a=!0),r="M",o.symbolLocations=[])}let h=new _("Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,n);this.appendLinePath(h,e,""),this.renderMarker(e)}closeRangeAreaPath(e,t,i,s,o){for(let n=o;n>=0&&e[n].visible&&e[n].symbolLocations[0];n--)s+="L "+(t=e[n]).symbolLocations[0].x+" "+t.symbolLocations[0].y+" ";return s}doAnimation(e){this.doLinearAnimation(e,e.animation)}getModuleName(){return"RangeAreaSeries"}destroy(e){}}},pn={provide:"ChartsCandleSeries",useValue:class extends Pi{render(e){let t,i=this.getSideBySideInfo(e),s=Math.max(e.border.width,1);for(let o of e.points){let n,r,a,l="";a=(i.start+i.end)/2,o.regions=[],o.symbolLocations=[],o.visible&&je(e.points[o.index-1],o,e.points[o.index+1],e)&&(r=this.getRectangle(o.xValue+i.median,Math.max(o.high,o.low),o.xValue+i.median,Math.min(o.high,o.low),e),e.chart.requireInvertedAxis?(r.y-=s/2,r.height=s):(r.x-=s/2,r.width=s),n=this.getRectangle(o.xValue+i.start,Math.max(o.open,o.close),o.xValue+i.end,Math.min(o.open,o.close),e),l=this.getPathString(r,n,e),t=this.triggerPointRenderEvent(e,o),t.cancel||(this.drawCandle(e,o,n,t,l),this.updateSymbolLocation(o,r,e),this.updateSymbolLocation(o,n,e)))}}triggerPointRenderEvent(e,t){let i;i=this.getCandleColor(t,e);let s={color:e.border.color,width:Math.max(e.border.width,1)};return this.triggerEvent(e,t,i,s)}getCandleColor(e,t){let i=t.points[e.index-1];return!1===t.enableSolidCandles?i&&i.close>e.close?t.bullFillColor:t.bearFillColor:e.open>e.close?t.bullFillColor:t.bearFillColor}getPathString(e,t,i){let s="",o=i.chart.requireInvertedAxis?e.y+e.height/2:e.x+e.width/2;return s+=i.chart.requireInvertedAxis?"M "+e.x+" "+o+" L "+t.x+" "+o:"M "+o+" "+e.y+" L "+o+" "+t.y,s=s.concat(" M "+t.x+" "+t.y+" L "+(t.x+t.width)+" "+t.y+" L "+(t.x+t.width)+" "+(t.y+t.height)+" L "+t.x+" "+(t.y+t.height)+" Z"),s+=i.chart.requireInvertedAxis?" M "+(t.x+t.width)+" "+o+" L "+(e.x+e.width)+" "+o:" M "+o+" "+(t.y+t.height)+" L "+o+" "+(e.y+e.height),s}drawCandle(e,t,i,s,o){if((e.chart.requireInvertedAxis?i.height:i.width)<=0)return null;let n=e.enableSolidCandles?s.fill:t.open>t.close?s.fill:"transparent";s.border.color=s.fill;let r=new _(e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,n,s.border.width,s.border.color,e.opacity,e.dashArray,o),a=dt(r.id),l=a?a.getAttribute("d"):null,h=e.chart.renderer.drawPath(r,new Int32Array([e.clipRect.x,e.clipRect.y]));h.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString()+":"+t.close.toString()+":"+t.open.toString()),e.chart.enableCanvas||e.seriesElement.appendChild(h),st(a,o,e.chart.redraw,l)}doAnimation(e){this.animate(e)}getModuleName(){return"CandleSeries"}destroy(e){}}},mn={provide:"ChartsPolarSeries",useValue:ji},gn={provide:"ChartsRadarSeries",useValue:class extends ji{render(e,t,i,s){let o=Ke(e.drawType),n=i.minimum,r=i.maximum;for(let a of e.points)a.visible=a.visible&&!(!Object(h.W)(n)&&a.yValue<n||!Object(h.W)(r)&&a.yValue>r);-1===e.drawType.indexOf("Column")?e.chart[o+"SeriesModule"].render(e,t,i,s):this.columnDrawTypeRender(e,t,i)}getRadarIsInversedPath(e,t){let i,s,o,n=this.chart.radius,r=e.visibleLabels.length,a=t;o=Ze(Xe(e.visibleLabels[0].value,e),this.startAngle),s=this.centerY+n*o.y,i=this.centerX+n*o.x,a+=" L "+i+" "+s+" ";for(let l=r-1;l>=0;l--)o=Ze(Xe(e.visibleLabels[l].value,e),this.startAngle),s=this.centerY+n*o.y,i=this.centerX+n*o.x,a+="L "+i+" "+s+" ";return a}getModuleName(){return"RadarSeries"}destroy(e){}}},bn={provide:"ChartsSmaIndicator",useValue:class extends zi{initDataSource(e,t){let i=[],s=e.points;if(s&&s.length){let t=s,o=Ke(e.field),n="x",r=e.targetSeries[0];if(t&&t.length&&t.length>=e.period){let s=0,a=0;for(let i=0;i<e.period;i++)a+=t[i][o];s=a/e.period,i.push(this.getDataPoint(t[e.period-1][n],s,t[e.period-1],r,i.length));let l=e.period;for(;l<t.length;)a-=t[l-e.period][o],a+=t[l][o],s=a/e.period,i.push(this.getDataPoint(t[l][n],s,t[l],r,i.length)),l++}this.setSeriesRange(i,e)}}destroy(e){}getModuleName(){return"SmaIndicator"}}},yn={provide:"ChartsTmaIndicator",useValue:class extends zi{initDataSource(e,t){let i=[],s=Ke(e.field),o=e.points;if(o&&o.length&&o.length>=e.period){let t=e.targetSeries[0],o=e.points;if(o.length&&o.length>=e.period){let n=0,r=[],a=0,l=o.length,h=e.period;for(;l>=h;){n=0,a=o.length-l;for(let e=a;e<a+h;e++)n+=o[e][s];n/=h,r.push(n),l--}for(let e=0;e<h-1;e++){n=0;for(let t=0;t<e+1;t++)n+=o[t][s];n/=e+1,r.splice(e,0,n)}for(a=e.period;a<=r.length;){n=0;for(let t=a-e.period;t<a;t++)n+=r[t];n/=e.period,i.push(this.getDataPoint(o[a-1].x,n,o[a-1],t,i.length)),a++}}}this.setSeriesRange(i,e)}destroy(e){}getModuleName(){return"TmaIndicator"}}},fn={provide:"ChartsEmaIndicator",useValue:class extends zi{initDataSource(e,t){let i=Ke(e.field),s=[],o=e.targetSeries[0],n=e.points;if(n&&n.length&&n.length>=e.period){let t=0,r=0,a=2/(e.period+1);for(let s=0;s<e.period;s++)t+=n[s][i];r=t/e.period,s.push(this.getDataPoint(n[e.period-1].x,r,n[e.period-1],o,s.length));let l=e.period;for(;l<n.length;){let t=s[l-e.period][o.yName];s.push(this.getDataPoint(n[l].x,(n[l][i]-t)*a+t,n[l],o,s.length)),l++}}this.setSeriesRange(s,e)}destroy(e){}getModuleName(){return"EmaIndicator"}}},xn={provide:"ChartsAccumulationDistributionIndicator",useValue:class extends zi{initDataSource(e,t){let i=[],s=e.points;s.length>0&&s.length>e.period&&(i=this.calculateADPoints(e,s)),this.setSeriesRange(i,e)}calculateADPoints(e,t){let i=[],s=0,o=0,n=0,r=0,a=0,l=0,h=e.targetSeries[0];for(o=0;o<t.length;o++)r=Number(t[o].high),a=Number(t[o].low),l=Number(t[o].close),n=(l-a-(r-l))/(r-a),s+=n*Number(t[o].volume),i[o]=this.getDataPoint(t[o].x,s,t[o],h,i.length);return i}destroy(e){}getModuleName(){return"AccumulationDistributionIndicator"}}},vn={provide:"ChartsMacdIndicator",useValue:class extends zi{initSeriesCollection(e,t){if(super.initSeriesCollection(e,t),"Line"===e.macdType||"Both"===e.macdType){let i=new hi(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,"MacdLine",e.macdLine.color,e.macdLine.width,t)}if("Histogram"===e.macdType||"Both"===e.macdType){let i=new hi(e,"targetSeries",{},!0);i.type="Column",this.setSeriesProperties(i,e,"Histogram",e.macdPositiveColor,e.width,t)}}initDataSource(e,t){let i,s,o=[],n=e.fastPeriod,r=e.slowPeriod,a=e.period,l=n+a,h=[],c=[],d=e.points,u=e.targetSeries[0];if("Histogram"===e.macdType?i=e.targetSeries[1]:(s=e.targetSeries[1],"Both"===e.macdType&&(i=e.targetSeries[2])),d&&l<d.length&&r<=n&&r>0&&l-2>=0){let t=this.calculateEMAValues(r,d,"close"),l=this.calculateEMAValues(n,d,"close"),p=this.getMACDVales(e,t,l);h=this.getMACDPoints(e,p,d,s||u);let m=this.calculateEMAValues(a,h,"y");o=this.getSignalPoints(e,m,d,u),i&&(c=this.getHistogramPoints(e,p,m,d,i))}this.setSeriesRange(o,e,e.targetSeries[0]),i&&this.setSeriesRange(c,e,i),s&&this.setSeriesRange(h,e,s)}calculateEMAValues(e,t,i){let s=0,o=0,n=[],r=2/(e+1);for(let l=0;l<e;l++)s+=Number(t[l][i]);o=s/e,n.push(o);let a=o;for(let l=e;l<t.length;l++)a=(Number(t[l][i])-a)*r+a,n.push(a);return n}getMACDPoints(e,t,i,s){let o=[],n=e.fastPeriod-1,r=0;for(;n<i.length;)o.push(this.getDataPoint(i[n].x,t[r],i[n],s,o.length)),n++,r++;return o}getSignalPoints(e,t,i,s){let o=e.fastPeriod+e.period-2,n=0,r=[];for(;o<i.length;)r.push(this.getDataPoint(i[o].x,t[n],i[o],s,r.length)),o++,n++;return r}getMACDVales(e,t,i){let s=[],o=e.fastPeriod-e.slowPeriod;for(let n=0;n<i.length;n++)s.push(t[n+o]-i[n]);return s}getHistogramPoints(e,t,i,s,o){let n=e.fastPeriod+e.period-2,r=0,a=[];for(;n<s.length;)a.push(this.getDataPoint(s[n].x,t[r+(e.period-1)]-i[r],s[n],o,a.length,e)),n++,r++;return a}destroy(e){}getModuleName(){return"MacdIndicator"}}},wn={provide:"ChartsAtrIndicator",useValue:class extends zi{initDataSource(e,t){let i=e.points;i.length>0&&i.length>e.period&&this.calculateATRPoints(e,i)}calculateATRPoints(e,t){let i=0,s=0,o=0,n=0,r=0,a=[],l=[],h=e.period,c=0,d=e.targetSeries[0];for(let u=0;u<t.length;u++)s=Number(t[u].high)-Number(t[u].low),u>0&&(o=Math.abs(Number(t[u].high)-Number(t[u-1].close)),n=Math.abs(Number(t[u].low)-Number(t[u-1].close))),r=Math.max(s,o,n),c+=r,u>=h?(i=(Number(l[u-1].y)*(h-1)+r)/h,a.push(this.getDataPoint(t[u].x,i,t[u],d,a.length))):(i=c/h,u===h-1&&a.push(this.getDataPoint(t[u].x,i,t[u],d,a.length))),l[u]={x:t[u].x,y:i};this.setSeriesRange(a,e)}destroy(e){}getModuleName(){return"AtrIndicator"}}},_n={provide:"ChartsRsiIndicator",useValue:class extends zi{initSeriesCollection(e,t){if(super.initSeriesCollection(e,t),e.showZones){let i=new hi(e,"targetSeries",{},!0);super.setSeriesProperties(i,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t);let s=new hi(e,"targetSeries",{},!0);super.setSeriesProperties(s,e,"UpperLine",e.upperLine.color,e.upperLine.width,t)}}initDataSource(e,t){let i=[],s=[],o=[],n=e.targetSeries[0],r=e.points;if(r.length&&r.length>=e.period){if(e.showZones)for(let i=0;i<r.length;i++)o.push(this.getDataPoint(r[i].x,e.overBought,r[i],e.targetSeries[1],o.length)),s.push(this.getDataPoint(r[i].x,e.overSold,r[i],e.targetSeries[2],s.length));let t=Number(r[0].close),a=0,l=0;for(let i=1;i<=e.period;i++){let e=Number(r[i].close);e>t?a+=e-t:l+=t-e,t=e}a/=e.period,l/=e.period,i.push(this.getDataPoint(r[e.period].x,100-100/(1+a/l),r[e.period],n,i.length));for(let s=e.period+1;s<r.length;s++){let o=Number(r[s].close);o>t?(a=(a*(e.period-1)+(o-t))/e.period,l=l*(e.period-1)/e.period):o<t&&(l=(l*(e.period-1)+(t-o))/e.period,a=a*(e.period-1)/e.period),t=o,i.push(this.getDataPoint(r[s].x,100-100/(1+a/l),r[s],n,i.length))}}this.setSeriesRange(i,e,e.targetSeries[0]),e.showZones&&(this.setSeriesRange(o,e,e.targetSeries[1]),this.setSeriesRange(s,e,e.targetSeries[2]))}destroy(e){}getModuleName(){return"RsiIndicator"}}},Sn={provide:"ChartsMomentumIndicator",useValue:class extends zi{initSeriesCollection(e,t){super.initSeriesCollection(e,t);let i=new hi(e,"targetSeries",{},!0);super.setSeriesProperties(i,e,"UpperLine",e.upperLine.color,e.upperLine.width,t)}initDataSource(e,t){let i=[],s=[],o=e.points;if(o&&o.length){let t=e.targetSeries[1],n=e.targetSeries[0],r=e.period;if(o.length>=e.period)for(let e=0;e<o.length;e++)i.push(this.getDataPoint(o[e].x,100,o[e],t,i.length)),e<r||s.push(this.getDataPoint(o[e].x,Number(o[e].close)/Number(o[e-r].close)*100,o[e],n,s.length));this.setSeriesRange(s,e,e.targetSeries[0]),this.setSeriesRange(i,e,e.targetSeries[1])}}destroy(e){}getModuleName(){return"MomentumIndicator"}}},Cn={provide:"ChartsStochasticIndicator",useValue:class extends zi{initSeriesCollection(e,t){super.initSeriesCollection(e,t);let i=new hi(e,"targetSeries",{},!0);if(this.setSeriesProperties(i,e,"PeriodLine",e.periodLine.color,e.periodLine.width,t),e.showZones){let i=new hi(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,"UpperLine",e.upperLine.color,e.upperLine.width,t);let s=new hi(e,"targetSeries",{},!0);this.setSeriesProperties(s,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t)}}initDataSource(e,t){let i=[],s=[],o=[],n=[],r=[],a=e.points;if(a.length&&a.length>=e.period){if(e.showZones)for(let t=0;t<a.length;t++)s.push(this.getDataPoint(a[t].x,e.overBought,a[t],e.targetSeries[2],s.length)),o.push(this.getDataPoint(a[t].x,e.overSold,a[t],e.targetSeries[3],o.length));r=this.calculatePeriod(e.period,e.kPeriod,a,e.targetSeries[1]),n=this.smaCalculation(e.period,e.kPeriod,r,e.targetSeries[1]),i=this.smaCalculation(e.period+e.kPeriod-1,e.dPeriod,r,e.targetSeries[0])}this.setSeriesRange(i,e,e.targetSeries[0]),this.setSeriesRange(n,e,e.targetSeries[1]),e.showZones&&(this.setSeriesRange(s,e,e.targetSeries[2]),this.setSeriesRange(o,e,e.targetSeries[3]))}smaCalculation(e,t,i,s){let o=[];if(i.length>=e+t){let n=e+(t-1),r=[],a=[];for(let e=0;e<i.length;e++){let t=Number(i[e].y);r.push(t)}let l=r.length;for(;l>=n;){let i=0;for(let s=e-1;s<e+t-1;s++)i+=r[s];i/=t,a.push(i.toFixed(2)),r.splice(0,1),l=r.length}let h=n-1;for(let e=0;e<i.length;e++)e<h||(o.push(this.getDataPoint(i[e].x,Number(a[e-h]),i[e],s,o.length)),i[e].y=Number(a[e-h]))}return o}calculatePeriod(e,t,i,s){let o=[],n=[],r=[],a=[];for(let l=0;l<i.length;l++)o[l]=i[l].low,n[l]=i[l].high,r[l]=i[l].close;if(i.length>e){let t=[],l=[];for(let o=0;o<e-1;++o)l.push(0),t.push(0),a.push(this.getDataPoint(i[o].x,i[o].close,i[o],s,a.length));for(let s=e-1;s<i.length;++s){let i=Number.MAX_VALUE,r=Number.MIN_VALUE;for(let t=0;t<e;++t)i=Math.min(i,o[s-t]),r=Math.max(r,n[s-t]);l.push(r),t.push(i)}for(let o=e-1;o<i.length;++o){let e=0,n=0;e+=r[o]-t[o],n+=l[o]-t[o],a.push(this.getDataPoint(i[o].x,e/n*100,i[o],s,a.length))}}return a}destroy(e){}getModuleName(){return"StochasticIndicator"}}},Mn={provide:"ChartsBollingerBands",useValue:class extends zi{initSeriesCollection(e,t){e.targetSeries=[];let i=new hi(e,"targetSeries",{},!0);i.type="RangeArea","transparent"!==e.bandColor&&"none"!==e.bandColor&&this.setSeriesProperties(i,e,"BollingerBand",e.bandColor,0,t);let s=new hi(e,"targetSeries",{},!0);this.setSeriesProperties(s,e,"BollingerBand",e.fill,e.width,t);let o=new hi(e,"targetSeries",{},!0);this.setSeriesProperties(o,e,"UpperLine",e.upperLine.color,e.upperLine.width,t);let n=new hi(e,"targetSeries",{},!0);this.setSeriesProperties(n,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t)}initDataSource(e,t){let i="transparent"!==e.bandColor&&"none"!==e.bandColor,s=i?1:0,o=[],n=[],r=[],a=[],l=e.targetSeries[s+1],h=e.targetSeries[s+2],c=e.targetSeries[s],d=i?e.targetSeries[0]:null,u=e.points;if(u.length&&u.length>=e.period){let t=0,s=0,p=e.standardDeviation,m=u.length,g=Math.round(e.period),b=[],y=[],f=[];for(let e=0;e<g;e++)t+=Number(u[e].close);let x=t/e.period;for(let i=0;i<m;i++){let o=Number(u[i].close);if(i>=g-1&&i<m){i-e.period>=0?(t+=o-Number(u[i-g].close),x=t/e.period,b[i]=x,y[i]=Math.pow(o-x,2),s+=y[i]-y[i-g]):(b[i]=x,y[i]=Math.pow(o-x,2),s+=y[i]);let n=Math.sqrt(s/e.period),r=b[i]-p*n,a=b[i]+p*n;if(i+1===g)for(let e=0;e<g-1;e++)f[e]={X:u[e].x,mb:b[i],lb:r,ub:a,visible:!0};f[i]={X:u[i].x,mb:b[i],lb:r,ub:a,visible:!0}}else i<e.period-1&&(b[i]=x,y[i]=Math.pow(o-x,2),s+=y[i])}let v=-1,w=-1;for(let e=0;e<m;e++)if(e>=g-1){let t="lb",s="mb";n.push(this.getDataPoint(u[e].x,f[e].ub,u[e],l,n.length)),r.push(this.getDataPoint(u[e].x,f[e][t],u[e],h,r.length)),o.push(this.getDataPoint(u[e].x,f[e][s],u[e],c,o.length)),i&&a.push(this.getRangePoint(u[e].x,n[++v].y,r[++w].y,u[e],d,a.length))}}i&&this.setSeriesRange(a,e,e.targetSeries[0]),this.setSeriesRange(o,e,e.targetSeries[s]),this.setSeriesRange(n,e,e.targetSeries[s+1]),this.setSeriesRange(r,e,e.targetSeries[s+2])}destroy(e){}getModuleName(){return"BollingerBandsIndicator"}}},Ln={provide:"ChartsBoxAndWhiskerSeries",useValue:class extends Pi{render(e,t,i,s){let o,n=this.getSideBySideInfo(e);for(let r of e.points){let a;r.symbolLocations=[],r.regions=[],r.visible&&je(e.points[r.index-1],r,e.points[r.index+1],e)&&(this.findBoxPlotValues(r.y,r,e.boxPlotMode),this.updateTipRegion(e,r,n),a=this.getRectangle(r.xValue+n.start,r.upperQuartile,r.xValue+n.end,r.lowerQuartile,e),r.regions.push(a),o=this.triggerEvent(e,r,e.interior,{color:Object(h.W)(e.border.color)||"transparent"===e.border.color?At(e.interior,-.6):e.border.color,width:e.border.width?e.border.width:1}),o.cancel||this.renderBoxAndWhisker(e,r,a,o,this.getPathString(r,e,gt(r.xValue,r.median,t,i,s),gt(r.xValue+n.median,r.average,t,i,s)),n.median))}e.marker.visible&&e.chart.markerRender.render(e)}updateTipRegion(e,t,i){let s=this.getRectangle(t.xValue+i.median,t.maximum,t.xValue+i.median,t.minimum,e);this.updateTipSize(e,t,s,e.chart.requireInvertedAxis)}updateTipSize(e,t,i,s){let o=e.border.width||1;s?(i.y-=o/2,i.height=i.height||o):(i.x-=o/2,i.width=i.width||o),t.regions.push(i)}getPathString(e,t,i,s){let o=e.regions[0],n=e.regions[1],r="",a=t.chart.requireInvertedAxis?o.y+o.height/2:o.x+o.width/2,l=n.x+n.width,h=n.y+n.height,c=o.x+o.width,d=o.y+o.height;return t.chart.requireInvertedAxis?(this.updateTipSize(t,e,{x:o.x,y:n.y,width:0,height:h-n.y},!1),this.updateTipSize(t,e,{x:c,y:n.y,width:0,height:h-n.y},!0),r+="M "+o.x+" "+n.y+" L "+o.x+" "+h,r+="M "+o.x+" "+a+"  L "+n.x+" "+a,r+=" M "+n.x+" "+n.y+"  L "+l+" "+n.y+" L "+l+" "+h+" L "+n.x+" "+h+" Z",r+=" M "+l+" "+a+" L "+c+" "+a,r+=" M "+c+" "+n.y+" L "+c+" "+h,r+=" M "+i.x+" "+n.y+"  L "+i.x+" "+h,r+=t.showMean?"M "+(s.x+5)+" "+(s.y-5)+" L "+(s.x-5)+" "+(s.y+5)+"M "+(s.x-5)+" "+(s.y-5)+" L "+(s.x+5)+" "+(s.y+5):""):(this.updateTipSize(t,e,{x:n.x,y:o.y,width:l-n.x,height:0},!0),this.updateTipSize(t,e,{x:n.x,y:d,width:l-n.x,height:0},!0),r+="M "+n.x+" "+o.y+"  L "+l+" "+o.y,r+=" M "+a+" "+o.y+"  L "+a+" "+n.y,r+=" M "+n.x+" "+n.y+"  L "+l+" "+n.y+" L "+l+" "+h+" L "+n.x+" "+h+" Z",r+=" M "+a+" "+h+" L "+a+" "+d,r+=" M "+n.x+" "+d+" L "+l+" "+d,r+=" M "+n.x+" "+i.y+" L "+l+" "+i.y,r+=t.showMean?" M "+(s.x-5)+" "+(s.y-5)+" L "+(s.x+5)+" "+(s.y+5)+" M "+(s.x+5)+" "+(s.y-5)+" L "+(s.x-5)+" "+(s.y+5):""),r}renderBoxAndWhisker(e,t,i,s,o,n){let r,a,l=e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,h=e.chart.renderer.drawPath(new _(l+"_BoxPath",s.fill,s.border.width,s.border.color,e.opacity,e.dashArray,o));h.setAttribute("aria-label",t.x.toString()+":"+t.maximum.toString()+":"+t.minimum.toString()+":"+t.lowerQuartile.toString()+":"+t.upperQuartile.toString());let c=e.chart.renderer.createGroup({id:l});c.appendChild(h);for(let d=0;d<t.outliers.length;d++)r=gt(t.xValue+n,t.outliers[d],e.xAxis,e.yAxis,e.chart.requireInvertedAxis),a=new m(e.marker.width,e.marker.height),t.symbolLocations.push(r),this.updateTipSize(e,t,{x:r.x-a.width/2,y:r.y-a.height/2,width:a.width,height:a.height},!0);e.seriesElement.appendChild(c)}findBoxPlotValues(e,t,i){let s=e.length,o={average:Ie(e)/s,lowerQuartile:0,upperQuartile:0,maximum:0,minimum:0,median:0,outliers:[]};"Exclusive"===i?(o.lowerQuartile=this.getExclusiveQuartileValue(e,s,.25),o.upperQuartile=this.getExclusiveQuartileValue(e,s,.75),o.median=this.getExclusiveQuartileValue(e,s,.5)):"Inclusive"===i?(o.lowerQuartile=this.getInclusiveQuartileValue(e,s,.25),o.upperQuartile=this.getInclusiveQuartileValue(e,s,.75),o.median=this.getInclusiveQuartileValue(e,s,.5)):(o.median=Pt(e),this.getQuartileValues(e,s,o)),this.getMinMaxOutlier(e,s,o),t.minimum=o.minimum,t.maximum=o.maximum,t.lowerQuartile=o.lowerQuartile,t.upperQuartile=o.upperQuartile,t.median=o.median,t.outliers=o.outliers,t.average=o.average}getExclusiveQuartileValue(e,t,i){if(0===t)return 0;if(1===t)return e[0];let s=0,o=i*(t+1),n=Math.floor(Math.abs(o));return s=0===n?e[0]:n>t-1?e[t-1]:(o-n)*(e[n]-e[n-1])+e[n-1],s}getInclusiveQuartileValue(e,t,i){if(0===t)return 0;if(1===t)return e[0];let s=0,o=i*(t-1),n=Math.floor(Math.abs(o));return s=(o-n)*(e[n+1]-e[n])+e[n],s}getQuartileValues(e,t,i){if(1===t)return i.lowerQuartile=e[0],i.upperQuartile=e[0],null;let s=t%2==0,o=t/2,n=e.slice(0,o),r=e.slice(s?o:o+1,t);i.lowerQuartile=Pt(n),i.upperQuartile=Pt(r)}getMinMaxOutlier(e,t,i){let s=1.5*(i.upperQuartile-i.lowerQuartile);for(let o=0;o<t;o++){if(!(e[o]<i.lowerQuartile-s)){i.minimum=e[o];break}i.outliers.push(e[o])}for(let o=t-1;o>=0;o--){if(!(e[o]>i.upperQuartile+s)){i.maximum=e[o];break}i.outliers.push(e[o])}}doAnimation(e){this.animate(e)}getModuleName(){return"BoxAndWhiskerSeries"}destroy(e){}}},On={provide:"ChartsHistogramSeries",useValue:class extends ki{render(e){super.render(e),e.showNormalDistribution&&this.renderNormalDistribution(e)}calculateBinInterval(e,t){let i=Ie(e)/e.length,s=0;for(let o of e)s+=(o-i)*(o-i);t.histogramValues.mean=i,t.histogramValues.sDValue=Math.round(Math.sqrt(s/e.length-1)),t.histogramValues.binWidth=t.binInterval||Math.round(3.5*t.histogramValues.sDValue/Math.pow(e.length,1/3))}processInternalData(e,t){let i,s=[],o=[],n=Object.keys(e);for(let l=0;l<n.length;l++)o.push(e[n[l]][t.yName]);t.histogramValues={yValues:o};let r,a=Math.min(...t.histogramValues.yValues);this.calculateBinInterval(t.histogramValues.yValues,t),i=t.histogramValues.binWidth;for(let l=0;l<e.length;)r=o.filter(e=>e>=a&&e<a+i).length,s.push({x:a+i/2,[t.yName]:r}),a+=i,l+=r;return s}renderNormalDistribution(e){let t,i,s,o,n=e.xAxis.actualRange.min,r="",a="M",l=e.histogramValues.yValues.length,h=e.histogramValues.binWidth,c=e.histogramValues.mean,d=e.histogramValues.sDValue,u=(e.xAxis.actualRange.max-n)/499;for(let p=0;p<500;p++)t=n+p*u,s=Math.exp(-(t-c)*(t-c)/(2*d*d))/(d*Math.sqrt(2*Math.PI)),i=gt(t,s*h*l,e.xAxis,e.yAxis,e.chart.requireInvertedAxis),r+=a+" "+i.x+" "+i.y+" ",a="L";o=e.chart.renderer.drawPath(new _(e.chart.element.id+"_Series_"+e.index+"_NDLine","transparent",2,e.chart.themeStyle.errorBar,e.opacity,e.dashArray,r),new Int32Array([e.clipRect.x,e.clipRect.y])),o.style.visibility=e.chart.enableCanvas?null:e.animation.enable&&e.chart.animateSeries?"hidden":"visible",e.chart.enableCanvas||e.seriesElement.appendChild(o)}doAnimation(e){super.doAnimation(e),e.showNormalDistribution&&lt(e.seriesElement.lastElementChild,e.animation.duration,500,"FadeIn")}getModuleName(){return"HistogramSeries"}destroy(e){}}},An={provide:"ChartsErrorBar",useValue:class{constructor(e){this.chart=e}render(e){if("PolarRadar"===this.chart.chartAreaType)return null;this.createElement(e,this.chart),this.renderErrorBar(e)}renderErrorBar(e){let t,i,s=e.index,o=e.errorBar,n=e.errorBar.errorBarCap,r=["",""],a=e.chart.redraw;for(let l of e.points)if(l.visible&&l.symbolLocations[0]){let h=0,c=0;switch(o.mode){case"Vertical":c=o.verticalError;break;case"Horizontal":h=o.horizontalError;break;case"Both":h=o.horizontalError,c=o.verticalError}r=this["calculate"+o.type+"Value"](l,e,this.chart.requireInvertedAxis,h,c),t=this.chart.element.id+"_Series__ErrorBarGroup_"+s+"_Point_"+l.index,i=this.chart.element.id+"_Series__ErrorBarCap_"+s+"_Point_"+l.index;let d=new _(t,"",o.width,o.color||this.chart.themeStyle.errorBar,null,"",r[0]),u=dt(d.id),p=u?u.getAttribute("d"):null;e.errorBarElement.appendChild(this.chart.renderer.drawPath(d)),st(u,r[0],a,p);let m=new _(i,"",n.width,n.color||this.chart.themeStyle.errorBar,null,"",r[1]);u=dt(m.id),p=u?u.getAttribute("d"):null,yt(this.chart.enableCanvas,e.errorBarElement,this.chart.renderer.drawPath(m),a),st(u,r[1],a,p)}}findLocation(e,t,i,s,o){let n=t.errorBar,r=n.direction,a=[],l=t.type.indexOf("Stacking")>-1?t.stackedValues.endValues[e.index]:"HighLow"===t.seriesType||"HighLowOpenClose"===t.seriesType?t.points[e.index].high:e.yValue,h=gt(e.xValue+("Plus"===r||"Both"===r?"Custom"!==n.type||"Horizontal"!==n.mode&&"Both"!==n.mode?s:s=n.horizontalPositiveError:0),l+("Plus"===r||"Both"===r?"Custom"!==n.type||"Vertical"!==n.mode&&"Both"!==n.mode?o:o=n.verticalPositiveError:0),t.xAxis,t.yAxis,i);if(a.push(h),t.isRectSeries)a.push(e.symbolLocations[0]);else{let s=gt(e.xValue,e.yValue,t.xAxis,t.yAxis,i);a.push(s)}let c=gt(e.xValue-("Minus"===r||"Both"===r?"Custom"!==n.type||"Horizontal"!==n.mode&&"Both"!==n.mode?s:s=n.horizontalNegativeError:0),l-("Minus"===r||"Both"===r?"Custom"!==n.type||"Vertical"!==n.mode&&"Both"!==n.mode?o:o=n.verticalNegativeError:0),t.xAxis,t.yAxis,i);return a.push(c),e.error="Vertical"===n.mode?n.verticalError:n.horizontalError,this.negativeHeight="Vertical"===n.mode||"Both"===n.mode?i?a[1].x-a[2].x:a[2].y-a[1].y:0,this.positiveHeight="Vertical"===n.mode||"Both"===n.mode?i?a[0].x-a[1].x:a[1].y-a[0].y:0,this.getErrorDirection(a[0],a[1],a[2],t,i)}calculateFixedValue(e,t,i,s,o,n,r){return this.findLocation(e,t,i,s,o)}calculatePercentageValue(e,t,i,s,o,n,r){return this.findLocation(e,t,i,s=s/100*e.xValue,o=o/100*e.yValue)}calculateStandardDeviationValue(e,t,i,s,o,n,r){let a=this.meanCalculation(t,t.errorBar.mode);return this.findLocation(e,t,i,s*=a.horizontalSquareRoot+a.horizontalMean,o*=a.verticalSquareRoot+a.verticalMean)}calculateStandardErrorValue(e,t,i,s,o,n,r){let a=t.points.length,l=this.meanCalculation(t,t.errorBar.mode);return s=s*l.horizontalSquareRoot/Math.sqrt(a),o=o*l.verticalSquareRoot/Math.sqrt(a),this.findLocation(e,t,i,s,o)}calculateCustomValue(e,t,i,s,o,n,r){return this.findLocation(e,t,i,s,o)}getHorizontalDirection(e,t,i,s,o,n){let r="",a="";return r+="M "+e.x+" "+t.y+" L "+i.x+" "+t.y,a+="Plus"===s||"Both"===s?"M "+e.x+" "+(t.y-n)+" L "+e.x+" "+(t.y+n):"",a+="Minus"===s||"Both"===s?"M "+i.x+" "+(t.y-n)+" L "+i.x+" "+(t.y+n):" ",[r,a]}getVerticalDirection(e,t,i,s,o,n){let r="",a="";return r+="M "+t.x+" "+e.y+" L "+t.x+" "+i.y,a+="Plus"===s||"Both"===s?"M "+(t.x-n)+" "+e.y+" L "+(t.x+n)+" "+e.y:"",a+="Minus"===s||"Both"===s?"M "+(t.x-n)+" "+i.y+" L "+(t.x+n)+" "+i.y:"",[r,a]}getBothDirection(e,t,i,s,o,n){let r="",a="",l=this.getHorizontalDirection(e,t,i,s,o,n),h=this.getVerticalDirection(e,t,i,s,o,n);return a=l[0].concat(h[0]),r=l[1].concat(h[1]),[a,r]}getErrorDirection(e,t,i,s,o){let n,r=s.errorBar.direction,a=s.errorBar.mode,l=s.errorBar.errorBarCap.length,h=a;switch(a){case"Both":h=a;break;case"Horizontal":h=o?"Vertical":a;break;case"Vertical":h=o?"Horizontal":a}switch(h){case"Horizontal":n=this.getHorizontalDirection(e,t,i,r,h,l);break;case"Vertical":n=this.getVerticalDirection(e,t,i,r,h,l);break;case"Both":n=this.getBothDirection(e,t,i,r,h,l)}return[n[0],n[1]]}meanCalculation(e,t){let i,s,o,n,r=0,a=0,l=0,h=0,c=e.points.length;switch(t){case"Vertical":a=Ie(e.yData),l=a/c;break;case"Horizontal":r=Ie(e.xData),h=r/c;break;case"Both":a=Ie(e.yData),l=a/c,r=Ie(e.xData),h=r/c}for(let d of e.points)"Vertical"===t?a+=Math.pow(d.yValue-l,2):"Horizontal"===t?r+=Math.pow(d.xValue-h,2):(a+=Math.pow(d.yValue-l,2),r+=Math.pow(d.xValue-h,2));return i=a/(c-1),o=Math.sqrt(a/(c-1)),s=r/(c-1),n=Math.sqrt(r/(c-1)),new Ge(i,o,s,n,l,h)}createElement(e,t){let i="Cartesian"===t.chartAreaType?"translate("+e.clipRect.x+","+e.clipRect.y+")":"",s=(e.marker.height+5)/2,o=(e.marker.width+5)/2;if("Cartesian"===t.chartAreaType){let n=new Wt(t.element.id+"_ChartErrorBarClipRect_"+e.index,"transparent",{width:1,color:"Gray"},1,{x:-o,y:-s,width:e.clipRect.width+2*o,height:e.clipRect.height+2*s});e.errorBarElement=t.renderer.createGroup({id:t.element.id+"ErrorBarGroup"+e.index,transform:i,"clip-path":"url(#"+t.element.id+"_ChartErrorBarClipRect_"+e.index+")"}),e.errorBarElement.appendChild(ot(t.redraw,n,t.renderer))}}doErrorBarAnimation(e){let t=e.errorBarElement.childNodes;if(!t)return null;let i=e.animation.delay+e.animation.duration,s=1;for(;s<t.length;){for(let o=0;o<e.points.length;o++)e.points[o].symbolLocations[0]&&(t[s].style.visibility="hidden",lt(t[s],i,350,e.chart.requireInvertedAxis?"SlideLeftIn":"SlideBottomIn",!1));s++}}getModuleName(){return"ErrorBar"}destroy(e){}}},Pn={provide:"ChartsTrendlines",useValue:class{initSeriesCollection(e,t){let i=new hi(e,"targetSeries",{},!0);i.type="Linear"===e.type||"MovingAverage"===e.type?"Line":"Spline",this.setSeriesProperties(i,e,e.type,e.fill,e.width,t)}setSeriesProperties(e,t,i,s,o,n){e.name=t.name,e.xName="x",e.yName="y",e.fill=s||"blue",e.width=o,e.dashArray=t.dashArray,e.clipRectElement=t.clipRectElement,e.points=[],e.enableTooltip=t.enableTooltip,e.index=t.index,e.sourceIndex=t.sourceIndex,e.interior=e.fill,e.animation=t.animation,e.legendShape="HorizontalLine",e.marker=t.marker,e.category="TrendLine",e.chart=n,e.xMin=1/0,e.xMax=-1/0,e.yMin=1/0,e.yMax=-1/0,e.xData=[],e.yData=[],t.targetSeries=e}createTrendLineElements(e,t,i,s,o){t.trendLineElement=s,t.targetSeries.clipRectElement=o,t.targetSeries.seriesElement=s,e.trendLineElements&&e.trendLineElements.appendChild(t.trendLineElement)}getDataPoint(e,t,i,s,o){let n=new si;return n.x="DateTime"===s.xAxis.valueType?new Date(Number(e)):e,n.y=t,n.xValue=Number(e),n.color=s.fill,n.index=o,n.yValue=Number(t),n.visible=!0,s.xMin=Math.min(s.xMin,n.xValue),s.yMin=Math.min(s.yMin,n.yValue),s.xMax=Math.max(s.xMax,n.xValue),s.yMax=Math.max(s.yMax,n.yValue),s.xData.push(n.xValue),n}findSlopeIntercept(e,t,i,s){let o=0,n=0,r=0,a=0,l=0,h=0,c=0,d=0;for(;h<s.length;)isNaN(t[h])&&(t[h]=(t[h-1]+t[h+1])/2),o+=e[h],n+=t[h],r+=e[h]*t[h],a+=e[h]*e[h],l+=t[h]*t[h],h++;let u=i.type;if(!i.intercept||"Linear"!==u&&"Exponential"!==u)c=Math.abs((s.length*r-o*n)/(s.length*a-o*o)),d="Exponential"===u||"Power"===u?Math.exp((n-c*o)/s.length):(n-c*o)/s.length;else switch(d=i.intercept,u){case"Linear":c=(r-i.intercept*o)/a;break;case"Exponential":c=(r-Math.log(Math.abs(i.intercept))*o)/a}return{slope:c,intercept:d}}initDataSource(e,t){let i=e.points;if(i&&i.length){let t=e.targetSeries;switch(e.type){case"Linear":this.setLinearRange(i,e,t);break;case"Exponential":this.setExponentialRange(i,e,t);break;case"MovingAverage":this.setMovingAverageRange(i,e,t);break;case"Polynomial":this.setPolynomialRange(i,e,t);break;case"Power":this.setPowerRange(i,e,t);break;case"Logarithmic":this.setLogarithmicRange(i,e,t)}"Linear"!==e.type&&"MovingAverage"!==e.type&&t.chart.splineSeriesModule.findSplinePoint(t)}}setExponentialRange(e,t,i){let s,o=[],n=[],r=0;for(;r<e.length;){let t=e[r],i=t.yValue?Math.log(t.yValue):0;o.push(t.xValue),n.push(i),r++}s=this.findSlopeIntercept(o,n,t,e),i.points=this.getExponentialPoints(t,e,o,n,i,s)}setLogarithmicRange(e,t,i){let s,o=[],n=[],r=[],a=0;for(;a<e.length;){let t=e[a],i=t.xValue?Math.log(t.xValue):0;r.push(t.xValue),o.push(i),n.push(t.yValue),a++}s=this.findSlopeIntercept(o,n,t,e),i.points=this.getLogarithmicPoints(t,e,r,n,i,s)}setPolynomialRange(e,t,i){let s=[],o=[],n=0;for(;n<e.length;){let t=e[n];s.push(t.xValue),o.push(t.yValue),n++}i.points=this.getPolynomialPoints(t,e,s,o,i)}setPowerRange(e,t,i){let s,o=[],n=[],r=[],a=0;for(;a<e.length;){let t=e[a],i=t.xValue?Math.log(t.xValue):0,s=t.yValue?Math.log(t.yValue):0;r.push(t.xValue),o.push(i),n.push(s),a++}s=this.findSlopeIntercept(o,n,t,e),i.points=this.getPowerPoints(t,e,r,n,i,s)}setLinearRange(e,t,i){let s,o=[],n=[],r=0;for(;r<e.length;){let t=e[r];o.push(t.xValue),n.push(t.yValue),r++}s=this.findSlopeIntercept(o,n,t,e),i.points=this.getLinearPoints(t,e,o,n,i,s)}setMovingAverageRange(e,t,i){let s=[],o=[],n=[],r=0;for(;r<e.length;){let t=e[r];n.push(t.xValue),s.push(r+1),o.push(t.yValue),r++}i.points=this.getMovingAveragePoints(t,e,n,o,i)}getLogarithmicPoints(e,t,i,s,o,n){let r=Math.round(t.length/2),a=[],l=i[0]-e.backwardForecast,h=l?Math.log(l):0,c=n.intercept+n.slope*h,d=i[r-1],u=d?Math.log(d):0,p=n.intercept+n.slope*u,m=i[i.length-1]+e.forwardForecast,g=m?Math.log(m):0,b=n.intercept+n.slope*g;return a.push(this.getDataPoint(l,c,t[0],o,a.length)),a.push(this.getDataPoint(d,p,t[r-1],o,a.length)),a.push(this.getDataPoint(m,b,t[t.length-1],o,a.length)),a}getPowerPoints(e,t,i,s,o,n){let r=Math.round(t.length/2),a=[],l=i[0]-e.backwardForecast;l=l>-1?l:0;let h=n.intercept*Math.pow(l,n.slope),c=i[r-1],d=n.intercept*Math.pow(c,n.slope),u=i[i.length-1]+e.forwardForecast,p=n.intercept*Math.pow(u,n.slope);return a.push(this.getDataPoint(l,h,t[0],o,a.length)),a.push(this.getDataPoint(c,d,t[r-1],o,a.length)),a.push(this.getDataPoint(u,p,t[t.length-1],o,a.length)),a}getPolynomialPoints(e,t,i,s,o){Math.round(t.length/2);let n=[],r=t.length<=e.polynomialOrder?t.length:e.polynomialOrder;r=Math.max(2,r),r=Math.min(6,r),e.polynomialOrder=r,e.polynomialSlopes=[],e.polynomialSlopes.length=e.polynomialOrder+1;let a=0;for(;a<i.length;){let t=i[a],o=s[a],n=0;for(;n<=e.polynomialOrder;)e.polynomialSlopes[n]||(e.polynomialSlopes[n]=0),e.polynomialSlopes[n]+=Math.pow(t,n)*o,++n;a++}let l=[];l.length=1+2*e.polynomialOrder;let h=[];h.length=e.polynomialOrder+1;let c=0;for(;c<e.polynomialOrder+1;)h[c]=[],h[c].length=3,c++;let d=0;for(;d<i.length;){let e=i[d],t=1,s=0;for(;s<l.length;)l[s]||(l[s]=0),l[s]+=t,t*=e,++s;++d}let u=0;for(;u<=e.polynomialOrder;){let t=0;for(;t<=e.polynomialOrder;)h[u][t]=l[u+t],++t;++u}return this.gaussJordanElimination(h,e.polynomialSlopes)||(e.polynomialSlopes=null),n=this.getPoints(e,t,i,s,o),n}getMovingAveragePoints(e,t,i,s,o){let n=[],r=e.period>=t.length?t.length-1:e.period;r=Math.max(2,r);let a,l,h,c,d=0;for(;d<t.length-1;){a=h=c=0;for(let e=d;h<r;e++)h++,s[e]||c++,a+=s[e];a=r-c<=0?null:a/(r-c),a&&!isNaN(a)&&(l=i[r-1+d],n.push(this.getDataPoint(l,a,t[r-1+d],o,n.length))),d++}return n}getLinearPoints(e,t,i,s,o,n){let r=[],a=i[0]-e.backwardForecast,l=i[i.length-1]+e.forwardForecast,h=n.slope*l+n.intercept;return r.push(this.getDataPoint(a,n.slope*a+n.intercept,t[0],o,r.length)),r.push(this.getDataPoint(l,h,t[t.length-1],o,r.length)),r}getExponentialPoints(e,t,i,s,o,n){let r=Math.round(t.length/2),a=[],l=i[0]-e.backwardForecast,h=n.intercept*Math.exp(n.slope*l),c=i[r-1],d=n.intercept*Math.exp(n.slope*c),u=i[i.length-1]+e.forwardForecast,p=n.intercept*Math.exp(n.slope*u);return a.push(this.getDataPoint(l,h,t[0],o,a.length)),a.push(this.getDataPoint(c,d,t[r-1],o,a.length)),a.push(this.getDataPoint(u,p,t[t.length-1],o,a.length)),a}getPoints(e,t,i,s,o){Math.round(t.length/2);let n,r,a=e.polynomialSlopes,l=[],h=1,c=1;for(;c<=a.length;)1===c?(n=i[0]-e.backwardForecast,r=this.getPolynomialYValue(a,n),l.push(this.getDataPoint(n,r,t[0],o,l.length))):c===a.length?(n=i[t.length-1]+e.forwardForecast,r=this.getPolynomialYValue(a,n),l.push(this.getDataPoint(n,r,t[t.length-1],o,l.length))):(h+=(t.length+e.forwardForecast)/a.length,n=i[parseInt(h.toString(),10)-1],r=this.getPolynomialYValue(a,n),l.push(this.getDataPoint(n,r,t[parseInt(h.toString(),10)-1],o,l.length))),c++;return l}getPolynomialYValue(e,t){let i=0,s=0;for(;s<e.length;)i+=e[s]*Math.pow(t,s),s++;return i}gaussJordanElimination(e,t){let i=e.length,s=[],o=[],n=[];s.length=i,o.length=i,n.length=i;let r=0;for(;r<i;)n[r]=0,++r;let a=0;for(;a<i;){let r=0,l=0,h=0,c=0;for(;c<i;){if(1!==n[c]){let t=0;for(;t<i;)0===n[t]&&Math.abs(e[c][t])>=r&&(r=Math.abs(e[c][t]),l=c,h=t),++t}++c}if(++n[h],l!==h){let s=0;for(;s<i;){let t=e[l][s];e[l][s]=e[h][s],e[h][s]=t,++s}let o=t[l];t[l]=t[h],t[h]=o}if(o[a]=l,s[a]=h,0===e[h][h])return!1;let d=1/e[h][h];e[h][h]=1;let u=0;for(;u<i;)e[h][u]*=d,++u;t[h]*=d;let p=0;for(;p<i;){if(p!==h){let s=e[p][h];e[p][h]=0;let o=0;for(;o<i;)e[p][o]-=e[h][o]*s,++o;t[p]-=t[h]*s}++p}++a}let l=i-1;for(;l>=0;){if(o[l]!==s[l]){let t=0;for(;t<i;){let i=e[t][o[l]];e[t][o[l]]=e[t][s[l]],e[t][s[l]]=i,++t}}--l}return!0}getTrendLineElements(e,t){Je(e);let i,s=e.clipRect,o=t.renderer.drawClipPath(new Wt(t.element.id+"_ChartTrendlineClipRect_"+e.index,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:s.width,height:s.height}));i=t.renderer.createGroup({id:t.element.id+"TrendlineSeriesGroup"+e.index,transform:"translate("+s.x+","+s.y+")","clip-path":"url(#"+t.element.id+"_ChartTrendlineClipRect_"+e.index+")"}),i&&i.appendChild(o);for(let n of e.trendlines)this.createTrendLineElements(t,n,n.index,i,o)}destroy(e){}getModuleName(){return"TrendLine"}}},kn={provide:"ChartsDateTimeCategory",useValue:class extends Li{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.axisSize=e,this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)}calculateVisibleLabels(e){let t;e.visibleLabels=[];let i="BetweenTicks"===e.labelPlacement?.5:0;"Auto"===e.intervalType?this.calculateDateTimeNiceInterval(e,this.axisSize,parseInt(e.labels[0],10),parseInt(e.labels[e.labels.length-1],10)):e.actualIntervalType=e.intervalType,e.format=this.chart.intl.getDateFormat({format:e.labelFormat||this.blazorCustomFormat(e),type:Ke(e.skeletonType),skeleton:this.getSkeleton(e,null,null,this.chart.isBlazor)});for(let s=0;s<e.labels.length;s++)t=Object(h.J)({},Object(h.U)("properties",e.labelStyle),null,!0),this.sameInterval(e.labels.map(Number)[s],e.labels.map(Number)[s-1],e.actualIntervalType,s)&&!e.isIndexed||Te(s-i,e.visibleRange)&&nt(this.chart,s,e.isIndexed?this.getIndexedAxisLabel(e.labels[s],e.format):e.format(new Date(e.labels.map(Number)[s])),t,e);e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}blazorCustomFormat(e){return this.chart.isBlazor&&"Years"===e.actualIntervalType?"yyyy":""}getIndexedAxisLabel(e,t){let i=e.split(",");for(let s=0;s<i.length;s++)i[s]=t(new Date(parseInt(i[s],10)));return i.join(", ")}sameInterval(e,t,i,s){let o;if(0===s)o=!1;else switch(i){case"Years":o=new Date(e).getFullYear()===new Date(t).getFullYear();break;case"Months":o=new Date(e).getFullYear()===new Date(t).getFullYear()&&new Date(e).getMonth()===new Date(t).getMonth();break;case"Days":o=Math.abs(e-t)<864e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Hours":o=Math.abs(e-t)<36e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Minutes":o=Math.abs(e-t)<6e4&&new Date(e).getMinutes()===new Date(t).getMinutes();break;case"Seconds":o=Math.abs(e-t)<1e3&&new Date(e).getDay()===new Date(t).getDay()}return o}getModuleName(){return"DateTimeCategory"}destroy(e){}}},Tn={provide:"ChartsMultiColoredLineSeries",useValue:class extends Ti{render(e,t,i,s){let o=null,n="M",r=this.enableComplexProperty(e),a=[],l="",h=this.sortSegments(e,e.segments);for(let c of r)c.regions=[],c.visible&&je(r[c.index-1],c,r[c.index+1],e)?(l+=this.getLineDirection(o,c,e,s,gt,n),null!=o?this.setPointColor(c,o,e,"X"===e.segmentAxis,h)?(a.push(new _(e.chart.element.id+"_Series_"+e.index+"_Point_"+o.index,"none",e.width,e.setPointColor(o,e.interior),e.opacity,e.dashArray,l)),n="M",l=""):n="L":this.setPointColor(c,null,e,"X"===e.segmentAxis,h),o=c,this.storePointLocation(c,e,s,gt)):(o="Drop"===e.emptyPointSettings.mode?o:null,n="Drop"===e.emptyPointSettings.mode?n:"M",c.symbolLocations=[]);""!==l&&a.push(new _(e.chart.element.id+"_Series_"+e.index,"none",e.width,e.setPointColor(r[r.length-1],e.interior),e.opacity,e.dashArray,l)),this.applySegmentAxis(e,a,h),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}getModuleName(){return"MultiColoredLineSeries"}destroy(e){}}},Rn={provide:"ChartsMultiColoredAreaSeries",useValue:class extends Ti{render(e,t,i,s){let o,n,r,a,l=null,h="",c=Math.max(e.yAxis.visibleRange.min,0),d=[],u=this.sortSegments(e,e.segments);e.visiblePoints.map((p,m,g)=>{p.symbolLocations=[],p.regions=[],a=!1,p.visible&&je(g[m-1],p,g[m+1],e)&&(h+=this.getAreaPathDirection(p.xValue,c,e,s,gt,l,"M"),l=l||new Yt(p.xValue,c),o=gt(p.xValue,p.yValue,t,i,s),r&&this.setPointColor(p,r,e,"X"===e.segmentAxis,u)?(a=!0,n=gt(l.x,c,t,i,s),h+="L "+o.x+" "+o.y+" ",h+="L "+o.x+" "+n.y+" ",this.generatePathOption(d,e,r,h,"_Point_"+r.index),h="M "+o.x+" "+n.y+" L "+o.x+" "+o.y+" "):(h+="L "+o.x+" "+o.y+" ",this.setPointColor(p,null,e,"X"===e.segmentAxis,u)),g[m+1]&&!g[m+1].visible&&"Drop"!==e.emptyPointSettings.mode&&(h+=this.getAreaEmptyDirection({x:p.xValue,y:c},l,e,s,gt),l=null),r=p,this.storePointLocation(p,e,s,gt))}),a||(h=e.points.length>1?h+this.getAreaPathDirection(r.xValue,c,e,s,gt,null,"L"):"",this.generatePathOption(d,e,r,h,"")),this.applySegmentAxis(e,d,u),this.renderMarker(e)}generatePathOption(e,t,i,s,o){e.push(new _(t.chart.element.id+"_Series_"+t.index+o,t.setPointColor(i,t.interior),t.border.width,t.border.color,t.opacity,t.dashArray,s))}destroy(e){}getModuleName(){return"MultiColoredAreaSeries"}doAnimation(e){this.doLinearAnimation(e,e.animation)}}},jn={provide:"ChartsMultiLevelLabel",useValue:class{constructor(e){this.xAxisPrevHeight=[],this.xAxisMultiLabelHeight=[],this.yAxisPrevHeight=[],this.yAxisMultiLabelHeight=[],this.chart=e,this.addEventListener()}addEventListener(){this.chart.isDestroyed||this.chart.on("click",this.click,this)}getMultilevelLabelsHeight(e){let t,i,s,o=0,n=[],r=[],a="Vertical"===e.orientation,l=a?e.rect.height:e.rect.width;e.multiLevelLabels.map((h,c)=>{h.categories.map(o=>{""!==o.text&&null!==o.start&&null!==o.end&&(t=u(o.text,h.textStyle),i=a?t.width:t.height,i+=2*h.border.width+("CurlyBrace"===h.border.type?10:0),s=null!==o.maximumTextWidth?o.maximumTextWidth:He("string"==typeof o.end?Number(new Date(o.end)):o.end,e)*l-He("string"==typeof o.start?Number(new Date(o.start)):o.start,e)*l,t.width>s-10&&s>0&&"Wrap"===h.overflow&&!a&&(i*=Nt(o.text,s-10,h.textStyle).length),n[c]=n[c]?n[c]<i?i:n[c]:i)}),r[c]=o,o+=n[c]?n[c]+10:0}),e.multiLevelLabelHeight=o+(""!==e.title||this.chart.legendModule&&this.chart.legendSettings.visible?5:0),a?(this.yAxisMultiLabelHeight=n,this.yAxisPrevHeight=r):(this.xAxisMultiLabelHeight=n,this.xAxisPrevHeight=r)}renderXAxisMultiLevelLabels(e,t,i,s){let o,n,r,a,l,c,d,p,m,g,b,y,x=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+e.maxLabelSize.height+10,v="",w="Outside"===e.labelPosition,_=e.isInversed,S=e.opposedPosition,C=e.scrollbarSettings.enable||w&&Object(h.W)(e.crossesAt)?e.scrollBarHeight:0;m=S&&!w||!S&&w?s.y+x-e.majorTickLines.width:s.y-x-e.multiLevelLabelHeight,this.createClipRect(s.x-e.majorTickLines.width,m+C,e.multiLevelLabelHeight+10,s.width+2*e.majorTickLines.width,this.chart.element.id+"_XAxis_Clippath_"+t,this.chart.element.id+"XAxisMultiLevelLabel"+t),e.multiLevelLabels.map((i,h)=>{a=0,this.labelElement=this.chart.renderer.createGroup({id:this.chart.element.id+t+"_MultiLevelLabel"+h}),i.categories.map((m,M)=>{if(v="",c="string"==typeof m.start?Number(new Date(m.start)):m.start,d="string"==typeof m.end?Number(new Date(m.end)):m.end,y=this.triggerMultiLabelRender(e,m.text,e.multiLevelLabels[h].textStyle,e.multiLevelLabels[h].alignment,m.customAttributes),!y.cancel){r=He(c,e)*s.width,l=He(d,e)*s.width,l=_?[r,r=l][0]:l,p=u(y.text,y.textStyle),g=(null===m.maximumTextWidth?l-r:m.maximumTextWidth)-10,o=r+s.x+10,n=(S&&!w||!S&&w?x+s.y+p.height/2+10+this.xAxisPrevHeight[h]:s.y-x+p.height/2-this.xAxisMultiLabelHeight[h]-this.xAxisPrevHeight[h])+C,"Center"===y.alignment?(o+=(l-r-10)/2,b="middle"):"Far"===y.alignment?(o=o+(l-r-10)-i.border.width/2,b="end"):(b="start",o+=i.border.width/2),n="CurlyBrace"===i.border.type?!S&&w||S&&!w?n+10:n-5:n;let L=new f(this.chart.element.id+t+"_Axis_MultiLevelLabel_Level_"+h+"_Text_"+M,o,n,b,y.text);"None"!==i.overflow&&(L.text="Wrap"===i.overflow?Nt(y.text,g,y.textStyle):kt(g,y.text,y.textStyle),L.x=L.x-5),It(this.chart.renderer,L,y.textStyle,y.textStyle.color||this.chart.themeStyle.axisLabel,this.labelElement,!1,this.chart.redraw,!0,null,null,null,0,null,this.chart.enableCanvas),i.border.width>0&&"WithoutBorder"!==i.border.type&&(v=this.renderXAxisLabelBorder(h,l-r-10,e,r,x,p,L,s,y.alignment,v,w,S,a),""!==v&&(this.createBorderElement(h,t,e,v,a),a++)),this.chart.enableCanvas||this.multiElements.appendChild(this.labelElement)}})}),this.chart.enableCanvas||i.appendChild(this.multiElements)}renderXAxisLabelBorder(e,t,i,s,o,n,r,a,l,h,c,d,u){let p,m,g,b,y=10,f=i.multiLevelLabels[e],x=t+y,v=this.xAxisMultiLabelHeight[e]+y,w="Outside"===i.labelPosition?i.scrollBarHeight:0,_=s+a.x,S=!d&&c||d&&!c?o+a.y+this.xAxisPrevHeight[e]+w:a.y-o-this.xAxisPrevHeight[e]-w,C=f.categories[u].type||f.border.type;switch(C){case"WithoutTopandBottomBorder":case"Rectangle":case"WithoutTopBorder":v=!d&&c||d&&!c?v:-v,h+="M "+_+" "+S+" L "+_+" "+(S+v)+" M "+(_+x)+" "+S+" L "+(_+x)+" "+(S+v),h+="WithoutTopandBottomBorder"!==C?" L "+_+" "+(S+v)+" ":" ",h+="Rectangle"===C?"M "+_+" "+S+" L "+(_+x)+" "+S:" ";break;case"Brace":"Near"===l?(g=r.x,b=r.x+n.width+2):"Center"===l?(g=r.x-n.width/2-2,b=r.x+n.width/2+2):(g=r.x-n.width-2,b=r.x),v=!d&&c||d&&!c?v:-v,h+="M "+_+" "+S+" L "+_+" "+(S+v/2)+" M "+_+" "+(S+v/2)+" L "+(g-2)+" "+(S+v/2)+" M "+b+" "+(S+v/2)+" L "+(_+x)+" "+(S+v/2)+" M "+(_+x)+" "+(S+v/2)+" L "+(_+x)+" "+S;break;case"CurlyBrace":!d&&c||d&&!c?(y=10,p=15,m=5):(y=-10,p=-15,m=-5),h+="Center"===l?"M "+_+" "+S+" C "+_+" "+S+" "+(_+5)+" "+(S+y)+" "+(_+10)+" "+(S+y)+" L "+(_+x/2-5)+" "+(S+y)+" L "+(_+x/2)+" "+(S+p)+" L "+(_+x/2+5)+" "+(S+y)+" L "+(_+x-10)+" "+(S+y)+" C "+(_+x-10)+" "+(S+y)+" "+(_+x)+" "+(S+m)+" "+(_+x)+" "+S:"Near"===l?"M "+_+" "+S+" C "+_+" "+S+" "+(_+5)+" "+(S+y)+" "+(_+10)+" "+(S+y)+" L "+(_+15)+" "+(S+p)+" L "+(_+20)+" "+(S+y)+" L "+(_+x-10)+" "+(S+y)+" C "+(_+x-10)+" "+(S+y)+" "+(_+x)+" "+(S+m)+" "+(_+x)+" "+S:"M "+_+" "+S+" C "+_+" "+S+" "+(_+5)+" "+(S+y)+" "+(_+10)+" "+(S+y)+" L "+(_+x-20)+" "+(S+y)+" L "+(_+x-15)+" "+(S+p)+" L "+(_+x-10)+" "+(S+y)+" L "+(_+x-10)+" "+(S+y)+" C "+(_+x-10)+" "+(S+y)+" "+(_+x)+" "+(S+m)+" "+(_+x)+" "+S}return h}renderYAxisMultiLevelLabels(e,t,i,s){let o,n,r,a,l,c,d,p,m,g,b,y="Outside"===e.labelPosition,x=(e.tickPosition===e.labelPosition?e.majorTickLines.height:0)+e.maxLabelSize.width+10,v="",w=e.isInversed,_=e.opposedPosition,S=y&&Object(h.W)(e.crossesAt)?e.scrollBarHeight:0;S*=_?1:-1,n=_&&!y||!_&&y?s.x-e.multiLevelLabelHeight-x-10:s.x+x,this.createClipRect(n+S,s.y-e.majorTickLines.width,s.height+2*e.majorTickLines.width,e.multiLevelLabelHeight+10,this.chart.element.id+"_YAxis_Clippath_"+t,this.chart.element.id+"YAxisMultiLevelLabel"+t),e.multiLevelLabels.map((i,n)=>{this.labelElement=this.chart.renderer.createGroup({id:this.chart.element.id+t+"_MultiLevelLabel"+n}),p=0,i.categories.map((h,C)=>{if(v="",g="string"==typeof h.end?Number(new Date(h.end)):h.end,m="string"==typeof h.start?Number(new Date(h.start)):h.start,l=He(m,e)*s.height,c=He(g,e)*s.height,c=w?[l,l=c][0]:c,d=this.triggerMultiLabelRender(e,h.text,i.textStyle,i.alignment,h.customAttributes),!d.cancel){o=u(d.text,d.textStyle),b=c-l,r=s.x-x-this.yAxisPrevHeight[n]-this.yAxisMultiLabelHeight[n]/2-5,a=s.height+s.y-l-b/2,r=_?y?s.x+x+5+this.yAxisMultiLabelHeight[n]/2+this.yAxisPrevHeight[n]+S:s.x-x-this.yAxisMultiLabelHeight[n]/2-this.yAxisPrevHeight[n]-5:y?r+S:s.x+x+5+this.yAxisMultiLabelHeight[n]/2+this.yAxisPrevHeight[n],"Center"===d.alignment?a+=o.height/4:"Far"===d.alignment?a+=b/2-o.height/2:a=a-b/2+o.height,r="CurlyBrace"===i.border.type?!_&&y||_&&!y?r-10:r+10:r;let m=new f(this.chart.element.id+t+"_Axis_MultiLevelLabel_Level_"+n+"_Text_"+C,r,a,"middle",d.text);m.text="Trim"===i.overflow?kt(null===h.maximumTextWidth?this.yAxisMultiLabelHeight[n]:h.maximumTextWidth,d.text,d.textStyle):m.text,It(this.chart.renderer,m,d.textStyle,d.textStyle.color||this.chart.themeStyle.axisLabel,this.labelElement,this.chart.redraw,!0),i.border.width>0&&"WithoutBorder"!==i.border.type&&(v=this.renderYAxisLabelBorder(n,b,e,c,x,l,o,m,s,d.alignment,v,y,_,p),""!==v&&(this.createBorderElement(n,t,e,v,p),p++)),this.chart.enableCanvas||this.multiElements.appendChild(this.labelElement)}})}),i.appendChild(this.multiElements)}renderYAxisLabelBorder(e,t,i,s,o,n,r,a,l,c,d,u,p,m){let g,b,y=s-n,f=10,x=i.multiLevelLabels[e],v=x.categories[m].type,w=l.y+l.height-s,_=u&&Object(h.W)(i.crossesAt)?i.scrollBarHeight:0;_*=p?1:-1;let S=this.yAxisMultiLabelHeight[e]+f,C=(!p&&u||p&&!u?l.x-o-this.yAxisPrevHeight[e]:l.x+o+this.yAxisPrevHeight[e])+_,M=v||x.border.type;switch(M){case"WithoutTopandBottomBorder":case"Rectangle":case"WithoutTopBorder":S=!p&&u||p&&!u?-S:S,d+="M "+C+" "+w+" L "+(C+S)+" "+w+" M "+C+" "+(w+y)+" L "+(C+S)+" "+(w+y),d+="WithoutTopandBottomBorder"!==M?" L "+(C+S)+" "+w+" ":" ",d+="Rectangle"===M?"M "+C+" "+(w+y)+"L "+C+" "+w+" ":" ";break;case"Brace":S=!p&&u||p&&!u?S:-S,d+="M "+C+" "+w+" L "+(C-S/2)+" "+w+" L "+(C-S/2)+" "+(a.y-r.height/2-4)+" M "+(C-S/2)+" "+(a.y+r.height/4+2)+" L "+(C-S/2)+" "+(w+y)+" L "+C+" "+(w+y);break;case"CurlyBrace":!p&&u||p&&!u?(f=-10,g=-15,b=-5):(f=10,g=15,b=5),d+="Center"===c?"M "+C+" "+w+" C "+C+" "+w+" "+(C+f)+" "+w+" "+(C+f)+" "+(w+10)+" L "+(C+f)+" "+(w+(y-10)/2)+" L "+(C+g)+" "+(w+(y-10)/2+5)+" L "+(C+f)+" "+(w+(y-10)/2+10)+" L "+(C+f)+" "+(w+(y-10))+" C "+(C+f)+" "+(w+(y-10))+" "+(C+b)+" "+(w+y)+" "+C+" "+(w+y):"Far"===c?"M "+C+" "+w+" C "+C+" "+w+" "+(C+f)+" "+w+" "+(C+f)+" "+(w+10)+" L "+(C+f)+" "+(w+y-20)+"  L "+(C+g)+" "+(w+(y-15))+" L "+(C+f)+" "+(w+(y-10))+" L "+(C+f)+" "+(w+(y-10))+" C "+(C+f)+" "+(w+(y-10))+" "+(C+f)+" "+(w+y)+" "+C+" "+(w+y):"M "+C+" "+w+" C "+C+" "+w+" "+(C+f)+" "+w+" "+(C+f)+" "+(w+10)+" L "+(C+g)+" "+(w+15)+" L "+(C+f)+" "+(w+20)+" L "+(C+f)+" "+(w+(y-10))+" C "+(C+f)+" "+(w+(y-10))+" "+(C+b)+" "+(w+y)+" "+C+" "+(w+y)}return d}createClipRect(e,t,i,s,o,n){this.multiElements=this.chart.renderer.createGroup({id:n,"clip-path":"url(#"+o+")"}),this.chart.enableCanvas||this.multiElements.appendChild(ot(this.chart.redraw,{id:o,x:e,y:t,width:s,height:i,fill:"white","stroke-width":1,stroke:"Gray"},this.chart.renderer))}createBorderElement(e,t,i,s,o){let n=s,r=this.chart.renderer.drawPath(new _(this.chart.element.id+t+"_Axis_MultiLevelLabel_Rect_"+e+"_"+o,"Transparent",i.multiLevelLabels[e].border.width,i.multiLevelLabels[e].border.color||this.chart.themeStyle.axisLine,1,"",s));r.setAttribute("style","pointer-events: none"),yt(this.chart.enableCanvas,this.labelElement,r,this.chart.redraw,!0,"x","y",null,n)}triggerMultiLabelRender(e,t,i,s,o){let n;return n={cancel:!1,name:"axisMultiLabelRender",axis:e,text:t,textStyle:i,alignment:s,customAttributes:o},this.chart.trigger("axisMultiLabelRender",n),n}MultiLevelLabelClick(e,t){let i,s=parseInt(e.substr(0,1),10),o=parseInt(e.substr(7),10),n=this.chart.axisCollections[t],r=n.multiLevelLabels[s].categories;return i={axis:n,level:s,text:r[o].text,customAttributes:r[o].customAttributes,start:r[o].start,end:r[o].end,name:"multiLevelLabelClick",cancel:!1},this.chart.trigger("multiLevelLabelClick",i),i}click(e){let t,i,s,o=e.target.id,n="_Axis_MultiLevelLabel_Level_";o.indexOf(n)>-1&&(t=o.split(n)[1],i=o.split(n)[0],s=parseInt(i.charAt(i.length-1),10),this.MultiLevelLabelClick(t,s))}getModuleName(){return"MultiLevelLabel"}destroy(){}}},In={provide:"ChartsParetoSeries",useValue:class extends Pi{constructor(){super(...arguments),this.paretoAxes=[]}initSeries(e,t){let i=new hi(t,"series",e.properties,!0);i.name="Pareto",i.yAxisName=e.yAxisName+"_CumulativeAxis",i.category="Pareto",e.category="Pareto",i.type="Line",i.interior=t.themeStyle.errorBar,t.visibleSeries.push(i),this.initAxis(e,i,t)}initAxis(e,t,i){if(!this.paretoAxes.some(e=>e.name===t.yAxisName)){let s=e.yAxisName?i.axes.filter(t=>t.name===e.yAxisName)[0]:i.primaryYAxis,o=new _e(i,"axis",{name:t.yAxisName,majorGridLines:{width:0},majorTickLines:s.majorTickLines,lineStyle:s.lineStyle,minimum:0,maximum:100,rowIndex:s.rowIndex,opposedPosition:!0,labelFormat:"{value}%"});this.paretoAxes.push(o)}}render(e){e.chart.columnSeriesModule.render(e)}performCumulativeCalculation(e,t){let i=e,s=0,o=0,n=i.length;for(let r=0;r<n;r++)s+=i[r][t.yName];for(let r=0;r<n;r++)o+=i[r][t.yName],i[r][t.yName]=Math.round(o/s*100);return i}doAnimation(e){this.animate(e)}getModuleName(){return"ParetoSeries"}destroy(e){}}},zn={provide:"ChartsExport",useValue:class{constructor(e){this.chart=e}export(e,t,i,s,o,n,r){let a=new xi(this.chart);s=s||[this.chart];let l={cancel:!1,name:"beforeExport",width:o,height:n};this.chart.trigger("beforeExport",l),l.cancel||a.export(e,t,i,s,o=l.width,n=l.height,r)}getDataUrl(e){return new xi(e).getDataUrl(e)}getModuleName(){return"Export"}destroy(e){}}},En={provide:"ChartsDataEditing",useValue:class{constructor(e){this.isPointDragging=!1,this.chart=e}pointMouseDown(){let e,t=this.chart,i=new $t(t),s=i.getData();!s.point||!i.insideRegion&&s.series.isRectSeries||(this.seriesIndex=s.series.index,this.pointIndex=s.point.index,e=t.series[this.seriesIndex],e.dragSettings.enable&&!t.zoomModule&&(t.trigger("dragStart",{series:s.series,seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,point:s.point,oldValue:t.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:t.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue}),t.isPointMouseDown=!0,t.zoomSettings.enableDeferredZooming=!1))}pointMouseMove(e){let t,i=this.chart;"touchmove"===e.type&&e.preventDefault&&e.preventDefault();let s=new $t(i),o=s.getData();o.series.dragSettings.enable&&o.point&&(s.insideRegion||!o.series.isRectSeries)?this.getCursorStyle(o):i.svgObject.setAttribute("style","cursor: null"),i.isPointMouseDown&&(t=i.series[this.seriesIndex],t.type.indexOf("Spline")>-1&&i[Ke(t.type)+"SeriesModule"].findSplinePoint(t),this.pointDragging(this.seriesIndex,this.pointIndex))}getCursorStyle(e){let t=this.chart;t.svgObject.setAttribute("style","Bar"===e.series.type&&t.isTransposed?"cursor:ns-resize":t.isTransposed||"Bar"===e.series.type?"cursor:ew-resize":"cursor:ns-resize")}pointDragging(e,t){let i,s,o,n,r,a=this.chart,l=[],c=a.visibleSeries[e],d=c.dragSettings,u=c.yAxis,p=c.isRectSeries?1:0,m=function(e,t,i){let s,o,n,r;return i?(s=t.rect.x,o=e.rect.y,n=t.rect.width,r=e.rect.height):(s=e.rect.x,o=t.rect.y,n=e.rect.width,r=t.rect.height),new g(s,o,n,r)}(c.xAxis,u,a.requireInvertedAxis);if("Bar"===c.type?(i=a.isTransposed?m.y+m.height-a.mouseY:a.mouseX-m.x,s=a.isTransposed?m.height:m.width):(i=a.isTransposed?a.mouseX-m.x:m.y+m.height-a.mouseY,s=a.isTransposed?m.width:m.height),o=u.isInversed?1-i/s:i/s,o=o*u.visibleRange.delta+u.visibleRange.min,n=null!==u.minimum?u.visibleRange.min+p:Object(h.W)(d.minY)?o:d.minY,r=null!==u.maximum?u.visibleRange.max+p:Object(h.W)(d.maxY)?o:d.maxY,r>=o&&n<=o){c.points[t].yValue=c.points[t].y=a.dragY="Logarithmic"===u.valueType?Math.pow(u.logBase,o):parseFloat(o.toFixed(2)),c.points[t].interior=d.fill;for(let e=0;e<c.points.length;e++)l[e]=c.points[e].yValue;c.yMin=Math.min.apply(null,l),c.yMax=Math.max.apply(null,l),this.isPointDragging=!0,a.refreshBound(),a.trigger("drag",{seriesIndex:e,pointIndex:t,series:c,point:c.points[t],oldValue:a.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:c.points[t].yValue})}}pointMouseUp(){let e=this.chart;e.isPointMouseDown&&e.series[this.seriesIndex].dragSettings.enable&&(e.trigger("dragEnd",{series:e.series[this.seriesIndex],point:e.visibleSeries[this.seriesIndex].points[this.pointIndex],seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,oldValue:e.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue}),e.visibleSeries[this.seriesIndex].points[this.pointIndex].y=e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue,e.isPointMouseDown=!1,this.isPointDragging=!1,this.seriesIndex=this.pointIndex=void 0)}getModuleName(){return"DataEditing"}destroy(e){}}},Dn={provide:"ChartsHighlight",useValue:class extends Bi{constructor(e){super(e),this.chart=e,this.renderer=e.renderer,this.wireEvents()}wireEvents(){this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning||this.chart.on(h.d.touchMoveEvent,this.mouseMove,this)}unWireEvents(){this.chart.isDestroyed||this.chart.off(h.d.touchMoveEvent,this.mouseMove)}declarePrivateVariables(e){this.styleId=e.element.id+"_ej2_chart_highlight",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.highlightDataIndexes=[],this.isSeriesMode="Series"===e.highlightMode}invokeHighlight(e){this.declarePrivateVariables(e),this.series=Object(h.J)({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.highlightMode}getModuleName(){return"Highlight"}destroy(e){this.unWireEvents()}}};let Bn=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},providers:[zo,Eo,Do,Bo,No,Vo,Fo,Ho,Wo,Zo,Xo,Go,Yo,Uo,Qo,qo,Jo,Ko,$o,en,tn,sn,on,nn,rn,an,ln,hn,cn,dn,un,pn,mn,gn,bn,yn,fn,xn,vn,wn,_n,Sn,Cn,Mn,Ln,On,An,Pn,kn,Tn,Rn,jn,In,zn,En,Dn],imports:[[As.c,Io],Io]}),e})(),Nn=["animation","backwardForecast","dashArray","enableTooltip","fill","forwardForecast","intercept","legendShape","marker","name","period","polynomialOrder","type","visible","width"],Vn=[],Fn=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(Vn),this.directivePropList=Nn}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-trendline"]],inputs:{animation:"animation",backwardForecast:"backwardForecast",dashArray:"dashArray",enableTooltip:"enableTooltip",fill:"fill",forwardForecast:"forwardForecast",intercept:"intercept",legendShape:"legendShape",marker:"marker",name:"name",period:"period",polynomialOrder:"polynomialOrder",type:"type",visible:"visible",width:"width"},features:[n.Bb]}),e})(),Hn=(()=>{class e extends l.a{constructor(){super("trendlines")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-trendlines"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Fn,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),Wn=["animation","bearFillColor","border","bullFillColor","cardinalSplineTension","close","columnSpacing","columnWidth","cornerRadius","dashArray","dataSource","emptyPointSettings","enableSolidCandles","enableTooltip","fill","high","low","marker","name","opacity","open","pointColorMapping","query","selectionStyle","tooltipMappingName","trendlines","type","visible","volume","width","xAxisName","xName","yAxisName","yName"],Zn=[],Xn=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,this.tags=["trendlines"],Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(Zn),this.directivePropList=Wn}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-series"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Hn,!0),2&e&&n.rc(s=n.fc())&&(t.childTrendlines=s.first)},inputs:{animation:"animation",bearFillColor:"bearFillColor",border:"border",bullFillColor:"bullFillColor",cardinalSplineTension:"cardinalSplineTension",close:"close",columnSpacing:"columnSpacing",columnWidth:"columnWidth",cornerRadius:"cornerRadius",dashArray:"dashArray",dataSource:"dataSource",emptyPointSettings:"emptyPointSettings",enableSolidCandles:"enableSolidCandles",enableTooltip:"enableTooltip",fill:"fill",high:"high",low:"low",marker:"marker",name:"name",opacity:"opacity",open:"open",pointColorMapping:"pointColorMapping",query:"query",selectionStyle:"selectionStyle",tooltipMappingName:"tooltipMappingName",trendlines:"trendlines",type:"type",visible:"visible",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName",yName:"yName"},features:[n.Bb]}),e})(),Gn=(()=>{class e extends l.a{constructor(){super("series")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-series-collection"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Xn,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),Yn=["coefficient","crossesAt","crossesInAxis","crosshairTooltip","description","desiredIntervals","edgeLabelPlacement","enableAutoIntervalOnZooming","enableTrim","interval","intervalType","isInversed","labelFormat","labelIntersectAction","labelPlacement","labelPosition","labelRotation","labelStyle","lineStyle","logBase","majorGridLines","majorTickLines","maximum","maximumLabelWidth","maximumLabels","minimum","minorGridLines","minorTickLines","minorTicksPerInterval","name","opposedPosition","placeNextToAxisLine","plotOffset","rangePadding","rowIndex","skeleton","skeletonType","span","startAngle","stripLines","tabIndex","tickPosition","title","titleStyle","valueType","visible","zoomFactor","zoomPosition"],Un=[],Qn=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(Un),this.directivePropList=Yn}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-axis"]],inputs:{coefficient:"coefficient",crossesAt:"crossesAt",crossesInAxis:"crossesInAxis",crosshairTooltip:"crosshairTooltip",description:"description",desiredIntervals:"desiredIntervals",edgeLabelPlacement:"edgeLabelPlacement",enableAutoIntervalOnZooming:"enableAutoIntervalOnZooming",enableTrim:"enableTrim",interval:"interval",intervalType:"intervalType",isInversed:"isInversed",labelFormat:"labelFormat",labelIntersectAction:"labelIntersectAction",labelPlacement:"labelPlacement",labelPosition:"labelPosition",labelRotation:"labelRotation",labelStyle:"labelStyle",lineStyle:"lineStyle",logBase:"logBase",majorGridLines:"majorGridLines",majorTickLines:"majorTickLines",maximum:"maximum",maximumLabelWidth:"maximumLabelWidth",maximumLabels:"maximumLabels",minimum:"minimum",minorGridLines:"minorGridLines",minorTickLines:"minorTickLines",minorTicksPerInterval:"minorTicksPerInterval",name:"name",opposedPosition:"opposedPosition",placeNextToAxisLine:"placeNextToAxisLine",plotOffset:"plotOffset",rangePadding:"rangePadding",rowIndex:"rowIndex",skeleton:"skeleton",skeletonType:"skeletonType",span:"span",startAngle:"startAngle",stripLines:"stripLines",tabIndex:"tabIndex",tickPosition:"tickPosition",title:"title",titleStyle:"titleStyle",valueType:"valueType",visible:"visible",zoomFactor:"zoomFactor",zoomPosition:"zoomPosition"},features:[n.Bb]}),e})(),qn=(()=>{class e extends l.a{constructor(){super("axes")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-axes"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,Qn,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),Jn=["border","height"],Kn=[],$n=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(Kn),this.directivePropList=Jn}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-row"]],inputs:{border:"border",height:"height"},features:[n.Bb]}),e})(),er=(()=>{class e extends l.a{constructor(){super("rows")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-rows"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,$n,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})();var tr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ir=["content","coordinateUnits","description","horizontalAlignment","region","verticalAlignment","x","xAxisName","y","yAxisName"],sr=[],or=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(sr),this.directivePropList=ir}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-annotation"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,ks,!0),2&e&&n.rc(s=n.fc())&&(t.content=s.first)},inputs:{content:"content",coordinateUnits:"coordinateUnits",description:"description",horizontalAlignment:"horizontalAlignment",region:"region",verticalAlignment:"verticalAlignment",x:"x",xAxisName:"xAxisName",y:"y",yAxisName:"yAxisName"},features:[n.Bb]}),function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);n>3&&r&&Object.defineProperty(t,i,r)}([Object(l.f)(),tr("design:type",Object)],e.prototype,"content",void 0),e})(),nr=(()=>{class e extends l.a{constructor(){super("annotations")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-annotations"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,or,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),rr=["point","series"],ar=[],lr=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(ar),this.directivePropList=rr}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-selectedDataIndex"]],inputs:{point:"point",series:"series"},features:[n.Bb]}),e})(),hr=(()=>{class e extends l.a{constructor(){super("selecteddataindexes")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-selectedDataIndexes"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,lr,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),cr=["interval","intervalType","selected","text"],dr=[],ur=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(dr),this.directivePropList=cr}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-period"]],inputs:{interval:"interval",intervalType:"intervalType",selected:"selected",text:"text"},features:[n.Bb]}),e})(),pr=(()=>{class e extends l.a{constructor(){super("periods")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-periods"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,ur,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),mr=["background","border","date","description","placeAt","showOnSeries","text","textStyle","type"],gr=[],br=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(gr),this.directivePropList=mr}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-stockevent"]],inputs:{background:"background",border:"border",date:"date",description:"description",placeAt:"placeAt",showOnSeries:"showOnSeries",text:"text",textStyle:"textStyle",type:"type"},features:[n.Bb]}),e})(),yr=(()=>{class e extends l.a{constructor(){super("stockevents")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-stockevents"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,br,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})(),fr=["animation","bandColor","close","dPeriod","dashArray","dataSource","fastPeriod","field","fill","high","kPeriod","low","lowerLine","macdLine","macdNegativeColor","macdPositiveColor","macdType","open","overBought","overSold","period","periodLine","pointColorMapping","query","seriesName","showZones","slowPeriod","standardDeviation","type","upperLine","volume","width","xAxisName","xName","yAxisName"],xr=[],vr=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(xr),this.directivePropList=fr}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-indicator"]],inputs:{animation:"animation",bandColor:"bandColor",close:"close",dPeriod:"dPeriod",dashArray:"dashArray",dataSource:"dataSource",fastPeriod:"fastPeriod",field:"field",fill:"fill",high:"high",kPeriod:"kPeriod",low:"low",lowerLine:"lowerLine",macdLine:"macdLine",macdNegativeColor:"macdNegativeColor",macdPositiveColor:"macdPositiveColor",macdType:"macdType",open:"open",overBought:"overBought",overSold:"overSold",period:"period",periodLine:"periodLine",pointColorMapping:"pointColorMapping",query:"query",seriesName:"seriesName",showZones:"showZones",slowPeriod:"slowPeriod",standardDeviation:"standardDeviation",type:"type",upperLine:"upperLine",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName"},features:[n.Bb]}),e})(),wr=(()=>{class e extends l.a{constructor(){super("indicators")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-stockchart-indicators"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,vr,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})();var _r=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Sr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const Cr=["axisLabelRender","load","loaded","onZooming","pointClick","pointMove","rangeChange","selectorRender","seriesRender","stockChartMouseClick","stockChartMouseDown","stockChartMouseLeave","stockChartMouseMove","stockChartMouseUp","stockEventRender","tooltipRender","dataSourceChange"],Mr=["dataSource"];let Lr=(()=>{let e=class extends Ms{constructor(e,t,i,s){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=s,this.tags=["series","axes","rows","annotations","selectedDataIndexes","periods","stockEvents","indicators"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let e=this.injector.get("ChartsLineSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(o){}try{let e=this.injector.get("ChartsColumnSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(n){}try{let e=this.injector.get("ChartsSplineSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(r){}try{let e=this.injector.get("ChartsSplineAreaSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(a){}try{let e=this.injector.get("ChartsStripLine");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(h){}try{let e=this.injector.get("ChartsAreaSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(c){}try{let e=this.injector.get("ChartsTooltip");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(d){}try{let e=this.injector.get("ChartsCrosshair");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(u){}try{let e=this.injector.get("ChartsDateTime");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(p){}try{let e=this.injector.get("ChartsZoom");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(m){}try{let e=this.injector.get("ChartsDataLabel");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(g){}try{let e=this.injector.get("ChartsSelection");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(b){}try{let e=this.injector.get("ChartsChartAnnotation");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(y){}try{let e=this.injector.get("ChartsHiloSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(f){}try{let e=this.injector.get("ChartsHiloOpenCloseSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(x){}try{let e=this.injector.get("ChartsCandleSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(v){}try{let e=this.injector.get("ChartsSmaIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(w){}try{let e=this.injector.get("ChartsTmaIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(_){}try{let e=this.injector.get("ChartsEmaIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(S){}try{let e=this.injector.get("ChartsAccumulationDistributionIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(C){}try{let e=this.injector.get("ChartsMacdIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(M){}try{let e=this.injector.get("ChartsAtrIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(L){}try{let e=this.injector.get("ChartsRsiIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(O){}try{let e=this.injector.get("ChartsMomentumIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(A){}try{let e=this.injector.get("ChartsStochasticIndicator");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(P){}try{let e=this.injector.get("ChartsBollingerBands");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(k){}try{let e=this.injector.get("ChartsTrendlines");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(T){}try{let e=this.injector.get("ChartsRangeTooltip");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(R){}try{let e=this.injector.get("ChartsExport");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(j){}this.registerEvents(Cr),this.addTwoWay.call(this,Mr),Object(l.g)("currentInstance",this,this.viewContainerRef),this.context=new l.c}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childSeries,this.childAxes&&(this.tagObjects[1].instance=this.childAxes),this.childRows&&(this.tagObjects[2].instance=this.childRows),this.childAnnotations&&(this.tagObjects[3].instance=this.childAnnotations),this.childSelectedDataIndexes&&(this.tagObjects[4].instance=this.childSelectedDataIndexes),this.childPeriods&&(this.tagObjects[5].instance=this.childPeriods),this.childStockEvents&&(this.tagObjects[6].instance=this.childStockEvents),this.childIndicators&&(this.tagObjects[7].instance=this.childIndicators),this.context.ngAfterContentChecked(this)}};return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.l),n.Qb(n.F),n.Qb(n.R),n.Qb(n.s))},e.\u0275cmp=n.Kb({type:e,selectors:[["ejs-stockchart"]],contentQueries:function(e,t,i){var s;1&e&&(n.Ib(i,Ts,!0),n.Ib(i,Gn,!0),n.Ib(i,qn,!0),n.Ib(i,er,!0),n.Ib(i,nr,!0),n.Ib(i,hr,!0),n.Ib(i,pr,!0),n.Ib(i,yr,!0),n.Ib(i,wr,!0)),2&e&&(n.rc(s=n.fc())&&(t.tooltip_template=s.first),n.rc(s=n.fc())&&(t.childSeries=s.first),n.rc(s=n.fc())&&(t.childAxes=s.first),n.rc(s=n.fc())&&(t.childRows=s.first),n.rc(s=n.fc())&&(t.childAnnotations=s.first),n.rc(s=n.fc())&&(t.childSelectedDataIndexes=s.first),n.rc(s=n.fc())&&(t.childPeriods=s.first),n.rc(s=n.fc())&&(t.childStockEvents=s.first),n.rc(s=n.fc())&&(t.childIndicators=s.first))},inputs:{annotations:"annotations",axes:"axes",background:"background",border:"border",chartArea:"chartArea",crosshair:"crosshair",dataSource:"dataSource",enableCustomRange:"enableCustomRange",enablePeriodSelector:"enablePeriodSelector",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableSelector:"enableSelector",exportType:"exportType",height:"height",indicatorType:"indicatorType",indicators:"indicators",isMultiSelect:"isMultiSelect",isSelect:"isSelect",isTransposed:"isTransposed",locale:"locale",margin:"margin",periods:"periods",primaryXAxis:"primaryXAxis",primaryYAxis:"primaryYAxis",rows:"rows",selectedDataIndexes:"selectedDataIndexes",selectionMode:"selectionMode",series:"series",seriesType:"seriesType",stockEvents:"stockEvents",theme:"theme",title:"title",titleStyle:"titleStyle",tooltip:"tooltip",trendlineType:"trendlineType",width:"width",zoomSettings:"zoomSettings"},outputs:{axisLabelRender:"axisLabelRender",load:"load",loaded:"loaded",onZooming:"onZooming",pointClick:"pointClick",pointMove:"pointMove",rangeChange:"rangeChange",selectorRender:"selectorRender",seriesRender:"seriesRender",stockChartMouseClick:"stockChartMouseClick",stockChartMouseDown:"stockChartMouseDown",stockChartMouseLeave:"stockChartMouseLeave",stockChartMouseMove:"stockChartMouseMove",stockChartMouseUp:"stockChartMouseUp",stockEventRender:"stockEventRender",tooltipRender:"tooltipRender",dataSourceChange:"dataSourceChange"},features:[n.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),_r([Object(l.f)(),Sr("design:type",Object)],e.prototype,"tooltip_template",void 0),e=_r([Object(l.d)([l.c]),Sr("design:paramtypes",[n.l,n.F,n.R,n.s])],e),e})(),Or=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},imports:[[As.c]]}),e})(),Ar=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},providers:[],imports:[[As.c,Or],Or]}),e})(),Pr=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},providers:[en,zo],imports:[[s.j,s.v,Bn,Ar]]}),e})();var kr=i("tyNb");const Tr=[{title:"STOCK-HSD",group:!0},{title:"Dashboard",icon:"activity-outline",link:"/users/dashboard"},{title:"IPO",icon:"pie-chart-outline",link:"/users/ipo"},{title:"Company",icon:"list-outline",link:"/users/company"},{title:"Sector",icon:"grid-outline",link:"/users/sector"},{title:"Comparison",icon:"bar-chart-outline",link:"/users/comparison"},{title:"Profile",icon:"person-outline",link:"/users/profile"}];var Rr=i("mgFL");let jr=(()=>{class e{constructor(){this.menu=Tr}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["ngx-users"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,t){1&e&&(n.Wb(0,"ngx-one-column-layout"),n.Rb(1,"nb-menu",0),n.Rb(2,"router-outlet"),n.Vb()),2&e&&(n.Eb(1),n.mc("items",t.menu))},directives:[Rr.a,s.S,kr.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),e})();function Ir(e,t){1&e&&n.Rb(0,"tr",9)}function zr(e,t){1&e&&n.Rb(0,"tr",10)}function Er(e,t){if(1&e&&(n.Wb(0,"th",11),n.Cc(1),n.Vb()),2&e){const e=n.gc();n.mc("nbSortHeader",e.getSortDirection(e.customColumn)),n.Eb(1),n.Ec(" ",e.customColumn," ")}}function Dr(e,t){if(1&e&&(n.Wb(0,"td",12),n.Wb(1,"a",13),n.Cc(2),n.Vb(),n.Vb()),2&e){const e=t.$implicit,i=n.gc();n.Eb(1),n.oc("href","/users/company-details?stock=",e.data[i.customColumn],"",n.wc),n.Eb(1),n.Ec(" ",e.data[i.customColumn]," ")}}function Br(e,t){if(1&e&&(n.Wb(0,"th",11),n.Cc(1),n.Vb()),2&e){const e=n.gc().$implicit,t=n.gc();n.mc("nbSortHeader",t.getSortDirection(e)),n.Eb(1),n.Ec(" ",e," ")}}function Nr(e,t){if(1&e&&(n.Wb(0,"td",12),n.Cc(1),n.Vb()),2&e){const e=t.$implicit,i=n.gc().$implicit;n.Eb(1),n.Dc(e.data[i]||"-")}}function Vr(e,t){if(1&e&&(n.Ub(0,14),n.Ac(1,Br,2,2,"th",6),n.Ac(2,Nr,2,1,"td",7),n.Tb()),2&e){const e=t.$implicit,i=t.index,s=n.gc();n.mc("nbTreeGridColumnDef",e)("showOn",s.getShowOn(i))}}let Fr=(()=>{class e{constructor(e){this.dataSourceBuilder=e,this.customColumn="Name",this.defaultColumns=["Code","Sector","Exchange","CEO","Turnover","About"],this.allColumns=[this.customColumn,...this.defaultColumns],this.sortDirection=s.eb.NONE,this.data=[{data:{Name:"Facebook(FB)",Code:"002831",Sector:"Tech",Exchange:"US",CEO:"Zuckerberg",Turnover:2367.63,About:"XXXXXXXXX"}},{data:{Name:"Amazon(AMZN)",Code:"422133",Sector:"Tech",Exchange:"US",CEO:"Jeff Bezos",Turnover:512.26,About:"AAAAAAAAA"}},{data:{Name:"Apple(AAPL)",Code:"100122",Sector:"Tech",Exchange:"US",CEO:"Tim Cook",Turnover:4925.63,About:"CCCCCCCCCC"}}],this.dataSource=this.dataSourceBuilder.create(this.data)}updateSort(e){this.sortColumn=e.column,this.sortDirection=e.direction}getSortDirection(e){return this.sortColumn===e?this.sortDirection:s.eb.NONE}getShowOn(e){return 400+100*e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(s.qb))},e.\u0275cmp=n.Kb({type:e,selectors:[["ngx-company-list"]],decls:12,vars:7,consts:[["for","search",1,"search-label"],["nbInput","","id","search",1,"search-input",3,"nbFilterInput"],[3,"nbTreeGrid","nbSort","sort"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],[3,"nbTreeGridColumnDef"],["nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],[3,"nbTreeGridColumnDef","showOn",4,"ngFor","ngForOf"],["nbTreeGridHeaderRow",""],["nbTreeGridRow",""],["nbTreeGridHeaderCell","",3,"nbSortHeader"],["nbTreeGridCell",""],[3,"href"],[3,"nbTreeGridColumnDef","showOn"]],template:function(e,t){1&e&&(n.Wb(0,"nb-card"),n.Wb(1,"nb-card-body"),n.Wb(2,"label",0),n.Cc(3,"Search:"),n.Vb(),n.Rb(4,"input",1),n.Wb(5,"table",2),n.ec("sort",(function(e){return t.updateSort(e)})),n.Ac(6,Ir,1,0,"tr",3),n.Ac(7,zr,1,0,"tr",4),n.Ub(8,5),n.Ac(9,Er,2,2,"th",6),n.Ac(10,Dr,3,2,"td",7),n.Tb(),n.Ac(11,Vr,3,2,"ng-container",8),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Eb(4),n.mc("nbFilterInput",t.dataSource),n.Eb(1),n.mc("nbTreeGrid",t.dataSource)("nbSort",t.dataSource),n.Eb(1),n.mc("nbTreeGridHeaderRowDef",t.allColumns),n.Eb(1),n.mc("nbTreeGridRowDefColumns",t.allColumns),n.Eb(1),n.mc("nbTreeGridColumnDef",t.customColumn),n.Eb(3),n.mc("ngForOf",t.defaultColumns))},directives:[s.s,s.r,s.J,s.F,s.pb,s.fb,s.ub,s.xb,s.ob,s.rb,s.mb,As.l,s.tb,s.wb,s.sb,s.gb,s.nb],styles:[".nb-theme-default   [_nghost-%COMP%]   button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.nb-theme-default   [_nghost-%COMP%]   .search-label[_ngcontent-%COMP%]{display:block}.nb-theme-default   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-theme-default   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:100%}.nb-theme-default   [_nghost-%COMP%]     .row-toggle-button{color:#222b45}.nb-theme-default   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize}@media screen and (min-width:400px){.nb-theme-default   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-theme-default   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-theme-default   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-theme-default   [_nghost-%COMP%]   .nb-column-items[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:23%}}.nb-theme-dark   [_nghost-%COMP%]   button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.nb-theme-dark   [_nghost-%COMP%]   .search-label[_ngcontent-%COMP%]{display:block}.nb-theme-dark   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-theme-dark   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:100%}.nb-theme-dark   [_nghost-%COMP%]     .row-toggle-button{color:#fff}.nb-theme-dark   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize}@media screen and (min-width:400px){.nb-theme-dark   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-theme-dark   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-theme-dark   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-theme-dark   [_nghost-%COMP%]   .nb-column-items[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:23%}}.nb-theme-cosmic   [_nghost-%COMP%]   button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.nb-theme-cosmic   [_nghost-%COMP%]   .search-label[_ngcontent-%COMP%]{display:block}.nb-theme-cosmic   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:100%}.nb-theme-cosmic   [_nghost-%COMP%]     .row-toggle-button{color:#fff}.nb-theme-cosmic   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize}@media screen and (min-width:400px){.nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-items[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:23%}}.nb-theme-corporate   [_nghost-%COMP%]   button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.nb-theme-corporate   [_nghost-%COMP%]   .search-label[_ngcontent-%COMP%]{display:block}.nb-theme-corporate   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-theme-corporate   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:100%}.nb-theme-corporate   [_nghost-%COMP%]     .row-toggle-button{color:#222b45}.nb-theme-corporate   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-tree-grid-header-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize}@media screen and (min-width:400px){.nb-theme-corporate   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-theme-corporate   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-theme-corporate   [_nghost-%COMP%]   .nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-theme-corporate   [_nghost-%COMP%]   .nb-column-items[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-column-kind[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .nb-column-size[_ngcontent-%COMP%]{width:23%}}"]}),e})(),Hr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["ngx-dashboard"]],decls:3,vars:0,consts:[[1,"row"],[1,"col-xxl-5"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Rb(2,"ngx-company-list"),n.Vb(),n.Vb())},directives:[Fr],encapsulation:2}),e})();var Wr=i("GJ+o"),Zr=i("wH5/");const Xr=["grid"];let Gr=(()=>{class e{constructor(e,t){this.router=e,this.service=t}ngOnInit(){this.service.getCompanyListData().subscribe(e=>{this.data=e.companyListDto,console.log("======result: "+JSON.stringify(e))}),this.pageSettings={pageCount:5},this.toolbar=["Search"]}rowSelected(e){const t=this.grid.getSelectedRecords();this.router.navigate(["/users/company-details"],{queryParams:t[0]})}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(kr.c),n.Qb(Zr.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["fsd-company-list"]],viewQuery:function(e,t){var i;1&e&&n.Hc(Xr,!0),2&e&&n.rc(i=n.fc())&&(t.grid=i.first)},features:[n.Db([Wr.i,Wr.k,Wr.f,Wr.h,Wr.j,Wr.l])],decls:11,vars:3,consts:[[1,"control-section"],["allowSorting","true","allowPaging","true","allowSearching","true","allowSelection","true","allowFiltering","true",3,"dataSource","pageSettings","toolbar","rowSelected"],["grid",""],["field","companyName","headerText","Company Name","width","120","textAlign","Center"],["field","companyCode","headerText","Company Code","width","120","textAlign","Center"],["field","sectorName","headerText","Sector","width","120","textAlign","Center"],["field","exchangeName","headerText","Exchange","width","120","textAlign","Center"],["field","ceoName","headerText","CEO","width","120","textAlign","Center"],["field","turnOver","headerText","Turnover","width","120","textAlign","Center"],["field","brief","headerText","Brief","width","120","textAlign","Center"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"ejs-grid",1,2),n.ec("rowSelected",(function(e){return t.rowSelected(e)})),n.Wb(3,"e-columns"),n.Rb(4,"e-column",3),n.Rb(5,"e-column",4),n.Rb(6,"e-column",5),n.Rb(7,"e-column",6),n.Rb(8,"e-column",7),n.Rb(9,"e-column",8),n.Rb(10,"e-column",9),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Eb(1),n.mc("dataSource",t.data)("pageSettings",t.pageSettings)("toolbar",t.toolbar))},directives:[Wr.g,Wr.d,Wr.b,Wr.c,Wr.a],styles:[""]}),e})(),Yr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["fsd-company"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-xxl-5"],["status","primary"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"nb-card",2),n.Wb(3,"nb-card-header"),n.Cc(4," Companies "),n.Vb(),n.Wb(5,"nb-card-body"),n.Rb(6,"fsd-company-list"),n.Vb(),n.Vb(),n.Vb(),n.Vb())},directives:[s.s,s.u,s.r,Gr],encapsulation:2}),e})();var Ur=i("JeY3");const Qr=["item"];let qr=(()=>{class e{constructor(e,t,i,s){this.stockService=e,this.companyService=t,this.activateInfo=i,this.router=s}ngOnInit(){this.activateInfo.queryParams.subscribe(e=>{this.companyCode=e.companyCode}),this.stockService.getCompanyStockPriceListData(this.companyCode).subscribe(e=>{this.stockchartData=e,console.log("service: "+JSON.stringify(e))},e=>console.error(e),()=>console.log("done stock")),this.companyService.getCompanyDetailsData(this.companyCode).subscribe(e=>{this.companyDetailsData=e.companyDto},e=>console.error(e),()=>console.log("done")),this.title="APPLE",this.primaryXAxis={valueType:"DateTime"}}ngAfterContentInit(){this.toggle()}toggle(){this.accordion.toggle()}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(Ur.a),n.Qb(Zr.a),n.Qb(kr.a),n.Qb(kr.c))},e.\u0275cmp=n.Kb({type:e,selectors:[["fsd-company-details"]],viewQuery:function(e,t){var i;1&e&&n.yc(Qr,!0),2&e&&n.rc(i=n.fc())&&(t.accordion=i.first)},decls:43,vars:10,consts:[[1,"accordions-container","row"],[1,"accordion-container","col-md-12","col-lg-12","col-xxxl-12"],[1,"row"],[1,"col-md-4"],["status","primary"],["status","danger"],["status","info"],["multi",""],["item",""],["id","chart-container",3,"primaryXAxis","primaryYAxis","title"],["type","Candle","xName","date","High","high","Low","low","Open","open","Close","close","Name","Apple",3,"dataSource"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"nb-card"),n.Wb(3,"nb-card-header"),n.Cc(4,"Company Stock Information"),n.Vb(),n.Wb(5,"nb-card-body"),n.Wb(6,"div",2),n.Wb(7,"div",3),n.Wb(8,"nb-card",4),n.Wb(9,"nb-card-header"),n.Cc(10),n.Vb(),n.Vb(),n.Vb(),n.Wb(11,"div",3),n.Wb(12,"nb-card",5),n.Wb(13,"nb-card-header"),n.Cc(14),n.Vb(),n.Vb(),n.Vb(),n.Wb(15,"div",3),n.Wb(16,"nb-card",6),n.Wb(17,"nb-card-header"),n.Cc(18),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(19,"nb-accordion",7),n.Wb(20,"nb-accordion-item",null,8),n.Wb(22,"nb-accordion-item-header"),n.Cc(23," Stock Price Chart "),n.Vb(),n.Wb(24,"nb-accordion-item-body"),n.Wb(25,"ejs-stockchart",9),n.Wb(26,"e-stockchart-series-collection"),n.Rb(27,"e-stockchart-series",10),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(28,"nb-accordion-item"),n.Wb(29,"nb-accordion-item-header"),n.Cc(30," Turnover "),n.Vb(),n.Wb(31,"nb-accordion-item-body"),n.Cc(32),n.Vb(),n.Vb(),n.Wb(33,"nb-accordion-item"),n.Wb(34,"nb-accordion-item-header"),n.Cc(35," CEO "),n.Vb(),n.Wb(36,"nb-accordion-item-body"),n.Cc(37),n.Vb(),n.Vb(),n.Wb(38,"nb-accordion-item"),n.Wb(39,"nb-accordion-item-header"),n.Cc(40," About "),n.Vb(),n.Wb(41,"nb-accordion-item-body"),n.Cc(42),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Eb(10),n.Ec(" Company code: ",t.companyDetailsData.companyCode," "),n.Eb(4),n.Ec(" Exchange: ",null==t.companyDetailsData?null:t.companyDetailsData.exchangeName," "),n.Eb(4),n.Ec(" Sector: ",null==t.companyDetailsData?null:t.companyDetailsData.sectorName," "),n.Eb(7),n.mc("primaryXAxis",t.primaryXAxis)("primaryYAxis",t.primaryYAxis)("title",t.title),n.Eb(2),n.mc("dataSource",t.stockchartData),n.Eb(5),n.Ec(" ",null==t.companyDetailsData?null:t.companyDetailsData.turnOver," "),n.Eb(5),n.Ec(" ",null==t.companyDetailsData?null:t.companyDetailsData.ceoName," "),n.Eb(5),n.Ec(" ",null==t.companyDetailsData?null:t.companyDetailsData.brief," "))},directives:[s.s,s.u,s.r,s.f,s.h,s.i,s.g,Lr,Gn,Xn],styles:[".nb-theme-corporate   [_nghost-%COMP%]   .accordion-container[_ngcontent-%COMP%]:first-child, .nb-theme-cosmic   [_nghost-%COMP%]   .accordion-container[_ngcontent-%COMP%]:first-child, .nb-theme-dark   [_nghost-%COMP%]   .accordion-container[_ngcontent-%COMP%]:first-child, .nb-theme-default   [_nghost-%COMP%]   .accordion-container[_ngcontent-%COMP%]:first-child{margin-bottom:1.875rem}"]}),e})();var Jr=i("jcQU"),Kr=i("3Pt+"),$r=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const ea=["blur","change","cleared","close","created","destroyed","focus","navigated","open","renderDayCell","valueChange"],ta=["value"];let ia=(()=>{let e=sa=class extends I.b{constructor(e,t,i,s){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=s,this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let e=this.injector.get("CalendarsIslamic");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(o){}this.registerEvents(ea),this.addTwoWay.call(this,ta),Object(l.g)("currentInstance",this,this.viewContainerRef),this.formContext=new l.e,this.formCompContext=new l.c}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.l),n.Qb(n.F),n.Qb(n.R),n.Qb(n.s))},e.\u0275cmp=n.Kb({type:e,selectors:[["ejs-datepicker"]],inputs:{allowEdit:"allowEdit",calendarMode:"calendarMode",cssClass:"cssClass",dayHeaderFormat:"dayHeaderFormat",depth:"depth",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",firstDayOfWeek:"firstDayOfWeek",floatLabelType:"floatLabelType",format:"format",htmlAttributes:"htmlAttributes",isMultiSelection:"isMultiSelection",keyConfigs:"keyConfigs",locale:"locale",max:"max",min:"min",placeholder:"placeholder",readonly:"readonly",serverTimezoneOffset:"serverTimezoneOffset",showClearButton:"showClearButton",showTodayButton:"showTodayButton",start:"start",strictMode:"strictMode",value:"value",values:"values",weekNumber:"weekNumber",width:"width",zIndex:"zIndex"},outputs:{blur:"blur",change:"change",cleared:"cleared",close:"close",created:"created",destroyed:"destroyed",focus:"focus",navigated:"navigated",open:"open",renderDayCell:"renderDayCell",valueChange:"valueChange"},features:[n.Db([{provide:Kr.f,useExisting:Object(n.W)(()=>sa),multi:!0}]),n.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e=sa=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r}([Object(l.d)([l.c,l.e]),$r("design:paramtypes",[n.l,n.F,n.R,n.s])],e),e})();var sa,oa=i("xw5X");let na=(()=>{class e{constructor(e){this.service=e,this.fields={text:"sectorName",value:"id"},this.waterMark="Sectors",this.default="Box"}ngOnInit(){this.service.getSectorListData().subscribe(e=>{this.sectorName=e.sectorListDto})}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(oa.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["fsd-different-sector"]],decls:1,vars:4,consts:[["id","sector-select",3,"dataSource","mode","fields","placeholder"]],template:function(e,t){1&e&&n.Rb(0,"ejs-multiselect",0),2&e&&n.mc("dataSource",t.sectorName)("mode",t.default)("fields",t.fields)("placeholder",t.waterMark)},directives:[Jr.a],styles:[".control-styles{margin:0 auto;width:300px;padding-top:25px}"],encapsulation:2}),e})();const ra=["company"],aa=["companyDate"];let la=(()=>{class e{constructor(e,t){this.router=e,this.service=t,this.date=new Date,this.fields={text:"companyName",value:"companyCode"},this.waterMark="Companies",this.default="Box",this.service.getCompanyListData().subscribe(e=>{this.companyName=e.companyListDto})}ngOnInit(){}gotoComparisonChart(){console.log(this.companyObject.value[0]),console.log(this.companyObject.value[1]),console.log(this.companyDateObject.value.toDateString());let e={queryParams:{company1Code:this.companyObject.value[0],company2Code:this.companyObject.value[1],pickedDate1:this.companyDateObject.value.toLocaleDateString(),pickedDate2:this.companyDateObject.value.toLocaleDateString()}};this.router.navigate(["/users/comparison-charts"],e)}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(kr.c),n.Qb(Zr.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["fsd-comparison"]],viewQuery:function(e,t){var i;1&e&&(n.Hc(ra,!0),n.Hc(aa,!0)),2&e&&(n.rc(i=n.fc())&&(t.companyObject=i.first),n.rc(i=n.fc())&&(t.companyDateObject=i.first))},decls:43,vars:4,consts:[[1,"row"],[1,"col-md-12"],["status","primary"],[1,"col-md-6"],["status","control","accent","danger"],[1,"comparison-header"],["accent","info"],[1,"companycomparison-header"],["id","company-select",3,"dataSource","mode","fields","placeholder"],["company",""],["id","datepicker"],["companyDate",""],["nbButton","","fullWidth","","size","large","status","primary",3,"click"],["status","control","accent","success"],["nbButton","","fullWidth","","size","large","status","primary"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"nb-card",2),n.Wb(3,"nb-card-header"),n.Cc(4," Comparison "),n.Vb(),n.Wb(5,"nb-card-body"),n.Wb(6,"div",0),n.Wb(7,"div",3),n.Wb(8,"nb-card",4),n.Wb(9,"nb-card-header",5),n.Cc(10,"Compare Company Stock Price"),n.Vb(),n.Wb(11,"nb-card-body"),n.Wb(12,"nb-card",6),n.Wb(13,"nb-card-header",7),n.Cc(14,"Select one or two companies:"),n.Vb(),n.Wb(15,"nb-card-body"),n.Rb(16,"ejs-multiselect",8,9),n.Vb(),n.Vb(),n.Wb(18,"nb-card",6),n.Wb(19,"nb-card-header",7),n.Cc(20,"Select date:"),n.Vb(),n.Wb(21,"nb-card-body"),n.Rb(22,"ejs-datepicker",10,11),n.Vb(),n.Vb(),n.Wb(24,"button",12),n.ec("click",(function(){return t.gotoComparisonChart()})),n.Cc(25," Generate Chart"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(26,"div",3),n.Wb(27,"nb-card",13),n.Wb(28,"nb-card-header",5),n.Cc(29,"Compare Sector Stock Price"),n.Vb(),n.Wb(30,"nb-card-body"),n.Wb(31,"nb-card",6),n.Wb(32,"nb-card-header",7),n.Cc(33,"Select one or two Sectors:"),n.Vb(),n.Wb(34,"nb-card-body"),n.Rb(35,"fsd-different-sector"),n.Vb(),n.Vb(),n.Wb(36,"nb-card",6),n.Wb(37,"nb-card-header",7),n.Cc(38,"Select date:"),n.Vb(),n.Wb(39,"nb-card-body"),n.Rb(40,"ejs-datepicker",10),n.Vb(),n.Vb(),n.Wb(41,"button",14),n.Cc(42," Generate Chart"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Eb(16),n.mc("dataSource",t.companyName)("mode",t.default)("fields",t.fields)("placeholder",t.waterMark))},directives:[s.s,s.u,s.r,Jr.a,ia,s.p,na],styles:[".comparison-header[_ngcontent-%COMP%]{font-size:16px;font-style:italic}.companycomparison-header[_ngcontent-%COMP%]{font-size:14px}"]}),e})(),ha=(()=>{class e{constructor(e,t,i,s){this.companyservice=e,this.stockPriceService=t,this.activateInfo=i,this.router=s,this.chartArea={border:{width:0}},this.width="100%",this.primaryXAxis={valueType:"Category",majorGridLines:{width:0}},this.primaryYAxis={labelFormat:"{value}%",maximum:20,edgeLabelPlacement:"Shift",lineStyle:{width:0},majorTickLines:{width:0}},this.tooltip={enable:!0},this.activateInfo.queryParams.subscribe(e=>{this.company1Code=e.company1Code,this.company2Code=e.company2Code,this.pickedDate1=new Date(e.pickedDate1),this.pickedDate2=new Date(e.pickedDate2)}),console.log("pickedDate1: "+this.convertToDate(this.pickedDate1)),this.stockPriceService.getTwoCompanyStock(this.company1Code,this.company2Code,this.convertToDate(this.pickedDate1),this.convertToDate(this.pickedDate2)).subscribe(e=>{console.log("stockPriceService: "+JSON.stringify(e)),this.company1=e.company1,console.log("company1: "+JSON.stringify(this.company1)),this.company2=e.company2,console.log("company2: "+JSON.stringify(this.company2))},e=>console.error(e),()=>console.log("stockPriceService done"))}convertToDate(e){let t,i,s=e.getFullYear(),o=e.getUTCMonth()+1;o<10&&(t="0"+o);let n=e.getDate();return n<10&&(i="0"+n),s+"-"+t+"-"+i}ngOnInit(){this.companyservice.getCompanyDetailsData(this.company1Code).subscribe(e=>{console.log("service1=====: "+JSON.stringify(e)),this.company1DetailsData=e.companyDto},e=>console.error(e),()=>console.log("done")),this.companyservice.getCompanyDetailsData(this.company2Code).subscribe(e=>{console.log("service2=====: "+JSON.stringify(e)),this.company2DetailsData=e.companyDto},e=>console.error(e),()=>console.log("done")),this.title="Price change in weekly"}load(e){let t=location.hash.split("/")[1];t=t||"Material",e.chart.theme=(t.charAt(0).toUpperCase()+t.slice(1)).replace(/-dark/i,"Dark")}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(Zr.a),n.Qb(Ur.a),n.Qb(kr.a),n.Qb(kr.c))},e.\u0275cmp=n.Kb({type:e,selectors:[["fsd-comparison-charts"]],decls:13,vars:10,consts:[["status","primary"],["align","center"],["id","chartcontainer","align","center",2,"display","block",3,"chartArea","width","title","primaryXAxis","primaryYAxis","tooltip","load"],["type","RangeColumn","xName","x","high","high","low","low","name","APPLE","width","2",3,"dataSource"],["type","RangeColumn","xName","x","high","high","low","low","name","FACEBOOK","width","2",3,"dataSource"]],template:function(e,t){1&e&&(n.Wb(0,"nb-card"),n.Wb(1,"nb-card-header"),n.Cc(2),n.Vb(),n.Wb(3,"nb-card-body"),n.Wb(4,"nb-card",0),n.Wb(5,"nb-card-header"),n.Cc(6," Company comparison "),n.Vb(),n.Wb(7,"nb-card-body"),n.Wb(8,"div",1),n.Wb(9,"ejs-chart",2),n.ec("load",(function(e){return t.load(e)})),n.Wb(10,"e-series-collection"),n.Rb(11,"e-series",3),n.Rb(12,"e-series",4),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Eb(2),n.Fc(" ",t.company1DetailsData.companyName," vs ",t.company2DetailsData.companyName," "),n.Eb(7),n.mc("chartArea",t.chartArea)("width",t.width)("title",t.title)("primaryXAxis",t.primaryXAxis)("primaryYAxis",t.primaryYAxis)("tooltip",t.tooltip),n.Eb(2),n.mc("dataSource",t.company1),n.Eb(1),n.mc("dataSource",t.company2))},directives:[s.s,s.u,s.r,jo,Zs,Ws],encapsulation:2}),e})();var ca=i("4FYC"),da=i("Naoh");const ua=["footerTemplate"],pa=["header"],ma=["content"],ga=["*"];let ba=["buttonModel","type"],ya=["click"],fa=(()=>{class e extends l.b{constructor(e){super(),this.viewContainerRef=e,Object(l.g)("currentInstance",this,this.viewContainerRef),this.registerEvents(ya),this.directivePropList=ba}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.R))},e.\u0275dir=n.Lb({type:e,selectors:[["e-dialogbutton"]],inputs:{buttonModel:"buttonModel",type:"type"},outputs:{click:"click"},features:[n.Bb]}),e})(),xa=(()=>{class e extends l.a{constructor(){super("buttons")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["e-buttons"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,fa,!1),2&e&&n.rc(s=n.fc())&&(t.children=s)},features:[n.Bb]}),e})();var va=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},wa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const _a=["beforeClose","beforeOpen","beforeSanitizeHtml","close","created","destroyed","drag","dragStart","dragStop","open","overlayClick","resizeStart","resizeStop","resizing","visibleChange"],Sa=["visible"];let Ca=(()=>{let e=class extends da.a{constructor(e,t,i,s){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=s,this.tags=["buttons"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(_a),this.addTwoWay.call(this,Sa),Object(l.g)("currentInstance",this,this.viewContainerRef),this.containerContext=new l.c}ngOnInit(){this.containerContext.ngOnInit(this)}ngAfterViewInit(){this.containerContext.ngAfterViewInit(this)}ngOnDestroy(){this.containerContext.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childButtons,this.containerContext.ngAfterContentChecked(this)}};return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.l),n.Qb(n.F),n.Qb(n.R),n.Qb(n.s))},e.\u0275cmp=n.Kb({type:e,selectors:[["ejs-dialog"]],contentQueries:function(e,t,i){var s;1&e&&(n.Ib(i,ua,!0),n.Ib(i,pa,!0),n.Ib(i,ma,!0),n.Ib(i,xa,!0)),2&e&&(n.rc(s=n.fc())&&(t.footerTemplate=s.first),n.rc(s=n.fc())&&(t.header=s.first),n.rc(s=n.fc())&&(t.content=s.first),n.rc(s=n.fc())&&(t.childButtons=s.first))},inputs:{allowDragging:"allowDragging",animationSettings:"animationSettings",buttons:"buttons",closeOnEscape:"closeOnEscape",content:"content",cssClass:"cssClass",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableResize:"enableResize",enableRtl:"enableRtl",footerTemplate:"footerTemplate",header:"header",height:"height",isModal:"isModal",locale:"locale",minHeight:"minHeight",position:"position",showCloseIcon:"showCloseIcon",target:"target",visible:"visible",width:"width",zIndex:"zIndex"},outputs:{beforeClose:"beforeClose",beforeOpen:"beforeOpen",beforeSanitizeHtml:"beforeSanitizeHtml",close:"close",created:"created",destroyed:"destroyed",drag:"drag",dragStart:"dragStart",dragStop:"dragStop",open:"open",overlayClick:"overlayClick",resizeStart:"resizeStart",resizeStop:"resizeStop",resizing:"resizing",visibleChange:"visibleChange"},features:[n.Bb],ngContentSelectors:ga,decls:1,vars:0,template:function(e,t){1&e&&(n.lc(),n.kc(0))},encapsulation:2,changeDetection:0}),va([Object(l.f)(),wa("design:type",Object)],e.prototype,"footerTemplate",void 0),va([Object(l.f)(),wa("design:type",Object)],e.prototype,"header",void 0),va([Object(l.f)(),wa("design:type",Object)],e.prototype,"content",void 0),e=va([Object(l.d)([l.c])],e),e})();const Ma=["grid"];let La=(()=>{class e{constructor(e,t){this.router=e,this.service=t,this.alertHeader="Grouping",this.hidden=!1,this.target=".control-section",this.alertWidth="300px",this.alertContent="Grouping is disabled for this column",this.showCloseIcon=!1,this.animationSettings={effect:"None"},this.alertDlgBtnClick=()=>{this.alertDialog.hide()},this.alertDlgButtons=[{click:this.alertDlgBtnClick.bind(this),buttonModel:{content:"OK",isPrimary:!0}}]}ngOnInit(){this.service.getIPOListData().subscribe(e=>{this.data=e}),this.pageSettings={pageCount:5},this.toolbar=["Search"],this.groupOptions={showGroupedColumn:!1,columns:["Sector"]}}dataBound(){this.refresh&&(this.grid.groupColumn("Country"),this.refresh=!1)}load(){this.refresh=this.grid.refreshing}created(){this.grid.on("columnDragStart",this.columnDragStart,this)}columnDragStart(e){"Mainfieldsofinvention"===e.column.field&&this.alertDialog.show()}rowSelected(e){const t=this.grid.getSelectedRecords();this.router.navigate(["/users/ipo-details"],t[0])}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(kr.c),n.Qb(ca.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["fsd-ipo-list"]],viewQuery:function(e,t){var i;1&e&&n.Hc(Ma,!0),2&e&&n.rc(i=n.fc())&&(t.grid=i.first)},features:[n.Db([Wr.i,Wr.k,Wr.f,Wr.h,Wr.j,Wr.l])],decls:16,vars:11,consts:[["id","action-description"],[1,"control-section"],["allowSorting","true","allowGrouping","true","allowPaging","true","allowSearching","true","allowSelection","true","allowFiltering","true",3,"dataSource","pageSettings","toolbar","rowSelected","dataBound","created","load"],["grid",""],["field","companyName","headerText","Company Name","width","140","textAlign","Center"],["field","sectorId","headerText","Sector","width","100","textAlign","Center"],["field","exchangeId","headerText","Exchange","width","120","textAlign","Center"],["field","pricePerShare","headerText","Price Per Share","width","140","textAlign","Center"],["field","totalNumberShare","headerText","Total Number of Shares","width","160","textAlign","Center"],["field","openDateTime","headerText","Open Date","width","120","textAlign","Center"],["field","remarks","headerText","Remarks","width","100","textAlign","Center"],[3,"buttons","visible","header","animationSettings","content","showCloseIcon","target","width"],["alertDialog",""]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"p"),n.Cc(2,"IPO table list shows the recently IPOs with the details"),n.Vb(),n.Vb(),n.Wb(3,"div",1),n.Wb(4,"ejs-grid",2,3),n.ec("rowSelected",(function(e){return t.rowSelected(e)}))("dataBound",(function(){return t.dataBound()}))("created",(function(){return t.created()}))("load",(function(){return t.load()})),n.Wb(6,"e-columns"),n.Rb(7,"e-column",4),n.Rb(8,"e-column",5),n.Rb(9,"e-column",6),n.Rb(10,"e-column",7),n.Rb(11,"e-column",8),n.Rb(12,"e-column",9),n.Rb(13,"e-column",10),n.Vb(),n.Vb(),n.Rb(14,"ejs-dialog",11,12),n.Vb()),2&e&&(n.Eb(4),n.mc("dataSource",t.data)("pageSettings",t.pageSettings)("toolbar",t.toolbar),n.Eb(10),n.mc("buttons",t.alertDlgButtons)("visible",t.hidden)("header",t.alertHeader)("animationSettings",t.animationSettings)("content",t.alertContent)("showCloseIcon",t.showCloseIcon)("target",t.target)("width",t.alertWidth))},directives:[Wr.g,Wr.d,Wr.b,Wr.c,Wr.a,Ca],styles:[""]}),e})(),Oa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["fsd-ipo"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-xxl-5"],["status","primary"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"nb-card",2),n.Wb(3,"nb-card-header"),n.Cc(4," IPO List "),n.Vb(),n.Wb(5,"nb-card-body"),n.Rb(6,"fsd-ipo-list"),n.Vb(),n.Vb(),n.Vb(),n.Vb())},directives:[s.s,s.u,s.r,La],encapsulation:2}),e})(),Aa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["ngx-ipo-details"]],decls:4,vars:0,consts:[[1,"row"],[1,"col-xxl-5"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"h1"),n.Cc(3,"Here is ipo details page"),n.Vb(),n.Vb(),n.Vb())},encapsulation:2}),e})(),Pa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["ngx-profile"]],decls:4,vars:0,consts:[[1,"row"],[1,"col-xxl-5"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"h1"),n.Cc(3,"Here is profile page"),n.Vb(),n.Vb(),n.Vb())},encapsulation:2}),e})();function ka(e,t){if(1&e&&(n.Wb(0,"nb-card-body",4),n.Wb(1,"div",0),n.Wb(2,"div",5),n.Wb(3,"div",6),n.Cc(4),n.Vb(),n.Vb(),n.Wb(5,"div",5),n.Wb(6,"div",7),n.Rb(7,"nb-icon",8),n.Cc(8),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e){const e=t.$implicit;n.Eb(4),n.Ec(" ",e.SectorName," "),n.Eb(2),n.Hb("up",e.DeltDaUp)("down",!e.DeltDaUp),n.Eb(1),n.mc("icon",e.DeltDaUp?"arrow-up":"arrow-down"),n.Eb(1),n.Ec(" ",e.Change,"% ")}}let Ta=(()=>{class e{constructor(e){this.service=e,this.sectorChangeData=[],this.service.getSectorChangeData().subscribe(e=>{console.log("sector: "+JSON.stringify(e)),this.sectorChangeData=e})}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(oa.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["fsd-sector-change"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-md-12"],["status","success"],["status","control",4,"ngFor","ngForOf"],["status","control"],[1,"col-md-6"],[1,"visited-date"],[1,"delta","value"],["pack","eva",3,"icon"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"nb-card",2),n.Wb(3,"nb-card-header"),n.Wb(4,"span"),n.Cc(5,"sector changes today"),n.Vb(),n.Vb(),n.Ac(6,ka,9,7,"nb-card-body",3),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Eb(6),n.mc("ngForOf",t.sectorChangeData))},directives:[s.s,s.u,As.l,s.r,s.G],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-default   [_nghost-%COMP%]   nb-list[_ngcontent-%COMP%]{overflow-x:hidden}.nb-theme-default   [_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:justify;justify-content:space-between;margin:0 -.25rem}.nb-theme-default   [_nghost-%COMP%]   .visited-date[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .visited-pages-count[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   .visited-percentages[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 0 auto;margin:0 .25rem}.nb-theme-default   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.25rem;color:#00d68f}.nb-theme-default   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;position:relative}.nb-theme-default   [_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]{color:#ff3d71}.nb-theme-default   [_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]{color:#00d68f}.nb-theme-default   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.nb-theme-dark   [_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-dark   [_nghost-%COMP%]   nb-list[_ngcontent-%COMP%]{overflow-x:hidden}.nb-theme-dark   [_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:justify;justify-content:space-between;margin:0 -.25rem}.nb-theme-dark   [_nghost-%COMP%]   .visited-date[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .visited-pages-count[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   .visited-percentages[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 0 auto;margin:0 .25rem}.nb-theme-dark   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.25rem;color:#00d68f}.nb-theme-dark   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;position:relative}.nb-theme-dark   [_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]{color:#ff3d71}.nb-theme-dark   [_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]{color:#00d68f}.nb-theme-dark   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   nb-list[_ngcontent-%COMP%]{overflow-x:hidden}.nb-theme-cosmic   [_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:justify;justify-content:space-between;margin:0 -.25rem}.nb-theme-cosmic   [_nghost-%COMP%]   .visited-date[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .visited-pages-count[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   .visited-percentages[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 0 auto;margin:0 .25rem}.nb-theme-cosmic   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.25rem;color:#00d68f}.nb-theme-cosmic   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;position:relative}.nb-theme-cosmic   [_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]{color:#ff3d71}.nb-theme-cosmic   [_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]{color:#00d68f}.nb-theme-cosmic   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-corporate   [_nghost-%COMP%]   nb-list[_ngcontent-%COMP%]{overflow-x:hidden}.nb-theme-corporate   [_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:justify;justify-content:space-between;margin:0 -.25rem}.nb-theme-corporate   [_nghost-%COMP%]   .visited-date[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .visited-pages-count[_ngcontent-%COMP%], .nb-theme-corporate   [_nghost-%COMP%]   .visited-percentages[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 0 auto;margin:0 .25rem}.nb-theme-corporate   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.25rem;color:#00d68f}.nb-theme-corporate   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;position:relative}.nb-theme-corporate   [_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]{color:#ff3d71}.nb-theme-corporate   [_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]{color:#00d68f}.nb-theme-corporate   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}"]}),e})();const Ra=[{path:"",component:jr,children:[{path:"dashboard",component:Hr},{path:"company",component:Yr},{path:"company-details",component:qr},{path:"comparison-charts",component:ha},{path:"comparison",component:la},{path:"ipo",component:Oa},{path:"ipo-details",component:Aa},{path:"sector",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["fsd-sector"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-xxl-5"],["status","primary"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"nb-card",2),n.Wb(3,"nb-card-header"),n.Cc(4," Sectors "),n.Vb(),n.Wb(5,"nb-card-body"),n.Rb(6,"fsd-sector-change"),n.Vb(),n.Vb(),n.Vb(),n.Vb())},directives:[s.s,s.u,s.r,Ta],encapsulation:2}),e})()},{path:"sector-details",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["ngx-sector-details"]],decls:4,vars:0,consts:[[1,"row"],[1,"col-xxl-5"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"h1"),n.Cc(3,"Here is sector details page"),n.Vb(),n.Vb(),n.Vb())},encapsulation:2}),e})()},{path:"profile",component:Pa},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];let ja=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},imports:[[kr.g.forChild(Ra)],kr.g]}),e})();i.d(t,"UsersModule",(function(){return Ia}));let Ia=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},imports:[[ja,o.a,s.T,a,Pr]]}),e})()},"4R65":function(e,t,i){!function(e){"use strict";var t=Object.freeze;function i(e){var t,i,s,o;for(i=1,s=arguments.length;i<s;i++)for(t in o=arguments[i])e[t]=o[t];return e}Object.freeze=function(e){return e};var s=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function o(e,t){var i=Array.prototype.slice;if(e.bind)return e.bind.apply(e,i.call(arguments,1));var s=i.call(arguments,2);return function(){return e.apply(t,s.length?s.concat(i.call(arguments)):arguments)}}var n=0;function r(e){return e._leaflet_id=e._leaflet_id||++n,e._leaflet_id}function a(e,t,i){var s,o,n,r;return r=function(){s=!1,o&&(n.apply(i,o),o=!1)},n=function(){s?o=arguments:(e.apply(i,arguments),setTimeout(r,t),s=!0)}}function l(e,t,i){var s=t[1],o=t[0],n=s-o;return e===s&&i?e:((e-o)%n+n)%n+o}function h(){return!1}function c(e,t){var i=Math.pow(10,t||5);return Math.round(e*i)/i}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function u(e){return d(e).split(/\s+/)}function p(e,t){for(var i in e.hasOwnProperty("options")||(e.options=e.options?s(e.options):{}),t)e.options[i]=t[i];return e.options}function m(e,t,i){var s=[];for(var o in e)s.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(e[o]));return(t&&-1!==t.indexOf("?")?"&":"?")+s.join("&")}var g=/\{ *([\w_\-]+) *\}/g;function b(e,t){return e.replace(g,(function(e,i){var s=t[i];if(void 0===s)throw new Error("No value provided for variable "+e);return"function"==typeof s&&(s=s(t)),s}))}var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function f(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function v(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function _(e){var t=+new Date,i=Math.max(0,16-(t-w));return w=t+i,window.setTimeout(e,i)}var S=window.requestAnimationFrame||v("RequestAnimationFrame")||_,C=window.cancelAnimationFrame||v("CancelAnimationFrame")||v("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function M(e,t,i){if(!i||S!==_)return S.call(window,o(e,t));e.call(t)}function O(e){e&&C.call(window,e)}var A=(Object.freeze||Object)({freeze:t,extend:i,create:s,bind:o,lastId:n,stamp:r,throttle:a,wrapNum:l,falseFn:h,formatNum:c,trim:d,splitWords:u,setOptions:p,getParamString:m,template:b,isArray:y,indexOf:f,emptyImageUrl:x,requestFn:S,cancelFn:C,requestAnimFrame:M,cancelAnimFrame:O});function P(){}P.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=t.__super__=this.prototype,n=s(o);for(var r in n.constructor=t,t.prototype=n,this)this.hasOwnProperty(r)&&"prototype"!==r&&"__super__"!==r&&(t[r]=this[r]);return e.statics&&(i(t,e.statics),delete e.statics),e.includes&&(function(e){if(L&&L.Mixin){e=y(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),i.apply(null,[n].concat(e.includes)),delete e.includes),n.options&&(e.options=i(s(n.options),e.options)),i(n,e),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=n._initHooks.length;e<t;e++)n._initHooks[e].call(this)}},t},P.include=function(e){return i(this.prototype,e),this},P.mergeOptions=function(e){return i(this.prototype.options,e),this},P.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),i="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var k={on:function(e,t,i){if("object"==typeof e)for(var s in e)this._on(s,e[s],t);else for(var o=0,n=(e=u(e)).length;o<n;o++)this._on(e[o],t,i);return this},off:function(e,t,i){if(e)if("object"==typeof e)for(var s in e)this._off(s,e[s],t);else for(var o=0,n=(e=u(e)).length;o<n;o++)this._off(e[o],t,i);else delete this._events;return this},_on:function(e,t,i){this._events=this._events||{};var s=this._events[e];s||(this._events[e]=s=[]),i===this&&(i=void 0);for(var o={fn:t,ctx:i},n=s,r=0,a=n.length;r<a;r++)if(n[r].fn===t&&n[r].ctx===i)return;n.push(o)},_off:function(e,t,i){var s,o,n;if(this._events&&(s=this._events[e]))if(t){if(i===this&&(i=void 0),s)for(o=0,n=s.length;o<n;o++){var r=s[o];if(r.ctx===i&&r.fn===t)return r.fn=h,this._firingCount&&(this._events[e]=s=s.slice()),void s.splice(o,1)}}else{for(o=0,n=s.length;o<n;o++)s[o].fn=h;delete this._events[e]}},fire:function(e,t,s){if(!this.listens(e,s))return this;var o=i({},t,{type:e,target:this});if(this._events){var n=this._events[e];if(n){this._firingCount=this._firingCount+1||1;for(var r=0,a=n.length;r<a;r++){var l=n[r];l.fn.call(l.ctx||this,o)}this._firingCount--}}return s&&this._propagateEvent(o),this},listens:function(e,t){var i=this._events&&this._events[e];if(i&&i.length)return!0;if(t)for(var s in this._eventParents)if(this._eventParents[s].listens(e,t))return!0;return!1},once:function(e,t,i){if("object"==typeof e){for(var s in e)this.once(s,e[s],t);return this}var n=o((function(){this.off(e,t,i).off(e,n,i)}),this);return this.on(e,t,i).on(e,n,i)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[r(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[r(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,i({layer:e.target},e),!0)}};k.addEventListener=k.on,k.removeEventListener=k.clearAllEventListeners=k.off,k.addOneTimeEventListener=k.once,k.fireEvent=k.fire,k.hasEventListeners=k.listens;var T=P.extend(k);function R(e,t,i){this.x=i?Math.round(e):e,this.y=i?Math.round(t):t}function j(e,t,i){return e instanceof R?e:y(e)?new R(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new R(e.x,e.y):new R(e,t,i)}function I(e,t){if(e)for(var i=t?[e,t]:e,s=0,o=i.length;s<o;s++)this.extend(i[s])}function z(e,t){return!e||e instanceof I?e:new I(e,t)}function E(e,t){if(e)for(var i=t?[e,t]:e,s=0,o=i.length;s<o;s++)this.extend(i[s])}function D(e,t){return e instanceof E?e:new E(e,t)}function B(e,t,i){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==i&&(this.alt=+i)}function N(e,t,i){return e instanceof B?e:y(e)&&"object"!=typeof e[0]?3===e.length?new B(e[0],e[1],e[2]):2===e.length?new B(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new B(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new B(e,t,i)}R.prototype={clone:function(){return new R(this.x,this.y)},add:function(e){return this.clone()._add(j(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(j(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new R(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new R(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(e){var t=(e=j(e)).x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(e){return(e=j(e)).x===this.x&&e.y===this.y},contains:function(e){return e=j(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},I.prototype={extend:function(e){return e=j(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new R(this.min.x,this.max.y)},getTopRight:function(){return new R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,i;return(e="number"==typeof e[0]||e instanceof R?j(e):z(e))instanceof I?(t=e.min,i=e.max):t=i=e,t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(e){e=z(e);var t=this.min,i=this.max,s=e.min,o=e.max;return o.x>=t.x&&s.x<=i.x&&o.y>=t.y&&s.y<=i.y},overlaps:function(e){e=z(e);var t=this.min,i=this.max,s=e.min,o=e.max;return o.x>t.x&&s.x<i.x&&o.y>t.y&&s.y<i.y},isValid:function(){return!(!this.min||!this.max)}},E.prototype={extend:function(e){var t,i,s=this._southWest,o=this._northEast;if(e instanceof B)t=e,i=e;else{if(!(e instanceof E))return e?this.extend(N(e)||D(e)):this;if(i=e._northEast,!(t=e._southWest)||!i)return this}return s||o?(s.lat=Math.min(t.lat,s.lat),s.lng=Math.min(t.lng,s.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new B(t.lat,t.lng),this._northEast=new B(i.lat,i.lng)),this},pad:function(e){var t=this._southWest,i=this._northEast,s=Math.abs(t.lat-i.lat)*e,o=Math.abs(t.lng-i.lng)*e;return new E(new B(t.lat-s,t.lng-o),new B(i.lat+s,i.lng+o))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof B||"lat"in e?N(e):D(e);var t,i,s=this._southWest,o=this._northEast;return e instanceof E?(t=e.getSouthWest(),i=e.getNorthEast()):t=i=e,t.lat>=s.lat&&i.lat<=o.lat&&t.lng>=s.lng&&i.lng<=o.lng},intersects:function(e){e=D(e);var t=this._southWest,i=this._northEast,s=e.getSouthWest(),o=e.getNorthEast();return o.lat>=t.lat&&s.lat<=i.lat&&o.lng>=t.lng&&s.lng<=i.lng},overlaps:function(e){e=D(e);var t=this._southWest,i=this._northEast,s=e.getSouthWest(),o=e.getNorthEast();return o.lat>t.lat&&s.lat<i.lat&&o.lng>t.lng&&s.lng<i.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=D(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(e,t){return!!e&&(e=N(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+c(this.lat,e)+", "+c(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,N(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,i=t/Math.cos(Math.PI/180*this.lat);return D([this.lat-t,this.lng-i],[this.lat+t,this.lng+i])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var V,F={latLngToPoint:function(e,t){var i=this.projection.project(e),s=this.scale(t);return this.transformation._transform(i,s)},pointToLatLng:function(e,t){var i=this.scale(t),s=this.transformation.untransform(e,i);return this.projection.unproject(s)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,i=this.scale(e);return new I(this.transformation.transform(t.min,i),this.transformation.transform(t.max,i))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new B(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),i=this.wrapLatLng(t),s=t.lat-i.lat,o=t.lng-i.lng;if(0===s&&0===o)return e;var n=e.getSouthWest(),r=e.getNorthEast();return new E(new B(n.lat-s,n.lng-o),new B(r.lat-s,r.lng-o))}},H=i({},F,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var i=Math.PI/180,s=e.lat*i,o=t.lat*i,n=Math.sin(s)*Math.sin(o)+Math.cos(s)*Math.cos(o)*Math.cos((t.lng-e.lng)*i);return this.R*Math.acos(Math.min(n,1))}}),W={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,i=this.MAX_LATITUDE,s=Math.max(Math.min(i,e.lat),-i),o=Math.sin(s*t);return new R(this.R*e.lng*t,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(e){var t=180/Math.PI;return new B((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(V=6378137*Math.PI,new I([-V,-V],[V,V]))};function Z(e,t,i,s){if(y(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=i,this._d=s}function X(e,t,i,s){return new Z(e,t,i,s)}Z.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return e.x=(t=t||1)*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return new R((e.x/(t=t||1)-this._b)/this._a,(e.y/t-this._d)/this._c)}};var G,Y=i({},H,{code:"EPSG:3857",projection:W,transformation:(G=.5/(Math.PI*W.R),X(G,.5,-G,.5))}),U=i({},Y,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function q(e,t){var i,s,o,n,r,a,l="";for(i=0,o=e.length;i<o;i++){for(s=0,n=(r=e[i]).length;s<n;s++)l+=(s?"L":"M")+(a=r[s]).x+" "+a.y;l+=t?Me?"z":"x":""}return l||"M0 0"}var J=document.documentElement.style,K="ActiveXObject"in window,$=K&&!document.addEventListener,ee="msLaunchUri"in navigator&&!("documentMode"in document),te=Oe("webkit"),ie=Oe("android"),se=Oe("android 2")||Oe("android 3"),oe=!!window.opera,ne=Oe("chrome"),re=Oe("gecko")&&!te&&!oe&&!K,ae=!ne&&Oe("safari"),le=Oe("phantom"),he="OTransition"in J,ce=0===navigator.platform.indexOf("Win"),de=K&&"transition"in J,ue="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!se,pe="MozPerspective"in J,me=!window.L_DISABLE_3D&&(de||ue||pe)&&!he&&!le,ge="undefined"!=typeof orientation||Oe("mobile"),be=ge&&te,ye=ge&&ue,fe=!window.PointerEvent&&window.MSPointerEvent,xe=!(!window.PointerEvent&&!fe),ve=!window.L_NO_TOUCH&&(xe||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),we=ge&&oe,_e=ge&&re,Se=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ce=!!document.createElement("canvas").getContext,Me=!(!document.createElementNS||!Q("svg").createSVGRect),Le=!Me&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(i){return!1}}();function Oe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Ae=(Object.freeze||Object)({ie:K,ielt9:$,edge:ee,webkit:te,android:ie,android23:se,opera:oe,chrome:ne,gecko:re,safari:ae,phantom:le,opera12:he,win:ce,ie3d:de,webkit3d:ue,gecko3d:pe,any3d:me,mobile:ge,mobileWebkit:be,mobileWebkit3d:ye,msPointer:fe,pointer:xe,touch:ve,mobileOpera:we,mobileGecko:_e,retina:Se,canvas:Ce,svg:Me,vml:Le}),Pe=fe?"MSPointerDown":"pointerdown",ke=fe?"MSPointerMove":"pointermove",Te=fe?"MSPointerUp":"pointerup",Re=fe?"MSPointerCancel":"pointercancel",je=["INPUT","SELECT","OPTION"],Ie={},ze=!1,Ee=0;function De(e){Ie[e.pointerId]=e,Ee++}function Be(e){Ie[e.pointerId]&&(Ie[e.pointerId]=e)}function Ne(e){delete Ie[e.pointerId],Ee--}function Ve(e,t){for(var i in e.touches=[],Ie)e.touches.push(Ie[i]);e.changedTouches=[e],t(e)}var Fe=fe?"MSPointerDown":xe?"pointerdown":"touchstart",He=fe?"MSPointerUp":xe?"pointerup":"touchend",We="_leaflet_";function Ze(e,t,i){var s,o,n=!1;function r(e){var t;if(xe){if(!ee||"mouse"===e.pointerType)return;t=Ee}else t=e.touches.length;if(!(t>1)){var i=Date.now(),r=i-(s||i);o=e.touches?e.touches[0]:e,n=r>0&&r<=250,s=i}}function a(e){if(n&&!o.cancelBubble){if(xe){if(!ee||"mouse"===e.pointerType)return;var i,r,a={};for(r in o)a[r]=(i=o[r])&&i.bind?i.bind(o):i;o=a}o.type="dblclick",t(o),s=null}}return e[We+Fe+i]=r,e[We+He+i]=a,e[We+"dblclick"+i]=t,e.addEventListener(Fe,r,!1),e.addEventListener(He,a,!1),e.addEventListener("dblclick",t,!1),this}function Xe(e,t){var i=e[We+He+t],s=e[We+"dblclick"+t];return e.removeEventListener(Fe,e[We+Fe+t],!1),e.removeEventListener(He,i,!1),ee||e.removeEventListener("dblclick",s,!1),this}function Ge(e,t,i,s){if("object"==typeof t)for(var o in t)Qe(e,o,t[o],i);else for(var n=0,r=(t=u(t)).length;n<r;n++)Qe(e,t[n],i,s);return this}var Ye="_leaflet_events";function Ue(e,t,i,s){if("object"==typeof t)for(var o in t)qe(e,o,t[o],i);else if(t)for(var n=0,r=(t=u(t)).length;n<r;n++)qe(e,t[n],i,s);else{for(var a in e[Ye])qe(e,a,e[Ye][a]);delete e[Ye]}return this}function Qe(e,t,i,s){var n=t+r(i)+(s?"_"+r(s):"");if(e[Ye]&&e[Ye][n])return this;var a=function(t){return i.call(s||e,t||window.event)},l=a;xe&&0===t.indexOf("touch")?function(e,t,i,s){"touchstart"===t?function(e,t,i){var s=o((function(e){if("mouse"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(je.indexOf(e.target.tagName)<0))return;et(e)}Ve(e,t)}));e["_leaflet_touchstart"+i]=s,e.addEventListener(Pe,s,!1),ze||(document.documentElement.addEventListener(Pe,De,!0),document.documentElement.addEventListener(ke,Be,!0),document.documentElement.addEventListener(Te,Ne,!0),document.documentElement.addEventListener(Re,Ne,!0),ze=!0)}(e,i,s):"touchmove"===t?function(e,t,i){var s=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&Ve(e,t)};e["_leaflet_touchmove"+i]=s,e.addEventListener(ke,s,!1)}(e,i,s):"touchend"===t&&function(e,t,i){var s=function(e){Ve(e,t)};e["_leaflet_touchend"+i]=s,e.addEventListener(Te,s,!1),e.addEventListener(Re,s,!1)}(e,i,s)}(e,t,a,n):!ve||"dblclick"!==t||!Ze||xe&&ne?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",a,!1):"mouseenter"===t||"mouseleave"===t?e.addEventListener("mouseenter"===t?"mouseover":"mouseout",a=function(t){t=t||window.event,ht(e,t)&&l(t)},!1):("click"===t&&ie&&(a=function(e){!function(e,t){var i=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,s=nt&&i-nt;s&&s>100&&s<500||e.target._simulatedClick&&!e._simulated?tt(e):(nt=i,t(e))}(e,l)}),e.addEventListener(t,a,!1)):"attachEvent"in e&&e.attachEvent("on"+t,a):Ze(e,a,n),e[Ye]=e[Ye]||{},e[Ye][n]=a}function qe(e,t,i,s){var o=t+r(i)+(s?"_"+r(s):""),n=e[Ye]&&e[Ye][o];if(!n)return this;xe&&0===t.indexOf("touch")?function(e,t,i){var s=e["_leaflet_"+t+i];"touchstart"===t?e.removeEventListener(Pe,s,!1):"touchmove"===t?e.removeEventListener(ke,s,!1):"touchend"===t&&(e.removeEventListener(Te,s,!1),e.removeEventListener(Re,s,!1))}(e,t,o):ve&&"dblclick"===t&&Xe?Xe(e,o):"removeEventListener"in e?e.removeEventListener("mousewheel"===t?"onwheel"in e?"wheel":"mousewheel":"mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,n,!1):"detachEvent"in e&&e.detachEvent("on"+t,n),e[Ye][o]=null}function Je(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,lt(e),this}function Ke(e){return Qe(e,"mousewheel",Je),this}function $e(e){return Ge(e,"mousedown touchstart dblclick",Je),Qe(e,"click",at),this}function et(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function tt(e){return et(e),Je(e),this}function it(e,t){if(!t)return new R(e.clientX,e.clientY);var i=t.getBoundingClientRect();return new R(e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop)}var st=ce&&ne?2*window.devicePixelRatio:re?window.devicePixelRatio:1;function ot(e){return ee?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/st:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var nt,rt={};function at(e){rt[e.type]=!0}function lt(e){var t=rt[e.type];return rt[e.type]=!1,t}function ht(e,t){var i=t.relatedTarget;if(!i)return!0;try{for(;i&&i!==e;)i=i.parentNode}catch(s){return!1}return i!==e}var ct,dt,ut,pt,mt,gt=(Object.freeze||Object)({on:Ge,off:Ue,stopPropagation:Je,disableScrollPropagation:Ke,disableClickPropagation:$e,preventDefault:et,stop:tt,getMousePosition:it,getWheelDelta:ot,fakeStop:at,skipped:lt,isExternalTarget:ht,addListener:Ge,removeListener:Ue}),bt=Rt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),yt=Rt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ft="webkitTransition"===yt||"OTransition"===yt?yt+"End":"transitionend";function xt(e){return"string"==typeof e?document.getElementById(e):e}function vt(e,t){var i=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!i||"auto"===i)&&document.defaultView){var s=document.defaultView.getComputedStyle(e,null);i=s?s[t]:null}return"auto"===i?null:i}function wt(e,t,i){var s=document.createElement(e);return s.className=t||"",i&&i.appendChild(s),s}function _t(e){var t=e.parentNode;t&&t.removeChild(e)}function St(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Ct(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function Mt(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Lt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var i=kt(e);return i.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(i)}function Ot(e,t){if(void 0!==e.classList)for(var i=u(t),s=0,o=i.length;s<o;s++)e.classList.add(i[s]);else if(!Lt(e,t)){var n=kt(e);Pt(e,(n?n+" ":"")+t)}}function At(e,t){void 0!==e.classList?e.classList.remove(t):Pt(e,d((" "+kt(e)+" ").replace(" "+t+" "," ")))}function Pt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function kt(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function Tt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var i=!1,s="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(s)}catch(o){if(1===t)return}t=Math.round(100*t),i?(i.Enabled=100!==t,i.Opacity=t):e.style.filter+=" progid:"+s+"(opacity="+t+")"}(e,t)}function Rt(e){for(var t=document.documentElement.style,i=0;i<e.length;i++)if(e[i]in t)return e[i];return!1}function jt(e,t,i){var s=t||new R(0,0);e.style[bt]=(de?"translate("+s.x+"px,"+s.y+"px)":"translate3d("+s.x+"px,"+s.y+"px,0)")+(i?" scale("+i+")":"")}function It(e,t){e._leaflet_pos=t,me?jt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function zt(e){return e._leaflet_pos||new R(0,0)}if("onselectstart"in document)ct=function(){Ge(window,"selectstart",et)},dt=function(){Ue(window,"selectstart",et)};else{var Et=Rt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ct=function(){if(Et){var e=document.documentElement.style;ut=e[Et],e[Et]="none"}},dt=function(){Et&&(document.documentElement.style[Et]=ut,ut=void 0)}}function Dt(){Ge(window,"dragstart",et)}function Bt(){Ue(window,"dragstart",et)}function Nt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Vt(),pt=e,mt=e.style.outline,e.style.outline="none",Ge(window,"keydown",Vt))}function Vt(){pt&&(pt.style.outline=mt,pt=void 0,mt=void 0,Ue(window,"keydown",Vt))}var Ft=(Object.freeze||Object)({TRANSFORM:bt,TRANSITION:yt,TRANSITION_END:ft,get:xt,getStyle:vt,create:wt,remove:_t,empty:St,toFront:Ct,toBack:Mt,hasClass:Lt,addClass:Ot,removeClass:At,setClass:Pt,getClass:kt,setOpacity:Tt,testProp:Rt,setTransform:jt,setPosition:It,getPosition:zt,disableTextSelection:ct,enableTextSelection:dt,disableImageDrag:Dt,enableImageDrag:Bt,preventOutline:Nt,restoreOutline:Vt}),Ht=T.extend({run:function(e,t,i,s){this.stop(),this._el=e,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=zt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,i=1e3*this._duration;t<i?this._runFrame(this._easeOut(t/i),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var i=this._startPos.add(this._offset.multiplyBy(e));t&&i._round(),It(this._el,i),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Wt=T.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._initContainer(e),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(N(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=yt&&me&&!we&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ge(this._proxy,ft,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,s){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(N(e),t,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&!0!==s&&(void 0!==s.animate&&(s.zoom=i({animate:s.animate},s.zoom),s.pan=i({animate:s.animate,duration:s.duration},s.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,s.zoom):this._tryAnimatedPan(e,s.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return this.setZoom(this._zoom+(e=e||(me?this.options.zoomDelta:1)),t)},zoomOut:function(e,t){return this.setZoom(this._zoom-(e=e||(me?this.options.zoomDelta:1)),t)},setZoomAround:function(e,t,i){var s=this.getZoomScale(t),o=this.getSize().divideBy(2),n=(e instanceof R?e:this.latLngToContainerPoint(e)).subtract(o).multiplyBy(1-1/s),r=this.containerPointToLatLng(o.add(n));return this.setView(r,t,{zoom:i})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():D(e);var i=j(t.paddingTopLeft||t.padding||[0,0]),s=j(t.paddingBottomRight||t.padding||[0,0]),o=this.getBoundsZoom(e,!1,i.add(s));if((o="number"==typeof t.maxZoom?Math.min(t.maxZoom,o):o)===1/0)return{center:e.getCenter(),zoom:o};var n=s.subtract(i).divideBy(2),r=this.project(e.getSouthWest(),o),a=this.project(e.getNorthEast(),o);return{center:this.unproject(r.add(a).divideBy(2).add(n),o),zoom:o}},fitBounds:function(e,t){if(!(e=D(e)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(e,t);return this.setView(i.center,i.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=j(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ht,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){Ot(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,i){if(!1===(i=i||{}).animate||!me)return this.setView(e,t,i);this._stop();var s=this.project(this.getCenter()),o=this.project(e),n=this.getSize(),r=this._zoom;e=N(e),t=void 0===t?r:t;var a=Math.max(n.x,n.y),l=a*this.getZoomScale(r,t),h=o.distanceTo(s)||1;function c(e){var t=(l*l-a*a+2.0164*(e?-1:1)*2.0164*h*h)/(2*(e?l:a)*2.0164*h),i=Math.sqrt(t*t+1)-t;return i<1e-9?-18:Math.log(i)}function d(e){return(Math.exp(e)-Math.exp(-e))/2}function u(e){return(Math.exp(e)+Math.exp(-e))/2}var p=c(0),m=Date.now(),g=(c(1)-p)/1.42,b=i.duration?1e3*i.duration:1e3*g*.8;return this._moveStart(!0),(function i(){var n=(Date.now()-m)/b,l=function(e){return 1-Math.pow(1-e,1.5)}(n)*g;n<=1?(this._flyToFrame=M(i,this),this._move(this.unproject(s.add(o.subtract(s).multiplyBy(function(e){return a*(u(p)*(d(t=p+1.42*e)/u(t))-d(p))/2.0164;var t}(l)/h)),r),this.getScaleZoom(a/function(e){return a*(u(p)/u(p+1.42*e))}(l),r),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}).call(this),this},flyToBounds:function(e,t){var i=this._getBoundsCenterZoom(e,t);return this.flyTo(i.center,i.zoom,t)},setMaxBounds:function(e){return(e=D(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){return this.options.minZoom=e,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(e):this},setMaxZoom:function(e){return this.options.maxZoom=e,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var i=this.getCenter(),s=this._limitCenter(i,this._zoom,D(e));return i.equals(s)||this.panTo(s,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=i({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),n=t.divideBy(2).round(),r=s.divideBy(2).round(),a=n.subtract(r);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:s})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=i({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=o(this._handleGeolocationResponse,this),s=o(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,s,e):navigator.geolocation.getCurrentPosition(t,s,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,i=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(e){var t=new B(e.coords.latitude,e.coords.longitude),i=t.toBounds(e.coords.accuracy),s=this._locateOptions;if(s.setView){var o=this.getBoundsZoom(i);this.setView(t,s.maxZoom?Math.min(o,s.maxZoom):o)}var n={latlng:t,bounds:i,timestamp:e.timestamp};for(var r in e.coords)"number"==typeof e.coords[r]&&(n[r]=e.coords[r]);this.fire("locationfound",n)},addHandler:function(e,t){if(!t)return this;var i=this[e]=new t(this);return this._handlers.push(i),this.options[e]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in _t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)_t(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var i=wt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new E(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,i){e=D(e),i=j(i||[0,0]);var s=this.getZoom()||0,o=this.getMinZoom(),n=this.getMaxZoom(),r=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(i),h=z(this.project(a,s),this.project(r,s)).getSize(),c=me?this.options.zoomSnap:1,d=l.x/h.x,u=l.y/h.y,p=t?Math.max(d,u):Math.min(d,u);return s=this.getScaleZoom(p,s),c&&(s=Math.round(s/(c/100))*(c/100),s=t?Math.ceil(s/c)*c:Math.floor(s/c)*c),Math.max(o,Math.min(n,s))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var i=this._getTopLeftPoint(e,t);return new I(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var i=this.options.crs;return t=void 0===t?this._zoom:t,i.scale(e)/i.scale(t)},getScaleZoom:function(e,t){var i=this.options.crs,s=i.zoom(e*i.scale(t=void 0===t?this._zoom:t));return isNaN(s)?1/0:s},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(N(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(j(e),t)},layerPointToLatLng:function(e){var t=j(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(N(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(N(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(D(e))},distance:function(e,t){return this.options.crs.distance(N(e),N(t))},containerPointToLayerPoint:function(e){return j(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return j(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(j(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(e)))},mouseEventToContainerPoint:function(e){return it(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=xt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Ge(t,"scroll",this._onScroll,this),this._containerId=r(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&me,Ot(e,"leaflet-container"+(ve?" leaflet-touch":"")+(Se?" leaflet-retina":"")+($?" leaflet-oldie":"")+(ae?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=vt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ot(e.markerPane,"leaflet-zoom-hide"),Ot(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){It(this._mapPane,new R(0,0));var i=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var s=this._zoom!==t;this._moveStart(s)._move(e,t)._moveEnd(s),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(e){return e&&this.fire("zoomstart"),this.fire("movestart")},_move:function(e,t,i){void 0===t&&(t=this._zoom);var s=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(s||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){It(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[r(this._container)]=this;var t=e?Ue:Ge;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),me&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=M((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var i,s=[],o="mouseout"===t||"mouseover"===t,n=e.target||e.srcElement,a=!1;n;){if((i=this._targets[r(n)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(t,!0)){if(o&&!ht(n,e))break;if(s.push(i),o)break}if(n===this._container)break;n=n.parentNode}return s.length||a||o||!ht(n,e)||(s=[this]),s},_handleDOMEvent:function(e){if(this._loaded&&!lt(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||Nt(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,s){if("click"===e.type){var o=i({},e);o.type="preclick",this._fireDOMEvent(o,o.type,s)}if(!e._stopped&&(s=(s||[]).concat(this._findEventTargets(e,t))).length){var n=s[0];"contextmenu"===t&&n.listens(t,!0)&&et(e);var r={originalEvent:e};if("keypress"!==e.type){var a=n.options&&"icon"in n.options;r.containerPoint=a?this.latLngToContainerPoint(n.getLatLng()):this.mouseEventToContainerPoint(e),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=a?n.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var l=0;l<s.length;l++)if(s[l].fire(t,r,!0),r.originalEvent._stopped||!1===s[l].options.bubblingMouseEvents&&-1!==f(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return zt(this._mapPane)||new R(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var i=this.getSize()._divideBy(2);return this.project(e,t)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,i){var s=this._getNewPixelOrigin(i,t);return this.project(e,t)._subtract(s)},_latLngBoundsToNewLayerBounds:function(e,t,i){var s=this._getNewPixelOrigin(i,t);return z([this.project(e.getSouthWest(),t)._subtract(s),this.project(e.getNorthWest(),t)._subtract(s),this.project(e.getSouthEast(),t)._subtract(s),this.project(e.getNorthEast(),t)._subtract(s)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,i){if(!i)return e;var s=this.project(e,t),o=this.getSize().divideBy(2),n=new I(s.subtract(o),s.add(o)),r=this._getBoundsOffset(n,i,t);return r.round().equals([0,0])?e:this.unproject(s.add(r),t)},_limitOffset:function(e,t){if(!t)return e;var i=this.getPixelBounds(),s=new I(i.min.add(e),i.max.add(e));return e.add(this._getBoundsOffset(s,t))},_getBoundsOffset:function(e,t,i){var s=z(this.project(t.getNorthEast(),i),this.project(t.getSouthWest(),i)),o=s.min.subtract(e.min),n=s.max.subtract(e.max);return new R(this._rebound(o.x,-n.x),this._rebound(o.y,-n.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),i=this.getMaxZoom(),s=me?this.options.zoomSnap:1;return s&&(e=Math.round(e/s)*s),Math.max(t,Math.min(i,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){At(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var i=this._getCenterOffset(e)._floor();return!(!0!==(t&&t.animate)&&!this.getSize().contains(i)||(this.panBy(i,t),0))},_createAnimProxy:function(){var e=this._proxy=wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=bt,i=this._proxy.style[t];jt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",(function(){var e=this.getCenter(),t=this.getZoom();jt(this._proxy,this.project(e,t),this.getZoomScale(t,1))}),this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_t(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(t),o=this._getCenterOffset(e)._divideBy(1-1/s);return!(!0!==i.animate&&!this.getSize().contains(o)||(M((function(){this._moveStart(!0)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,i,s){i&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,Ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:s}),setTimeout(o(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(At(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),M((function(){this._moveEnd(!0)}),this))}}),Zt=P.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),i=this.getPosition(),s=e._controlCorners[i];return Ot(t,"leaflet-control"),-1!==i.indexOf("bottom")?s.insertBefore(t,s.firstChild):s.appendChild(t),this},remove:function(){return this._map?(_t(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Xt=function(e){return new Zt(e)};Wt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",i=this._controlContainer=wt("div",t+"control-container",this._container);function s(s,o){e[s+o]=wt("div",t+s+" "+t+o,i)}s("top","left"),s("top","right"),s("bottom","left"),s("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)_t(this._controlCorners[e]);_t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gt=Zt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,i,s){return i<s?-1:s<i?1:0}},initialize:function(e,t,i){for(var s in p(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[s],s);for(s in t)this._addLayer(t[s],s,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Zt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(r(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){Ot(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(Ot(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):At(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return At(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=wt("div",e),i=this.options.collapsed;t.setAttribute("aria-haspopup",!0),$e(t),Ke(t);var s=this._form=wt("form",e+"-list");i&&(this._map.on("click",this.collapse,this),ie||Ge(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=wt("a",e+"-toggle",t);o.href="#",o.title="Layers",ve?(Ge(o,"click",tt),Ge(o,"click",this.expand,this)):Ge(o,"focus",this.expand,this),i||this.expand(),this._baseLayersList=wt("div",e+"-base",s),this._separator=wt("div",e+"-separator",s),this._overlaysList=wt("div",e+"-overlays",s),t.appendChild(s)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&r(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,i){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:i}),this.options.sortLayers&&this._layers.sort(o((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;St(this._baseLayersList),St(this._overlaysList),this._layerControlInputs=[];var e,t,i,s,o=0;for(i=0;i<this._layers.length;i++)this._addItem(s=this._layers[i]),t=t||s.overlay,e=e||!s.overlay,o+=s.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(e=e&&o>1)?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(r(e.target)),i=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;i&&this._map.fire(i,t)},_createRadioElement:function(e,t){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",s=document.createElement("div");return s.innerHTML=i,s.firstChild},_addItem:function(e){var t,i=document.createElement("label"),s=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=s):t=this._createRadioElement("leaflet-base-layers",s),this._layerControlInputs.push(t),t.layerId=r(e.layer),Ge(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+e.name;var n=document.createElement("div");return i.appendChild(n),n.appendChild(t),n.appendChild(o),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var e,t,i=this._layerControlInputs,s=[],o=[];this._handlingClick=!0;for(var n=i.length-1;n>=0;n--)t=this._getLayer((e=i[n]).layerId).layer,e.checked?s.push(t):e.checked||o.push(t);for(n=0;n<o.length;n++)this._map.hasLayer(o[n])&&this._map.removeLayer(o[n]);for(n=0;n<s.length;n++)this._map.hasLayer(s[n])||this._map.addLayer(s[n]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,i=this._layerControlInputs,s=this._map.getZoom(),o=i.length-1;o>=0;o--)t=this._getLayer((e=i[o]).layerId).layer,e.disabled=void 0!==t.options.minZoom&&s<t.options.minZoom||void 0!==t.options.maxZoom&&s>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Yt=Zt.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",i=wt("div",t+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,t+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,t+"-out",i,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,i,s,o){var n=wt("a",i,s);return n.innerHTML=e,n.href="#",n.title=t,n.setAttribute("role","button"),n.setAttribute("aria-label",t),$e(n),Ge(n,"click",tt),Ge(n,"click",o,this),Ge(n,"click",this._refocusOnMap,this),n},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";At(this._zoomInButton,t),At(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&Ot(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&Ot(this._zoomInButton,t)}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Yt,this.addControl(this.zoomControl))}));var Ut=Zt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=wt("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",t),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,i){e.metric&&(this._mScale=wt("div",t,i)),e.imperial&&(this._iScale=wt("div",t,i))},_update:function(){var e=this._map,t=e.getSize().y/2,i=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(i)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e);this._updateScale(this._mScale,t<1e3?t+" m":t/1e3+" km",t/e)},_updateImperial:function(e){var t,i,s,o=3.2808399*e;o>5280?(i=this._getRoundNum(t=o/5280),this._updateScale(this._iScale,i+" mi",i/t)):(s=this._getRoundNum(o),this._updateScale(this._iScale,s+" ft",s/o))},_updateScale:function(e,t,i){e.style.width=Math.round(this.options.maxWidth*i)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),i=e/t;return t*(i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),Qt=Zt.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=wt("div","leaflet-control-attribution"),$e(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(" | ")}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook((function(){this.options.attributionControl&&(new Qt).addTo(this)})),Zt.Layers=Gt,Zt.Zoom=Yt,Zt.Scale=Ut,Zt.Attribution=Qt,Xt.layers=function(e,t,i){return new Gt(e,t,i)},Xt.zoom=function(e){return new Yt(e)},Xt.scale=function(e){return new Ut(e)},Xt.attribution=function(e){return new Qt(e)};var qt,Jt=P.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Kt={Events:k},$t=ve?"touchstart mousedown":"mousedown",ei={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},ti={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ii=T.extend({options:{clickTolerance:3},initialize:function(e,t,i,s){p(this,s),this._element=e,this._dragStartTarget=t||e,this._preventOutline=i},enable:function(){this._enabled||(Ge(this._dragStartTarget,$t,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ii._dragging===this&&this.finishDrag(),Ue(this._dragStartTarget,$t,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!Lt(this._element,"leaflet-zoom-anim")&&!(ii._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(ii._dragging=this,this._preventOutline&&Nt(this._element),Dt(),ct(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e;this._startPoint=new R(t.clientX,t.clientY),Ge(document,ti[e.type],this._onMove,this),Ge(document,ei[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,i=new R(t.clientX,t.clientY).subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(et(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=zt(this._element).subtract(i),Ot(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,O(this._animRequest),this._lastEvent=e,this._animRequest=M(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),It(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in At(document.body,"leaflet-dragging"),this._lastTarget&&(At(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ti)Ue(document,ti[e],this._onMove,this),Ue(document,ei[e],this._onUp,this);Bt(),dt(),this._moved&&this._moving&&(O(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ii._dragging=!1}});function si(e,t){if(!t||!e.length)return e.slice();var i=t*t;return function(e,t){var i=e.length,s=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);s[0]=s[i-1]=1,function e(t,i,s,o,n){var r,a,l,h=0;for(a=o+1;a<=n-1;a++)(l=li(t[a],t[o],t[n],!0))>h&&(r=a,h=l);h>s&&(i[r]=1,e(t,i,s,o,r),e(t,i,s,r,n))}(e,s,t,0,i-1);var o,n=[];for(o=0;o<i;o++)s[o]&&n.push(e[o]);return n}(e=function(e,t){for(var i=[e[0]],s=1,o=0,n=e.length;s<n;s++)(l=(a=e[o]).x-(r=e[s]).x)*l+(h=a.y-r.y)*h>t&&(i.push(e[s]),o=s);var r,a,l,h;return o<n-1&&i.push(e[n-1]),i}(e,i),i)}function oi(e,t,i){return Math.sqrt(li(e,t,i,!0))}function ni(e,t,i,s,o){var n,r,a,l=s?qt:ai(e,i),h=ai(t,i);for(qt=h;;){if(!(l|h))return[e,t];if(l&h)return!1;a=ai(r=ri(e,t,n=l||h,i,o),i),n===l?(e=r,l=a):(t=r,h=a)}}function ri(e,t,i,s,o){var n,r,a=t.x-e.x,l=t.y-e.y,h=s.min,c=s.max;return 8&i?(n=e.x+a*(c.y-e.y)/l,r=c.y):4&i?(n=e.x+a*(h.y-e.y)/l,r=h.y):2&i?(n=c.x,r=e.y+l*(c.x-e.x)/a):1&i&&(n=h.x,r=e.y+l*(h.x-e.x)/a),new R(n,r,o)}function ai(e,t){var i=0;return e.x<t.min.x?i|=1:e.x>t.max.x&&(i|=2),e.y<t.min.y?i|=4:e.y>t.max.y&&(i|=8),i}function li(e,t,i,s){var o,n=t.x,r=t.y,a=i.x-n,l=i.y-r,h=a*a+l*l;return h>0&&((o=((e.x-n)*a+(e.y-r)*l)/h)>1?(n=i.x,r=i.y):o>0&&(n+=a*o,r+=l*o)),a=e.x-n,l=e.y-r,s?a*a+l*l:new R(n,r)}function hi(e){return!y(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function ci(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hi(e)}var di=(Object.freeze||Object)({simplify:si,pointToSegmentDistance:oi,closestPointOnSegment:function(e,t,i){return li(e,t,i)},clipSegment:ni,_getEdgeIntersection:ri,_getBitCode:ai,_sqClosestPointOnSegment:li,isFlat:hi,_flat:ci});function ui(e,t,i){var s,o,n,r,a,l,h,c,d,u=[1,4,2,8];for(o=0,h=e.length;o<h;o++)e[o]._code=ai(e[o],t);for(r=0;r<4;r++){for(c=u[r],s=[],o=0,n=(h=e.length)-1;o<h;n=o++)l=e[n],(a=e[o])._code&c?l._code&c||((d=ri(l,a,c,t,i))._code=ai(d,t),s.push(d)):(l._code&c&&((d=ri(l,a,c,t,i))._code=ai(d,t),s.push(d)),s.push(a));e=s}return e}var pi=(Object.freeze||Object)({clipPolygon:ui}),mi={project:function(e){return new R(e.lng,e.lat)},unproject:function(e){return new B(e.y,e.x)},bounds:new I([-180,-90],[180,90])},gi={R:6378137,R_MINOR:6356752.314245179,bounds:new I([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,i=this.R,s=e.lat*t,o=this.R_MINOR/i,n=Math.sqrt(1-o*o),r=n*Math.sin(s),a=Math.tan(Math.PI/4-s/2)/Math.pow((1-r)/(1+r),n/2);return s=-i*Math.log(Math.max(a,1e-10)),new R(e.lng*t*i,s)},unproject:function(e){for(var t,i=180/Math.PI,s=this.R,o=this.R_MINOR/s,n=Math.sqrt(1-o*o),r=Math.exp(-e.y/s),a=Math.PI/2-2*Math.atan(r),l=0,h=.1;l<15&&Math.abs(h)>1e-7;l++)t=n*Math.sin(a),t=Math.pow((1-t)/(1+t),n/2),a+=h=Math.PI/2-2*Math.atan(r*t)-a;return new B(a*i,e.x*i/s)}},bi=(Object.freeze||Object)({LonLat:mi,Mercator:gi,SphericalMercator:W}),yi=i({},H,{code:"EPSG:3395",projection:gi,transformation:function(){var e=.5/(Math.PI*gi.R);return X(e,.5,-e,.5)}()}),fi=i({},H,{code:"EPSG:4326",projection:mi,transformation:X(1/180,1,-1/180,.5)}),xi=i({},F,{projection:mi,transformation:X(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var i=t.lng-e.lng,s=t.lat-e.lat;return Math.sqrt(i*i+s*s)},infinite:!0});F.Earth=H,F.EPSG3395=yi,F.EPSG3857=Y,F.EPSG900913=U,F.EPSG4326=fi,F.Simple=xi;var vi=T.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[r(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[r(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var i=this.getEvents();t.on(i,this),this.once("remove",(function(){t.off(i,this)}),this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=r(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=r(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&r(e)in this._layers},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},_addLayers:function(e){for(var t=0,i=(e=e?y(e)?e:[e]:[]).length;t<i;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[r(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=r(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,i=this._getZoomSpan();for(var s in this._zoomBoundLayers){var o=this._zoomBoundLayers[s].options;e=void 0===o.minZoom?e:Math.min(e,o.minZoom),t=void 0===o.maxZoom?t:Math.max(t,o.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wi=vi.extend({initialize:function(e){var t,i;if(this._layers={},e)for(t=0,i=e.length;t<i;t++)this.addLayer(e[t])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){for(var e in this._layers)this.removeLayer(this._layers[e]);return this},invoke:function(e){var t,i,s=Array.prototype.slice.call(arguments,1);for(t in this._layers)(i=this._layers[t])[e]&&i[e].apply(i,s);return this},onAdd:function(e){for(var t in this._layers)e.addLayer(this._layers[t])},onRemove:function(e){for(var t in this._layers)e.removeLayer(this._layers[t])},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];for(var t in this._layers)e.push(this._layers[t]);return e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return r(e)}}),_i=wi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),wi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),wi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new E;for(var t in this._layers){var i=this._layers[t];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}}),Si=P.extend({initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var i=this._getIconUrl(e);if(!i){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var s=this._createImg(i,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(s,e),s},_setIconStyles:function(e,t){var i=this.options,s=i[t+"Size"];"number"==typeof s&&(s=[s,s]);var o=j(s),n=j("shadow"===t&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(i.className||""),n&&(e.style.marginLeft=-n.x+"px",e.style.marginTop=-n.y+"px"),o&&(e.style.width=o.x+"px",e.style.height=o.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Se&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),Ci=Si.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Ci.imagePath||(Ci.imagePath=this._detectIconPath()),(this.options.imagePath||Ci.imagePath)+Si.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=wt("div","leaflet-default-icon-path",document.body),t=vt(e,"background-image")||vt(e,"backgroundImage");return document.body.removeChild(e),null===t||0!==t.indexOf("url")?"":t.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),Mi=Jt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ii(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ot(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&At(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(e){var t=this._marker,i=t._shadow,s=zt(t._icon),o=t._map.layerPointToLatLng(s);i&&It(i,s),t._latlng=o,e.latlng=o,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Li=vi.extend({options:{icon:new Ci,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(e,t){p(this,t),this._latlng=N(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=N(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=e.icon.createIcon(this._icon),s=!1;i!==this._icon&&(this._icon&&this._removeIcon(),s=!0,e.title&&(i.title=e.title),e.alt&&(i.alt=e.alt)),Ot(i,t),e.keyboard&&(i.tabIndex="0"),this._icon=i,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=e.icon.createShadow(this._shadow),n=!1;o!==this._shadow&&(this._removeShadow(),n=!0),o&&(Ot(o,t),o.alt=""),this._shadow=o,e.opacity<1&&this._updateOpacity(),s&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&n&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),_t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_t(this._shadow),this._shadow=null},_setPos:function(e){It(this._icon,e),this._shadow&&It(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(Ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mi)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mi(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;Tt(this._icon,e),this._shadow&&Tt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),Oi=vi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(ve?10:0)}}),Ai=Oi.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=N(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=N(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Oi.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,i=this._clickTolerance(),s=[e+i,t+i];this._pxBounds=new I(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Pi=Ai.extend({initialize:function(e,t,s){if("number"==typeof t&&(t=i({},s,{radius:t})),p(this,t),this._latlng=N(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new E(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Oi.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,i=this._map,s=i.options.crs;if(s.distance===H.distance){var o=Math.PI/180,n=this._mRadius/H.R/o,r=i.project([t+n,e]),a=i.project([t-n,e]),l=r.add(a).divideBy(2),h=i.unproject(l).lat,c=Math.acos((Math.cos(n*o)-Math.sin(t*o)*Math.sin(h*o))/(Math.cos(t*o)*Math.cos(h*o)))/o;(isNaN(c)||0===c)&&(c=n/Math.cos(Math.PI/180*t)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(l.x-i.project([h,e-c]).x),1),this._radiusY=Math.max(Math.round(l.y-r.y),1)}else{var d=s.unproject(s.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(d).x}this._updateBounds()}}),ki=Oi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,i,s=1/0,o=null,n=li,r=0,a=this._parts.length;r<a;r++)for(var l=this._parts[r],h=1,c=l.length;h<c;h++){var d=n(e,t=l[h-1],i=l[h],!0);d<s&&(s=d,o=n(e,t,i))}return o&&(o.distance=Math.sqrt(s)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,i,s,o,n,r,a=this._rings[0],l=a.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=a[e].distanceTo(a[e+1])/2;if(0===t)return this._map.layerPointToLatLng(a[0]);for(e=0,s=0;e<l-1;e++)if((s+=i=(o=a[e]).distanceTo(n=a[e+1]))>t)return this._map.layerPointToLatLng([n.x-(r=(s-t)/i)*(n.x-o.x),n.y-r*(n.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=N(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new E,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return hi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],i=hi(e),s=0,o=e.length;s<o;s++)i?(t[s]=N(e[s]),this._bounds.extend(t[s])):t[s]=this._convertLatLngs(e[s]);return t},_project:function(){var e=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),i=new R(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(i),e.max._add(i),this._pxBounds=e)},_projectLatlngs:function(e,t,i){var s,o,n=e.length;if(e[0]instanceof B){for(o=[],s=0;s<n;s++)o[s]=this._map.latLngToLayerPoint(e[s]),i.extend(o[s]);t.push(o)}else for(s=0;s<n;s++)this._projectLatlngs(e[s],t,i)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,i,s,o,n,r,a,l=this._parts;for(t=0,s=0,o=this._rings.length;t<o;t++)for(i=0,n=(a=this._rings[t]).length;i<n-1;i++)(r=ni(a[i],a[i+1],e,i,!0))&&(l[s]=l[s]||[],l[s].push(r[0]),r[1]===a[i+1]&&i!==n-2||(l[s].push(r[1]),s++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,i=0,s=e.length;i<s;i++)e[i]=si(e[i],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var i,s,o,n,r,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,n=this._parts.length;i<n;i++)for(s=0,o=(r=(a=this._parts[i]).length)-1;s<r;o=s++)if((t||0!==s)&&oi(e,a[o],a[s])<=l)return!0;return!1}});ki._flat=ci;var Ti=ki.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,i,s,o,n,r,a,l=this._rings[0],h=l.length;if(!h)return null;for(n=r=a=0,e=0,t=h-1;e<h;t=e++)r+=((i=l[e]).x+(s=l[t]).x)*(o=i.y*s.x-s.y*i.x),a+=(i.y+s.y)*o,n+=3*o;return this._map.layerPointToLatLng(0===n?l[0]:[r/n,a/n])},_convertLatLngs:function(e){var t=ki.prototype._convertLatLngs.call(this,e),i=t.length;return i>=2&&t[0]instanceof B&&t[0].equals(t[i-1])&&t.pop(),t},_setLatLngs:function(e){ki.prototype._setLatLngs.call(this,e),hi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,i=new R(t,t);if(e=new I(e.min.subtract(i),e.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var s,o=0,n=this._rings.length;o<n;o++)(s=ui(this._rings[o],e,!0)).length&&this._parts.push(s)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,i,s,o,n,r,a,l,h=!1;if(!this._pxBounds.contains(e))return!1;for(o=0,a=this._parts.length;o<a;o++)for(n=0,r=(l=(t=this._parts[o]).length)-1;n<l;r=n++)(i=t[n]).y>e.y!=(s=t[r]).y>e.y&&e.x<(s.x-i.x)*(e.y-i.y)/(s.y-i.y)+i.x&&(h=!h);return h||ki.prototype._containsPoint.call(this,e,!0)}}),Ri=_i.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,i,s,o=y(e)?e:e.features;if(o){for(t=0,i=o.length;t<i;t++)((s=o[t]).geometries||s.geometry||s.features||s.coordinates)&&this.addData(s);return this}var n=this.options;if(n.filter&&!n.filter(e))return this;var r=ji(e,n);return r?(r.feature=Ni(e),r.defaultOptions=r.options,this.resetStyle(r),n.onEachFeature&&n.onEachFeature(e,r),this.addLayer(r)):this},resetStyle:function(e){return e.options=i({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}});function ji(e,t){var i,s,o,n,r="Feature"===e.type?e.geometry:e,a=r?r.coordinates:null,l=[],h=t&&t.pointToLayer,c=t&&t.coordsToLatLng||Ii;if(!a&&!r)return null;switch(r.type){case"Point":return i=c(a),h?h(e,i):new Li(i);case"MultiPoint":for(o=0,n=a.length;o<n;o++)i=c(a[o]),l.push(h?h(e,i):new Li(i));return new _i(l);case"LineString":case"MultiLineString":return s=zi(a,"LineString"===r.type?0:1,c),new ki(s,t);case"Polygon":case"MultiPolygon":return s=zi(a,"Polygon"===r.type?1:2,c),new Ti(s,t);case"GeometryCollection":for(o=0,n=r.geometries.length;o<n;o++){var d=ji({geometry:r.geometries[o],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new _i(l);default:throw new Error("Invalid GeoJSON object.")}}function Ii(e){return new B(e[1],e[0],e[2])}function zi(e,t,i){for(var s,o=[],n=0,r=e.length;n<r;n++)s=t?zi(e[n],t-1,i):(i||Ii)(e[n]),o.push(s);return o}function Ei(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[c(e.lng,t),c(e.lat,t),c(e.alt,t)]:[c(e.lng,t),c(e.lat,t)]}function Di(e,t,i,s){for(var o=[],n=0,r=e.length;n<r;n++)o.push(t?Di(e[n],t-1,i,s):Ei(e[n],s));return!t&&i&&o.push(o[0]),o}function Bi(e,t){return e.feature?i({},e.feature,{geometry:t}):Ni(t)}function Ni(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Vi={toGeoJSON:function(e){return Bi(this,{type:"Point",coordinates:Ei(this.getLatLng(),e)})}};function Fi(e,t){return new Ri(e,t)}Li.include(Vi),Pi.include(Vi),Ai.include(Vi),ki.include({toGeoJSON:function(e){var t=!hi(this._latlngs);return Bi(this,{type:(t?"Multi":"")+"LineString",coordinates:Di(this._latlngs,t?1:0,!1,e)})}}),Ti.include({toGeoJSON:function(e){var t=!hi(this._latlngs),i=t&&!hi(this._latlngs[0]),s=Di(this._latlngs,i?2:t?1:0,!0,e);return t||(s=[s]),Bi(this,{type:(i?"Multi":"")+"Polygon",coordinates:s})}}),wi.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(i){t.push(i.toGeoJSON(e).geometry.coordinates)})),Bi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var i="GeometryCollection"===t,s=[];return this.eachLayer((function(t){if(t.toGeoJSON){var o=t.toGeoJSON(e);if(i)s.push(o.geometry);else{var n=Ni(o);"FeatureCollection"===n.type?s.push.apply(s,n.features):s.push(n)}}})),i?Bi(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});var Hi=Fi,Wi=vi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,i){this._url=e,this._bounds=D(t),p(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Ct(this._image),this},bringToBack:function(){return this._map&&Mt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=D(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._image=wt("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));e.onselectstart=h,e.onmousemove=h,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),this.options.crossOrigin&&(e.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),e.src=this._url,e.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;jt(this._image,i,t)},_reset:function(){var e=this._image,t=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=t.getSize();It(e,t.min),e.style.width=i.x+"px",e.style.height=i.y+"px"},_updateOpacity:function(){Tt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Zi=Wi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:wt("video");if(t.class=t.class||"",t.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),t.onselectstart=h,t.onmousemove=h,t.onloadeddata=o(this.fire,this,"load"),!e){y(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var i=0;i<this._url.length;i++){var s=wt("source");s.src=this._url[i],t.appendChild(s)}}}}),Xi=vi.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){p(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Tt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Tt(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(Tt(this._container,0),this._removeTimeout=setTimeout(o(_t,void 0,this._container),200)):_t(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=N(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ct(this._container),this},bringToBack:function(){return this._map&&Mt(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=j(this.options.offset),i=this._getAnchor();this._zoomAnimated?It(this._container,e.add(i)):t=t.add(e).add(i);var s=this._containerBottom=-t.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=s+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Gi=Xi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Xi.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Oi||this._source.on("preclick",Je))},onRemove:function(e){Xi.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Oi||this._source.off("preclick",Je))},getEvents:function(){var e=Xi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=wt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=wt("div",e+"-content-wrapper",t);if(this._contentNode=wt("div",e+"-content",i),$e(i),Ke(this._contentNode),Ge(i,"contextmenu",Je),this._tipContainer=wt("div",e+"-tip-container",t),this._tip=wt("div",e+"-tip",this._tipContainer),this.options.closeButton){var s=this._closeButton=wt("a",e+"-close-button",t);s.href="#close",s.innerHTML="&#215;",Ge(s,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var i=e.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),t.width=i+1+"px",t.whiteSpace="",t.height="";var s=this.options.maxHeight;s&&e.offsetHeight>s?(t.height=s+"px",Ot(e,"leaflet-popup-scrolled")):At(e,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),i=this._getAnchor();It(this._container,t.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var e=this._map,t=parseInt(vt(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+t,s=this._containerWidth,o=new R(this._containerLeft,-i-this._containerBottom);o._add(zt(this._container));var n=e.layerPointToContainerPoint(o),r=j(this.options.autoPanPadding),a=j(this.options.autoPanPaddingTopLeft||r),l=j(this.options.autoPanPaddingBottomRight||r),h=e.getSize(),c=0,d=0;n.x+s+l.x>h.x&&(c=n.x+s-h.x+l.x),n.x-c-a.x<0&&(c=n.x-a.x),n.y+i+l.y>h.y&&(d=n.y+i-h.y+l.y),n.y-d-a.y<0&&(d=n.y-a.y),(c||d)&&e.fire("autopanstart").panBy([c,d])}},_onCloseButtonClick:function(e){this._close(),tt(e)},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(e,t,i){return e instanceof Gi||(e=new Gi(i).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),vi.include({bindPopup:function(e,t){return e instanceof Gi?(p(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Gi(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof vi||(t=e,e=this),e instanceof _i)for(var i in this._layers){e=this._layers[i];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(tt(e),t instanceof Oi?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Yi=Xi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Xi.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Xi.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Xi.prototype.getEvents.call(this);return ve&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=wt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,i=this._container,s=t.latLngToContainerPoint(t.getCenter()),o=t.layerPointToContainerPoint(e),n=this.options.direction,r=i.offsetWidth,a=i.offsetHeight,l=j(this.options.offset),h=this._getAnchor();"top"===n?e=e.add(j(-r/2+l.x,-a+l.y+h.y,!0)):"bottom"===n?e=e.subtract(j(r/2-l.x,-l.y,!0)):"center"===n?e=e.subtract(j(r/2+l.x,a/2-h.y+l.y,!0)):"right"===n||"auto"===n&&o.x<s.x?(n="right",e=e.add(j(l.x+h.x,h.y-a/2+l.y,!0))):(n="left",e=e.subtract(j(r+h.x-l.x,a/2-h.y-l.y,!0))),At(i,"leaflet-tooltip-right"),At(i,"leaflet-tooltip-left"),At(i,"leaflet-tooltip-top"),At(i,"leaflet-tooltip-bottom"),Ot(i,"leaflet-tooltip-"+n),It(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Tt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Wt.include({openTooltip:function(e,t,i){return e instanceof Yi||(e=new Yi(i).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),vi.include({bindTooltip:function(e,t){return e instanceof Yi?(p(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Yi(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),ve&&(i.click=this._openTooltip)),this[t](i),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(e instanceof vi||(t=e,e=this),e instanceof _i)for(var i in this._layers){e=this._layers[i];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(Ot(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(At(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){this._tooltip&&this._map&&this.openTooltip(e.layer||e.target,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,i,s=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),i=this._map.containerPointToLayerPoint(t),s=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(s)}});var Ui=Si.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),i=this.options;if(t.innerHTML=!1!==i.html?i.html:"",i.bgPos){var s=j(i.bgPos);t.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Si.Default=Ci;var Qi=vi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ge,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),_t(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(Ct(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof R?e:new R(e,e)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,i=this.getPane().children,s=-e(-1/0,1/0),o=0,n=i.length;o<n;o++)t=i[o].style.zIndex,i[o]!==this._container&&t&&(s=e(s,+t));isFinite(s)&&(this.options.zIndex=s+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$){Tt(this._container,this.options.opacity);var e=+new Date,t=!1,i=!1;for(var s in this._tiles){var o=this._tiles[s];if(o.current&&o.loaded){var n=Math.min(1,(e-o.loaded)/200);Tt(o.el,n),n<1?t=!0:(o.active?i=!0:this._onOpaqueTile(o),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),t&&(O(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var i in this._levels)this._levels[i].el.children.length||i===e?(this._levels[i].el.style.zIndex=t-Math.abs(e-i),this._onUpdateLevel(i)):(_t(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var s=this._levels[e],o=this._map;return s||((s=this._levels[e]={}).el=wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=t,s.origin=o.project(o.unproject(o.getPixelOrigin()),e).round(),s.zoom=e,this._setZoomTransform(s,o.getCenter(),o.getZoom()),this._onCreateLevel(s)),this._level=s,s}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var e,t,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var s=t.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)_t(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(e,t,i,s){var o=Math.floor(e/2),n=Math.floor(t/2),r=i-1,a=new R(+o,+n);a.z=+r;var l=this._tileCoordsToKey(a),h=this._tiles[l];return h&&h.active?(h.retain=!0,!0):(h&&h.loaded&&(h.retain=!0),r>s&&this._retainParent(o,n,r,s))},_retainChildren:function(e,t,i,s){for(var o=2*e;o<2*e+2;o++)for(var n=2*t;n<2*t+2;n++){var r=new R(o,n);r.z=i+1;var a=this._tileCoordsToKey(r),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<s&&this._retainChildren(o,n,i+1,s))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,i,s){var o=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0),s&&!(this.options.updateWhenZooming&&o!==this._tileZoom)||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(e),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var i in this._levels)this._setZoomTransform(this._levels[i],e,t)},_setZoomTransform:function(e,t,i){var s=this._map.getZoomScale(i,e.zoom),o=e.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(t,i)).round();me?jt(e.el,o,s):It(e.el,o)},_resetGrid:function(){var e=this._map,t=e.options.crs,i=this._tileSize=this.getTileSize(),s=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],s).x/i.x),Math.ceil(e.project([0,t.wrapLng[1]],s).x/i.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],s).y/i.x),Math.ceil(e.project([t.wrapLat[1],0],s).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,i=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),s=t.getZoomScale(i,this._tileZoom),o=t.project(e,this._tileZoom).floor(),n=t.getSize().divideBy(2*s);return new I(o.subtract(n),o.add(n))},_update:function(e){var t=this._map;if(t){var i=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var s=this._getTiledPixelBounds(e),o=this._pxBoundsToTileRange(s),n=o.getCenter(),r=[],a=this.options.keepBuffer,l=new I(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var h in this._tiles){var c=this._tiles[h].coords;c.z===this._tileZoom&&l.contains(new R(c.x,c.y))||(this._tiles[h].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(e,i);else{for(var d=o.min.y;d<=o.max.y;d++)for(var u=o.min.x;u<=o.max.x;u++){var p=new R(u,d);p.z=this._tileZoom,this._isValidTile(p)&&(this._tiles[this._tileCoordsToKey(p)]||r.push(p))}if(r.sort((function(e,t){return e.distanceTo(n)-t.distanceTo(n)})),0!==r.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(u=0;u<r.length;u++)this._addTile(r[u],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var i=this._globalTileRange;if(!t.wrapLng&&(e.x<i.min.x||e.x>i.max.x)||!t.wrapLat&&(e.y<i.min.y||e.y>i.max.y))return!1}if(!this.options.bounds)return!0;var s=this._tileCoordsToBounds(e);return D(this.options.bounds).overlaps(s)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToBounds:function(e){var t=this._map,i=this.getTileSize(),s=e.scaleBy(i),o=s.add(i),n=new E(t.unproject(s,e.z),t.unproject(o,e.z));return this.options.noWrap||t.wrapLatLngBounds(n),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),i=new R(+t[0],+t[1]);return i.z=+t[2],i},_removeTile:function(e){var t=this._tiles[e];t&&(_t(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Ot(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=h,e.onmousemove=h,$&&this.options.opacity<1&&Tt(e,this.options.opacity),ie&&!se&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var i=this._getTilePos(e),s=this._tileCoordsToKey(e),n=this.createTile(this._wrapCoords(e),o(this._tileReady,this,e));this._initTile(n),this.createTile.length<2&&M(o(this._tileReady,this,e,null,n)),It(n,i),this._tiles[s]={el:n,coords:e,current:!0},t.appendChild(n),this.fire("tileloadstart",{tile:n,coords:e})},_tileReady:function(e,t,i){if(this._map){t&&this.fire("tileerror",{error:t,tile:i,coords:e});var s=this._tileCoordsToKey(e);(i=this._tiles[s])&&(i.loaded=+new Date,this._map._fadeAnimated?(Tt(i.el,0),O(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),t||(Ot(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new R(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new I(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),qi=Qi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Se&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),ie||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,t){var i=document.createElement("img");return Ge(i,"load",o(this._tileOnLoad,this,t,i)),Ge(i,"error",o(this._tileOnError,this,t,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(e),i},getTileUrl:function(e){var t={r:Se?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=s),t["-y"]=s}return b(this._url,i(t,this.options))},_tileOnLoad:function(e,t){$?setTimeout(o(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,i){var s=this.options.errorTileUrl;s&&t.src!==s&&(t.src=s),e(i,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom;return this.options.zoomReverse&&(e=this.options.maxZoom-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=h,t.onerror=h,t.complete||(t.src=x,_t(t)))}});function Ji(e,t){return new qi(e,t)}var Ki=qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var s=i({},this.defaultWmsParams);for(var o in t)o in this.options||(s[o]=t[o]);t=p(this,t),s.width=s.height=t.tileSize*(t.detectRetina&&Se?2:1),this.wmsParams=s},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,qi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToBounds(e),i=this._crs.project(t.getNorthWest()),s=this._crs.project(t.getSouthEast()),o=(this._wmsVersion>=1.3&&this._crs===fi?[s.y,i.x,i.y,s.x]:[i.x,s.y,s.x,i.y]).join(","),n=qi.prototype.getTileUrl.call(this,e);return n+m(this.wmsParams,n,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,t){return i(this.wmsParams,e),t||this.redraw(),this}});qi.WMS=Ki,Ji.wms=function(e,t){return new Ki(e,t)};var $i=vi.extend({options:{padding:.1},initialize:function(e){p(this,e),r(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var i=this._map.getZoomScale(t,this._zoom),s=zt(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),n=this._map.project(this._center,t),r=this._map.project(e,t).subtract(n),a=o.multiplyBy(-i).add(s).add(o).subtract(r);me?jt(this._container,a,i):It(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),i=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new I(i,i.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),es=$i.extend({getEvents:function(){var e=$i.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Ge(e,"mousemove",a(this._onMouseMove,32,this),this),Ge(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ge(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){delete this._ctx,_t(this._container),Ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},$i.prototype._update.call(this);var e=this._bounds,t=this._container,i=e.getSize(),s=Se?2:1;It(t,e.min),t.width=s*i.x,t.height=s*i.y,t.style.width=i.x+"px",t.style.height=i.y+"px",Se&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){$i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[r(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,i=t.next,s=t.prev;i?i.prev=s:this._drawLast=s,s?s.next=i:this._drawFirst=i,delete e._order,delete this._layers[L.stamp(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(e.options.dashArray){var t,i=e.options.dashArray.split(","),s=[];for(t=0;t<i.length;t++)s.push(Number(i[t]));e.options._dashArray=s}},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var i=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)e=s.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var i,s,o,n,r=e._parts,a=r.length,l=this._ctx;if(a){for(this._drawnLayers[e._leaflet_id]=e,l.beginPath(),i=0;i<a;i++){for(s=0,o=r[i].length;s<o;s++)l[s?"lineTo":"moveTo"]((n=r[i][s]).x,n.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,i=this._ctx,s=e._radius,o=(e._radiusY||s)/s;this._drawnLayers[e._leaflet_id]=e,1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(t.x,t.y/o,s,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,e)}},_fillStroke:function(e,t){var i=t.options;i.fill&&(e.globalAlpha=i.fillOpacity,e.fillStyle=i.fillColor||i.color,e.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=i.opacity,e.lineWidth=i.weight,e.strokeStyle=i.color,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.stroke())},_onClick:function(e){for(var t,i,s=this._map.mouseEventToLayerPoint(e),o=this._drawFirst;o;o=o.next)(t=o.layer).options.interactive&&t._containsPoint(s)&&!this._map._draggableMoved(t)&&(i=t);i&&(at(e),this._fireEvent([i],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(At(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){for(var i,s,o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(t)&&(s=i);s!==this._hoveredLayer&&(this._handleMouseOut(e),s&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([s],e,"mouseover"),this._hoveredLayer=s)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,i){this._map._fireDOMEvent(t,i||t.type,e)},_bringToFront:function(e){var t=e._order,i=t.next,s=t.prev;i&&(i.prev=s,s?s.next=i:i&&(this._drawFirst=i),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))},_bringToBack:function(e){var t=e._order,i=t.next,s=t.prev;s&&(s.next=i,i?i.prev=s:s&&(this._drawLast=s),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}});function ts(e){return Ce?new es(e):null}var is=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ss={_initContainer:function(){this._container=wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($i.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=is("shape");Ot(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=is("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[r(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;_t(t),e.removeInteractiveTarget(t),delete this._layers[r(e)]},_updateStyle:function(e){var t=e._stroke,i=e._fill,s=e.options,o=e._container;o.stroked=!!s.stroke,o.filled=!!s.fill,s.stroke?(t||(t=e._stroke=is("stroke")),o.appendChild(t),t.weight=s.weight+"px",t.color=s.color,t.opacity=s.opacity,t.dashStyle=s.dashArray?y(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):"",t.endcap=s.lineCap.replace("butt","flat"),t.joinstyle=s.lineJoin):t&&(o.removeChild(t),e._stroke=null),s.fill?(i||(i=e._fill=is("fill")),o.appendChild(i),i.color=s.fillColor||s.color,i.opacity=s.fillOpacity):i&&(o.removeChild(i),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),i=Math.round(e._radius),s=Math.round(e._radiusY||i);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+i+","+s+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){Ct(e._container)},_bringToBack:function(e){Mt(e._container)}},os=Le?is:Q,ns=$i.extend({getEvents:function(){var e=$i.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=os("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=os("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_t(this._container),Ue(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){$i.prototype._update.call(this);var e=this._bounds,t=e.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,i.setAttribute("width",t.x),i.setAttribute("height",t.y)),It(i,e.min),i.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=os("path");e.options.className&&Ot(t,e.options.className),e.options.interactive&&Ot(t,"leaflet-interactive"),this._updateStyle(e),this._layers[r(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){_t(e._path),e.removeInteractiveTarget(e._path),delete this._layers[r(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,i=e.options;t&&(i.stroke?(t.setAttribute("stroke",i.color),t.setAttribute("stroke-opacity",i.opacity),t.setAttribute("stroke-width",i.weight),t.setAttribute("stroke-linecap",i.lineCap),t.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?t.setAttribute("stroke-dasharray",i.dashArray):t.removeAttribute("stroke-dasharray"),i.dashOffset?t.setAttribute("stroke-dashoffset",i.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),i.fill?(t.setAttribute("fill",i.fillColor||i.color),t.setAttribute("fill-opacity",i.fillOpacity),t.setAttribute("fill-rule",i.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,q(e._parts,t))},_updateCircle:function(e){var t=e._point,i=e._radius,s="a"+i+","+(e._radiusY||i)+" 0 1,0 ",o=e._empty()?"M0 0":"M"+(t.x-i)+","+t.y+s+2*i+",0 "+s+2*-i+",0 ";this._setPath(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){Ct(e._path)},_bringToBack:function(e){Mt(e._path)}});function rs(e){return Me||Le?new ns(e):null}Le&&ns.include(ss),Wt.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this.options.preferCanvas&&ts()||rs()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=ns&&rs({pane:e})||es&&ts({pane:e}),this._paneRenderers[e]=t),t}});var as=Ti.extend({initialize:function(e,t){Ti.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=D(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});ns.create=os,ns.pointsToPath=q,Ri.geometryToLayer=ji,Ri.coordsToLatLng=Ii,Ri.coordsToLatLngs=zi,Ri.latLngToCoords=Ei,Ri.latLngsToCoords=Di,Ri.getFeature=Bi,Ri.asFeature=Ni,Wt.mergeOptions({boxZoom:!0});var ls=Jt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),ct(),Dt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Ge(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=wt("div","leaflet-zoom-box",this._container),Ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new I(this._point,this._startPoint),i=t.getSize();It(this._box,t.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(_t(this._box),At(this._container,"leaflet-crosshair")),dt(),Bt(),Ue(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var t=new E(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});Wt.addInitHook("addHandler","boxZoom",ls),Wt.mergeOptions({doubleClickZoom:!0});var hs=Jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,i=t.getZoom(),s=t.options.zoomDelta,o=e.originalEvent.shiftKey?i-s:i+s;"center"===t.options.doubleClickZoom?t.setZoom(o):t.setZoomAround(e.containerPoint,o)}});Wt.addInitHook("addHandler","doubleClickZoom",hs),Wt.mergeOptions({dragging:!0,inertia:!se,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var cs=Jt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ii(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){At(this._map._container,"leaflet-grab"),At(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=D(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(t),t-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",e).fire("drag",e)},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),i=this._initialWorldOffset,s=this._draggable._newPos.x,o=(s-t+i)%e+t-i,n=(s+t+i)%e-t-i,r=Math.abs(o+i)<Math.abs(n+i)?o:n;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(e){var t=this._map,i=t.options,s=!i.inertia||this._times.length<2;if(t.fire("dragend",e),s)t.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),n=i.easeLinearity,r=o.multiplyBy(n/((this._lastTime-this._times[0])/1e3)),a=r.distanceTo([0,0]),l=Math.min(i.inertiaMaxSpeed,a),h=r.multiplyBy(l/a),c=l/(i.inertiaDeceleration*n),d=h.multiplyBy(-c/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),M((function(){t.panBy(d,{duration:c,easeLinearity:n,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});Wt.addInitHook("addHandler","dragging",cs),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ds=Jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Ge(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,i=e.scrollTop||t.scrollTop,s=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(s,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,i,s=this._panKeys={},o=this.keyCodes;for(t=0,i=o.left.length;t<i;t++)s[o.left[t]]=[-1*e,0];for(t=0,i=o.right.length;t<i;t++)s[o.right[t]]=[e,0];for(t=0,i=o.down.length;t<i;t++)s[o.down[t]]=[0,e];for(t=0,i=o.up.length;t<i;t++)s[o.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,i,s=this._zoomKeys={},o=this.keyCodes;for(t=0,i=o.zoomIn.length;t<i;t++)s[o.zoomIn[t]]=e;for(t=0,i=o.zoomOut.length;t<i;t++)s[o.zoomOut[t]]=-e},_addHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,i=e.keyCode,s=this._map;if(i in this._panKeys){if(s._panAnim&&s._panAnim._inProgress)return;t=this._panKeys[i],e.shiftKey&&(t=j(t).multiplyBy(3)),s.panBy(t),s.options.maxBounds&&s.panInsideBounds(s.options.maxBounds)}else if(i in this._zoomKeys)s.setZoom(s.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!s._popup)return;s.closePopup()}tt(e)}}});Wt.addInitHook("addHandler","keyboard",ds),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var us=Jt.extend({addHooks:function(){Ge(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ue(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=ot(e),i=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var s=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),s),tt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),i=this._map.options.zoomSnap||0;e._stop();var s=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,o=i?Math.ceil(s/i)*i:s,n=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,n&&("center"===e.options.scrollWheelZoom?e.setZoom(t+n):e.setZoomAround(this._lastMousePos,t+n))}});Wt.addInitHook("addHandler","scrollWheelZoom",us),Wt.mergeOptions({tap:!0,tapTolerance:15});var ps=Jt.extend({addHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(et(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],i=t.target;this._startPos=this._newPos=new R(t.clientX,t.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&Ot(i,"leaflet-active"),this._holdTimeout=setTimeout(o((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))}),this),1e3),this._simulateEvent("mousedown",t),Ge(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),Ue(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],i=t.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&At(i,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new R(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var i=document.createEvent("MouseEvents");i._simulated=!0,t.target._simulatedClick=!0,i.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}});ve&&!xe&&Wt.addInitHook("addHandler","tap",ps),Wt.mergeOptions({touchZoom:ve&&!se,bounceAtZoomLimits:!0});var ms=Jt.extend({addHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){At(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var i=t.mouseEventToContainerPoint(e.touches[0]),s=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(i.add(s)._divideBy(2))),this._startDist=i.distanceTo(s),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend",this._onTouchEnd,this),et(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,i=t.mouseEventToContainerPoint(e.touches[0]),s=t.mouseEventToContainerPoint(e.touches[1]),n=i.distanceTo(s)/this._startDist;if(this._zoom=t.getScaleZoom(n,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&n<1||this._zoom>t.getMaxZoom()&&n>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===n)return}else{var r=i._add(s)._divideBy(2)._subtract(this._centerPoint);if(1===n&&0===r.x&&0===r.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(t._moveStart(!0),this._moved=!0),O(this._animRequest);var a=o(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=M(a,this,!0),et(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,O(this._animRequest),Ue(document,"touchmove",this._onTouchMove),Ue(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Wt.addInitHook("addHandler","touchZoom",ms),Wt.BoxZoom=ls,Wt.DoubleClickZoom=hs,Wt.Drag=cs,Wt.Keyboard=ds,Wt.ScrollWheelZoom=us,Wt.Tap=ps,Wt.TouchZoom=ms;var gs=window.L;window.L=e,Object.freeze=t,e.version="1.2.0",e.noConflict=function(){return window.L=gs,this},e.Control=Zt,e.control=Xt,e.Browser=Ae,e.Evented=T,e.Mixin=Kt,e.Util=A,e.Class=P,e.Handler=Jt,e.extend=i,e.bind=o,e.stamp=r,e.setOptions=p,e.DomEvent=gt,e.DomUtil=Ft,e.PosAnimation=Ht,e.Draggable=ii,e.LineUtil=di,e.PolyUtil=pi,e.Point=R,e.point=j,e.Bounds=I,e.bounds=z,e.Transformation=Z,e.transformation=X,e.Projection=bi,e.LatLng=B,e.latLng=N,e.LatLngBounds=E,e.latLngBounds=D,e.CRS=F,e.GeoJSON=Ri,e.geoJSON=Fi,e.geoJson=Hi,e.Layer=vi,e.LayerGroup=wi,e.layerGroup=function(e){return new wi(e)},e.FeatureGroup=_i,e.featureGroup=function(e){return new _i(e)},e.ImageOverlay=Wi,e.imageOverlay=function(e,t,i){return new Wi(e,t,i)},e.VideoOverlay=Zi,e.videoOverlay=function(e,t,i){return new Zi(e,t,i)},e.DivOverlay=Xi,e.Popup=Gi,e.popup=function(e,t){return new Gi(e,t)},e.Tooltip=Yi,e.tooltip=function(e,t){return new Yi(e,t)},e.Icon=Si,e.icon=function(e){return new Si(e)},e.DivIcon=Ui,e.divIcon=function(e){return new Ui(e)},e.Marker=Li,e.marker=function(e,t){return new Li(e,t)},e.TileLayer=qi,e.tileLayer=Ji,e.GridLayer=Qi,e.gridLayer=function(e){return new Qi(e)},e.SVG=ns,e.svg=rs,e.Renderer=$i,e.Canvas=es,e.canvas=ts,e.Path=Oi,e.CircleMarker=Ai,e.circleMarker=function(e,t){return new Ai(e,t)},e.Circle=Pi,e.circle=function(e,t,i){return new Pi(e,t,i)},e.Polyline=ki,e.polyline=function(e,t){return new ki(e,t)},e.Polygon=Ti,e.polygon=function(e,t){return new Ti(e,t)},e.Rectangle=as,e.rectangle=function(e,t){return new as(e,t)},e.Map=Wt,e.map=function(e,t){return new Wt(e,t)}}(t)}}]);